(self.webpackChunkjsapi_angular_cli=self.webpackChunkjsapi_angular_cli||[]).push([[179],{6587:(Ke,Ee,E)=>{"use strict";let D=null,j=1;const U=Symbol("SIGNAL");function Y(y){const g=D;return D=y,g}function R(y){if((!F(y)||y.dirty)&&(y.dirty||y.lastCleanEpoch!==j)){if(!y.producerMustRecompute(y)&&!I(y))return y.dirty=!1,void(y.lastCleanEpoch=j);y.producerRecomputeValue(y),y.dirty=!1,y.lastCleanEpoch=j}}function I(y){Q(y);for(let g=0;g<y.producerNode.length;g++){const _=y.producerNode[g],v=y.producerLastReadVersion[g];if(v!==_.version||(R(_),v!==_.version))return!0}return!1}function z(y,g){if(function J(y){y.liveConsumerNode??=[],y.liveConsumerIndexOfThis??=[]}(y),Q(y),1===y.liveConsumerNode.length)for(let v=0;v<y.producerNode.length;v++)z(y.producerNode[v],y.producerIndexOfThis[v]);const _=y.liveConsumerNode.length-1;if(y.liveConsumerNode[g]=y.liveConsumerNode[_],y.liveConsumerIndexOfThis[g]=y.liveConsumerIndexOfThis[_],y.liveConsumerNode.length--,y.liveConsumerIndexOfThis.length--,g<y.liveConsumerNode.length){const v=y.liveConsumerIndexOfThis[g],b=y.liveConsumerNode[g];Q(b),b.producerIndexOfThis[v]=g}}function F(y){return y.consumerIsAlwaysLive||(y?.liveConsumerNode?.length??0)>0}function Q(y){y.producerNode??=[],y.producerIndexOfThis??=[],y.producerLastReadVersion??=[]}let q=null;function Me(y){return"function"==typeof y}function Se(y){const _=y(v=>{Error.call(v),v.stack=(new Error).stack});return _.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_}const ke=Se(y=>function(_){y(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((v,b)=>`${b+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_});function xe(y,g){if(y){const _=y.indexOf(g);0<=_&&y.splice(_,1)}}class Ge{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:_}=this;if(_)if(this._parentage=null,Array.isArray(_))for(const M of _)M.remove(this);else _.remove(this);const{initialTeardown:v}=this;if(Me(v))try{v()}catch(M){g=M instanceof ke?M.errors:[M]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const M of b)try{Re(M)}catch(S){g=g??[],S instanceof ke?g=[...g,...S.errors]:g.push(S)}}if(g)throw new ke(g)}}add(g){var _;if(g&&g!==this)if(this.closed)Re(g);else{if(g instanceof Ge){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(_=this._finalizers)&&void 0!==_?_:[]).push(g)}}_hasParent(g){const{_parentage:_}=this;return _===g||Array.isArray(_)&&_.includes(g)}_addParent(g){const{_parentage:_}=this;this._parentage=Array.isArray(_)?(_.push(g),_):_?[_,g]:g}_removeParent(g){const{_parentage:_}=this;_===g?this._parentage=null:Array.isArray(_)&&xe(_,g)}remove(g){const{_finalizers:_}=this;_&&xe(_,g),g instanceof Ge&&g._removeParent(this)}}Ge.EMPTY=(()=>{const y=new Ge;return y.closed=!0,y})();const X=Ge.EMPTY;function be(y){return y instanceof Ge||y&&"closed"in y&&Me(y.remove)&&Me(y.add)&&Me(y.unsubscribe)}function Re(y){Me(y)?y():y.unsubscribe()}const Fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qe={setTimeout(y,g,..._){const{delegate:v}=qe;return v?.setTimeout?v.setTimeout(y,g,..._):setTimeout(y,g,..._)},clearTimeout(y){const{delegate:g}=qe;return(g?.clearTimeout||clearTimeout)(y)},delegate:void 0};function We(y){qe.setTimeout(()=>{const{onUnhandledError:g}=Fe;if(!g)throw y;g(y)})}function He(){}const Ne=Ae("C",void 0,void 0);function Ae(y,g,_){return{kind:y,value:g,error:_}}let Be=null;function ze(y){if(Fe.useDeprecatedSynchronousErrorHandling){const g=!Be;if(g&&(Be={errorThrown:!1,error:null}),y(),g){const{errorThrown:_,error:v}=Be;if(Be=null,_)throw v}}else y()}class Xe extends Ge{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,be(g)&&g.add(this)):this.destination=qt}static create(g,_,v){return new Lt(g,_,v)}next(g){this.isStopped?Xt(function Pe(y){return Ae("N",y,void 0)}(g),this):this._next(g)}error(g){this.isStopped?Xt(function Ce(y){return Ae("E",void 0,y)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?Xt(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function ut(y,g){return ot.call(y,g)}class Et{constructor(g){this.partialObserver=g}next(g){const{partialObserver:_}=this;if(_.next)try{_.next(g)}catch(v){Ut(v)}}error(g){const{partialObserver:_}=this;if(_.error)try{_.error(g)}catch(v){Ut(v)}else Ut(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(_){Ut(_)}}}class Lt extends Xe{constructor(g,_,v){let b;if(super(),Me(g)||!g)b={next:g??void 0,error:_??void 0,complete:v??void 0};else{let M;this&&Fe.useDeprecatedNextContext?(M=Object.create(g),M.unsubscribe=()=>this.unsubscribe(),b={next:g.next&&ut(g.next,M),error:g.error&&ut(g.error,M),complete:g.complete&&ut(g.complete,M)}):b=g}this.destination=new Et(b)}}function Ut(y){Fe.useDeprecatedSynchronousErrorHandling?function st(y){Fe.useDeprecatedSynchronousErrorHandling&&Be&&(Be.errorThrown=!0,Be.error=y)}(y):We(y)}function Xt(y,g){const{onStoppedNotification:_}=Fe;_&&qe.setTimeout(()=>_(y,g))}const qt={closed:!0,next:He,error:function kt(y){throw y},complete:He},un="function"==typeof Symbol&&Symbol.observable||"@@observable";function yt(y){return y}function Ot(y){return 0===y.length?yt:1===y.length?y[0]:function(_){return y.reduce((v,b)=>b(v),_)}}let Tt=(()=>{class y{constructor(_){_&&(this._subscribe=_)}lift(_){const v=new y;return v.source=this,v.operator=_,v}subscribe(_,v,b){const M=function nn(y){return y&&y instanceof Xe||function ln(y){return y&&Me(y.next)&&Me(y.error)&&Me(y.complete)}(y)&&be(y)}(_)?_:new Lt(_,v,b);return ze(()=>{const{operator:S,source:A}=this;M.add(S?S.call(M,A):A?this._subscribe(M):this._trySubscribe(M))}),M}_trySubscribe(_){try{return this._subscribe(_)}catch(v){_.error(v)}}forEach(_,v){return new(v=Vt(v))((b,M)=>{const S=new Lt({next:A=>{try{_(A)}catch(K){M(K),S.unsubscribe()}},error:M,complete:b});this.subscribe(S)})}_subscribe(_){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(_)}[un](){return this}pipe(..._){return Ot(_)(this)}toPromise(_){return new(_=Vt(_))((v,b)=>{let M;this.subscribe(S=>M=S,S=>b(S),()=>v(M))})}}return y.create=g=>new y(g),y})();function Vt(y){var g;return null!==(g=y??Fe.Promise)&&void 0!==g?g:Promise}const an=Se(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let mn=(()=>{class y extends Tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_){const v=new Cn(this,this);return v.operator=_,v}_throwIfClosed(){if(this.closed)throw new an}next(_){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(_)}})}error(_){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_;const{observers:v}=this;for(;v.length;)v.shift().error(_)}})}complete(){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_}=this;for(;_.length;)_.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _;return(null===(_=this.observers)||void 0===_?void 0:_.length)>0}_trySubscribe(_){return this._throwIfClosed(),super._trySubscribe(_)}_subscribe(_){return this._throwIfClosed(),this._checkFinalizedStatuses(_),this._innerSubscribe(_)}_innerSubscribe(_){const{hasError:v,isStopped:b,observers:M}=this;return v||b?X:(this.currentObservers=null,M.push(_),new Ge(()=>{this.currentObservers=null,xe(M,_)}))}_checkFinalizedStatuses(_){const{hasError:v,thrownError:b,isStopped:M}=this;v?_.error(b):M&&_.complete()}asObservable(){const _=new Tt;return _.source=this,_}}return y.create=(g,_)=>new Cn(g,_),y})();class Cn extends mn{constructor(g,_){super(),this.destination=g,this.source=_}next(g){var _,v;null===(v=null===(_=this.destination)||void 0===_?void 0:_.next)||void 0===v||v.call(_,g)}error(g){var _,v;null===(v=null===(_=this.destination)||void 0===_?void 0:_.error)||void 0===v||v.call(_,g)}complete(){var g,_;null===(_=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===_||_.call(g)}_subscribe(g){var _,v;return null!==(v=null===(_=this.source)||void 0===_?void 0:_.subscribe(g))&&void 0!==v?v:X}}class vn extends mn{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const _=super._subscribe(g);return!_.closed&&g.next(this._value),_}getValue(){const{hasError:g,thrownError:_,_value:v}=this;if(g)throw _;return this._throwIfClosed(),v}next(g){super.next(this._value=g)}}function hr(y){return Me(y?.lift)}function xn(y){return g=>{if(hr(g))return g.lift(function(_){try{return y(_,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xn(y,g,_,v,b){return new $t(y,g,_,v,b)}class $t extends Xe{constructor(g,_,v,b,M,S){super(g),this.onFinalize=M,this.shouldUnsubscribe=S,this._next=_?function(A){try{_(A)}catch(K){g.error(K)}}:super._next,this._error=b?function(A){try{b(A)}catch(K){g.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(A){g.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_}=this;super.unsubscribe(),!_&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}function rn(y,g){return xn((_,v)=>{let b=0;_.subscribe(Xn(v,M=>{v.next(y.call(g,M,b++))}))})}class Qt extends Error{constructor(g,_){super(function Kr(y,g){return`NG0${Math.abs(y)}${g?": "+g:""}`}(g,_)),this.code=g}}function Pt(y){for(let g in y)if(y[g]===Pt)return g;throw Error("Could not find renamed property on target object.")}function ct(y){if("string"==typeof y)return y;if(Array.isArray(y))return"["+y.map(ct).join(", ")+"]";if(null==y)return""+y;if(y.overriddenName)return`${y.overriddenName}`;if(y.name)return`${y.name}`;const g=y.toString();if(null==g)return""+g;const _=g.indexOf("\n");return-1===_?g:g.substring(0,_)}function ht(y,g){return null==y||""===y?null===g?"":g:null==g||""===g?y:y+" "+g}const lt=Pt({__forward_ref__:Pt});function _t(y){return y.__forward_ref__=_t,y.toString=function(){return ct(this())},y}function It(y){return en(y)?y():y}function en(y){return"function"==typeof y&&y.hasOwnProperty(lt)&&y.__forward_ref__===_t}function tn(y){return y&&!!y.\u0275providers}const Bn=Pt({\u0275cmp:Pt}),Rn=Pt({\u0275dir:Pt}),$n=Pt({\u0275pipe:Pt}),Ir=Pt({\u0275mod:Pt}),_r=Pt({\u0275fac:Pt}),jr=Pt({__NG_ELEMENT_ID__:Pt}),Os=Pt({__NG_ENV_ID__:Pt});function ir(y){return"function"==typeof y?y.name||y.toString():"object"==typeof y&&null!=y&&"function"==typeof y.type?y.type.name||y.type.toString():function En(y){return"string"==typeof y?y:null==y?"":String(y)}(y)}function Ts(y,g){throw new Qt(-201,!1)}function Rs(y,g){null==y&&function An(y,g,_,v){throw new Error(`ASSERTION ERROR: ${y}`+(null==v?"":` [Expected=> ${_} ${v} ${g} <=Actual]`))}(g,y,null,"!=")}function Ln(y){return{token:y.token,providedIn:y.providedIn||null,factory:y.factory,value:void 0}}function ya(y){return{providers:y.providers||[],imports:y.imports||[]}}function bn(y){return Ps(y,Zo)||Ps(y,pt)}function Ps(y,g){return y.hasOwnProperty(g)?y[g]:null}function Gr(y){return y&&(y.hasOwnProperty(Ji)||y.hasOwnProperty(Zt))?y[Ji]:null}const Zo=Pt({\u0275prov:Pt}),Ji=Pt({\u0275inj:Pt}),pt=Pt({ngInjectableDef:Pt}),Zt=Pt({ngInjectorDef:Pt});var Ft=function(y){return y[y.Default=0]="Default",y[y.Host=1]="Host",y[y.Self=2]="Self",y[y.SkipSelf=4]="SkipSelf",y[y.Optional=8]="Optional",y}(Ft||{});let Un;function Fn(y){const g=Un;return Un=y,g}function ys(y,g,_){const v=bn(y);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:_&Ft.Optional?null:void 0!==g?g:void Ts()}const Tr=globalThis;class tt{constructor(g,_){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof _?this.__NG_ELEMENT_ID__=_:void 0!==_&&(this.\u0275prov=Ln({token:this,providedIn:_.providedIn||"root",factory:_.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vs={},ei="__NG_DI_FLAG__",Yi="ngTempTokenPath",Nl=/\n/gm,di="__source";let Bl;function va(y){const g=Bl;return Bl=y,g}function Lg(y,g=Ft.Default){if(void 0===Bl)throw new Qt(-203,!1);return null===Bl?ys(y,void 0,g):Bl.get(y,g&Ft.Optional?null:void 0,g)}function or(y,g=Ft.Default){return(function Vr(){return Un}()||Lg)(It(y),g)}function yn(y,g=Ft.Default){return or(y,Ec(g))}function Ec(y){return typeof y>"u"||"number"==typeof y?y:0|(y.optional&&8)|(y.host&&1)|(y.self&&2)|(y.skipSelf&&4)}function xh(y){const g=[];for(let _=0;_<y.length;_++){const v=It(y[_]);if(Array.isArray(v)){if(0===v.length)throw new Qt(900,!1);let b,M=Ft.Default;for(let S=0;S<v.length;S++){const A=v[S],K=Rg(A);"number"==typeof K?-1===K?b=A.token:M|=K:b=A}g.push(or(b,M))}else g.push(or(v))}return g}function Rg(y){return y[ei]}function zo(y){return{toString:y}.toString()}var bc=function(y){return y[y.OnPush=0]="OnPush",y[y.Default=1]="Default",y}(bc||{}),Qi=function(y){return y[y.Emulated=0]="Emulated",y[y.None=2]="None",y[y.ShadowDom=3]="ShadowDom",y}(Qi||{});const Co={},Mr=[];var Ri=function(y){return y[y.None=0]="None",y[y.SignalBased=1]="SignalBased",y[y.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",y}(Ri||{});function Lh(y,g,_){let v=y.length;for(;;){const b=y.indexOf(g,_);if(-1===b)return b;if(0===b||y.charCodeAt(b-1)<=32){const M=g.length;if(b+M===v||y.charCodeAt(b+M)<=32)return b}_=b+1}}function Rh(y,g,_){let v=0;for(;v<_.length;){const b=_[v];if("number"==typeof b){if(0!==b)break;v++;const M=_[v++],S=_[v++],A=_[v++];y.setAttribute(g,S,A,M)}else{const M=b,S=_[++v];ol(M)?y.setProperty(g,M,S):y.setAttribute(g,M,S),v++}}return v}function Ci(y){return 3===y||4===y||6===y}function ol(y){return 64===y.charCodeAt(0)}function Su(y,g){if(null!==g&&0!==g.length)if(null===y||0===y.length)y=g.slice();else{let _=-1;for(let v=0;v<g.length;v++){const b=g[v];"number"==typeof b?_=b:0===_||Ea(y,_,b,null,-1===_||2===_?g[++v]:null)}}return y}function Ea(y,g,_,v,b){let M=0,S=y.length;if(-1===g)S=-1;else for(;M<y.length;){const A=y[M++];if("number"==typeof A){if(A===g){S=-1;break}if(A>g){S=M-1;break}}}for(;M<y.length;){const A=y[M];if("number"==typeof A)break;if(A===_){if(null===v)return void(null!==b&&(y[M+1]=b));if(v===y[M+1])return void(y[M+2]=b)}M++,null!==v&&M++,null!==b&&M++}-1!==S&&(y.splice(S,0,g),M=S+1),y.splice(M++,0,_),null!==v&&y.splice(M++,0,v),null!==b&&y.splice(M++,0,b)}const zf="ng-template";function ba(y,g,_){let v=0,b=!0;for(;v<y.length;){let M=y[v++];if("string"==typeof M&&b){const S=y[v++];if(_&&"class"===M&&-1!==Lh(S.toLowerCase(),g,0))return!0}else{if(1===M){for(;v<y.length&&"string"==typeof(M=y[v++]);)if(M.toLowerCase()===g)return!0;return!1}"number"==typeof M&&(b=!1)}}return!1}function jh(y){return 4===y.type&&y.value!==zf}function Kf(y,g,_){return g===(4!==y.type||_?y.value:zf)}function Ng(y,g,_){let v=4;const b=y.attrs||[],M=function Cc(y){for(let g=0;g<y.length;g++)if(Ci(y[g]))return g;return y.length}(b);let S=!1;for(let A=0;A<g.length;A++){const K=g[A];if("number"!=typeof K){if(!S)if(4&v){if(v=2|1&v,""!==K&&!Kf(y,K,_)||""===K&&1===g.length){if(qn(v))return!1;S=!0}}else{const de=8&v?K:g[++A];if(8&v&&null!==y.attrs){if(!ba(y.attrs,de,_)){if(qn(v))return!1;S=!0}continue}const Te=Fl(8&v?"class":K,b,jh(y),_);if(-1===Te){if(qn(v))return!1;S=!0;continue}if(""!==de){let Ve;Ve=Te>M?"":b[Te+1].toLowerCase();const nt=8&v?Ve:null;if(nt&&-1!==Lh(nt,de,0)||2&v&&de!==Ve){if(qn(v))return!1;S=!0}}}}else{if(!S&&!qn(v)&&!qn(K))return!1;if(S&&qn(K))continue;S=!1,v=K|1&v}}return qn(v)||S}function qn(y){return 0==(1&y)}function Fl(y,g,_,v){if(null===g)return-1;let b=0;if(v||!_){let M=!1;for(;b<g.length;){const S=g[b];if(S===y)return b;if(3===S||6===S)M=!0;else{if(1===S||2===S){let A=g[++b];for(;"string"==typeof A;)A=g[++b];continue}if(4===S)break;if(0===S){b+=4;continue}}b+=M?1:2}return-1}return function Hf(y,g){let _=y.indexOf(4);if(_>-1)for(_++;_<y.length;){const v=y[_];if("number"==typeof v)return-1;if(v===g)return _;_++}return-1}(g,y)}function Gf(y,g,_=!1){for(let v=0;v<g.length;v++)if(Ng(y,g[v],_))return!0;return!1}function Jf(y,g){return y?":not("+g.trim()+")":g}function Uh(y){let g=y[0],_=1,v=2,b="",M=!1;for(;_<y.length;){let S=y[_];if("string"==typeof S)if(2&v){const A=y[++_];b+="["+S+(A.length>0?'="'+A+'"':"")+"]"}else 8&v?b+="."+S:4&v&&(b+=" "+S);else""!==b&&!qn(S)&&(g+=Jf(M,b),b=""),v=S,M=M||!qn(v);_++}return""!==b&&(g+=Jf(M,b)),g}function Nh(y){return zo(()=>{const g=Qf(y),_={...g,decls:y.decls,vars:y.vars,template:y.template,consts:y.consts||null,ngContentSelectors:y.ngContentSelectors,onPush:y.changeDetection===bc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:g.standalone&&y.dependencies||null,getStandaloneInjector:null,signals:y.signals??!1,data:y.data||{},encapsulation:y.encapsulation||Qi.Emulated,styles:y.styles||Mr,_:null,schemas:y.schemas||null,tView:null,id:""};Xf(_);const v=y.dependencies;return _.directiveDefs=Mc(v,!1),_.pipeDefs=Mc(v,!0),_.id=function kg(y){let g=0;const _=[y.selectors,y.ngContentSelectors,y.hostVars,y.hostAttrs,y.consts,y.vars,y.decls,y.encapsulation,y.standalone,y.signals,y.exportAs,JSON.stringify(y.inputs),JSON.stringify(y.outputs),Object.getOwnPropertyNames(y.type.prototype),!!y.contentQueries,!!y.viewQuery].join("|");for(const b of _)g=Math.imul(31,g)+b.charCodeAt(0)<<0;return g+=2147483648,"c"+g}(_),_})}function Xi(y){return ur(y)||Cs(y)}function Wg(y){return null!==y}function vr(y){return zo(()=>({type:y.type,bootstrap:y.bootstrap||Mr,declarations:y.declarations||Mr,imports:y.imports||Mr,exports:y.exports||Mr,transitiveCompileScopes:null,schemas:y.schemas||null,id:y.id||null}))}function Vg(y,g){if(null==y)return Co;const _={};for(const v in y)if(y.hasOwnProperty(v)){const b=y[v];let M,S,A=Ri.None;Array.isArray(b)?(A=b[0],M=b[1],S=b[2]??M):(M=b,S=b),g?(_[M]=A!==Ri.None?[v,A]:v,g[M]=S):_[M]=v}return _}function ti(y){return zo(()=>{const g=Qf(y);return Xf(g),g})}function ur(y){return y[Bn]||null}function Cs(y){return y[Rn]||null}function Ur(y){return y[$n]||null}function As(y,g){const _=y[Ir]||null;if(!_&&!0===g)throw new Error(`Type ${ct(y)} does not have '\u0275mod' property.`);return _}function Qf(y){const g={};return{type:y.type,providersResolver:null,factory:null,hostBindings:y.hostBindings||null,hostVars:y.hostVars||0,hostAttrs:y.hostAttrs||null,contentQueries:y.contentQueries||null,declaredInputs:g,inputTransforms:null,inputConfig:y.inputs||Co,exportAs:y.exportAs||null,standalone:!0===y.standalone,signals:!0===y.signals,selectors:y.selectors||Mr,viewQuery:y.viewQuery||null,features:y.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vg(y.inputs,g),outputs:Vg(y.outputs),debugInfo:null}}function Xf(y){y.features?.forEach(g=>g(y))}function Mc(y,g){if(!y)return null;const _=g?Ur:Xi;return()=>("function"==typeof y?y():y).map(v=>_(v)).filter(Wg)}const cs=0,dn=1,Pn=2,gs=3,qi=4,$s=5,ji=6,Wl=7,Nr=8,ks=9,eo=10,kn=11,al=12,Dc=13,Ui=14,Hr=15,Ca=16,Go=17,to=18,Ho=19,wu=20,Mo=21,Iu=22,Ma=23,Gn=25,Bh=1,Do=7,$l=9,ds=10;var wc=function(y){return y[y.None=0]="None",y[y.HasTransplantedViews=2]="HasTransplantedViews",y}(wc||{});function Zs(y){return Array.isArray(y)&&"object"==typeof y[Bh]}function zs(y){return Array.isArray(y)&&!0===y[Bh]}function Qn(y){return 0!=(4&y.flags)}function no(y){return y.componentOffset>-1}function je(y){return!!y.template}function _e(y){return 0!=(512&y[Pn])}function ro(y,g){return y.hasOwnProperty(_r)?y[_r]:null}class zg{constructor(g,_,v){this.previousValue=g,this.currentValue=_,this.firstChange=v}isFirstChange(){return this.firstChange}}function lM(y,g,_,v){null!==g?g.applyValueToInputSignal(g,v):y[_]=v}function Pu(){return uM}function uM(y){return y.type.prototype.ngOnChanges&&(y.setInput=tR),eR}function eR(){const y=dM(this),g=y?.current;if(g){const _=y.previous;if(_===Co)y.previous=g;else for(let v in g)_[v]=g[v];y.current=null,this.ngOnChanges(g)}}function tR(y,g,_,v,b){const M=this.declaredInputs[v],S=dM(y)||function nR(y,g){return y[cM]=g}(y,{previous:Co,current:null}),A=S.current||(S.current={}),K=S.previous,de=K[M];A[M]=new zg(de&&de.currentValue,_,K===Co),lM(y,g,b,_)}Pu.ngInherit=!0;const cM="__ngSimpleChanges__";function dM(y){return y[cM]||null}const Da=function(y,g,_){};let fM=!1;function Jr(y){for(;Array.isArray(y);)y=y[cs];return y}function Mi(y,g){return Jr(g[y.index])}function so(y,g){const _=g[y];return Zs(_)?_:_[cs]}function Hg(y){return 128==(128&y[Pn])}function Sa(y,g){return null==g?null:y[g]}function mM(y){y[Go]=0}function lR(y){1024&y[Pn]||(y[Pn]|=1024,Hg(y)&&kh(y))}function gM(y){return 9216&y[Pn]||y[Ma]?.dirty}function Jg(y){gM(y)?kh(y):64&y[Pn]&&(function sR(){return fM}()?(y[Pn]|=1024,kh(y)):y[eo].changeDetectionScheduler?.notify())}function kh(y){y[eo].changeDetectionScheduler?.notify();let g=Au(y);for(;null!==g&&!(8192&g[Pn])&&(g[Pn]|=8192,Hg(g));)g=Au(g)}function Au(y){const g=y[gs];return zs(g)?g[gs]:g}const Zn={lFrame:IM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vM(){return Zn.bindingsEnabled}function Jt(){return Zn.lFrame.lView}function Er(){return Zn.lFrame.tView}function $r(){let y=EM();for(;null!==y&&64===y.type;)y=y.parent;return y}function EM(){return Zn.lFrame.currentTNode}function wa(y,g){const _=Zn.lFrame;_.currentTNode=y,_.isParent=g}function Qg(){return Zn.lFrame.isParent}function bR(y,g){const _=Zn.lFrame;_.bindingIndex=_.bindingRootIndex=y,qg(g)}function qg(y){Zn.lFrame.currentDirectiveIndex=y}function DM(){return Zn.lFrame.currentQueryIndex}function t_(y){Zn.lFrame.currentQueryIndex=y}function MR(y){const g=y[dn];return 2===g.type?g.declTNode:1===g.type?y[$s]:null}function SM(y,g,_){if(_&Ft.SkipSelf){let b=g,M=y;for(;!(b=b.parent,null!==b||_&Ft.Host||(b=MR(M),null===b||(M=M[Ui],10&b.type))););if(null===b)return!1;g=b,y=M}const v=Zn.lFrame=wM();return v.currentTNode=g,v.lView=y,!0}function n_(y){const g=wM(),_=y[dn];Zn.lFrame=g,g.currentTNode=_.firstChild,g.lView=y,g.tView=_,g.contextLView=y,g.bindingIndex=_.bindingStartIndex,g.inI18n=!1}function wM(){const y=Zn.lFrame,g=null===y?null:y.child;return null===g?IM(y):g}function IM(y){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:y,child:null,inI18n:!1};return null!==y&&(y.child=g),g}function OM(){const y=Zn.lFrame;return Zn.lFrame=y.parent,y.currentTNode=null,y.lView=null,y}const TM=OM;function r_(){const y=OM();y.isParent=!0,y.tView=null,y.selectedIndex=-1,y.contextLView=null,y.elementDepthCount=0,y.currentDirectiveIndex=-1,y.currentNamespace=null,y.bindingRootIndex=-1,y.bindingIndex=-1,y.currentQueryIndex=0}function xu(y){Zn.lFrame.selectedIndex=y}let AM=!0;function r0(y,g){for(let _=g.directiveStart,v=g.directiveEnd;_<v;_++){const M=y.data[_].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:A,ngAfterViewInit:K,ngAfterViewChecked:de,ngOnDestroy:De}=M;S&&(y.contentHooks??=[]).push(-_,S),A&&((y.contentHooks??=[]).push(_,A),(y.contentCheckHooks??=[]).push(_,A)),K&&(y.viewHooks??=[]).push(-_,K),de&&((y.viewHooks??=[]).push(_,de),(y.viewCheckHooks??=[]).push(_,de)),null!=De&&(y.destroyHooks??=[]).push(_,De)}}function s0(y,g,_){xM(y,g,3,_)}function o0(y,g,_,v){(3&y[Pn])===_&&xM(y,g,_,v)}function s_(y,g){let _=y[Pn];(3&_)===g&&(_&=16383,_+=1,y[Pn]=_)}function xM(y,g,_,v){const M=v??-1,S=g.length-1;let A=0;for(let K=void 0!==v?65535&y[Go]:0;K<S;K++)if("number"==typeof g[K+1]){if(A=g[K],null!=v&&A>=v)break}else g[K]<0&&(y[Go]+=65536),(A<M||-1==M)&&(PR(y,_,g,K),y[Go]=(4294901760&y[Go])+K+2),K++}function LM(y,g){Da(4,y,g);const _=Y(null);try{g.call(y)}finally{Y(_),Da(5,y,g)}}function PR(y,g,_,v){const b=_[v]<0,M=_[v+1],A=y[b?-_[v]:_[v]];b?y[Pn]>>14<y[Go]>>16&&(3&y[Pn])===g&&(y[Pn]+=16384,LM(A,M)):LM(A,M)}const Pc=-1;class zh{constructor(g,_,v){this.factory=g,this.resolving=!1,this.canSeeViewProviders=_,this.injectImpl=v}}function o_(y){return y!==Pc}function Kh(y){return 32767&y}function Gh(y,g){let _=function jR(y){return y>>16}(y),v=g;for(;_>0;)v=v[Ui],_--;return v}let a_=!0;function a0(y){const g=a_;return a_=y,g}const RM=255,jM=5;let UR=0;const Oa={};function l0(y,g){const _=UM(y,g);if(-1!==_)return _;const v=g[dn];v.firstCreatePass&&(y.injectorIndex=g.length,l_(v.data,y),l_(g,null),l_(v.blueprint,null));const b=u0(y,g),M=y.injectorIndex;if(o_(b)){const S=Kh(b),A=Gh(b,g),K=A[dn].data;for(let de=0;de<8;de++)g[M+de]=A[S+de]|K[S+de]}return g[M+8]=b,M}function l_(y,g){y.push(0,0,0,0,0,0,0,0,g)}function UM(y,g){return-1===y.injectorIndex||y.parent&&y.parent.injectorIndex===y.injectorIndex||null===g[y.injectorIndex+8]?-1:y.injectorIndex}function u0(y,g){if(y.parent&&-1!==y.parent.injectorIndex)return y.parent.injectorIndex;let _=0,v=null,b=g;for(;null!==b;){if(v=kM(b),null===v)return Pc;if(_++,b=b[Ui],-1!==v.injectorIndex)return v.injectorIndex|_<<16}return Pc}function u_(y,g,_){!function NR(y,g,_){let v;"string"==typeof _?v=_.charCodeAt(0)||0:_.hasOwnProperty(jr)&&(v=_[jr]),null==v&&(v=_[jr]=UR++);const b=v&RM;g.data[y+(b>>jM)]|=1<<b}(y,g,_)}function NM(y,g,_){if(_&Ft.Optional||void 0!==y)return y;Ts()}function BM(y,g,_,v){if(_&Ft.Optional&&void 0===v&&(v=null),!(_&(Ft.Self|Ft.Host))){const b=y[ks],M=Fn(void 0);try{return b?b.get(g,v,_&Ft.Optional):ys(g,v,_&Ft.Optional)}finally{Fn(M)}}return NM(v,0,_)}function FM(y,g,_,v=Ft.Default,b){if(null!==y){if(2048&g[Pn]&&!(v&Ft.Self)){const S=function $R(y,g,_,v,b){let M=y,S=g;for(;null!==M&&null!==S&&2048&S[Pn]&&!(512&S[Pn]);){const A=WM(M,S,_,v|Ft.Self,Oa);if(A!==Oa)return A;let K=M.parent;if(!K){const de=S[wu];if(de){const De=de.get(_,Oa,v);if(De!==Oa)return De}K=kM(S),S=S[Ui]}M=K}return b}(y,g,_,v,Oa);if(S!==Oa)return S}const M=WM(y,g,_,v,Oa);if(M!==Oa)return M}return BM(g,_,v,b)}function WM(y,g,_,v,b){const M=function WR(y){if("string"==typeof y)return y.charCodeAt(0)||0;const g=y.hasOwnProperty(jr)?y[jr]:void 0;return"number"==typeof g?g>=0?g&RM:VR:g}(_);if("function"==typeof M){if(!SM(g,y,v))return v&Ft.Host?NM(b,0,v):BM(g,_,v,b);try{let S;if(S=M(v),null!=S||v&Ft.Optional)return S;Ts()}finally{TM()}}else if("number"==typeof M){let S=null,A=UM(y,g),K=Pc,de=v&Ft.Host?g[Hr][$s]:null;for((-1===A||v&Ft.SkipSelf)&&(K=-1===A?u0(y,g):g[A+8],K!==Pc&&$M(v,!1)?(S=g[dn],A=Kh(K),g=Gh(K,g)):A=-1);-1!==A;){const De=g[dn];if(VM(M,A,De.data)){const Te=FR(A,g,_,S,v,de);if(Te!==Oa)return Te}K=g[A+8],K!==Pc&&$M(v,g[dn].data[A+8]===de)&&VM(M,A,g)?(S=De,A=Kh(K),g=Gh(K,g)):A=-1}}return b}function FR(y,g,_,v,b,M){const S=g[dn],A=S.data[y+8],De=c0(A,S,_,null==v?no(A)&&a_:v!=S&&0!=(3&A.type),b&Ft.Host&&M===A);return null!==De?Lu(g,S,De,A):Oa}function c0(y,g,_,v,b){const M=y.providerIndexes,S=g.data,A=1048575&M,K=y.directiveStart,De=M>>20,Ve=b?A+De:y.directiveEnd;for(let nt=v?A:A+De;nt<Ve;nt++){const at=S[nt];if(nt<K&&_===at||nt>=K&&at.type===_)return nt}if(b){const nt=S[K];if(nt&&je(nt)&&nt.type===_)return K}return null}function Lu(y,g,_,v){let b=y[_];const M=g.data;if(function AR(y){return y instanceof zh}(b)){const S=b;S.resolving&&function Wo(y,g){const _=g?`. Dependency path: ${g.join(" > ")} > ${y}`:"";throw new Qt(-200,`Circular dependency in DI detected for ${y}${_}`)}(ir(M[_]));const A=a0(S.canSeeViewProviders);S.resolving=!0;const de=S.injectImpl?Fn(S.injectImpl):null;SM(y,v,Ft.Default);try{b=y[_]=S.factory(void 0,M,y,v),g.firstCreatePass&&_>=v.directiveStart&&function TR(y,g,_){const{ngOnChanges:v,ngOnInit:b,ngDoCheck:M}=g.type.prototype;if(v){const S=uM(g);(_.preOrderHooks??=[]).push(y,S),(_.preOrderCheckHooks??=[]).push(y,S)}b&&(_.preOrderHooks??=[]).push(0-y,b),M&&((_.preOrderHooks??=[]).push(y,M),(_.preOrderCheckHooks??=[]).push(y,M))}(_,M[_],g)}finally{null!==de&&Fn(de),a0(A),S.resolving=!1,TM()}}return b}function VM(y,g,_){return!!(_[g+(y>>jM)]&1<<y)}function $M(y,g){return!(y&Ft.Self||y&Ft.Host&&g)}class Gs{constructor(g,_){this._tNode=g,this._lView=_}get(g,_,v){return FM(this._tNode,this._lView,g,Ec(v),_)}}function VR(){return new Gs($r(),Jt())}function c_(y){return zo(()=>{const g=y.prototype.constructor,_=g[_r]||d_(g),v=Object.prototype;let b=Object.getPrototypeOf(y.prototype).constructor;for(;b&&b!==v;){const M=b[_r]||d_(b);if(M&&M!==_)return M;b=Object.getPrototypeOf(b)}return M=>new M})}function d_(y){return en(y)?()=>{const g=d_(It(y));return g&&g()}:ro(y)}function kM(y){const g=y[dn],_=g.type;return 2===_?g.declTNode:1===_?y[$s]:null}function Bc(y,g){y.forEach(_=>Array.isArray(_)?Bc(_,g):g(_))}function zM(y,g,_){g>=y.length?y.push(_):y.splice(g,0,_)}function h0(y,g){return g>=y.length-1?y.pop():y.splice(g,1)[0]}const Ru=new tt("ENVIRONMENT_INITIALIZER"),QM=new tt("INJECTOR",-1),v_=new tt("INJECTOR_DEF_TYPES");class y0{get(g,_=Vs){if(_===Vs){const v=new Error(`NullInjectorError: No provider for ${ct(g)}!`);throw v.name="NullInjectorError",v}return _}}function g0(y){return{\u0275providers:y}}function c3(...y){return{\u0275providers:XM(0,y),\u0275fromNgModule:!0}}function XM(y,...g){const _=[],v=new Set;let b;const M=S=>{_.push(S)};return Bc(g,S=>{const A=S;_0(A,M,[],v)&&(b||=[],b.push(A))}),void 0!==b&&qM(b,M),_}function qM(y,g){for(let _=0;_<y.length;_++){const{ngModule:v,providers:b}=y[_];E_(b,M=>{g(M,v)})}}function _0(y,g,_,v){if(!(y=It(y)))return!1;let b=null,M=Gr(y);const S=!M&&ur(y);if(M||S){if(S&&!S.standalone)return!1;b=y}else{const K=y.ngModule;if(M=Gr(K),!M)return!1;b=K}const A=v.has(b);if(S){if(A)return!1;if(v.add(b),S.dependencies){const K="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const de of K)_0(de,g,_,v)}}else{if(!M)return!1;{if(null!=M.imports&&!A){let de;v.add(b);try{Bc(M.imports,De=>{_0(De,g,_,v)&&(de||=[],de.push(De))})}finally{}void 0!==de&&qM(de,g)}if(!A){const de=ro(b)||(()=>new b);g({provide:b,useFactory:de,deps:Mr},b),g({provide:v_,useValue:b,multi:!0},b),g({provide:Ru,useValue:()=>or(b),multi:!0},b)}const K=M.providers;if(null!=K&&!A){const de=y;E_(K,De=>{g(De,de)})}}}return b!==y&&void 0!==y.providers}function E_(y,g){for(let _ of y)tn(_)&&(_=_.\u0275providers),Array.isArray(_)?E_(_,g):g(_)}const d3=Pt({provide:String,useValue:Pt});function b_(y){return null!==y&&"object"==typeof y&&d3 in y}function ju(y){return"function"==typeof y}const C_=new tt("Set Injector scope."),v0={},p3={};let M_;function E0(){return void 0===M_&&(M_=new y0),M_}class Yo{}class Vc extends Yo{get destroyed(){return this._destroyed}constructor(g,_,v,b){super(),this.parent=_,this.source=v,this.scopes=b,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,S_(g,S=>this.processProvider(S)),this.records.set(QM,$c(void 0,this)),b.has("environment")&&this.records.set(Yo,$c(void 0,this));const M=this.records.get(C_);null!=M&&"string"==typeof M.value&&this.scopes.add(M.value),this.injectorDefTypes=new Set(this.get(v_,Mr,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const _ of this._ngOnDestroyHooks)_.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const _ of g)_()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(g){return this.assertNotDestroyed(),this._onDestroyHooks.push(g),()=>this.removeOnDestroy(g)}runInContext(g){this.assertNotDestroyed();const _=va(this),v=Fn(void 0);try{return g()}finally{va(_),Fn(v)}}get(g,_=Vs,v=Ft.Default){if(this.assertNotDestroyed(),g.hasOwnProperty(Os))return g[Os](this);v=Ec(v);const M=va(this),S=Fn(void 0);try{if(!(v&Ft.SkipSelf)){let K=this.records.get(g);if(void 0===K){const de=function _3(y){return"function"==typeof y||"object"==typeof y&&y instanceof tt}(g)&&bn(g);K=de&&this.injectableDefInScope(de)?$c(D_(g),v0):null,this.records.set(g,K)}if(null!=K)return this.hydrate(g,K)}return(v&Ft.Self?E0():this.parent).get(g,_=v&Ft.Optional&&_===Vs?null:_)}catch(A){if("NullInjectorError"===A.name){if((A[Yi]=A[Yi]||[]).unshift(ct(g)),M)throw A;return function jg(y,g,_,v){const b=y[Yi];throw g[di]&&b.unshift(g[di]),y.message=function Ug(y,g,_,v=null){y=y&&"\n"===y.charAt(0)&&"\u0275"==y.charAt(1)?y.slice(2):y;let b=ct(g);if(Array.isArray(g))b=g.map(ct).join(" -> ");else if("object"==typeof g){let M=[];for(let S in g)if(g.hasOwnProperty(S)){let A=g[S];M.push(S+":"+("string"==typeof A?JSON.stringify(A):ct(A)))}b=`{${M.join(", ")}}`}return`${_}${v?"("+v+")":""}[${b}]: ${y.replace(Nl,"\n  ")}`}("\n"+y.message,b,_,v),y.ngTokenPath=b,y[Yi]=null,y}(A,g,"R3InjectorError",this.source)}throw A}finally{Fn(S),va(M)}}resolveInjectorInitializers(){const g=va(this),_=Fn(void 0);try{const b=this.get(Ru,Mr,Ft.Self);for(const M of b)M()}finally{va(g),Fn(_)}}toString(){const g=[],_=this.records;for(const v of _.keys())g.push(ct(v));return`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(g){let _=ju(g=It(g))?g:It(g&&g.provide);const v=function m3(y){return b_(y)?$c(void 0,y.useValue):$c(function nD(y,g,_){let v;if(ju(y)){const b=It(y);return ro(b)||D_(b)}if(b_(y))v=()=>It(y.useValue);else if(function tD(y){return!(!y||!y.useFactory)}(y))v=()=>y.useFactory(...xh(y.deps||[]));else if(function eD(y){return!(!y||!y.useExisting)}(y))v=()=>or(It(y.useExisting));else{const b=It(y&&(y.useClass||y.provide));if(!function y3(y){return!!y.deps}(y))return ro(b)||D_(b);v=()=>new b(...xh(y.deps))}return v}(y),v0)}(g);if(!ju(g)&&!0===g.multi){let b=this.records.get(_);b||(b=$c(void 0,v0,!0),b.factory=()=>xh(b.multi),this.records.set(_,b)),_=g,b.multi.push(g)}this.records.set(_,v)}hydrate(g,_){return _.value===v0&&(_.value=p3,_.value=_.factory()),"object"==typeof _.value&&_.value&&function g3(y){return null!==y&&"object"==typeof y&&"function"==typeof y.ngOnDestroy}(_.value)&&this._ngOnDestroyHooks.add(_.value),_.value}injectableDefInScope(g){if(!g.providedIn)return!1;const _=It(g.providedIn);return"string"==typeof _?"any"===_||this.scopes.has(_):this.injectorDefTypes.has(_)}removeOnDestroy(g){const _=this._onDestroyHooks.indexOf(g);-1!==_&&this._onDestroyHooks.splice(_,1)}}function D_(y){const g=bn(y),_=null!==g?g.factory:ro(y);if(null!==_)return _;if(y instanceof tt)throw new Qt(204,!1);if(y instanceof Function)return function f3(y){if(y.length>0)throw new Qt(204,!1);const _=function bo(y){return y&&(y[Zo]||y[pt])||null}(y);return null!==_?()=>_.factory(y):()=>new y}(y);throw new Qt(204,!1)}function $c(y,g,_=!1){return{factory:y,value:g,multi:_?[]:void 0}}function S_(y,g){for(const _ of y)Array.isArray(_)?S_(_,g):_&&tn(_)?S_(_.\u0275providers,g):g(_)}function kc(y,g){y instanceof Vc&&y.assertNotDestroyed();const v=va(y),b=Fn(void 0);try{return g()}finally{va(v),Fn(b)}}function oD(y,g=null,_=null,v){const b=aD(y,g,_,v);return b.resolveInjectorInitializers(),b}function aD(y,g=null,_=null,v,b=new Set){const M=[_||Mr,c3(y)];return v=v||("object"==typeof y?void 0:ct(y)),new Vc(M,g||E0(),v||null,b)}let O_,So=(()=>{class y{static#e=this.THROW_IF_NOT_FOUND=Vs;static#t=this.NULL=new y0;static create(_,v){if(Array.isArray(_))return oD({name:""},v,_,"");{const b=_.name??"";return oD({name:b},_.parent,_.providers,b)}}static#n=this.\u0275prov=Ln({token:y,providedIn:"any",factory:()=>or(QM)});static#r=this.__NG_ELEMENT_ID__=-1}return y})();const T_=new tt("AppId",{providedIn:"root",factory:()=>I3}),I3="ng",uD=new tt("Platform Initializer"),Zc=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cD=new tt("CSP nonce",{providedIn:"root",factory:()=>function zl(){if(void 0!==O_)return O_;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function oo(y){return y instanceof Function?y():y}function S0(y){return 128==(128&y.flags)}var Hl=function(y){return y[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y}(Hl||{});const R_=new Map;let W3=0;const U_="__ngContext__";function pi(y,g){Zs(g)?(y[U_]=g[Ho],function $3(y){R_.set(y[Ho],y)}(g)):y[U_]=g}let N_;function B_(y,g){return N_(y,g)}function Kc(y,g,_,v,b){if(null!=v){let M,S=!1;zs(v)?M=v:Zs(v)&&(S=!0,v=v[cs]);const A=Jr(v);0===y&&null!==_?null==b?xD(g,_,A):Uu(g,_,A,b||null,!0):1===y&&null!==_?Uu(g,_,A,b||null,!0):2===y?function x0(y,g,_){const v=P0(y,g);v&&function sj(y,g,_,v){y.removeChild(g,_,v)}(y,v,g,_)}(g,A,S):3===y&&g.destroyNode(A),null!=M&&function aj(y,g,_,v,b){const M=_[Do];M!==Jr(_)&&Kc(g,y,v,M,b);for(let A=ds;A<_.length;A++){const K=_[A];L0(K[dn],K,y,g,v,M)}}(g,y,M,_,b)}}function O0(y,g,_){return y.createElement(g,_)}function TD(y,g){g[eo].changeDetectionScheduler?.notify(),L0(y,g,g[kn],2,null,null)}function PD(y,g){const _=y[$l],v=_.indexOf(g);_.splice(v,1)}function ep(y,g){if(y.length<=ds)return;const _=ds+g,v=y[_];if(v){const b=v[Ca];null!==b&&b!==y&&PD(b,v),g>0&&(y[_-1][qi]=v[qi]);const M=h0(y,ds+g);!function Q3(y,g){TD(y,g),g[cs]=null,g[$s]=null}(v[dn],v);const S=M[to];null!==S&&S.detachView(M[dn]),v[gs]=null,v[qi]=null,v[Pn]&=-129}return v}function T0(y,g){if(!(256&g[Pn])){const _=g[kn];_.destroyNode&&L0(y,g,_,3,null,null),function q3(y){let g=y[al];if(!g)return W_(y[dn],y);for(;g;){let _=null;if(Zs(g))_=g[al];else{const v=g[ds];v&&(_=v)}if(!_){for(;g&&!g[qi]&&g!==y;)Zs(g)&&W_(g[dn],g),g=g[gs];null===g&&(g=y),Zs(g)&&W_(g[dn],g),_=g&&g[qi]}g=_}}(g)}}function W_(y,g){if(!(256&g[Pn])){g[Pn]&=-129,g[Pn]|=256,g[Ma]&&function T(y){if(Q(y),F(y))for(let g=0;g<y.producerNode.length;g++)z(y.producerNode[g],y.producerIndexOfThis[g]);y.producerNode.length=y.producerLastReadVersion.length=y.producerIndexOfThis.length=0,y.liveConsumerNode&&(y.liveConsumerNode.length=y.liveConsumerIndexOfThis.length=0)}(g[Ma]),function rj(y,g){let _;if(null!=y&&null!=(_=y.destroyHooks))for(let v=0;v<_.length;v+=2){const b=g[_[v]];if(!(b instanceof zh)){const M=_[v+1];if(Array.isArray(M))for(let S=0;S<M.length;S+=2){const A=b[M[S]],K=M[S+1];Da(4,A,K);try{K.call(A)}finally{Da(5,A,K)}}else{Da(4,b,M);try{M.call(b)}finally{Da(5,b,M)}}}}}(y,g),function nj(y,g){const _=y.cleanup,v=g[Wl];if(null!==_)for(let M=0;M<_.length-1;M+=2)if("string"==typeof _[M]){const S=_[M+3];S>=0?v[S]():v[-S].unsubscribe(),M+=2}else _[M].call(v[_[M+1]]);null!==v&&(g[Wl]=null);const b=g[Mo];if(null!==b){g[Mo]=null;for(let M=0;M<b.length;M++)(0,b[M])()}}(y,g),1===g[dn].type&&g[kn].destroy();const _=g[Ca];if(null!==_&&zs(g[gs])){_!==g[gs]&&PD(_,g);const v=g[to];null!==v&&v.detachView(y)}!function k3(y){R_.delete(y[Ho])}(g)}}function V_(y,g,_){return function AD(y,g,_){let v=g;for(;null!==v&&40&v.type;)v=(g=v).parent;if(null===v)return _[cs];{const{componentOffset:b}=v;if(b>-1){const{encapsulation:M}=y.data[v.directiveStart+b];if(M===Qi.None||M===Qi.Emulated)return null}return Mi(v,_)}}(y,g.parent,_)}function Uu(y,g,_,v,b){y.insertBefore(g,_,v,b)}function xD(y,g,_){y.appendChild(g,_)}function LD(y,g,_,v,b){null!==v?Uu(y,g,_,v,b):xD(y,g,_)}function P0(y,g){return y.parentNode(g)}let $_,UD=function jD(y,g,_){return 40&y.type?Mi(y,_):null};function A0(y,g,_,v){const b=V_(y,v,g),M=g[kn],A=function RD(y,g,_){return UD(y,g,_)}(v.parent||g[$s],v,g);if(null!=b)if(Array.isArray(_))for(let K=0;K<_.length;K++)LD(M,b,_[K],A,!1);else LD(M,b,_,A,!1);void 0!==$_&&$_(M,v,g,_,b)}function tp(y,g){if(null!==g){const _=g.type;if(3&_)return Mi(g,y);if(4&_)return k_(-1,y[g.index]);if(8&_){const v=g.child;if(null!==v)return tp(y,v);{const b=y[g.index];return zs(b)?k_(-1,b):Jr(b)}}if(32&_)return B_(g,y)()||Jr(y[g.index]);{const v=BD(y,g);return null!==v?Array.isArray(v)?v[0]:tp(Au(y[Hr]),v):tp(y,g.next)}}return null}function BD(y,g){return null!==g?y[Hr][$s].projection[g.projection]:null}function k_(y,g){const _=ds+y+1;if(_<g.length){const v=g[_],b=v[dn].firstChild;if(null!==b)return tp(v,b)}return g[Do]}function Z_(y,g,_,v,b,M,S){for(;null!=_;){const A=v[_.index],K=_.type;if(S&&0===g&&(A&&pi(Jr(A),v),_.flags|=2),32!=(32&_.flags))if(8&K)Z_(y,g,_.child,v,b,M,!1),Kc(g,y,b,A,M);else if(32&K){const de=B_(_,v);let De;for(;De=de();)Kc(g,y,b,De,M);Kc(g,y,b,A,M)}else 16&K?WD(y,g,v,_,b,M):Kc(g,y,b,A,M);_=S?_.projectionNext:_.next}}function L0(y,g,_,v,b,M){Z_(_,v,y.firstChild,g,b,M,!1)}function WD(y,g,_,v,b,M){const S=_[Hr],K=S[$s].projection[v.projection];if(Array.isArray(K))for(let de=0;de<K.length;de++)Kc(g,y,b,K[de],M);else{let de=K;const De=S[gs];S0(v)&&(de.flags|=128),Z_(y,g,de,De,b,M,!0)}}function VD(y,g,_){""===_?y.removeAttribute(g,"class"):y.setAttribute(g,"class",_)}function $D(y,g,_){const{mergedAttrs:v,classes:b,styles:M}=_;null!==v&&Rh(y,g,v),null!==b&&VD(y,g,b),null!==M&&function uj(y,g,_){y.setAttribute(g,"style",_)}(y,g,M)}class nS{}let rS=()=>null;function sv(y,g,_=!1){return rS(y,g,_)}class kj{}class oS{}class zj{resolveComponentFactory(g){throw function Zj(y){const g=Error(`No component factory found for ${ct(y)}.`);return g.ngComponent=y,g}(g)}}let $0=(()=>{class y{static#e=this.NULL=new zj}return y})();function Kj(){return Qc($r(),Jt())}function Qc(y,g){return new Yl(Mi(y,g))}let Yl=(()=>{class y{constructor(_){this.nativeElement=_}static#e=this.__NG_ELEMENT_ID__=Kj}return y})();function Gj(y){return y instanceof Yl?y.nativeElement:y}class lS{}let Jj=(()=>{class y{static#e=this.\u0275prov=Ln({token:y,providedIn:"root",factory:()=>null})}return y})();const av={};function ap(y,g,_,v,b=!1){for(;null!==_;){const M=g[_.index];null!==M&&v.push(Jr(M)),zs(M)&&yS(M,v);const S=_.type;if(8&S)ap(y,g,_.child,v);else if(32&S){const A=B_(_,g);let K;for(;K=A();)v.push(K)}else if(16&S){const A=BD(g,_);if(Array.isArray(A))v.push(...A);else{const K=Au(g[Hr]);ap(K[dn],K,A,v,!0)}}_=b?_.projectionNext:_.next}return v}function yS(y,g){for(let _=ds;_<y.length;_++){const v=y[_],b=v[dn].firstChild;null!==b&&ap(v[dn],v,b,g)}y[Do]!==y[cs]&&g.push(y[Do])}let gS=[];const u5={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:y=>{kh(y.lView)},consumerOnSignalRead(){this.lView[Ma]=this}};function _S(y){return ES(y[al])}function vS(y){return ES(y[qi])}function ES(y){for(;null!==y&&!zs(y);)y=y[qi];return y}function cv(y){return y.ngOriginalError}class dl{constructor(){this._console=console}handleError(g){const _=this._findOriginalError(g);this._console.error("ERROR",g),_&&this._console.error("ORIGINAL ERROR",_)}_findOriginalError(g){let _=g&&cv(g);for(;_&&cv(_);)_=cv(_);return _||null}}const CS=new tt("",{providedIn:"root",factory:()=>yn(dl).handleError.bind(void 0)}),DS=new tt("",{providedIn:"root",factory:()=>!1}),tr={};function Jn(y,g=Ft.Default){const _=Jt();return null===_?or(y,g):FM($r(),_,It(y),g)}function TS(y,g,_,v,b,M){const S=Y(null);try{let A=null;b&Ri.SignalBased&&(A=g[v][U]),null!==A&&void 0!==A.transformFn&&(M=A.transformFn(M)),b&Ri.HasDecoratorInputTransform&&(M=y.inputTransforms[v].call(g,M)),null!==y.setInput?y.setInput(g,A,M,_,v):lM(g,A,v,M)}finally{Y(S)}}function G0(y,g,_,v,b,M,S,A,K,de,De){const Te=g.blueprint.slice();return Te[cs]=b,Te[Pn]=204|v,(null!==de||y&&2048&y[Pn])&&(Te[Pn]|=2048),mM(Te),Te[gs]=Te[Ui]=y,Te[Nr]=_,Te[eo]=S||y&&y[eo],Te[kn]=A||y&&y[kn],Te[ks]=K||y&&y[ks]||null,Te[$s]=M,Te[Ho]=function V3(){return W3++}(),Te[ji]=De,Te[wu]=de,Te[Hr]=2==g.type?y[Hr]:Te,Te}function Xc(y,g,_,v,b){let M=y.data[g];if(null===M)M=function dv(y,g,_,v,b){const M=EM(),S=Qg(),K=y.data[g]=function w5(y,g,_,v,b,M){let S=g?g.injectorIndex:-1,A=0;return function Tc(){return null!==Zn.skipHydrationRootTNode}()&&(A|=128),{type:_,index:v,insertBeforeIndex:null,injectorIndex:S,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:b,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?M:M&&M.parent,_,g,v,b);return null===y.firstChild&&(y.firstChild=K),null!==M&&(S?null==M.child&&null!==K.parent&&(M.child=K):null===M.next&&(M.next=K,K.prev=M)),K}(y,g,_,v,b),function ER(){return Zn.lFrame.inI18n}()&&(M.flags|=32);else if(64&M.type){M.type=_,M.value=v,M.attrs=b;const S=function Zh(){const y=Zn.lFrame,g=y.currentTNode;return y.isParent?g:g.parent}();M.injectorIndex=null===S?-1:S.injectorIndex}return wa(M,!0),M}function lp(y,g,_,v){if(0===_)return-1;const b=g.length;for(let M=0;M<_;M++)g.push(v),y.blueprint.push(v),y.data.push(null);return b}function PS(y,g,_,v,b){const M=function hi(){return Zn.lFrame.selectedIndex}(),S=2&v;try{xu(-1),S&&g.length>Gn&&function OS(y,g,_,v){if(!v)if(3==(3&g[Pn])){const M=y.preOrderCheckHooks;null!==M&&s0(g,M,_)}else{const M=y.preOrderHooks;null!==M&&o0(g,M,0,_)}xu(_)}(y,g,Gn,!1),Da(S?2:0,b),_(v,b)}finally{xu(M),Da(S?3:1,b)}}function hv(y,g,_){if(Qn(g)){const v=Y(null);try{const M=g.directiveEnd;for(let S=g.directiveStart;S<M;S++){const A=y.data[S];A.contentQueries&&A.contentQueries(1,_[S],S)}}finally{Y(v)}}}function AS(y){const g=y.tView;return null===g||g.incompleteFirstPass?y.tView=mv(1,null,y.template,y.decls,y.vars,y.directiveDefs,y.pipeDefs,y.viewQuery,y.schemas,y.consts,y.id):g}function mv(y,g,_,v,b,M,S,A,K,de,De){const Te=Gn+v,Ve=Te+b,nt=function E5(y,g){const _=[];for(let v=0;v<g;v++)_.push(v<y?null:tr);return _}(Te,Ve),at="function"==typeof de?de():de;return nt[dn]={type:y,blueprint:nt,template:_,queries:null,viewQuery:A,declTNode:g,data:nt.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:K,consts:at,incompleteFirstPass:!1,ssrId:De}}let xS=()=>null;function LS(y,g,_,v,b){for(let M in g){if(!g.hasOwnProperty(M))continue;const S=g[M];if(void 0===S)continue;v??={};let A,K=Ri.None;Array.isArray(S)?(A=S[0],K=S[1]):A=S;let de=M;if(null!==b){if(!b.hasOwnProperty(M))continue;de=b[M]}0===y?RS(v,_,de,A,K):RS(v,_,de,A)}return v}function RS(y,g,_,v,b){let M;y.hasOwnProperty(_)?(M=y[_]).push(g,v):M=y[_]=[g,v],void 0!==b&&M.push(b)}function jS(y,g,_,v,b,M){for(let de=0;de<v.length;de++)u_(l0(_,g),y,v[de].type);!function B5(y,g,_){y.flags|=1,y.directiveStart=g,y.directiveEnd=g+_,y.providerIndexes=g}(_,y.data.length,v.length);for(let de=0;de<v.length;de++){const De=v[de];De.providersResolver&&De.providersResolver(De)}let S=!1,A=!1,K=lp(y,g,v.length,null);for(let de=0;de<v.length;de++){const De=v[de];_.mergedAttrs=Su(_.mergedAttrs,De.hostAttrs),F5(y,_,g,K,De),N5(K,De,b),null!==De.contentQueries&&(_.flags|=4),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(_.flags|=64);const Te=De.type.prototype;!S&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((y.preOrderHooks??=[]).push(_.index),S=!0),!A&&(Te.ngOnChanges||Te.ngDoCheck)&&((y.preOrderCheckHooks??=[]).push(_.index),A=!0),K++}!function I5(y,g,_){const b=g.directiveEnd,M=y.data,S=g.attrs,A=[];let K=null,de=null;for(let De=g.directiveStart;De<b;De++){const Te=M[De],Ve=_?_.get(Te):null,at=Ve?Ve.outputs:null;K=LS(0,Te.inputs,De,K,Ve?Ve.inputs:null),de=LS(1,Te.outputs,De,de,at);const gt=null===K||null===S||jh(g)?null:$5(K,De,S);A.push(gt)}null!==K&&(K.hasOwnProperty("class")&&(g.flags|=8),K.hasOwnProperty("style")&&(g.flags|=16)),g.initialInputs=A,g.inputs=K,g.outputs=de}(y,_,M)}function US(y,g,_){const v=_.directiveStart,b=_.directiveEnd,M=_.index,S=function CR(){return Zn.lFrame.currentDirectiveIndex}();try{xu(M);for(let A=v;A<b;A++){const K=y.data[A],de=g[A];qg(A),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&R5(K,de)}}finally{xu(-1),qg(S)}}function R5(y,g){null!==y.hostBindings&&y.hostBindings(1,g)}function gv(y,g,_){g.componentOffset=_,(y.components??=[]).push(g.index)}function N5(y,g,_){if(_){if(g.exportAs)for(let v=0;v<g.exportAs.length;v++)_[g.exportAs[v]]=y;je(g)&&(_[""]=y)}}function F5(y,g,_,v,b){y.data[v]=b;const M=b.factory||(b.factory=ro(b.type)),S=new zh(M,je(b),Jn);y.blueprint[v]=S,_[v]=S,function A5(y,g,_,v,b){const M=b.hostBindings;if(M){let S=y.hostBindingOpCodes;null===S&&(S=y.hostBindingOpCodes=[]);const A=~g.index;(function x5(y){let g=y.length;for(;g>0;){const _=y[--g];if("number"==typeof _&&_<0)return _}return 0})(S)!=A&&S.push(A),S.push(_,v,M)}}(y,g,v,lp(y,_,b.hostVars,tr),b)}function V5(y,g,_,v,b,M){const S=M[g];if(null!==S)for(let A=0;A<S.length;)TS(v,_,S[A++],S[A++],S[A++],S[A++])}function $5(y,g,_){let v=null,b=0;for(;b<_.length;){const M=_[b];if(0!==M)if(5!==M){if("number"==typeof M)break;if(y.hasOwnProperty(M)){null===v&&(v=[]);const S=y[M];for(let A=0;A<S.length;A+=3)if(S[A]===g){v.push(M,S[A+1],S[A+2],_[b+1]);break}}b+=2}else b+=2;else b+=4}return v}function BS(y,g){const _=y.contentQueries;if(null!==_){const v=Y(null);try{for(let b=0;b<_.length;b+=2){const S=_[b+1];if(-1!==S){const A=y.data[S];t_(_[b]),A.contentQueries(2,g[S],S)}}}finally{Y(v)}}}function H0(y,g){return y[al]?y[Dc][qi]=g:y[al]=g,y[Dc]=g,g}function vv(y,g,_){t_(0);const v=Y(null);try{g(y,_)}finally{Y(v)}}function Ev(y,g,_,v,b){for(let M=0;M<_.length;){const S=_[M++],A=_[M++],K=_[M++];TS(y.data[S],g[S],v,A,K,b)}}function bv(y,g=!0){const _=y[eo],v=_.rendererFactory;v.begin?.();try{!function Z5(y){Cv(y,0);let g=0;for(;gM(y);){if(100===g)throw new Qt(103,!1);g++,Cv(y,1)}}(y)}catch(M){throw g&&function J0(y,g){const _=y[ks],v=_?_.get(dl,null):null;v&&v.handleError(g)}(y,M),M}finally{v.end?.(),_.inlineEffectRunner?.flush()}}function z5(y,g,_,v){const b=g[Pn];if(256==(256&b))return;g[eo].inlineEffectRunner?.flush(),n_(g);let S=null,A=null;(function K5(y){return 2!==y.type})(y)&&(A=function o5(y){return y[Ma]??function a5(y){const g=gS.pop()??Object.create(u5);return g.lView=y,g}(y)}(g),S=function w(y){return y&&(y.nextProducerIndex=0),Y(y)}(A));try{mM(g),function CM(y){return Zn.lFrame.bindingIndex=y}(y.bindingStartIndex),null!==_&&PS(y,g,_,2,v);const K=3==(3&b);if(K){const Te=y.preOrderCheckHooks;null!==Te&&s0(g,Te,null)}else{const Te=y.preOrderHooks;null!==Te&&o0(g,Te,0,null),s_(g,0)}if(function G5(y){for(let g=_S(y);null!==g;g=vS(g)){if(!(g[Pn]&wc.HasTransplantedViews))continue;const _=g[$l];for(let v=0;v<_.length;v++){lR(_[v])}}}(g),$S(g,0),null!==y.contentQueries&&BS(y,g),K){const Te=y.contentCheckHooks;null!==Te&&s0(g,Te)}else{const Te=y.contentHooks;null!==Te&&o0(g,Te,1),s_(g,1)}!function v5(y,g){const _=y.hostBindingOpCodes;if(null!==_)try{for(let v=0;v<_.length;v++){const b=_[v];if(b<0)xu(~b);else{const M=b,S=_[++v],A=_[++v];bR(S,M),A(2,g[M])}}}finally{xu(-1)}}(y,g);const de=y.components;null!==de&&ZS(g,de,0);const De=y.viewQuery;if(null!==De&&vv(2,De,v),K){const Te=y.viewCheckHooks;null!==Te&&s0(g,Te)}else{const Te=y.viewHooks;null!==Te&&o0(g,Te,2),s_(g,2)}if(!0===y.firstUpdatePass&&(y.firstUpdatePass=!1),g[Iu]){for(const Te of g[Iu])Te();g[Iu]=null}g[Pn]&=-73}catch(K){throw kh(g),K}finally{null!==A&&(function O(y,g){if(Y(g),y&&void 0!==y.producerNode&&void 0!==y.producerIndexOfThis&&void 0!==y.producerLastReadVersion){if(F(y))for(let _=y.nextProducerIndex;_<y.producerNode.length;_++)z(y.producerNode[_],y.producerIndexOfThis[_]);for(;y.producerNode.length>y.nextProducerIndex;)y.producerNode.pop(),y.producerLastReadVersion.pop(),y.producerIndexOfThis.pop()}}(A,S),function l5(y){y.lView[Ma]!==y&&(y.lView=null,gS.push(y))}(A)),r_()}}function $S(y,g){for(let _=_S(y);null!==_;_=vS(_))for(let v=ds;v<_.length;v++)kS(_[v],g)}function H5(y,g,_){kS(so(g,y),_)}function kS(y,g){Hg(y)&&Cv(y,g)}function Cv(y,g){const v=y[dn],b=y[Pn],M=y[Ma];let S=!!(0===g&&16&b);if(S||=!!(64&b&&0===g),S||=!!(1024&b),S||=!(!M?.dirty||!I(M)),M&&(M.dirty=!1),y[Pn]&=-9217,S)z5(v,y,v.template,y[Nr]);else if(8192&b){$S(y,1);const A=v.components;null!==A&&ZS(y,A,1)}}function ZS(y,g,_){for(let v=0;v<g.length;v++)H5(y,g[v],_)}function up(y){for(y[eo].changeDetectionScheduler?.notify();y;){y[Pn]|=64;const g=Au(y);if(_e(y)&&!g)return y;y=g}return null}class cp{get rootNodes(){const g=this._lView,_=g[dn];return ap(_,g,_.firstChild,[])}constructor(g,_,v=!0){this._lView=g,this._cdRefInjectingView=_,this.notifyErrorHandler=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(g){this._lView[Nr]=g}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[gs];if(zs(g)){const _=g[8],v=_?_.indexOf(this):-1;v>-1&&(ep(g,v),h0(_,v))}this._attachedToViewContainer=!1}T0(this._lView[dn],this._lView)}onDestroy(g){!function t0(y,g){if(256==(256&y[Pn]))throw new Qt(911,!1);null===y[Mo]&&(y[Mo]=[]),y[Mo].push(g)}(this._lView,g)}markForCheck(){up(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){Jg(this._lView),this._lView[Pn]|=128}detectChanges(){this._lView[Pn]|=1024,bv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,TD(this._lView[dn],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=g,Jg(this._lView)}}let Y0=(()=>{class y{static#e=this.__NG_ELEMENT_ID__=J5}return y})();function J5(y){return function Y5(y,g,_){if(no(y)&&!_){const v=so(y.index,g);return new cp(v,v)}return 47&y.type?new cp(g[Hr],g):null}($r(),Jt(),16==(16&y))}const zS=new Set;function Dv(y){return g=>{setTimeout(y,void 0,g)}}const Si=class i4 extends mn{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,_,v){let b=g,M=_||(()=>null),S=v;if(g&&"object"==typeof g){const K=g;b=K.next?.bind(K),M=K.error?.bind(K),S=K.complete?.bind(K)}this.__isAsync&&(M=Dv(M),b&&(b=Dv(b)),S&&(S=Dv(S)));const A=super.subscribe({next:b,error:M,complete:S});return g instanceof Ge&&g.add(A),A}};function KS(...y){}class kr{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:_=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!v&&_,b.shouldCoalesceRunChangeDetection=v,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function o4(){const y="function"==typeof Tr.requestAnimationFrame;let g=Tr[y?"requestAnimationFrame":"setTimeout"],_=Tr[y?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&g&&_){const v=g[Zone.__symbol__("OriginalDelegate")];v&&(g=v);const b=_[Zone.__symbol__("OriginalDelegate")];b&&(_=b)}return{nativeRequestAnimationFrame:g,nativeCancelAnimationFrame:_}}().nativeRequestAnimationFrame,function u4(y){const g=()=>{!function l4(y){y.isCheckStableRunning||-1!==y.lastRequestAnimationFrameId||(y.lastRequestAnimationFrameId=y.nativeRequestAnimationFrame.call(Tr,()=>{y.fakeTopEventTask||(y.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{y.lastRequestAnimationFrameId=-1,wv(y),y.isCheckStableRunning=!0,Sv(y),y.isCheckStableRunning=!1},void 0,()=>{},()=>{})),y.fakeTopEventTask.invoke()}),wv(y))}(y)};y._inner=y._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(_,v,b,M,S,A)=>{if(function c4(y){return!(!Array.isArray(y)||1!==y.length)&&!0===y[0].data?.__ignore_ng_zone__}(A))return _.invokeTask(b,M,S,A);try{return GS(y),_.invokeTask(b,M,S,A)}finally{(y.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||y.shouldCoalesceRunChangeDetection)&&g(),HS(y)}},onInvoke:(_,v,b,M,S,A,K)=>{try{return GS(y),_.invoke(b,M,S,A,K)}finally{y.shouldCoalesceRunChangeDetection&&g(),HS(y)}},onHasTask:(_,v,b,M)=>{_.hasTask(b,M),v===b&&("microTask"==M.change?(y._hasPendingMicrotasks=M.microTask,wv(y),Sv(y)):"macroTask"==M.change&&(y.hasPendingMacrotasks=M.macroTask))},onHandleError:(_,v,b,M)=>(_.handleError(b,M),y.runOutsideAngular(()=>y.onError.emit(M)),!1)})}(b)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new Qt(909,!1)}run(g,_,v){return this._inner.run(g,_,v)}runTask(g,_,v,b){const M=this._inner,S=M.scheduleEventTask("NgZoneEvent: "+b,g,a4,KS,KS);try{return M.runTask(S,_,v)}finally{M.cancelTask(S)}}runGuarded(g,_,v){return this._inner.runGuarded(g,_,v)}runOutsideAngular(g){return this._outer.run(g)}}const a4={};function Sv(y){if(0==y._nesting&&!y.hasPendingMicrotasks&&!y.isStable)try{y._nesting++,y.onMicrotaskEmpty.emit(null)}finally{if(y._nesting--,!y.hasPendingMicrotasks)try{y.runOutsideAngular(()=>y.onStable.emit(null))}finally{y.isStable=!0}}}function wv(y){y.hasPendingMicrotasks=!!(y._hasPendingMicrotasks||(y.shouldCoalesceEventChangeDetection||y.shouldCoalesceRunChangeDetection)&&-1!==y.lastRequestAnimationFrameId)}function GS(y){y._nesting++,y.isStable&&(y.isStable=!1,y.onUnstable.emit(null))}function HS(y){y._nesting--,Sv(y)}let dp=(()=>{class y{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const _=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const b of _)b();return!!this.handler?.execute()||_.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ln({token:y,providedIn:"root",factory:()=>new y})}return y})();function f4(y,g){const _=so(g,y),v=_[dn];!function m4(y,g){for(let _=g.length;_<y.blueprint.length;_++)g.push(y.blueprint[_])}(v,_);const b=_[cs];null!==b&&null===_[ji]&&(_[ji]=sv(b,_[ks])),Iv(v,_,_[Nr])}function Iv(y,g,_){n_(g);try{const v=y.viewQuery;null!==v&&vv(1,v,_);const b=y.template;null!==b&&PS(y,g,b,1,_),y.firstCreatePass&&(y.firstCreatePass=!1),y.staticContentQueries&&BS(y,g),y.staticViewQueries&&vv(2,y.viewQuery,_);const M=y.components;null!==M&&function y4(y,g){for(let _=0;_<g.length;_++)f4(y,g[_])}(g,M)}catch(v){throw y.firstCreatePass&&(y.incompleteFirstPass=!0,y.firstCreatePass=!1),v}finally{g[Pn]&=-5,r_()}}function Q0(y,g,_){let v=_?y.styles:null,b=_?y.classes:null,M=0;if(null!==g)for(let S=0;S<g.length;S++){const A=g[S];"number"==typeof A?M=A:1==M?b=ht(b,A):2==M&&(v=ht(v,A+": "+g[++S]+";"))}_?y.styles=v:y.stylesWithoutHost=v,_?y.classes=b:y.classesWithoutHost=b}class ew extends $0{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const _=ur(g);return new hp(_,this.ngModule)}}function tw(y){const g=[];for(const _ in y){if(!y.hasOwnProperty(_))continue;const v=y[_];void 0!==v&&g.push({propName:Array.isArray(v)?v[0]:v,templateName:_})}return g}class _4{constructor(g,_){this.injector=g,this.parentInjector=_}get(g,_,v){v=Ec(v);const b=this.injector.get(g,av,v);return b!==av||_===av?b:this.parentInjector.get(g,_,v)}}class hp extends oS{get inputs(){const g=this.componentDef,_=g.inputTransforms,v=tw(g.inputs);if(null!==_)for(const b of v)_.hasOwnProperty(b.propName)&&(b.transform=_[b.propName]);return v}get outputs(){return tw(this.componentDef.outputs)}constructor(g,_){super(),this.componentDef=g,this.ngModule=_,this.componentType=g.type,this.selector=function Yf(y){return y.map(Uh).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!_}create(g,_,v,b){let M=(b=b||this.ngModule)instanceof Yo?b:b?.injector;M&&null!==this.componentDef.getStandaloneInjector&&(M=this.componentDef.getStandaloneInjector(M)||M);const S=M?new _4(g,M):g,A=S.get(lS,null);if(null===A)throw new Qt(407,!1);const Te={rendererFactory:A,sanitizer:S.get(Jj,null),inlineEffectRunner:null,afterRenderEventManager:S.get(dp,null),changeDetectionScheduler:S.get(nS,null)},Ve=A.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",at=v?function b5(y,g,_,v){const M=v.get(DS,!1)||_===Qi.ShadowDom,S=y.selectRootElement(g,M);return function C5(y){xS(y)}(S),S}(Ve,v,this.componentDef.encapsulation,S):O0(Ve,nt,function g4(y){const g=y.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(nt));let gt=512;this.componentDef.signals?gt|=4096:this.componentDef.onPush||(gt|=16);let mt=null;null!==at&&(mt=sv(at,S,!0));const At=mv(0,null,null,1,0,null,null,null,null,null,null),St=G0(null,At,null,gt,null,null,Te,Ve,S,null,mt);let Yt,Kt;n_(St);try{const sn=this.componentDef;let gn,wr=null;sn.findHostDirectiveDefs?(gn=[],wr=new Map,sn.findHostDirectiveDefs(sn,gn,wr),gn.push(sn)):gn=[sn];const ms=function E4(y,g){const _=y[dn],v=Gn;return y[v]=g,Xc(_,v,2,"#host",null)}(St,at),xr=function b4(y,g,_,v,b,M,S){const A=b[dn];!function C4(y,g,_,v){for(const b of y)g.mergedAttrs=Su(g.mergedAttrs,b.hostAttrs);null!==g.mergedAttrs&&(Q0(g,g.mergedAttrs,!0),null!==_&&$D(v,_,g))}(v,y,g,S);let K=null;null!==g&&(K=sv(g,b[ks]));const de=M.rendererFactory.createRenderer(g,_);let De=16;_.signals?De=4096:_.onPush&&(De=64);const Te=G0(b,AS(_),null,De,b[y.index],y,M,de,null,null,K);return A.firstCreatePass&&gv(A,y,v.length-1),H0(b,Te),b[y.index]=Te}(ms,at,sn,gn,St,Te,Ve);Kt=function $h(y,g){return y.data[g]}(At,Gn),at&&function D4(y,g,_,v){if(v)Rh(y,_,["ng-version","17.1.0"]);else{const{attrs:b,classes:M}=function Fg(y){const g=[],_=[];let v=1,b=2;for(;v<y.length;){let M=y[v];if("string"==typeof M)2===b?""!==M&&g.push(M,y[++v]):8===b&&_.push(M);else{if(!qn(b))break;b=M}v++}return{attrs:g,classes:_}}(g.selectors[0]);b&&Rh(y,_,b),M&&M.length>0&&VD(y,_,M.join(" "))}}(Ve,sn,at,v),void 0!==_&&function S4(y,g,_){const v=y.projection=[];for(let b=0;b<g.length;b++){const M=_[b];v.push(null!=M?Array.from(M):null)}}(Kt,this.ngContentSelectors,_),Yt=function M4(y,g,_,v,b,M){const S=$r(),A=b[dn],K=Mi(S,b);jS(A,b,S,_,null,v);for(let De=0;De<_.length;De++)pi(Lu(b,A,S.directiveStart+De,S),b);US(A,b,S),K&&pi(K,b);const de=Lu(b,A,S.directiveStart+S.componentOffset,S);if(y[Nr]=b[Nr]=de,null!==M)for(const De of M)De(de,g);return hv(A,S,y),de}(xr,sn,gn,wr,St,[w4]),Iv(At,St,null)}finally{r_()}return new v4(this.componentType,Yt,Qc(Kt,St),St,Kt)}}class v4 extends kj{constructor(g,_,v,b,M){super(),this.location=v,this._rootLView=b,this._tNode=M,this.previousInputValues=null,this.instance=_,this.hostView=this.changeDetectorRef=new cp(b,void 0,!1),this.componentType=g}setInput(g,_){const v=this._tNode.inputs;let b;if(null!==v&&(b=v[g])){if(this.previousInputValues??=new Map,this.previousInputValues.has(g)&&Object.is(this.previousInputValues.get(g),_))return;const M=this._rootLView;Ev(M[dn],M,b,g,_),this.previousInputValues.set(g,_),up(so(this._tNode.index,M))}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}function w4(){const y=$r();r0(Jt()[dn],y)}function ed(y,g){return!g||null===g.firstChild||S0(y)}function _p(y,g,_,v=!0){const b=g[dn];if(function ej(y,g,_,v){const b=ds+v,M=_.length;v>0&&(_[b-1][qi]=g),v<M-ds?(g[qi]=_[b],zM(_,ds+v,g)):(_.push(g),g[qi]=null),g[gs]=_;const S=g[Ca];null!==S&&_!==S&&function tj(y,g){const _=y[$l];g[Hr]!==g[gs][gs][Hr]&&(y[Pn]|=wc.HasTransplantedViews),null===_?y[$l]=[g]:_.push(g)}(S,g);const A=g[to];null!==A&&A.insertView(y),Jg(g),g[Pn]|=128}(b,g,y,_),v){const S=k_(_,y),A=g[kn],K=P0(A,y[Do]);null!==K&&function X3(y,g,_,v,b,M){v[cs]=b,v[$s]=g,L0(y,v,_,1,b,M)}(b,y[$s],A,g,K,S)}const M=g[ji];null!==M&&null!==M.firstChild&&(M.firstChild=null)}let Qo=(()=>{class y{static#e=this.__NG_ELEMENT_ID__=sU}return y})();function sU(){return gw($r(),Jt())}const iU=Qo,mw=class extends iU{constructor(g,_,v){super(),this._lContainer=g,this._hostTNode=_,this._hostLView=v}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const g=u0(this._hostTNode,this._hostLView);if(o_(g)){const _=Gh(g,this._hostLView),v=Kh(g);return new Gs(_[dn].data[v+8],_)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const _=yw(this._lContainer);return null!==_&&_[g]||null}get length(){return this._lContainer.length-ds}createEmbeddedView(g,_,v){let b,M;"number"==typeof v?b=v:null!=v&&(b=v.index,M=v.injector);const A=g.createEmbeddedViewImpl(_||{},M,null);return this.insertImpl(A,b,ed(this._hostTNode,null)),A}createComponent(g,_,v,b,M){const S=g&&!function Hh(y){return"function"==typeof y}(g);let A;if(S)A=_;else{const at=_||{};A=at.index,v=at.injector,b=at.projectableNodes,M=at.environmentInjector||at.ngModuleRef}const K=S?g:new hp(ur(g)),de=v||this.parentInjector;if(!M&&null==K.ngModule){const gt=(S?de:this.parentInjector).get(Yo,null);gt&&(M=gt)}ur(K.componentType??{});const nt=K.create(de,b,null,M);return this.insertImpl(nt.hostView,A,ed(this._hostTNode,null)),nt}insert(g,_){return this.insertImpl(g,_,!0)}insertImpl(g,_,v){const b=g._lView;if(function aR(y){return zs(y[gs])}(b)){const A=this.indexOf(g);if(-1!==A)this.detach(A);else{const K=b[gs],de=new mw(K,K[$s],K[gs]);de.detach(de.indexOf(g))}}const M=this._adjustIndex(_),S=this._lContainer;return _p(S,b,M,v),g.attachToViewContainerRef(),zM(Rv(S),M,g),g}move(g,_){return this.insert(g,_)}indexOf(g){const _=yw(this._lContainer);return null!==_?_.indexOf(g):-1}remove(g){const _=this._adjustIndex(g,-1),v=ep(this._lContainer,_);v&&(h0(Rv(this._lContainer),_),T0(v[dn],v))}detach(g){const _=this._adjustIndex(g,-1),v=ep(this._lContainer,_);return v&&null!=h0(Rv(this._lContainer),_)?new cp(v):null}_adjustIndex(g,_=0){return g??this.length+_}};function yw(y){return y[8]}function Rv(y){return y[8]||(y[8]=[])}function gw(y,g){let _;const v=g[y.index];return zs(v)?_=v:(_=function NS(y,g,_,v){return[y,!0,0,g,null,v,null,_,null,null]}(v,g,null,y),g[y.index]=_,H0(g,_)),_w(_,g,y,v),new mw(_,y,g)}let _w=function Ew(y,g,_,v){if(y[Do])return;let b;b=8&_.type?Jr(v):function oU(y,g){const _=y[kn],v=_.createComment(""),b=Mi(g,y);return Uu(_,P0(_,b),v,function ij(y,g){return y.nextSibling(g)}(_,b),!1),v}(g,_),y[Do]=b};function Hv(y,g,_,v,b){const S=b?"class":"style";Ev(y,_,g.inputs[S],S,v)}function eE(y,g,_,v){const b=Jt(),M=Er(),S=Gn+y,A=b[kn],K=M.firstCreatePass?function LN(y,g,_,v,b,M){const S=g.consts,K=Xc(g,y,2,v,Sa(S,b));return function yv(y,g,_,v){if(vM()){const b=null===v?null:{"":-1},M=function j5(y,g){const _=y.directiveRegistry;let v=null,b=null;if(_)for(let M=0;M<_.length;M++){const S=_[M];if(Gf(g,S.selectors,!1))if(v||(v=[]),je(S))if(null!==S.findHostDirectiveDefs){const A=[];b=b||new Map,S.findHostDirectiveDefs(S,A,b),v.unshift(...A,S),gv(y,g,A.length)}else v.unshift(S),gv(y,g,0);else b=b||new Map,S.findHostDirectiveDefs?.(S,v,b),v.push(S)}return null===v?null:[v,b]}(y,_);let S,A;null===M?S=A=null:[S,A]=M,null!==S&&jS(y,g,_,S,b,A),b&&function U5(y,g,_){if(g){const v=y.localNames=[];for(let b=0;b<g.length;b+=2){const M=_[g[b+1]];if(null==M)throw new Qt(-301,!1);v.push(g[b],M)}}}(_,v,b)}_.mergedAttrs=Su(_.mergedAttrs,_.attrs)}(g,_,K,Sa(S,M)),null!==K.attrs&&Q0(K,K.attrs,!1),null!==K.mergedAttrs&&Q0(K,K.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,K),K}(S,M,b,g,_,v):M.data[S],de=vI(M,b,K,A,g,y);b[S]=de;const De=function Fh(y){return 1==(1&y.flags)}(K);return wa(K,!0),$D(A,de,K),32!=(32&K.flags)&&function n0(){return AM}()&&A0(M,b,de,K),0===function uR(){return Zn.lFrame.elementDepthCount}()&&pi(de,b),function cR(){Zn.lFrame.elementDepthCount++}(),De&&(function pv(y,g,_){vM()&&(function L5(y,g,_,v){const b=_.directiveStart,M=_.directiveEnd;no(_)&&function W5(y,g,_){const v=Mi(g,y),b=AS(_);let S=16;_.signals?S=4096:_.onPush&&(S=64);const A=H0(y,G0(y,b,null,S,v,g,null,y[eo].rendererFactory.createRenderer(v,_),null,null,null));y[g.index]=A}(g,_,y.data[b+_.componentOffset]),y.firstCreatePass||l0(_,g),pi(v,g);const S=_.initialInputs;for(let A=b;A<M;A++){const K=y.data[A],de=Lu(g,y,A,_);pi(de,g),null!==S&&V5(0,A-b,de,K,0,S),je(K)&&(so(_.index,g)[Nr]=Lu(g,y,A,_))}}(y,g,_,Mi(_,g)),64==(64&_.flags)&&US(y,g,_))}(M,b,K),hv(M,K,b)),null!==v&&function fv(y,g,_=Mi){const v=g.localNames;if(null!==v){let b=g.index+1;for(let M=0;M<v.length;M+=2){const S=v[M+1],A=-1===S?_(g,y):y[S];y[b++]=A}}}(b,K),eE}function tE(){let y=$r();Qg()?function Xg(){Zn.lFrame.isParent=!1}():(y=y.parent,wa(y,!1));const g=y;(function hR(y){return Zn.skipHydrationRootTNode===y})(g)&&function yR(){Zn.skipHydrationRootTNode=null}(),function dR(){Zn.lFrame.elementDepthCount--}();const _=Er();return _.firstCreatePass&&(r0(_,y),Qn(y)&&_.queries.elementEnd(y)),null!=g.classesWithoutHost&&function LR(y){return 0!=(8&y.flags)}(g)&&Hv(_,g,Jt(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function RR(y){return 0!=(16&y.flags)}(g)&&Hv(_,g,Jt(),g.stylesWithoutHost,!1),tE}function dm(y,g,_,v){return eE(y,g,_,v),tE(),dm}let vI=(y,g,_,v,b,M)=>(function kl(y){AM=y}(!0),O0(v,b,function PM(){return Zn.lFrame.currentNamespace}()));const _d="en-US";let wI=_d;function ym(y){return!!y&&"function"==typeof y.then}function QI(y){return!!y&&"function"==typeof y.subscribe}function V8(){return this._results[Symbol.iterator]()}class lE{static#e=Symbol.iterator;get changes(){return this._changes??=new Si}constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const _=lE.prototype;_[Symbol.iterator]||(_[Symbol.iterator]=V8)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,_){return this._results.reduce(g,_)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,_){this.dirty=!1;const v=function Ni(y){return y.flat(Number.POSITIVE_INFINITY)}(g);(this._changesDetected=!function GR(y,g,_){if(y.length!==g.length)return!1;for(let v=0;v<y.length;v++){let b=y[v],M=g[v];if(_&&(b=_(b),M=_(M)),M!==b)return!1}return!0}(this._results,v,_))&&(this._results=v,this.length=v.length,this.last=v[this.length-1],this.first=v[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let pl=(()=>{class y{static#e=this.__NG_ELEMENT_ID__=Z8}return y})();const $8=pl,k8=class extends $8{constructor(g,_,v){super(),this._declarationLView=g,this._declarationTContainer=_,this.elementRef=v}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(g,_){return this.createEmbeddedViewImpl(g,_)}createEmbeddedViewImpl(g,_,v){const b=function gp(y,g,_,v){const b=g.tView,A=G0(y,b,_,4096&y[Pn]?4096:16,null,g,null,null,null,v?.injector??null,v?.dehydratedView??null);A[Ca]=y[g.index];const de=y[to];return null!==de&&(A[to]=de.createEmbeddedView(b)),Iv(b,A,_),A}(this._declarationLView,this._declarationTContainer,g,{injector:_,dehydratedView:v});return new cp(b)}};function Z8(){return gm($r(),Jt())}function gm(y,g){return 4&y.type?new k8(g,y,Qc(y,g)):null}class uE{constructor(g){this.queryList=g,this.matches=null}clone(){return new uE(this.queryList)}setDirty(){this.queryList.setDirty()}}class cE{constructor(g=[]){this.queries=g}createEmbeddedView(g){const _=g.queries;if(null!==_){const v=null!==g.contentQueries?g.contentQueries[0]:_.length,b=[];for(let M=0;M<v;M++){const S=_.getByIndex(M);b.push(this.queries[S.indexInDeclarationView].clone())}return new cE(b)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let _=0;_<this.queries.length;_++)null!==mO(g,_).matches&&this.queries[_].setDirty()}}class dO{constructor(g,_,v=null){this.predicate=g,this.flags=_,this.read=v}}class dE{constructor(g=[]){this.queries=g}elementStart(g,_){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(g,_)}elementEnd(g){for(let _=0;_<this.queries.length;_++)this.queries[_].elementEnd(g)}embeddedTView(g){let _=null;for(let v=0;v<this.length;v++){const b=null!==_?_.length:0,M=this.getByIndex(v).embeddedTView(g,b);M&&(M.indexInDeclarationView=v,null!==_?_.push(M):_=[M])}return null!==_?new dE(_):null}template(g,_){for(let v=0;v<this.queries.length;v++)this.queries[v].template(g,_)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class hE{constructor(g,_=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=_}elementStart(g,_){this.isApplyingToNode(_)&&this.matchTNode(g,_)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,_){this.elementStart(g,_)}embeddedTView(g,_){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,_),new hE(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const _=this._declarationNodeIndex;let v=g.parent;for(;null!==v&&8&v.type&&v.index!==_;)v=v.parent;return _===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(g,_){const v=this.metadata.predicate;if(Array.isArray(v))for(let b=0;b<v.length;b++){const M=v[b];this.matchTNodeWithReadOption(g,_,z8(_,M)),this.matchTNodeWithReadOption(g,_,c0(_,g,M,!1,!1))}else v===pl?4&_.type&&this.matchTNodeWithReadOption(g,_,-1):this.matchTNodeWithReadOption(g,_,c0(_,g,v,!1,!1))}matchTNodeWithReadOption(g,_,v){if(null!==v){const b=this.metadata.read;if(null!==b)if(b===Yl||b===Qo||b===pl&&4&_.type)this.addMatch(_.index,-2);else{const M=c0(_,g,b,!1,!1);null!==M&&this.addMatch(_.index,M)}else this.addMatch(_.index,v)}}addMatch(g,_){null===this.matches?this.matches=[g,_]:this.matches.push(g,_)}}function z8(y,g){const _=y.localNames;if(null!==_)for(let v=0;v<_.length;v+=2)if(_[v]===g)return _[v+1];return null}function G8(y,g,_,v){return-1===_?function K8(y,g){return 11&y.type?Qc(y,g):4&y.type?gm(y,g):null}(g,y):-2===_?function H8(y,g,_){return _===Yl?Qc(g,y):_===pl?gm(g,y):_===Qo?gw(g,y):void 0}(y,g,v):Lu(y,y[dn],_,g)}function hO(y,g,_,v){const b=g[to].queries[v];if(null===b.matches){const M=y.data,S=_.matches,A=[];for(let K=0;K<S.length;K+=2){const de=S[K];A.push(de<0?null:G8(g,M[de],S[K+1],_.metadata.read))}b.matches=A}return b.matches}function pE(y,g,_,v){const b=y.queries.getByIndex(_),M=b.matches;if(null!==M){const S=hO(y,g,b,_);for(let A=0;A<M.length;A+=2){const K=M[A];if(K>0)v.push(S[A/2]);else{const de=M[A+1],De=g[-K];for(let Te=ds;Te<De.length;Te++){const Ve=De[Te];Ve[Ca]===Ve[gs]&&pE(Ve[dn],Ve,de,v)}if(null!==De[$l]){const Te=De[$l];for(let Ve=0;Ve<Te.length;Ve++){const nt=Te[Ve];pE(nt[dn],nt,de,v)}}}}}return v}function pO(y,g,_){const v=new lE(4==(4&_));(function S5(y,g,_,v){const b=function FS(y){return y[Wl]||(y[Wl]=[])}(g);b.push(_),y.firstCreatePass&&function WS(y){return y.cleanup||(y.cleanup=[])}(y).push(v,b.length-1)})(y,g,v,v.destroy),null===g[to]&&(g[to]=new cE),g[to].queries.push(new uE(v))}function mO(y,g){return y.queries.getByIndex(g)}function gO(y,g,_){const v=Er();v.firstCreatePass&&(function fO(y,g,_){null===y.queries&&(y.queries=new dE),y.queries.track(new hE(g,_))}(v,new dO(y,g,_),-1),2==(2&g)&&(v.staticViewQueries=!0)),pO(v,Jt(),g)}function fE(y){const g=Jt(),_=Er(),v=DM();t_(v+1);const b=mO(_,v);if(y.dirty&&function oR(y){return 4==(4&y[Pn])}(g)===(2==(2&b.metadata.flags))){if(null===b.matches)y.reset([]);else{const M=b.crossesNgTemplate?pE(_,g,v,[]):hO(_,g,b,v);y.reset(M,Gj),y.notifyOnChanges()}return!0}return!1}class ku{}class BO{}class bE extends ku{constructor(g,_,v){super(),this._parent=_,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ew(this);const b=As(g);this._bootstrapComponents=oo(b.bootstrap),this._r3Injector=aD(g,_,[{provide:ku,useValue:this},{provide:$0,useValue:this.componentFactoryResolver},...v],ct(g),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(g)}get injector(){return this._r3Injector}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(_=>_()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class CE extends BO{constructor(g){super(),this.moduleType=g}create(g){return new bE(this.moduleType,g,[])}}class FO extends ku{constructor(g){super(),this.componentFactoryResolver=new ew(this),this.instance=null;const _=new Vc([...g.providers,{provide:ku,useValue:this},{provide:$0,useValue:this.componentFactoryResolver}],g.parent||E0(),g.debugName,new Set(["environment"]));this.injector=_,g.runEnvironmentInitializers&&_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(g){this.injector.onDestroy(g)}}function WO(y,g,_=null){return new FO({providers:y,parent:g,debugName:_,runEnvironmentInitializers:!0}).injector}let _6=(()=>{class y{constructor(_){this._injector=_,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(_){if(!_.standalone)return null;if(!this.cachedInjectors.has(_)){const v=XM(0,_.type),b=v.length>0?WO([v],this._injector,`Standalone[${_.type.name}]`):null;this.cachedInjectors.set(_,b)}return this.cachedInjectors.get(_)}ngOnDestroy(){try{for(const _ of this.cachedInjectors.values())null!==_&&_.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ln({token:y,providedIn:"environment",factory:()=>new y(or(Yo))})}return y})();function ME(y){(function Nu(y){zS.has(y)||(zS.add(y),performance?.mark?.("mark_feature_usage",{detail:{feature:y}}))})("NgStandalone"),y.getStandaloneInjector=g=>g.get(_6).getOrCreateStandaloneInjector(y)}let mT=(()=>{class y{log(_){console.log(_)}warn(_){console.warn(_)}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"platform"})}return y})();class fB{constructor(g,_){this.ngModuleFactory=g,this.componentFactories=_}}let mB=(()=>{class y{compileModuleSync(_){return new CE(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const v=this.compileModuleSync(_),M=oo(As(_).declarations).reduce((S,A)=>{const K=ur(A);return K&&S.push(new hp(K)),S},[]);return new fB(v,M)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Cm=(()=>{class y{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const _=this.taskId++;return this.pendingTasks.add(_),_}remove(_){this.pendingTasks.delete(_),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const ET=new tt(""),kB=new tt("Application Initializer");let LE=(()=>{class y{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,v)=>{this.resolve=_,this.reject=v}),this.appInits=yn(kB,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const _=[];for(const b of this.appInits){const M=b();if(ym(M))_.push(M);else if(QI(M)){const S=new Promise((A,K)=>{M.subscribe({complete:A,error:K})});_.push(S)}}const v=()=>{this.done=!0,this.resolve()};Promise.all(_).then(()=>{v()}).catch(b=>{this.reject(b)}),0===_.length&&v(),this.initialized=!0}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const RE=new tt("appBootstrapListener");let Zu=(()=>{class y{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yn(CS),this.afterRenderEffectManager=yn(dp),this.componentTypes=[],this.components=[],this.isStable=yn(Cm).hasPendingTasks.pipe(rn(_=>!_)),this._injector=yn(Yo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(_,v){const b=_ instanceof oS;if(!this._injector.get(LE).done)throw!b&&function Ko(y){const g=ur(y)||Cs(y)||Ur(y);return null!==g&&g.standalone}(_),new Qt(405,!1);let S;S=b?_:this._injector.get($0).resolveComponentFactory(_),this.componentTypes.push(S.componentType);const A=function zB(y){return y.isBoundToModule}(S)?void 0:this._injector.get(ku),de=S.create(So.NULL,[],v||S.selector,A),De=de.location.nativeElement,Te=de.injector.get(ET,null);return Te?.registerApplication(De),de.onDestroy(()=>{this.detachView(de.hostView),Sm(this.components,de),Te?.unregisterApplication(De)}),this._loadComponent(de),de}tick(){if(this._runningTick)throw new Qt(101,!1);try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this.internalErrorHandler(_)}finally{try{this.afterRenderEffectManager.execute()}catch(_){this.internalErrorHandler(_)}this._runningTick=!1}}attachView(_){const v=_;this._views.push(v),v.attachToAppRef(this)}detachView(_){const v=_;Sm(this._views,v),v.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_);const v=this._injector.get(RE,[]);[...this._bootstrapListeners,...v].forEach(b=>b(_))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(_=>_()),this._views.slice().forEach(_=>_.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(_){return this._destroyListeners.push(_),()=>Sm(this._destroyListeners,_)}destroy(){if(this._destroyed)throw new Qt(406,!1);const _=this._injector;_.destroy&&!_.destroyed&&_.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Sm(y,g){const _=y.indexOf(g);_>-1&&y.splice(_,1)}let GB=(()=>{class y{constructor(){this.zone=yn(kr),this.applicationRef=yn(Zu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function ST(y){return[{provide:kr,useFactory:y},{provide:Ru,multi:!0,useFactory:()=>{const g=yn(GB,{optional:!0});return()=>g.initialize()}},{provide:Ru,multi:!0,useFactory:()=>{const g=yn(YB);return()=>{g.initialize()}}},{provide:CS,useFactory:HB}]}function HB(){const y=yn(kr),g=yn(dl);return _=>y.runOutsideAngular(()=>g.handleError(_))}function JB(y){return g0([[],ST(()=>new kr(function wT(y){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:y?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:y?.runCoalescing??!1}}(y)))])}let YB=(()=>{class y{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=yn(kr),this.pendingTasks=yn(Cm)}initialize(){if(this.initialized)return;this.initialized=!0;let _=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(_=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{null!==_&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(_),_=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{kr.assertInAngularZone(),_??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const fl=new tt("LocaleId",{providedIn:"root",factory:()=>yn(fl,Ft.Optional|Ft.SkipSelf)||function QB(){return typeof $localize<"u"&&$localize.locale||_d}()}),jE=new tt("PlatformDestroyListeners");let ql=null;function bF(y){try{const{rootComponent:g,appProviders:_,platformProviders:v}=y,b=function nF(y=[]){if(ql)return ql;const g=function TT(y=[],g){return So.create({name:g,providers:[{provide:C_,useValue:"platform"},{provide:jE,useValue:new Set([()=>ql=null])},...y]})}(y);return ql=g,function bT(){!function ge(y){q=y}(()=>{throw new Qt(600,!1)})}(),function PT(y){y.get(uD,null)?.forEach(_=>_())}(g),g}(v),M=[JB(),..._||[]],A=new FO({providers:M,parent:b,debugName:"",runEnvironmentInitializers:!1}).injector,K=A.get(kr);return K.run(()=>{A.resolveInjectorInitializers();const de=A.get(dl,null);let De;K.runOutsideAngular(()=>{De=K.onError.subscribe({next:nt=>{de.handleError(nt)}})});const Te=()=>A.destroy(),Ve=b.get(jE);return Ve.add(Te),A.onDestroy(()=>{De.unsubscribe(),Ve.delete(Te)}),function CT(y,g,_){try{const v=_();return ym(v)?v.catch(b=>{throw g.runOutsideAngular(()=>y.handleError(b)),b}):v}catch(v){throw g.runOutsideAngular(()=>y.handleError(v)),v}}(de,K,()=>{const nt=A.get(LE);return nt.runInitializers(),nt.donePromise.then(()=>{!function II(y){Rs(y,"Expected localeId to be defined"),"string"==typeof y&&(wI=y.toLowerCase().replace(/_/g,"-"))}(A.get(fl,_d)||_d);const gt=A.get(Zu);return void 0!==g&&gt.bootstrap(g),gt})})})}catch(g){return Promise.reject(g)}}let ZE=null;function Cd(){return ZE}class UF{}const ea=new tt("DocumentToken");let eP=(()=>{class y{historyGo(_){throw new Error("Not implemented")}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(NF),providedIn:"platform"})}return y})(),NF=(()=>{class y extends eP{constructor(){super(),this._doc=yn(ea),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cd().getBaseHref(this._doc)}onPopState(_){const v=Cd().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",_,!1),()=>v.removeEventListener("popstate",_)}onHashChange(_){const v=Cd().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",_,!1),()=>v.removeEventListener("hashchange",_)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(_){this._location.pathname=_}pushState(_,v,b){this._history.pushState(_,v,b)}replaceState(_,v,b){this._history.replaceState(_,v,b)}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>new y,providedIn:"platform"})}return y})();function tP(y,g){if(0==y.length)return g;if(0==g.length)return y;let _=0;return y.endsWith("/")&&_++,g.startsWith("/")&&_++,2==_?y+g.substring(1):1==_?y+g:y+"/"+g}function nP(y){const g=y.match(/#|\?|$/),_=g&&g.index||y.length;return y.slice(0,_-("/"===y[_-1]?1:0))+y.slice(_)}function Ku(y){return y&&"?"!==y[0]?"?"+y:y}let Rm=(()=>{class y{historyGo(_){throw new Error("Not implemented")}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(FF),providedIn:"root"})}return y})();const BF=new tt("appBaseHref");let FF=(()=>{class y extends Rm{constructor(_,v){super(),this._platformLocation=_,this._removeListenerFns=[],this._baseHref=v??this._platformLocation.getBaseHrefFromDOM()??yn(ea).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return tP(this._baseHref,_)}path(_=!1){const v=this._platformLocation.pathname+Ku(this._platformLocation.search),b=this._platformLocation.hash;return b&&_?`${v}${b}`:v}pushState(_,v,b,M){const S=this.prepareExternalUrl(b+Ku(M));this._platformLocation.pushState(_,v,S)}replaceState(_,v,b,M){const S=this.prepareExternalUrl(b+Ku(M));this._platformLocation.replaceState(_,v,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}static#e=this.\u0275fac=function(v){return new(v||y)(or(eP),or(BF,8))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Up=(()=>{class y{constructor(_){this._subject=new Si,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=_;const v=this._locationStrategy.getBaseHref();this._basePath=function $F(y){if(new RegExp("^(https?:)?//").test(y)){const[,_]=y.split(/\/\/[^\/]+/);return _}return y}(nP(rP(v))),this._locationStrategy.onPopState(b=>{this._subject.emit({url:this.path(!0),pop:!0,state:b.state,type:b.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(_=!1){return this.normalize(this._locationStrategy.path(_))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(_,v=""){return this.path()==this.normalize(_+Ku(v))}normalize(_){return y.stripTrailingSlash(function VF(y,g){if(!y||!g.startsWith(y))return g;const _=g.substring(y.length);return""===_||["/",";","?","#"].includes(_[0])?_:g}(this._basePath,rP(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._locationStrategy.prepareExternalUrl(_)}go(_,v="",b=null){this._locationStrategy.pushState(b,"",_,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Ku(v)),b)}replaceState(_,v="",b=null){this._locationStrategy.replaceState(b,"",_,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Ku(v)),b)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(_=0){this._locationStrategy.historyGo?.(_)}onUrlChange(_){return this._urlChangeListeners.push(_),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})),()=>{const v=this._urlChangeListeners.indexOf(_);this._urlChangeListeners.splice(v,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(_="",v){this._urlChangeListeners.forEach(b=>b(_,v))}subscribe(_,v,b){return this._subject.subscribe({next:_,error:v,complete:b})}static#e=this.normalizeQueryParams=Ku;static#t=this.joinWithSlash=tP;static#n=this.stripTrailingSlash=nP;static#r=this.\u0275fac=function(v){return new(v||y)(or(Rm))};static#s=this.\u0275prov=Ln({token:y,factory:()=>function WF(){return new Up(or(Rm))}(),providedIn:"root"})}return y})();function rP(y){return y.replace(/\/index.html$/,"")}let s9=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275mod=vr({type:y});static#n=this.\u0275inj=ya({})}return y})();function vP(y){return"server"===y}class x9 extends UF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class a1 extends x9{static makeCurrent(){!function jF(y){ZE||(ZE=y)}(new a1)}onAndCancel(g,_,v){return g.addEventListener(_,v),()=>{g.removeEventListener(_,v)}}dispatchEvent(g,_){g.dispatchEvent(_)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,_){return(_=_||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,_){return"window"===_?window:"document"===_?g:"body"===_?g.body:null}getBaseHref(g){const _=function L9(){return Wp=Wp||document.querySelector("base"),Wp?Wp.getAttribute("href"):null}();return null==_?null:function R9(y){return new URL(y,document.baseURI).pathname}(_)}resetBaseElement(){Wp=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return function w7(y,g){g=encodeURIComponent(g);for(const _ of y.split(";")){const v=_.indexOf("="),[b,M]=-1==v?[_,""]:[_.slice(0,v),_.slice(v+1)];if(b.trim()===g)return decodeURIComponent(M)}return null}(document.cookie,g)}}let Wp=null,U9=(()=>{class y{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();const l1=new tt("EventManagerPlugins");let MP=(()=>{class y{constructor(_,v){this._zone=v,this._eventNameToPlugin=new Map,_.forEach(b=>{b.manager=this}),this._plugins=_.slice().reverse()}addEventListener(_,v,b){return this._findPluginFor(v).addEventListener(_,v,b)}getZone(){return this._zone}_findPluginFor(_){let v=this._eventNameToPlugin.get(_);if(v)return v;if(v=this._plugins.find(M=>M.supports(_)),!v)throw new Qt(5101,!1);return this._eventNameToPlugin.set(_,v),v}static#e=this.\u0275fac=function(v){return new(v||y)(or(l1),or(kr))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();class DP{constructor(g){this._doc=g}}const u1="ng-app-id";let SP=(()=>{class y{constructor(_,v,b,M={}){this.doc=_,this.appId=v,this.nonce=b,this.platformId=M,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vP(M),this.resetHostNodes()}addStyles(_){for(const v of _)1===this.changeUsageCount(v,1)&&this.onStyleAdded(v)}removeStyles(_){for(const v of _)this.changeUsageCount(v,-1)<=0&&this.onStyleRemoved(v)}ngOnDestroy(){const _=this.styleNodesInDOM;_&&(_.forEach(v=>v.remove()),_.clear());for(const v of this.getAllStyles())this.onStyleRemoved(v);this.resetHostNodes()}addHost(_){this.hostNodes.add(_);for(const v of this.getAllStyles())this.addStyleToHost(_,v)}removeHost(_){this.hostNodes.delete(_)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_){for(const v of this.hostNodes)this.addStyleToHost(v,_)}onStyleRemoved(_){const v=this.styleRef;v.get(_)?.elements?.forEach(b=>b.remove()),v.delete(_)}collectServerRenderedStyles(){const _=this.doc.head?.querySelectorAll(`style[${u1}="${this.appId}"]`);if(_?.length){const v=new Map;return _.forEach(b=>{null!=b.textContent&&v.set(b.textContent,b)}),v}return null}changeUsageCount(_,v){const b=this.styleRef;if(b.has(_)){const M=b.get(_);return M.usage+=v,M.usage}return b.set(_,{usage:v,elements:[]}),v}getStyleElement(_,v){const b=this.styleNodesInDOM,M=b?.get(v);if(M?.parentNode===_)return b.delete(v),M.removeAttribute(u1),M;{const S=this.doc.createElement("style");return this.nonce&&S.setAttribute("nonce",this.nonce),S.textContent=v,this.platformIsServer&&S.setAttribute(u1,this.appId),_.appendChild(S),S}}addStyleToHost(_,v){const b=this.getStyleElement(_,v),M=this.styleRef,S=M.get(v)?.elements;S?S.push(b):M.set(v,{elements:[b],usage:1})}resetHostNodes(){const _=this.hostNodes;_.clear(),_.add(this.doc.head)}static#e=this.\u0275fac=function(v){return new(v||y)(or(ea),or(T_),or(cD,8),or(Zc))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();const c1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d1=/%COMP%/g,W9=new tt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function IP(y,g){return g.map(_=>_.replace(d1,y))}let OP=(()=>{class y{constructor(_,v,b,M,S,A,K,de=null){this.eventManager=_,this.sharedStylesHost=v,this.appId=b,this.removeStylesOnCompDestroy=M,this.doc=S,this.platformId=A,this.ngZone=K,this.nonce=de,this.rendererByCompId=new Map,this.platformIsServer=vP(A),this.defaultRenderer=new h1(_,S,K,this.platformIsServer)}createRenderer(_,v){if(!_||!v)return this.defaultRenderer;this.platformIsServer&&v.encapsulation===Qi.ShadowDom&&(v={...v,encapsulation:Qi.Emulated});const b=this.getOrCreateRenderer(_,v);return b instanceof PP?b.applyToHost(_):b instanceof p1&&b.applyStyles(),b}getOrCreateRenderer(_,v){const b=this.rendererByCompId;let M=b.get(v.id);if(!M){const S=this.doc,A=this.ngZone,K=this.eventManager,de=this.sharedStylesHost,De=this.removeStylesOnCompDestroy,Te=this.platformIsServer;switch(v.encapsulation){case Qi.Emulated:M=new PP(K,de,v,this.appId,De,S,A,Te);break;case Qi.ShadowDom:return new Z9(K,de,_,v,S,A,this.nonce,Te);default:M=new p1(K,de,v,De,S,A,Te)}b.set(v.id,M)}return M}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(v){return new(v||y)(or(MP),or(SP),or(T_),or(W9),or(ea),or(Zc),or(kr),or(cD))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();class h1{constructor(g,_,v,b){this.eventManager=g,this.doc=_,this.ngZone=v,this.platformIsServer=b,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(g,_){return _?this.doc.createElementNS(c1[_]||_,g):this.doc.createElement(g)}createComment(g){return this.doc.createComment(g)}createText(g){return this.doc.createTextNode(g)}appendChild(g,_){(TP(g)?g.content:g).appendChild(_)}insertBefore(g,_,v){g&&(TP(g)?g.content:g).insertBefore(_,v)}removeChild(g,_){g&&g.removeChild(_)}selectRootElement(g,_){let v="string"==typeof g?this.doc.querySelector(g):g;if(!v)throw new Qt(-5104,!1);return _||(v.textContent=""),v}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,_,v,b){if(b){_=b+":"+_;const M=c1[b];M?g.setAttributeNS(M,_,v):g.setAttribute(_,v)}else g.setAttribute(_,v)}removeAttribute(g,_,v){if(v){const b=c1[v];b?g.removeAttributeNS(b,_):g.removeAttribute(`${v}:${_}`)}else g.removeAttribute(_)}addClass(g,_){g.classList.add(_)}removeClass(g,_){g.classList.remove(_)}setStyle(g,_,v,b){b&(Hl.DashCase|Hl.Important)?g.style.setProperty(_,v,b&Hl.Important?"important":""):g.style[_]=v}removeStyle(g,_,v){v&Hl.DashCase?g.style.removeProperty(_):g.style[_]=""}setProperty(g,_,v){null!=g&&(g[_]=v)}setValue(g,_){g.nodeValue=_}listen(g,_,v){if("string"==typeof g&&!(g=Cd().getGlobalEventTarget(this.doc,g)))throw new Error(`Unsupported event target ${g} for event ${_}`);return this.eventManager.addEventListener(g,_,this.decoratePreventDefault(v))}decoratePreventDefault(g){return _=>{if("__ngUnwrap__"===_)return g;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>g(_)):g(_))&&_.preventDefault()}}}function TP(y){return"TEMPLATE"===y.tagName&&void 0!==y.content}class Z9 extends h1{constructor(g,_,v,b,M,S,A,K){super(g,M,S,K),this.sharedStylesHost=_,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const de=IP(b.id,b.styles);for(const De of de){const Te=document.createElement("style");A&&Te.setAttribute("nonce",A),Te.textContent=De,this.shadowRoot.appendChild(Te)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}appendChild(g,_){return super.appendChild(this.nodeOrShadowRoot(g),_)}insertBefore(g,_,v){return super.insertBefore(this.nodeOrShadowRoot(g),_,v)}removeChild(g,_){return super.removeChild(this.nodeOrShadowRoot(g),_)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class p1 extends h1{constructor(g,_,v,b,M,S,A,K){super(g,M,S,A),this.sharedStylesHost=_,this.removeStylesOnCompDestroy=b,this.styles=K?IP(K,v.styles):v.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class PP extends p1{constructor(g,_,v,b,M,S,A,K){const de=b+"-"+v.id;super(g,_,v,M,S,A,K,de),this.contentAttr=function V9(y){return"_ngcontent-%COMP%".replace(d1,y)}(de),this.hostAttr=function $9(y){return"_nghost-%COMP%".replace(d1,y)}(de)}applyToHost(g){this.applyStyles(),this.setAttribute(g,this.hostAttr,"")}createElement(g,_){const v=super.createElement(g,_);return super.setAttribute(v,this.contentAttr,""),v}}let z9=(()=>{class y extends DP{constructor(_){super(_)}supports(_){return!0}addEventListener(_,v,b){return _.addEventListener(v,b,!1),()=>this.removeEventListener(_,v,b)}removeEventListener(_,v,b){return _.removeEventListener(v,b)}static#e=this.\u0275fac=function(v){return new(v||y)(or(ea))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();const AP=["alt","control","meta","shift"],K9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G9={alt:y=>y.altKey,control:y=>y.ctrlKey,meta:y=>y.metaKey,shift:y=>y.shiftKey};let H9=(()=>{class y extends DP{constructor(_){super(_)}supports(_){return null!=y.parseEventName(_)}addEventListener(_,v,b){const M=y.parseEventName(v),S=y.eventCallback(M.fullKey,b,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cd().onAndCancel(_,M.domEventName,S))}static parseEventName(_){const v=_.toLowerCase().split("."),b=v.shift();if(0===v.length||"keydown"!==b&&"keyup"!==b)return null;const M=y._normalizeKey(v.pop());let S="",A=v.indexOf("code");if(A>-1&&(v.splice(A,1),S="code."),AP.forEach(de=>{const De=v.indexOf(de);De>-1&&(v.splice(De,1),S+=de+".")}),S+=M,0!=v.length||0===M.length)return null;const K={};return K.domEventName=b,K.fullKey=S,K}static matchEventFullKeyCode(_,v){let b=K9[_.key]||_.key,M="";return v.indexOf("code.")>-1&&(b=_.code,M="code."),!(null==b||!b)&&(b=b.toLowerCase()," "===b?b="space":"."===b&&(b="dot"),AP.forEach(S=>{S!==b&&(0,G9[S])(_)&&(M+=S+".")}),M+=b,M===v)}static eventCallback(_,v,b){return M=>{y.matchEventFullKeyCode(M,_)&&b.runGuarded(()=>v(M))}}static _normalizeKey(_){return"esc"===_?"escape":_}static#e=this.\u0275fac=function(v){return new(v||y)(or(ea))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac})}return y})();function xP(y){return{appProviders:[...tW,...y?.providers??[]],platformProviders:q9}}const q9=[{provide:Zc,useValue:"browser"},{provide:uD,useValue:function Y9(){a1.makeCurrent()},multi:!0},{provide:ea,useFactory:function X9(){return function w3(y){O_=y}(document),document},deps:[]}],tW=[{provide:C_,useValue:"root"},{provide:dl,useFactory:function Q9(){return new dl},deps:[]},{provide:l1,useClass:z9,multi:!0,deps:[ea,kr,Zc]},{provide:l1,useClass:H9,multi:!0,deps:[ea]},OP,SP,MP,{provide:lS,useExisting:OP},{provide:class u9{},useClass:U9,deps:[]},[]];let LP=(()=>{class y{constructor(_){this._doc=_}getTitle(){return this._doc.title}setTitle(_){this._doc.title=_||""}static#e=this.\u0275fac=function(v){return new(v||y)(or(ea))};static#t=this.\u0275prov=Ln({token:y,factory:function(v){let b=null;return b=v?new v:function rW(){return new LP(or(ea))}(),b},providedIn:"root"})}return y})();function tu(y){return this instanceof tu?(this.v=y,this):new tu(y)}function WP(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,g=y[Symbol.asyncIterator];return g?g.call(y):(y=function _1(y){var g="function"==typeof Symbol&&Symbol.iterator,_=g&&y[g],v=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),_={},v("next"),v("throw"),v("return"),_[Symbol.asyncIterator]=function(){return this},_);function v(M){_[M]=y[M]&&function(S){return new Promise(function(A,K){!function b(M,S,A,K){Promise.resolve(K).then(function(de){M({value:de,done:A})},S)}(A,K,(S=y[M](S)).done,S.value)})}}}typeof window<"u"&&window,"function"==typeof SuppressedError&&SuppressedError;const VP=y=>y&&"number"==typeof y.length&&"function"!=typeof y;function $P(y){return Me(y?.then)}function kP(y){return Me(y[un])}function ZP(y){return Symbol.asyncIterator&&Me(y?.[Symbol.asyncIterator])}function zP(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KP=function PW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function GP(y){return Me(y?.[KP])}function HP(y){return function FP(y,g,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,v=_.apply(y,g||[]),M=[];return b={},S("next"),S("throw"),S("return"),b[Symbol.asyncIterator]=function(){return this},b;function S(Ve){v[Ve]&&(b[Ve]=function(nt){return new Promise(function(at,gt){M.push([Ve,nt,at,gt])>1||A(Ve,nt)})})}function A(Ve,nt){try{!function K(Ve){Ve.value instanceof tu?Promise.resolve(Ve.value.v).then(de,De):Te(M[0][2],Ve)}(v[Ve](nt))}catch(at){Te(M[0][3],at)}}function de(Ve){A("next",Ve)}function De(Ve){A("throw",Ve)}function Te(Ve,nt){Ve(nt),M.shift(),M.length&&A(M[0][0],M[0][1])}}(this,arguments,function*(){const _=y.getReader();try{for(;;){const{value:v,done:b}=yield tu(_.read());if(b)return yield tu(void 0);yield yield tu(v)}}finally{_.releaseLock()}})}function JP(y){return Me(y?.getReader)}function gl(y){if(y instanceof Tt)return y;if(null!=y){if(kP(y))return function AW(y){return new Tt(g=>{const _=y[un]();if(Me(_.subscribe))return _.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(y);if(VP(y))return function xW(y){return new Tt(g=>{for(let _=0;_<y.length&&!g.closed;_++)g.next(y[_]);g.complete()})}(y);if($P(y))return function LW(y){return new Tt(g=>{y.then(_=>{g.closed||(g.next(_),g.complete())},_=>g.error(_)).then(null,We)})}(y);if(ZP(y))return YP(y);if(GP(y))return function RW(y){return new Tt(g=>{for(const _ of y)if(g.next(_),g.closed)return;g.complete()})}(y);if(JP(y))return function jW(y){return YP(HP(y))}(y)}throw zP(y)}function YP(y){return new Tt(g=>{(function UW(y,g){var _,v,b,M;return function NP(y,g,_,v){return new(_||(_=Promise))(function(M,S){function A(De){try{de(v.next(De))}catch(Te){S(Te)}}function K(De){try{de(v.throw(De))}catch(Te){S(Te)}}function de(De){De.done?M(De.value):function b(M){return M instanceof _?M:new _(function(S){S(M)})}(De.value).then(A,K)}de((v=v.apply(y,g||[])).next())})}(this,void 0,void 0,function*(){try{for(_=WP(y);!(v=yield _.next()).done;)if(g.next(v.value),g.closed)return}catch(S){b={error:S}}finally{try{v&&!v.done&&(M=_.return)&&(yield M.call(_))}finally{if(b)throw b.error}}g.complete()})})(y,g).catch(_=>g.error(_))})}function _l(y,g,_,v=0,b=!1){const M=g.schedule(function(){_(),b?y.add(this.schedule(null,v)):this.unsubscribe()},v);if(y.add(M),!b)return M}function QP(y,g=0){return xn((_,v)=>{_.subscribe(Xn(v,b=>_l(v,y,()=>v.next(b),g),()=>_l(v,y,()=>v.complete(),g),b=>_l(v,y,()=>v.error(b),g)))})}function XP(y,g=0){return xn((_,v)=>{v.add(y.schedule(()=>_.subscribe(v),g))})}function qP(y,g){if(!y)throw new Error("Iterable cannot be null");return new Tt(_=>{_l(_,g,()=>{const v=y[Symbol.asyncIterator]();_l(_,g,()=>{v.next().then(b=>{b.done?_.complete():_.next(b.value)})},0,!0)})})}function Ti(y,g){return g?function $W(y,g){if(null!=y){if(kP(y))return function NW(y,g){return gl(y).pipe(XP(g),QP(g))}(y,g);if(VP(y))return function FW(y,g){return new Tt(_=>{let v=0;return g.schedule(function(){v===y.length?_.complete():(_.next(y[v++]),_.closed||this.schedule())})})}(y,g);if($P(y))return function BW(y,g){return gl(y).pipe(XP(g),QP(g))}(y,g);if(ZP(y))return qP(y,g);if(GP(y))return function WW(y,g){return new Tt(_=>{let v;return _l(_,g,()=>{v=y[KP](),_l(_,g,()=>{let b,M;try{({value:b,done:M}=v.next())}catch(S){return void _.error(S)}M?_.complete():_.next(b)},0,!0)}),()=>Me(v?.return)&&v.return()})}(y,g);if(JP(y))return function VW(y,g){return qP(HP(y),g)}(y,g)}throw zP(y)}(y,g):gl(y)}function v1(y){return y[y.length-1]}function Gm(y){return function kW(y){return y&&Me(y.schedule)}(v1(y))?y.pop():void 0}function lr(...y){return Ti(y,Gm(y))}const Hm=Se(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:zW}=Array,{getPrototypeOf:KW,prototype:GW,keys:HW}=Object;const{isArray:QW}=Array;function e2(...y){const g=Gm(y),_=function ZW(y){return Me(v1(y))?y.pop():void 0}(y),{args:v,keys:b}=function JW(y){if(1===y.length){const g=y[0];if(zW(g))return{args:g,keys:null};if(function YW(y){return y&&"object"==typeof y&&KW(y)===GW}(g)){const _=HW(g);return{args:_.map(v=>g[v]),keys:_}}}return{args:y,keys:null}}(y);if(0===v.length)return Ti([],g);const M=new Tt(function tV(y,g,_=yt){return v=>{t2(g,()=>{const{length:b}=y,M=new Array(b);let S=b,A=b;for(let K=0;K<b;K++)t2(g,()=>{const de=Ti(y[K],g);let De=!1;de.subscribe(Xn(v,Te=>{M[K]=Te,De||(De=!0,A--),A||v.next(_(M.slice()))},()=>{--S||v.complete()}))},v)},v)}}(v,g,b?S=>function eV(y,g){return y.reduce((_,v,b)=>(_[v]=g[b],_),{})}(b,S):yt));return _?M.pipe(function qW(y){return rn(g=>function XW(y,g){return QW(g)?y(...g):y(g)}(y,g))}(_)):M}function t2(y,g,_){y?_l(_,y,g):g()}function Pi(y,g,_=1/0){return Me(g)?Pi((v,b)=>rn((M,S)=>g(v,M,b,S))(gl(y(v,b))),_):("number"==typeof g&&(_=g),xn((v,b)=>function nV(y,g,_,v,b,M,S,A){const K=[];let de=0,De=0,Te=!1;const Ve=()=>{Te&&!K.length&&!de&&g.complete()},nt=gt=>de<v?at(gt):K.push(gt),at=gt=>{M&&g.next(gt),de++;let mt=!1;gl(_(gt,De++)).subscribe(Xn(g,At=>{b?.(At),M?nt(At):g.next(At)},()=>{mt=!0},void 0,()=>{if(mt)try{for(de--;K.length&&de<v;){const At=K.shift();S?_l(g,S,()=>at(At)):at(At)}Ve()}catch(At){g.error(At)}}))};return y.subscribe(Xn(g,nt,()=>{Te=!0,Ve()})),()=>{A?.()}}(v,b,y,_)))}function b1(...y){return function rV(){return function E1(y=1/0){return Pi(yt,y)}(1)}()(Ti(y,Gm(y)))}function n2(y){return new Tt(g=>{gl(y()).subscribe(g)})}function Jm(y,g){const _=Me(y)?y:()=>y,v=b=>b.error(_());return new Tt(g?b=>g.schedule(v,0,b):v)}const vl=new Tt(y=>y.complete());function C1(){return xn((y,g)=>{let _=null;y._refCount++;const v=Xn(g,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const b=y._connection,M=_;_=null,b&&(!M||b===M)&&b.unsubscribe(),g.unsubscribe()});y.subscribe(v),v.closed||(_=y.connect())})}class r2 extends Tt{constructor(g,_){super(),this.source=g,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,hr(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Ge;const _=this.getSubject();g.add(this.source.subscribe(Xn(_,void 0,()=>{this._teardown(),_.complete()},v=>{this._teardown(),_.error(v)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Ge.EMPTY)}return g}refCount(){return C1()(this)}}function El(y,g){return xn((_,v)=>{let b=null,M=0,S=!1;const A=()=>S&&!b&&v.complete();_.subscribe(Xn(v,K=>{b?.unsubscribe();let de=0;const De=M++;gl(y(K,De)).subscribe(b=Xn(v,Te=>v.next(g?g(K,Te,De,de++):Te),()=>{b=null,A()}))},()=>{S=!0,A()}))})}function Dd(y){return y<=0?()=>vl:xn((g,_)=>{let v=0;g.subscribe(Xn(_,b=>{++v<=y&&(_.next(b),y<=v&&_.complete())}))})}function Gu(y,g){return xn((_,v)=>{let b=0;_.subscribe(Xn(v,M=>y.call(g,M,b++)&&v.next(M)))})}function Ym(y){return xn((g,_)=>{let v=!1;g.subscribe(Xn(_,b=>{v=!0,_.next(b)},()=>{v||_.next(y),_.complete()}))})}function s2(y=oV){return xn((g,_)=>{let v=!1;g.subscribe(Xn(_,b=>{v=!0,_.next(b)},()=>v?_.complete():_.error(y())))})}function oV(){return new Hm}function Hu(y,g){const _=arguments.length>=2;return v=>v.pipe(y?Gu((b,M)=>y(b,M,v)):yt,Dd(1),_?Ym(g):s2(()=>new Hm))}function Qm(y,g){return Me(g)?Pi(y,g,1):Pi(y,1)}function fi(y,g,_){const v=Me(y)||g||_?{next:y,error:g,complete:_}:y;return v?xn((b,M)=>{var S;null===(S=v.subscribe)||void 0===S||S.call(v);let A=!0;b.subscribe(Xn(M,K=>{var de;null===(de=v.next)||void 0===de||de.call(v,K),M.next(K)},()=>{var K;A=!1,null===(K=v.complete)||void 0===K||K.call(v),M.complete()},K=>{var de;A=!1,null===(de=v.error)||void 0===de||de.call(v,K),M.error(K)},()=>{var K,de;A&&(null===(K=v.unsubscribe)||void 0===K||K.call(v)),null===(de=v.finalize)||void 0===de||de.call(v)}))}):yt}function Sd(y){return xn((g,_)=>{let M,v=null,b=!1;v=g.subscribe(Xn(_,void 0,void 0,S=>{M=gl(y(S,Sd(y)(g))),v?(v.unsubscribe(),v=null,M.subscribe(_)):b=!0})),b&&(v.unsubscribe(),v=null,M.subscribe(_))})}function M1(y){return y<=0?()=>vl:xn((g,_)=>{let v=[];g.subscribe(Xn(_,b=>{v.push(b),y<v.length&&v.shift()},()=>{for(const b of v)_.next(b);_.complete()},void 0,()=>{v=null}))})}function D1(y){return xn((g,_)=>{try{g.subscribe(_)}finally{_.add(y)}})}const cr="primary",$p=Symbol("RouteTitle");class hV{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const _=this.params[g];return Array.isArray(_)?_[0]:_}return null}getAll(g){if(this.has(g)){const _=this.params[g];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function wd(y){return new hV(y)}function pV(y,g,_){const v=_.path.split("/");if(v.length>y.length||"full"===_.pathMatch&&(g.hasChildren()||v.length<y.length))return null;const b={};for(let M=0;M<v.length;M++){const S=v[M],A=y[M];if(S.startsWith(":"))b[S.substring(1)]=A;else if(S!==A.path)return null}return{consumed:y.slice(0,v.length),posParams:b}}function La(y,g){const _=y?S1(y):void 0,v=g?S1(g):void 0;if(!_||!v||_.length!=v.length)return!1;let b;for(let M=0;M<_.length;M++)if(b=_[M],!i2(y[b],g[b]))return!1;return!0}function S1(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function i2(y,g){if(Array.isArray(y)&&Array.isArray(g)){if(y.length!==g.length)return!1;const _=[...y].sort(),v=[...g].sort();return _.every((b,M)=>v[M]===b)}return y===g}function nu(y){return function lW(y){return!!y&&(y instanceof Tt||Me(y.lift)&&Me(y.subscribe))}(y)?y:ym(y)?Ti(Promise.resolve(y)):lr(y)}const mV={exact:function l2(y,g,_){if(!Ju(y.segments,g.segments)||!Xm(y.segments,g.segments,_)||y.numberOfChildren!==g.numberOfChildren)return!1;for(const v in g.children)if(!y.children[v]||!l2(y.children[v],g.children[v],_))return!1;return!0},subset:u2},o2={exact:function yV(y,g){return La(y,g)},subset:function gV(y,g){return Object.keys(g).length<=Object.keys(y).length&&Object.keys(g).every(_=>i2(y[_],g[_]))},ignored:()=>!0};function a2(y,g,_){return mV[_.paths](y.root,g.root,_.matrixParams)&&o2[_.queryParams](y.queryParams,g.queryParams)&&!("exact"===_.fragment&&y.fragment!==g.fragment)}function u2(y,g,_){return c2(y,g,g.segments,_)}function c2(y,g,_,v){if(y.segments.length>_.length){const b=y.segments.slice(0,_.length);return!(!Ju(b,_)||g.hasChildren()||!Xm(b,_,v))}if(y.segments.length===_.length){if(!Ju(y.segments,_)||!Xm(y.segments,_,v))return!1;for(const b in g.children)if(!y.children[b]||!u2(y.children[b],g.children[b],v))return!1;return!0}{const b=_.slice(0,y.segments.length),M=_.slice(y.segments.length);return!!(Ju(y.segments,b)&&Xm(y.segments,b,v)&&y.children[cr])&&c2(y.children[cr],g,M,v)}}function Xm(y,g,_){return g.every((v,b)=>o2[_](y[b].parameters,v.parameters))}class Id{constructor(g=new Zr([],{}),_={},v=null){this.root=g,this.queryParams=_,this.fragment=v}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return EV.serialize(this)}}class Zr{constructor(g,_){this.segments=g,this.children=_,this.parent=null,Object.values(_).forEach(v=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qm(this)}}class kp{constructor(g,_){this.path=g,this.parameters=_}get parameterMap(){return this._parameterMap??=wd(this.parameters),this._parameterMap}toString(){return p2(this)}}function Ju(y,g){return y.length===g.length&&y.every((_,v)=>_.path===g[v].path)}let Od=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>new w1,providedIn:"root"})}return y})();class w1{parse(g){const _=new AV(g);return new Id(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(g){const _=`/${Zp(g.root,!0)}`,v=function MV(y){const g=Object.entries(y).map(([_,v])=>Array.isArray(v)?v.map(b=>`${ey(_)}=${ey(b)}`).join("&"):`${ey(_)}=${ey(v)}`).filter(_=>_);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${_}${v}${"string"==typeof g.fragment?`#${function bV(y){return encodeURI(y)}(g.fragment)}`:""}`}}const EV=new w1;function qm(y){return y.segments.map(g=>p2(g)).join("/")}function Zp(y,g){if(!y.hasChildren())return qm(y);if(g){const _=y.children[cr]?Zp(y.children[cr],!1):"",v=[];return Object.entries(y.children).forEach(([b,M])=>{b!==cr&&v.push(`${b}:${Zp(M,!1)}`)}),v.length>0?`${_}(${v.join("//")})`:_}{const _=function vV(y,g){let _=[];return Object.entries(y.children).forEach(([v,b])=>{v===cr&&(_=_.concat(g(b,v)))}),Object.entries(y.children).forEach(([v,b])=>{v!==cr&&(_=_.concat(g(b,v)))}),_}(y,(v,b)=>b===cr?[Zp(y.children[cr],!1)]:[`${b}:${Zp(v,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[cr]?`${qm(y)}/${_[0]}`:`${qm(y)}/(${_.join("//")})`}}function d2(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ey(y){return d2(y).replace(/%3B/gi,";")}function I1(y){return d2(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ty(y){return decodeURIComponent(y)}function h2(y){return ty(y.replace(/\+/g,"%20"))}function p2(y){return`${I1(y.path)}${function CV(y){return Object.entries(y).map(([g,_])=>`;${I1(g)}=${I1(_)}`).join("")}(y.parameters)}`}const DV=/^[^\/()?;#]+/;function O1(y){const g=y.match(DV);return g?g[0]:""}const SV=/^[^\/()?;=#]+/,IV=/^[^=?&#]+/,TV=/^[^&#]+/;class AV{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zr([],{}):new Zr([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(g.length>0||Object.keys(_).length>0)&&(v[cr]=new Zr(g,_)),v}parseSegment(){const g=O1(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new Qt(4009,!1);return this.capture(g),new kp(ty(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const _=function wV(y){const g=y.match(SV);return g?g[0]:""}(this.remaining);if(!_)return;this.capture(_);let v="";if(this.consumeOptional("=")){const b=O1(this.remaining);b&&(v=b,this.capture(v))}g[ty(_)]=ty(v)}parseQueryParam(g){const _=function OV(y){const g=y.match(IV);return g?g[0]:""}(this.remaining);if(!_)return;this.capture(_);let v="";if(this.consumeOptional("=")){const S=function PV(y){const g=y.match(TV);return g?g[0]:""}(this.remaining);S&&(v=S,this.capture(v))}const b=h2(_),M=h2(v);if(g.hasOwnProperty(b)){let S=g[b];Array.isArray(S)||(S=[S],g[b]=S),S.push(M)}else g[b]=M}parseParens(g){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=O1(this.remaining),b=this.remaining[v.length];if("/"!==b&&")"!==b&&";"!==b)throw new Qt(4010,!1);let M;v.indexOf(":")>-1?(M=v.slice(0,v.indexOf(":")),this.capture(M),this.capture(":")):g&&(M=cr);const S=this.parseChildren();_[M]=1===Object.keys(S).length?S[cr]:new Zr([],S),this.consumeOptional("//")}return _}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new Qt(4011,!1)}}function f2(y){return y.segments.length>0?new Zr([],{[cr]:y}):y}function m2(y){const g={};for(const[v,b]of Object.entries(y.children)){const M=m2(b);if(v===cr&&0===M.segments.length&&M.hasChildren())for(const[S,A]of Object.entries(M.children))g[S]=A;else(M.segments.length>0||M.hasChildren())&&(g[v]=M)}return function xV(y){if(1===y.numberOfChildren&&y.children[cr]){const g=y.children[cr];return new Zr(y.segments.concat(g.segments),g.children)}return y}(new Zr(y.segments,g))}function Yu(y){return y instanceof Id}function y2(y){let g;const b=f2(function _(M){const S={};for(const K of M.children){const de=_(K);S[K.outlet]=de}const A=new Zr(M.url,S);return M===y&&(g=A),A}(y.root));return g??b}function g2(y,g,_,v){let b=y;for(;b.parent;)b=b.parent;if(0===g.length)return T1(b,b,b,_,v);const M=function RV(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new v2(!0,0,y);let g=0,_=!1;const v=y.reduce((b,M,S)=>{if("object"==typeof M&&null!=M){if(M.outlets){const A={};return Object.entries(M.outlets).forEach(([K,de])=>{A[K]="string"==typeof de?de.split("/"):de}),[...b,{outlets:A}]}if(M.segmentPath)return[...b,M.segmentPath]}return"string"!=typeof M?[...b,M]:0===S?(M.split("/").forEach((A,K)=>{0==K&&"."===A||(0==K&&""===A?_=!0:".."===A?g++:""!=A&&b.push(A))}),b):[...b,M]},[]);return new v2(_,g,v)}(g);if(M.toRoot())return T1(b,b,new Zr([],{}),_,v);const S=function jV(y,g,_){if(y.isAbsolute)return new ry(g,!0,0);if(!_)return new ry(g,!1,NaN);if(null===_.parent)return new ry(_,!0,0);const v=ny(y.commands[0])?0:1;return function UV(y,g,_){let v=y,b=g,M=_;for(;M>b;){if(M-=b,v=v.parent,!v)throw new Qt(4005,!1);b=v.segments.length}return new ry(v,!1,b-M)}(_,_.segments.length-1+v,y.numberOfDoubleDots)}(M,b,y),A=S.processChildren?Kp(S.segmentGroup,S.index,M.commands):E2(S.segmentGroup,S.index,M.commands);return T1(b,S.segmentGroup,A,_,v)}function ny(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function zp(y){return"object"==typeof y&&null!=y&&y.outlets}function T1(y,g,_,v,b){let S,M={};v&&Object.entries(v).forEach(([K,de])=>{M[K]=Array.isArray(de)?de.map(De=>`${De}`):`${de}`}),S=y===g?_:_2(y,g,_);const A=f2(m2(S));return new Id(A,M,b)}function _2(y,g,_){const v={};return Object.entries(y.children).forEach(([b,M])=>{v[b]=M===g?_:_2(M,g,_)}),new Zr(y.segments,v)}class v2{constructor(g,_,v){if(this.isAbsolute=g,this.numberOfDoubleDots=_,this.commands=v,g&&v.length>0&&ny(v[0]))throw new Qt(4003,!1);const b=v.find(zp);if(b&&b!==v.at(-1))throw new Qt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ry{constructor(g,_,v){this.segmentGroup=g,this.processChildren=_,this.index=v}}function E2(y,g,_){if(y??=new Zr([],{}),0===y.segments.length&&y.hasChildren())return Kp(y,g,_);const v=function BV(y,g,_){let v=0,b=g;const M={match:!1,pathIndex:0,commandIndex:0};for(;b<y.segments.length;){if(v>=_.length)return M;const S=y.segments[b],A=_[v];if(zp(A))break;const K=`${A}`,de=v<_.length-1?_[v+1]:null;if(b>0&&void 0===K)break;if(K&&de&&"object"==typeof de&&void 0===de.outlets){if(!C2(K,de,S))return M;v+=2}else{if(!C2(K,{},S))return M;v++}b++}return{match:!0,pathIndex:b,commandIndex:v}}(y,g,_),b=_.slice(v.commandIndex);if(v.match&&v.pathIndex<y.segments.length){const M=new Zr(y.segments.slice(0,v.pathIndex),{});return M.children[cr]=new Zr(y.segments.slice(v.pathIndex),y.children),Kp(M,0,b)}return v.match&&0===b.length?new Zr(y.segments,{}):v.match&&!y.hasChildren()?P1(y,g,_):v.match?Kp(y,0,b):P1(y,g,_)}function Kp(y,g,_){if(0===_.length)return new Zr(y.segments,{});{const v=function NV(y){return zp(y[0])?y[0].outlets:{[cr]:y}}(_),b={};if(Object.keys(v).some(M=>M!==cr)&&y.children[cr]&&1===y.numberOfChildren&&0===y.children[cr].segments.length){const M=Kp(y.children[cr],g,_);return new Zr(y.segments,M.children)}return Object.entries(v).forEach(([M,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(b[M]=E2(y.children[M],g,S))}),Object.entries(y.children).forEach(([M,S])=>{void 0===v[M]&&(b[M]=S)}),new Zr(y.segments,b)}}function P1(y,g,_){const v=y.segments.slice(0,g);let b=0;for(;b<_.length;){const M=_[b];if(zp(M)){const K=FV(M.outlets);return new Zr(v,K)}if(0===b&&ny(_[0])){v.push(new kp(y.segments[g].path,b2(_[0]))),b++;continue}const S=zp(M)?M.outlets[cr]:`${M}`,A=b<_.length-1?_[b+1]:null;S&&A&&ny(A)?(v.push(new kp(S,b2(A))),b+=2):(v.push(new kp(S,{})),b++)}return new Zr(v,{})}function FV(y){const g={};return Object.entries(y).forEach(([_,v])=>{"string"==typeof v&&(v=[v]),null!==v&&(g[_]=P1(new Zr([],{}),0,v))}),g}function b2(y){const g={};return Object.entries(y).forEach(([_,v])=>g[_]=`${v}`),g}function C2(y,g,_){return y==_.path&&La(g,_.parameters)}const Gp="imperative";var br=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(br||{});class Ra{constructor(g,_){this.id=g,this.url=_}}class A1 extends Ra{constructor(g,_,v="imperative",b=null){super(g,_),this.type=br.NavigationStart,this.navigationTrigger=v,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qu extends Ra{constructor(g,_,v){super(g,_),this.urlAfterRedirects=v,this.type=br.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Po=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Po||{}),x1=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(x1||{});class Td extends Ra{constructor(g,_,v,b){super(g,_),this.reason=v,this.code=b,this.type=br.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hp extends Ra{constructor(g,_,v,b){super(g,_),this.reason=v,this.code=b,this.type=br.NavigationSkipped}}class sy extends Ra{constructor(g,_,v,b){super(g,_),this.error=v,this.target=b,this.type=br.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class M2 extends Ra{constructor(g,_,v,b){super(g,_),this.urlAfterRedirects=v,this.state=b,this.type=br.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WV extends Ra{constructor(g,_,v,b){super(g,_),this.urlAfterRedirects=v,this.state=b,this.type=br.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VV extends Ra{constructor(g,_,v,b,M){super(g,_),this.urlAfterRedirects=v,this.state=b,this.shouldActivate=M,this.type=br.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $V extends Ra{constructor(g,_,v,b){super(g,_),this.urlAfterRedirects=v,this.state=b,this.type=br.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kV extends Ra{constructor(g,_,v,b){super(g,_),this.urlAfterRedirects=v,this.state=b,this.type=br.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZV{constructor(g){this.route=g,this.type=br.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zV{constructor(g){this.route=g,this.type=br.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KV{constructor(g){this.snapshot=g,this.type=br.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GV{constructor(g){this.snapshot=g,this.type=br.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HV{constructor(g){this.snapshot=g,this.type=br.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JV{constructor(g){this.snapshot=g,this.type=br.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{}class R1{constructor(g){this.url=g}}class YV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jp,this.attachRef=null}}let Jp=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,v){const b=this.getOrCreateContext(_);b.outlet=v,this.contexts.set(_,b)}onChildOutletDestroyed(_){const v=this.getContext(_);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let v=this.getContext(_);return v||(v=new YV,this.contexts.set(_,v)),v}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class D2{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const _=this.pathFromRoot(g);return _.length>1?_[_.length-2]:null}children(g){const _=j1(g,this._root);return _?_.children.map(v=>v.value):[]}firstChild(g){const _=j1(g,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(g){const _=U1(g,this._root);return _.length<2?[]:_[_.length-2].children.map(b=>b.value).filter(b=>b!==g)}pathFromRoot(g){return U1(g,this._root).map(_=>_.value)}}function j1(y,g){if(y===g.value)return g;for(const _ of g.children){const v=j1(y,_);if(v)return v}return null}function U1(y,g){if(y===g.value)return[g];for(const _ of g.children){const v=U1(y,_);if(v.length)return v.unshift(g),v}return[]}class ra{constructor(g,_){this.value=g,this.children=_}toString(){return`TreeNode(${this.value})`}}function Pd(y){const g={};return y&&y.children.forEach(_=>g[_.value.outlet]=_),g}class S2 extends D2{constructor(g,_){super(g),this.snapshot=_,F1(this,g)}toString(){return this.snapshot.toString()}}function w2(y){const g=function QV(y){const M=new B1([],{},{},"",{},cr,y,null,{});return new I2("",new ra(M,[]))}(y),_=new vn([new kp("",{})]),v=new vn({}),b=new vn({}),M=new vn({}),S=new vn(""),A=new Ad(_,v,M,S,b,cr,y,g.root);return A.snapshot=g.root,new S2(new ra(A,[]),g)}class Ad{constructor(g,_,v,b,M,S,A,K){this.urlSubject=g,this.paramsSubject=_,this.queryParamsSubject=v,this.fragmentSubject=b,this.dataSubject=M,this.outlet=S,this.component=A,this._futureSnapshot=K,this.title=this.dataSubject?.pipe(rn(de=>de[$p]))??lr(void 0),this.url=g,this.params=_,this.queryParams=v,this.fragment=b,this.data=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rn(g=>wd(g))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rn(g=>wd(g))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function N1(y,g,_="emptyOnly"){let v;const{routeConfig:b}=y;return v=null===g||"always"!==_&&""!==b?.path&&(g.component||g.routeConfig?.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...y._resolvedData??{}}}:{params:{...g.params,...y.params},data:{...g.data,...y.data},resolve:{...y.data,...g.data,...b?.data,...y._resolvedData}},b&&T2(b)&&(v.resolve[$p]=b.title),v}class B1{get title(){return this.data?.[$p]}constructor(g,_,v,b,M,S,A,K,de){this.url=g,this.params=_,this.queryParams=v,this.fragment=b,this.data=M,this.outlet=S,this.component=A,this.routeConfig=K,this._resolve=de}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class I2 extends D2{constructor(g,_){super(_),this.url=g,F1(this,_)}toString(){return O2(this._root)}}function F1(y,g){g.value._routerState=y,g.children.forEach(_=>F1(y,_))}function O2(y){const g=y.children.length>0?` { ${y.children.map(O2).join(", ")} } `:"";return`${y.value}${g}`}function W1(y){if(y.snapshot){const g=y.snapshot,_=y._futureSnapshot;y.snapshot=_,La(g.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),g.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),La(g.params,_.params)||y.paramsSubject.next(_.params),function fV(y,g){if(y.length!==g.length)return!1;for(let _=0;_<y.length;++_)if(!La(y[_],g[_]))return!1;return!0}(g.url,_.url)||y.urlSubject.next(_.url),La(g.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function V1(y,g){const _=La(y.params,g.params)&&function _V(y,g){return Ju(y,g)&&y.every((_,v)=>La(_.parameters,g[v].parameters))}(y.url,g.url);return _&&!(!y.parent!=!g.parent)&&(!y.parent||V1(y.parent,g.parent))}function T2(y){return"string"==typeof y.title||null===y.title}let P2=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=cr,this.activateEvents=new Si,this.deactivateEvents=new Si,this.attachEvents=new Si,this.detachEvents=new Si,this.parentContexts=yn(Jp),this.location=yn(Qo),this.changeDetector=yn(Y0),this.environmentInjector=yn(Yo),this.inputBinder=yn(iy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:v,previousValue:b}=_.name;if(v)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qt(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,v){this.activated=_,this._activatedRoute=v,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,v){if(this.isActivated)throw new Qt(4013,!1);this._activatedRoute=_;const b=this.location,S=_.snapshot.component,A=this.parentContexts.getOrCreateContext(this.name).children,K=new XV(_,A,b.injector);this.activated=b.createComponent(S,{index:b.length,injector:K,environmentInjector:v??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275dir=ti({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pu]})}return y})();class XV{constructor(g,_,v){this.route=g,this.childContexts=_,this.parent=v}get(g,_){return g===Ad?this.route:g===Jp?this.childContexts:this.parent.get(g,_)}}const iy=new tt("");function Yp(y,g,_){if(_&&y.shouldReuseRoute(g.value,_.value.snapshot)){const v=_.value;v._futureSnapshot=g.value;const b=function e$(y,g,_){return g.children.map(v=>{for(const b of _.children)if(y.shouldReuseRoute(v.value,b.value.snapshot))return Yp(y,v,b);return Yp(y,v)})}(y,g,_);return new ra(v,b)}{if(y.shouldAttach(g.value)){const M=y.retrieve(g.value);if(null!==M){const S=M.route;return S.value._futureSnapshot=g.value,S.children=g.children.map(A=>Yp(y,A)),S}}const v=function t$(y){return new Ad(new vn(y.url),new vn(y.params),new vn(y.queryParams),new vn(y.fragment),new vn(y.data),y.outlet,y.component,y)}(g.value),b=g.children.map(M=>Yp(y,M));return new ra(v,b)}}const $1="ngNavigationCancelingError";function x2(y,g){const{redirectTo:_,navigationBehaviorOptions:v}=Yu(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,b=L2(!1,Po.Redirect,g);return b.url=_,b.navigationBehaviorOptions=v,b}function L2(y,g,_){const v=new Error("NavigationCancelingError: "+(y||""));return v[$1]=!0,v.cancellationCode=g,_&&(v.url=_),v}function R2(y){return y&&y[$1]}let j2=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275cmp=Nh({type:y,selectors:[["ng-component"]],standalone:!0,features:[ME],decls:1,vars:0,template:function(v,b){1&v&&dm(0,"router-outlet")},dependencies:[P2],encapsulation:2})}return y})();function k1(y){const g=y.children&&y.children.map(k1),_=g?{...y,children:g}:{...y};return!_.component&&!_.loadComponent&&(g||_.loadChildren)&&_.outlet&&_.outlet!==cr&&(_.component=j2),_}function ja(y){return y.outlet||cr}function Qp(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let g=y.parent;g;g=g.parent){const _=g.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class u${constructor(g,_,v,b,M){this.routeReuseStrategy=g,this.futureState=_,this.currState=v,this.forwardEvent=b,this.inputBindingEnabled=M}activate(g){const _=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,v,g),W1(this.futureState.root),this.activateChildRoutes(_,v,g)}deactivateChildRoutes(g,_,v){const b=Pd(_);g.children.forEach(M=>{const S=M.value.outlet;this.deactivateRoutes(M,b[S],v),delete b[S]}),Object.values(b).forEach(M=>{this.deactivateRouteAndItsChildren(M,v)})}deactivateRoutes(g,_,v){const b=g.value,M=_?_.value:null;if(b===M)if(b.component){const S=v.getContext(b.outlet);S&&this.deactivateChildRoutes(g,_,S.children)}else this.deactivateChildRoutes(g,_,v);else M&&this.deactivateRouteAndItsChildren(_,v)}deactivateRouteAndItsChildren(g,_){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,_):this.deactivateRouteAndOutlet(g,_)}detachAndStoreRouteSubtree(g,_){const v=_.getContext(g.value.outlet),b=v&&g.value.component?v.children:_,M=Pd(g);for(const S of Object.values(M))this.deactivateRouteAndItsChildren(S,b);if(v&&v.outlet){const S=v.outlet.detach(),A=v.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:S,route:g,contexts:A})}}deactivateRouteAndOutlet(g,_){const v=_.getContext(g.value.outlet),b=v&&g.value.component?v.children:_,M=Pd(g);for(const S of Object.values(M))this.deactivateRouteAndItsChildren(S,b);v&&(v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated()),v.attachRef=null,v.route=null)}activateChildRoutes(g,_,v){const b=Pd(_);g.children.forEach(M=>{this.activateRoutes(M,b[M.value.outlet],v),this.forwardEvent(new JV(M.value.snapshot))}),g.children.length&&this.forwardEvent(new GV(g.value.snapshot))}activateRoutes(g,_,v){const b=g.value,M=_?_.value:null;if(W1(b),b===M)if(b.component){const S=v.getOrCreateContext(b.outlet);this.activateChildRoutes(g,_,S.children)}else this.activateChildRoutes(g,_,v);else if(b.component){const S=v.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const A=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),S.children.onOutletReAttached(A.contexts),S.attachRef=A.componentRef,S.route=A.route.value,S.outlet&&S.outlet.attach(A.componentRef,A.route.value),W1(A.route.value),this.activateChildRoutes(g,null,S.children)}else{const A=Qp(b.snapshot);S.attachRef=null,S.route=b,S.injector=A,S.outlet&&S.outlet.activateWith(b,S.injector),this.activateChildRoutes(g,null,S.children)}}else this.activateChildRoutes(g,null,v)}}class U2{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class oy{constructor(g,_){this.component=g,this.route=_}}function c$(y,g,_){const v=y._root;return Xp(v,g?g._root:null,_,[v.value])}function xd(y,g){const _=Symbol(),v=g.get(y,_);return v===_?"function"!=typeof y||function Mu(y){return null!==bn(y)}(y)?g.get(y):y:v}function Xp(y,g,_,v,b={canDeactivateChecks:[],canActivateChecks:[]}){const M=Pd(g);return y.children.forEach(S=>{(function h$(y,g,_,v,b={canDeactivateChecks:[],canActivateChecks:[]}){const M=y.value,S=g?g.value:null,A=_?_.getContext(y.value.outlet):null;if(S&&M.routeConfig===S.routeConfig){const K=function p$(y,g,_){if("function"==typeof _)return _(y,g);switch(_){case"pathParamsChange":return!Ju(y.url,g.url);case"pathParamsOrQueryParamsChange":return!Ju(y.url,g.url)||!La(y.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V1(y,g)||!La(y.queryParams,g.queryParams);default:return!V1(y,g)}}(S,M,M.routeConfig.runGuardsAndResolvers);K?b.canActivateChecks.push(new U2(v)):(M.data=S.data,M._resolvedData=S._resolvedData),Xp(y,g,M.component?A?A.children:null:_,v,b),K&&A&&A.outlet&&A.outlet.isActivated&&b.canDeactivateChecks.push(new oy(A.outlet.component,S))}else S&&qp(g,A,b),b.canActivateChecks.push(new U2(v)),Xp(y,null,M.component?A?A.children:null:_,v,b)})(S,M[S.value.outlet],_,v.concat([S.value]),b),delete M[S.value.outlet]}),Object.entries(M).forEach(([S,A])=>qp(A,_.getContext(S),b)),b}function qp(y,g,_){const v=Pd(y),b=y.value;Object.entries(v).forEach(([M,S])=>{qp(S,b.component?g?g.children.getContext(M):null:g,_)}),_.canDeactivateChecks.push(new oy(b.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,b))}function ef(y){return"function"==typeof y}function N2(y){return y instanceof Hm||"EmptyError"===y?.name}const ay=Symbol("INITIAL_VALUE");function Ld(){return El(y=>e2(y.map(g=>g.pipe(Dd(1),function iV(...y){const g=Gm(y);return xn((_,v)=>{(g?b1(y,_,g):b1(y,_)).subscribe(v)})}(ay)))).pipe(rn(g=>{for(const _ of g)if(!0!==_){if(_===ay)return ay;if(!1===_||_ instanceof Id)return _}return!0}),Gu(g=>g!==ay),Dd(1)))}function B2(y){return function ft(...y){return Ot(y)}(fi(g=>{if(Yu(g))throw x2(0,g)}),rn(g=>!0===g))}class Z1{constructor(g){this.segmentGroup=g||null}}class z1 extends Error{constructor(g){super(),this.urlTree=g}}function Rd(y){return Jm(new Z1(y))}class L${constructor(g,_){this.urlSerializer=g,this.urlTree=_}lineralizeSegments(g,_){let v=[],b=_.root;for(;;){if(v=v.concat(b.segments),0===b.numberOfChildren)return lr(v);if(b.numberOfChildren>1||!b.children[cr])return Jm(new Qt(4e3,!1));b=b.children[cr]}}applyRedirectCommands(g,_,v){const b=this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),g,v);if(_.startsWith("/"))throw new z1(b);return b}applyRedirectCreateUrlTree(g,_,v,b){const M=this.createSegmentGroup(g,_.root,v,b);return new Id(M,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(g,_){const v={};return Object.entries(g).forEach(([b,M])=>{if("string"==typeof M&&M.startsWith(":")){const A=M.substring(1);v[b]=_[A]}else v[b]=M}),v}createSegmentGroup(g,_,v,b){const M=this.createSegments(g,_.segments,v,b);let S={};return Object.entries(_.children).forEach(([A,K])=>{S[A]=this.createSegmentGroup(g,K,v,b)}),new Zr(M,S)}createSegments(g,_,v,b){return _.map(M=>M.path.startsWith(":")?this.findPosParam(g,M,b):this.findOrReturn(M,v))}findPosParam(g,_,v){const b=v[_.path.substring(1)];if(!b)throw new Qt(4001,!1);return b}findOrReturn(g,_){let v=0;for(const b of _){if(b.path===g.path)return _.splice(v),b;v++}return g}}const K1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R$(y,g,_,v,b){const M=G1(y,g,_);return M.matched?(v=function r$(y,g){return y.providers&&!y._injector&&(y._injector=WO(y.providers,g,`Route: ${y.path}`)),y._injector??g}(g,v),function P$(y,g,_,v){const b=g.canMatch;return b&&0!==b.length?lr(b.map(S=>{const A=xd(S,y);return nu(function v$(y){return y&&ef(y.canMatch)}(A)?A.canMatch(g,_):kc(y,()=>A(g,_)))})).pipe(Ld(),B2()):lr(!0)}(v,g,_).pipe(rn(S=>!0===S?M:{...K1}))):lr(M)}function G1(y,g,_){if("**"===g.path)return function j$(y){return{matched:!0,parameters:y.at(-1)?.parameters??{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(_);if(""===g.path)return"full"===g.pathMatch&&(y.hasChildren()||_.length>0)?{...K1}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const b=(g.matcher||pV)(_,y,g);if(!b)return{...K1};const M={};Object.entries(b.posParams??{}).forEach(([A,K])=>{M[A]=K.path});const S=b.consumed.length>0?{...M,...b.consumed[b.consumed.length-1].parameters}:M;return{matched:!0,consumedSegments:b.consumed,remainingSegments:_.slice(b.consumed.length),parameters:S,positionalParamSegments:b.posParams??{}}}function F2(y,g,_,v){return _.length>0&&function B$(y,g,_){return _.some(v=>ly(y,g,v)&&ja(v)!==cr)}(y,_,v)?{segmentGroup:new Zr(g,N$(v,new Zr(_,y.children))),slicedSegments:[]}:0===_.length&&function F$(y,g,_){return _.some(v=>ly(y,g,v))}(y,_,v)?{segmentGroup:new Zr(y.segments,U$(y,_,v,y.children)),slicedSegments:_}:{segmentGroup:new Zr(y.segments,y.children),slicedSegments:_}}function U$(y,g,_,v){const b={};for(const M of _)if(ly(y,g,M)&&!v[ja(M)]){const S=new Zr([],{});b[ja(M)]=S}return{...v,...b}}function N$(y,g){const _={};_[cr]=g;for(const v of y)if(""===v.path&&ja(v)!==cr){const b=new Zr([],{});_[ja(v)]=b}return _}function ly(y,g,_){return(!(y.hasChildren()||g.length>0)||"full"!==_.pathMatch)&&""===_.path}class $${}class z${constructor(g,_,v,b,M,S,A){this.injector=g,this.configLoader=_,this.rootComponentType=v,this.config=b,this.urlTree=M,this.paramsInheritanceStrategy=S,this.urlSerializer=A,this.applyRedirects=new L$(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(g){return new Qt(4002,`'${g.segmentGroup}'`)}recognize(){const g=F2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(g).pipe(rn(_=>{const v=new B1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cr,this.rootComponentType,null,{}),b=new ra(v,_),M=new I2("",b),S=function LV(y,g,_=null,v=null){return g2(y2(y),g,_,v)}(v,[],this.urlTree.queryParams,this.urlTree.fragment);return S.queryParams=this.urlTree.queryParams,M.url=this.urlSerializer.serialize(S),this.inheritParamsAndData(M._root,null),{state:M,tree:S}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g,cr).pipe(Sd(v=>{if(v instanceof z1)return this.urlTree=v.urlTree,this.match(v.urlTree.root);throw v instanceof Z1?this.noMatchError(v):v}))}inheritParamsAndData(g,_){const v=g.value,b=N1(v,_,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data),g.children.forEach(M=>this.inheritParamsAndData(M,v))}processSegmentGroup(g,_,v,b){return 0===v.segments.length&&v.hasChildren()?this.processChildren(g,_,v):this.processSegment(g,_,v,v.segments,b,!0).pipe(rn(M=>M instanceof ra?[M]:[]))}processChildren(g,_,v){const b=[];for(const M of Object.keys(v.children))"primary"===M?b.unshift(M):b.push(M);return Ti(b).pipe(Qm(M=>{const S=v.children[M],A=function a$(y,g){const _=y.filter(v=>ja(v)===g);return _.push(...y.filter(v=>ja(v)!==g)),_}(_,M);return this.processSegmentGroup(g,A,S,M)}),function lV(y,g){return xn(function aV(y,g,_,v,b){return(M,S)=>{let A=_,K=g,de=0;M.subscribe(Xn(S,De=>{const Te=de++;K=A?y(K,De,Te):(A=!0,De),v&&S.next(K)},b&&(()=>{A&&S.next(K),S.complete()})))}}(y,g,arguments.length>=2,!0))}((M,S)=>(M.push(...S),M)),Ym(null),function uV(y,g){const _=arguments.length>=2;return v=>v.pipe(y?Gu((b,M)=>y(b,M,v)):yt,M1(1),_?Ym(g):s2(()=>new Hm))}(),Pi(M=>{if(null===M)return Rd(v);const S=W2(M);return function K$(y){y.sort((g,_)=>g.value.outlet===cr?-1:_.value.outlet===cr?1:g.value.outlet.localeCompare(_.value.outlet))}(S),lr(S)}))}processSegment(g,_,v,b,M,S){return Ti(_).pipe(Qm(A=>this.processSegmentAgainstRoute(A._injector??g,_,A,v,b,M,S).pipe(Sd(K=>{if(K instanceof Z1)return lr(null);throw K}))),Hu(A=>!!A),Sd(A=>{if(N2(A))return function V$(y,g,_){return 0===g.length&&!y.children[_]}(v,b,M)?lr(new $$):Rd(v);throw A}))}processSegmentAgainstRoute(g,_,v,b,M,S,A){return function W$(y,g,_,v){return!!(ja(y)===v||v!==cr&&ly(g,_,y))&&G1(g,y,_).matched}(v,b,M,S)?void 0===v.redirectTo?this.matchSegmentAgainstRoute(g,b,v,M,S):this.allowRedirects&&A?this.expandSegmentAgainstRouteUsingRedirect(g,b,_,v,M,S):Rd(b):Rd(b)}expandSegmentAgainstRouteUsingRedirect(g,_,v,b,M,S){const{matched:A,consumedSegments:K,positionalParamSegments:de,remainingSegments:De}=G1(_,b,M);if(!A)return Rd(_);b.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Te=this.applyRedirects.applyRedirectCommands(K,b.redirectTo,de);return this.applyRedirects.lineralizeSegments(b,Te).pipe(Pi(Ve=>this.processSegment(g,v,_,Ve.concat(De),S,!1)))}matchSegmentAgainstRoute(g,_,v,b,M){const S=R$(_,v,b,g);return"**"===v.path&&(_.children={}),S.pipe(El(A=>A.matched?this.getChildConfig(g=v._injector??g,v,b).pipe(El(({routes:K})=>{const de=v._loadedInjector??g,{consumedSegments:De,remainingSegments:Te,parameters:Ve}=A,nt=new B1(De,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function H$(y){return y.data||{}}(v),ja(v),v.component??v._loadedComponent??null,v,function J$(y){return y.resolve||{}}(v)),{segmentGroup:at,slicedSegments:gt}=F2(_,De,Te,K);if(0===gt.length&&at.hasChildren())return this.processChildren(de,K,at).pipe(rn(At=>null===At?null:new ra(nt,At)));if(0===K.length&&0===gt.length)return lr(new ra(nt,[]));const mt=ja(v)===M;return this.processSegment(de,K,at,gt,mt?cr:M,!0).pipe(rn(At=>new ra(nt,At instanceof ra?[At]:[])))})):Rd(_)))}getChildConfig(g,_,v){return _.children?lr({routes:_.children,injector:g}):_.loadChildren?void 0!==_._loadedRoutes?lr({routes:_._loadedRoutes,injector:_._loadedInjector}):function T$(y,g,_,v){const b=g.canLoad;return void 0===b||0===b.length?lr(!0):lr(b.map(S=>{const A=xd(S,y);return nu(function m$(y){return y&&ef(y.canLoad)}(A)?A.canLoad(g,_):kc(y,()=>A(g,_)))})).pipe(Ld(),B2())}(g,_,v).pipe(Pi(b=>b?this.configLoader.loadChildren(g,_).pipe(fi(M=>{_._loadedRoutes=M.routes,_._loadedInjector=M.injector})):function x$(y){return Jm(L2(!1,Po.GuardRejected))}())):lr({routes:[],injector:g})}}function G$(y){const g=y.value.routeConfig;return g&&""===g.path}function W2(y){const g=[],_=new Set;for(const v of y){if(!G$(v)){g.push(v);continue}const b=g.find(M=>v.value.routeConfig===M.value.routeConfig);void 0!==b?(b.children.push(...v.children),_.add(b)):g.push(v)}for(const v of _){const b=W2(v.children);g.push(new ra(v.value,b))}return g.filter(v=>!_.has(v))}function V2(y){const g=y.children.map(_=>V2(_)).flat();return[y,...g]}function H1(y){return El(g=>{const _=y(g);return _?Ti(_).pipe(rn(()=>g)):lr(g)})}let $2=(()=>{class y{buildTitle(_){let v,b=_.root;for(;void 0!==b;)v=this.getResolvedTitleForRoute(b)??v,b=b.children.find(M=>M.outlet===cr);return v}getResolvedTitleForRoute(_){return _.data[$p]}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(tk),providedIn:"root"})}return y})(),tk=(()=>{class y extends $2{constructor(_){super(),this.title=_}updateTitle(_){const v=this.buildTitle(_);void 0!==v&&this.title.setTitle(v)}static#e=this.\u0275fac=function(v){return new(v||y)(or(LP))};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const tf=new tt("",{providedIn:"root",factory:()=>({})}),uy=new tt("ROUTES");let k2=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=yn(mB)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return lr(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const v=nu(_.loadComponent()).pipe(rn(Z2),fi(M=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=M}),D1(()=>{this.componentLoaders.delete(_)})),b=new r2(v,()=>new mn).pipe(C1());return this.componentLoaders.set(_,b),b}loadChildren(_,v){if(this.childrenLoaders.get(v))return this.childrenLoaders.get(v);if(v._loadedRoutes)return lr({routes:v._loadedRoutes,injector:v._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(v);const M=function nk(y,g,_,v){return nu(y.loadChildren()).pipe(rn(Z2),Pi(b=>b instanceof BO||Array.isArray(b)?lr(b):Ti(g.compileModuleAsync(b))),rn(b=>{v&&v(y);let M,S,A=!1;return Array.isArray(b)?(S=b,!0):(M=b.create(_).injector,S=M.get(uy,[],{optional:!0,self:!0}).flat()),{routes:S.map(k1),injector:M}}))}(v,this.compiler,_,this.onLoadEndListener).pipe(D1(()=>{this.childrenLoaders.delete(v)})),S=new r2(M,()=>new mn).pipe(C1());return this.childrenLoaders.set(v,S),S}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Z2(y){return function rk(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let J1=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(sk),providedIn:"root"})}return y})(),sk=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,v){return _}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const z2=new tt("");let cy=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn,this.transitionAbortSubject=new mn,this.configLoader=yn(k2),this.environmentInjector=yn(Yo),this.urlSerializer=yn(Od),this.rootContexts=yn(Jp),this.location=yn(Up),this.inputBindingEnabled=null!==yn(iy,{optional:!0}),this.titleStrategy=yn($2),this.options=yn(tf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=yn(J1),this.createViewTransition=yn(z2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>lr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=b=>this.events.next(new zV(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new ZV(b))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const v=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:v})}setupNavigations(_,v,b){return this.transitions=new vn({id:0,currentUrlTree:v,currentRawUrl:v,extractedUrl:this.urlHandlingStrategy.extract(v),urlAfterRedirects:this.urlHandlingStrategy.extract(v),rawUrl:v,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gp,restoredState:null,currentSnapshot:b.snapshot,targetSnapshot:null,currentRouterState:b,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gu(M=>0!==M.id),rn(M=>({...M,extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),El(M=>{this.currentTransition=M;let S=!1,A=!1;return lr(M).pipe(fi(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),El(K=>{const de=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!de&&"reload"!==(K.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Te="";return this.events.next(new Hp(K.id,this.urlSerializer.serialize(K.rawUrl),Te,x1.IgnoredSameUrlNavigation)),K.resolve(null),vl}if(this.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return lr(K).pipe(El(Te=>{const Ve=this.transitions?.getValue();return this.events.next(new A1(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Te.source,Te.restoredState)),Ve!==this.transitions?.getValue()?vl:Promise.resolve(Te)}),function Y$(y,g,_,v,b,M){return Pi(S=>function k$(y,g,_,v,b,M,S="emptyOnly"){return new z$(y,g,_,v,b,S,M).recognize()}(y,g,_,v,S.extractedUrl,b,M).pipe(rn(({state:A,tree:K})=>({...S,targetSnapshot:A,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),fi(Te=>{M.targetSnapshot=Te.targetSnapshot,M.urlAfterRedirects=Te.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Te.urlAfterRedirects};const Ve=new M2(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Ve)}));if(de&&this.urlHandlingStrategy.shouldProcessUrl(K.currentRawUrl)){const{id:Te,extractedUrl:Ve,source:nt,restoredState:at,extras:gt}=K,mt=new A1(Te,this.urlSerializer.serialize(Ve),nt,at);this.events.next(mt);const At=w2(this.rootComponentType).snapshot;return this.currentTransition=M={...K,targetSnapshot:At,urlAfterRedirects:Ve,extras:{...gt,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ve,lr(M)}{const Te="";return this.events.next(new Hp(K.id,this.urlSerializer.serialize(K.extractedUrl),Te,x1.IgnoredByUrlHandlingStrategy)),K.resolve(null),vl}}),fi(K=>{const de=new WV(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(de)}),rn(K=>(this.currentTransition=M={...K,guards:c$(K.targetSnapshot,K.currentSnapshot,this.rootContexts)},M)),function b$(y,g){return Pi(_=>{const{targetSnapshot:v,currentSnapshot:b,guards:{canActivateChecks:M,canDeactivateChecks:S}}=_;return 0===S.length&&0===M.length?lr({..._,guardsResult:!0}):function C$(y,g,_,v){return Ti(y).pipe(Pi(b=>function O$(y,g,_,v,b){const M=g&&g.routeConfig?g.routeConfig.canDeactivate:null;return M&&0!==M.length?lr(M.map(A=>{const K=Qp(g)??b,de=xd(A,K);return nu(function _$(y){return y&&ef(y.canDeactivate)}(de)?de.canDeactivate(y,g,_,v):kc(K,()=>de(y,g,_,v))).pipe(Hu())})).pipe(Ld()):lr(!0)}(b.component,b.route,_,g,v)),Hu(b=>!0!==b,!0))}(S,v,b,y).pipe(Pi(A=>A&&function f$(y){return"boolean"==typeof y}(A)?function M$(y,g,_,v){return Ti(g).pipe(Qm(b=>b1(function S$(y,g){return null!==y&&g&&g(new KV(y)),lr(!0)}(b.route.parent,v),function D$(y,g){return null!==y&&g&&g(new HV(y)),lr(!0)}(b.route,v),function I$(y,g,_){const v=g[g.length-1],M=g.slice(0,g.length-1).reverse().map(S=>function d$(y){const g=y.routeConfig?y.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:y,guards:g}:null}(S)).filter(S=>null!==S).map(S=>n2(()=>lr(S.guards.map(K=>{const de=Qp(S.node)??_,De=xd(K,de);return nu(function g$(y){return y&&ef(y.canActivateChild)}(De)?De.canActivateChild(v,y):kc(de,()=>De(v,y))).pipe(Hu())})).pipe(Ld())));return lr(M).pipe(Ld())}(y,b.path,_),function w$(y,g,_){const v=g.routeConfig?g.routeConfig.canActivate:null;if(!v||0===v.length)return lr(!0);const b=v.map(M=>n2(()=>{const S=Qp(g)??_,A=xd(M,S);return nu(function y$(y){return y&&ef(y.canActivate)}(A)?A.canActivate(g,y):kc(S,()=>A(g,y))).pipe(Hu())}));return lr(b).pipe(Ld())}(y,b.route,_))),Hu(b=>!0!==b,!0))}(v,M,y,g):lr(A)),rn(A=>({..._,guardsResult:A})))})}(this.environmentInjector,K=>this.events.next(K)),fi(K=>{if(M.guardsResult=K.guardsResult,Yu(K.guardsResult))throw x2(0,K.guardsResult);const de=new VV(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(de)}),Gu(K=>!!K.guardsResult||(this.cancelNavigationTransition(K,"",Po.GuardRejected),!1)),H1(K=>{if(K.guards.canActivateChecks.length)return lr(K).pipe(fi(de=>{const De=new $V(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(De)}),El(de=>{let De=!1;return lr(de).pipe(function Q$(y,g){return Pi(_=>{const{targetSnapshot:v,guards:{canActivateChecks:b}}=_;if(!b.length)return lr(_);const M=new Set(b.map(K=>K.route)),S=new Set;for(const K of M)if(!S.has(K))for(const de of V2(K))S.add(de);let A=0;return Ti(S).pipe(Qm(K=>M.has(K)?function X$(y,g,_,v){const b=y.routeConfig,M=y._resolve;return void 0!==b?.title&&!T2(b)&&(M[$p]=b.title),function q$(y,g,_,v){const b=S1(y);if(0===b.length)return lr({});const M={};return Ti(b).pipe(Pi(S=>function ek(y,g,_,v){const b=Qp(g)??v,M=xd(y,b);return nu(M.resolve?M.resolve(g,_):kc(b,()=>M(g,_)))}(y[S],g,_,v).pipe(Hu(),fi(A=>{M[S]=A}))),M1(1),function cV(y){return rn(()=>y)}(M),Sd(S=>N2(S)?vl:Jm(S)))}(M,y,g,v).pipe(rn(S=>(y._resolvedData=S,y.data=N1(y,y.parent,_).resolve,null)))}(K,v,y,g):(K.data=N1(K,K.parent,y).resolve,lr(void 0))),fi(()=>A++),M1(1),Pi(K=>A===S.size?lr(_):vl))})}(this.paramsInheritanceStrategy,this.environmentInjector),fi({next:()=>De=!0,complete:()=>{De||this.cancelNavigationTransition(de,"",Po.NoDataFromResolver)}}))}),fi(de=>{const De=new kV(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(De)}))}),H1(K=>{const de=De=>{const Te=[];De.routeConfig?.loadComponent&&!De.routeConfig._loadedComponent&&Te.push(this.configLoader.loadComponent(De.routeConfig).pipe(fi(Ve=>{De.component=Ve}),rn(()=>{})));for(const Ve of De.children)Te.push(...de(Ve));return Te};return e2(de(K.targetSnapshot.root)).pipe(Ym(null),Dd(1))}),H1(()=>this.afterPreactivation()),El(()=>{const{currentSnapshot:K,targetSnapshot:de}=M,De=this.createViewTransition?.(this.environmentInjector,K.root,de.root);return De?Ti(De).pipe(rn(()=>M)):lr(M)}),rn(K=>{const de=function qV(y,g,_){const v=Yp(y,g._root,_?_._root:void 0);return new S2(v,g)}(_.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return this.currentTransition=M={...K,targetRouterState:de},this.currentNavigation.targetRouterState=de,M}),fi(()=>{this.events.next(new L1)}),((y,g,_,v)=>rn(b=>(new u$(g,b.targetRouterState,b.currentRouterState,_,v).activate(y),b)))(this.rootContexts,_.routeReuseStrategy,K=>this.events.next(K),this.inputBindingEnabled),Dd(1),fi({next:K=>{S=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qu(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects))),this.titleStrategy?.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{S=!0}}),function dV(y){return xn((g,_)=>{gl(y).subscribe(Xn(_,()=>_.complete(),He)),!_.closed&&g.subscribe(_)})}(this.transitionAbortSubject.pipe(fi(K=>{throw K}))),D1(()=>{!S&&!A&&this.cancelNavigationTransition(M,"",Po.SupersededByNewNavigation),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),Sd(K=>{if(A=!0,R2(K))this.events.next(new Td(M.id,this.urlSerializer.serialize(M.extractedUrl),K.message,K.cancellationCode)),function n$(y){return R2(y)&&Yu(y.url)}(K)?this.events.next(new R1(K.url)):M.resolve(!1);else{this.events.next(new sy(M.id,this.urlSerializer.serialize(M.extractedUrl),K,M.targetSnapshot??void 0));try{M.resolve(_.errorHandler(K))}catch(de){this.options.resolveNavigationPromiseOnError?M.resolve(!1):M.reject(de)}}return vl}))}))}cancelNavigationTransition(_,v,b){const M=new Td(_.id,this.urlSerializer.serialize(_.extractedUrl),v,b);this.events.next(M),_.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function ak(y){return y!==Gp}let lk=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(ck),providedIn:"root"})}return y})();class uk{shouldDetach(g){return!1}store(g,_){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,_){return g.routeConfig===_.routeConfig}}let ck=(()=>{class y extends uk{static#e=this.\u0275fac=(()=>{let _;return function(b){return(_||(_=c_(y)))(b||y)}})();static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),G2=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:()=>yn(dk),providedIn:"root"})}return y})(),dk=(()=>{class y extends G2{constructor(){super(...arguments),this.location=yn(Up),this.urlSerializer=yn(Od),this.options=yn(tf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=yn(J1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Id,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=w2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(v=>{"popstate"===v.type&&_(v.url,v.state)})}handleRouterEvent(_,v){if(_ instanceof A1)this.stateMemento=this.createStateMemento();else if(_ instanceof Hp)this.rawUrlTree=v.initialUrl;else if(_ instanceof M2){if("eager"===this.urlUpdateStrategy&&!v.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(v.finalUrl,v.initialUrl);this.setBrowserUrl(b,v)}}else _ instanceof L1?(this.currentUrlTree=v.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(v.finalUrl,v.initialUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v))):_ instanceof Td&&(_.code===Po.GuardRejected||_.code===Po.NoDataFromResolver)?this.restoreHistory(v):_ instanceof sy?this.restoreHistory(v,!0):_ instanceof Qu&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,v){const b=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(b)||v.extras.replaceUrl){const S={...v.extras.state,...this.generateNgRouterState(v.id,this.browserPageId)};this.location.replaceState(b,"",S)}else{const M={...v.extras.state,...this.generateNgRouterState(v.id,this.browserPageId+1)};this.location.go(b,"",M)}}restoreHistory(_,v=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-this.browserPageId;0!==M?this.location.historyGo(M):this.currentUrlTree===_.finalUrl&&0===M&&(this.resetState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,v){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:v}:{navigationId:_}}static#e=this.\u0275fac=(()=>{let _;return function(b){return(_||(_=c_(y)))(b||y)}})();static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var nf=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(nf||{});function hk(y){throw y}const pk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bl=(()=>{class y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=yn(mT),this.stateManager=yn(G2),this.options=yn(tf,{optional:!0})||{},this.pendingTasks=yn(Cm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=yn(cy),this.urlSerializer=yn(Od),this.location=yn(Up),this.urlHandlingStrategy=yn(J1),this._events=new mn,this.errorHandler=this.options.errorHandler||hk,this.navigated=!1,this.routeReuseStrategy=yn(lk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=yn(uy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!yn(iy,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=yn(kr)instanceof kr&&kr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:_=>{this.console.warn(_)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(v=>{try{const b=this.navigationTransitions.currentTransition,M=this.navigationTransitions.currentNavigation;if(null!==b&&null!==M)if(this.stateManager.handleRouterEvent(v,M),v instanceof Td&&v.code!==Po.Redirect&&v.code!==Po.SupersededByNewNavigation)this.navigated=!0;else if(v instanceof Qu)this.navigated=!0;else if(v instanceof R1){const S=this.urlHandlingStrategy.merge(v.url,b.currentRawUrl),A={info:b.extras.info,skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ak(b.source)};this.scheduleNavigation(S,Gp,null,A,{resolve:b.resolve,reject:b.reject,promise:b.promise})}(function yk(y){return!(y instanceof L1||y instanceof R1)})(v)&&this._events.next(v)}catch(b){this.navigationTransitions.transitionAbortSubject.next(b)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,v)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(_,"popstate",v)},0)})}navigateToSyncWithBrowser(_,v,b){const M={replaceUrl:!0},S=b?.navigationId?b:null;if(b){const K={...b};delete K.navigationId,delete K.\u0275routerPageId,0!==Object.keys(K).length&&(M.state=K)}const A=this.parseUrl(_);this.scheduleNavigation(A,v,S,M)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(k1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,v={}){const{relativeTo:b,queryParams:M,fragment:S,queryParamsHandling:A,preserveFragment:K}=v,de=K?this.currentUrlTree.fragment:S;let Te,De=null;switch(A){case"merge":De={...this.currentUrlTree.queryParams,...M};break;case"preserve":De=this.currentUrlTree.queryParams;break;default:De=M||null}null!==De&&(De=this.removeEmptyProps(De));try{Te=y2(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Te=this.currentUrlTree.root}return g2(Te,_,De,de??null)}navigateByUrl(_,v={skipLocationChange:!1}){const b=Yu(_)?_:this.parseUrl(_),M=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(M,Gp,null,v)}navigate(_,v={skipLocationChange:!1}){return function mk(y){for(let g=0;g<y.length;g++)if(null==y[g])throw new Qt(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,v),v)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,v){let b;if(b=!0===v?{...pk}:!1===v?{...fk}:v,Yu(_))return a2(this.currentUrlTree,_,b);const M=this.parseUrl(_);return a2(this.currentUrlTree,M,b)}removeEmptyProps(_){return Object.entries(_).reduce((v,[b,M])=>(null!=M&&(v[b]=M),v),{})}scheduleNavigation(_,v,b,M,S){if(this.disposed)return Promise.resolve(!1);let A,K,de;S?(A=S.resolve,K=S.reject,de=S.promise):de=new Promise((Te,Ve)=>{A=Te,K=Ve});const De=this.pendingTasks.add();return function H2(y,g){y.events.pipe(Gu(_=>_ instanceof Qu||_ instanceof Td||_ instanceof sy||_ instanceof Hp),rn(_=>_ instanceof Qu||_ instanceof Hp?nf.COMPLETE:_ instanceof Td&&(_.code===Po.Redirect||_.code===Po.SupersededByNewNavigation)?nf.REDIRECTING:nf.FAILED),Gu(_=>_!==nf.REDIRECTING),Dd(1)).subscribe(()=>{g()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(De))}),this.navigationTransitions.handleNavigationRequest({source:v,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:M,resolve:A,reject:K,promise:de,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),de.catch(Te=>Promise.reject(Te))}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=Ln({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Q1=new tt("");function Y2(y){return y.routerState.root}function Q2(){const y=yn(So);return g=>{const _=y.get(Zu);if(g!==_.components[0])return;const v=y.get(bl),b=y.get(X2);1===y.get(X1)&&v.initialNavigation(),y.get(q2,null,Ft.Optional)?.setUpPreloading(),y.get(Q1,null,Ft.Optional)?.init(),v.resetRootComponentType(_.componentTypes[0]),b.closed||(b.next(),b.complete(),b.unsubscribe())}}const X2=new tt("",{factory:()=>new mn}),X1=new tt("",{providedIn:"root",factory:()=>1}),q2=new tt(""),Sk={providers:[function bk(y,...g){return g0([{provide:uy,multi:!0,useValue:y},[],{provide:Ad,useFactory:Y2,deps:[bl]},{provide:RE,multi:!0,useFactory:Q2},g.map(_=>_.\u0275providers)])}([])]};var q1,hn=E(15861),we=E(50484),tA=E(26152),wk=E(7624),Na=E(66599),ss=E(83944),Ik=E(18626),Ok=E(480),mr=E(57964),Lr=E(89317),uo=E(34222),dy=E(67016),nA=E(30352),nr=E(4703),Br=E(51172),Fr=E(79412),Le=E(80543),jd=E(1535),cn=E(10141),co=E(7547),Cl=E(57678),Ba=E(14007),Ml=E(21070);let hy=q1=class extends Lr.wq{constructor(y){super(y),this.type="none"}clone(){return new q1({type:this.type})}};(0,we._)([(0,Ml.J)({none:"none",stayAbove:"stay-above"})],hy.prototype,"type",void 0),hy=q1=(0,we._)([(0,cn.j)("esri.ground.NavigationConstraint")],hy);var eb,rA=E(39437);let Dl=eb=class extends((0,Lr.eC)(dy.Z)){constructor(y){super(y),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ss.Z;const g=v=>{v.parent&&v.parent!==this&&"remove"in v.parent&&v.parent.remove(v),v.parent=this,"elevation"!==v.type&&"base-elevation"!==v.type&&nr.Z.getLogger(this).error(`Layer '${v.title}, id:${v.id}' of type '${v.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",v=>g(v.item)),this.layers.on("after-remove",v=>(v=>{v.parent=null})(v.item))])}initialize(){this.when().catch(y=>{(0,Fr.D_)(y)||nr.Z.getLogger(this).error("#load()","Failed to load ground",y)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const y=this.layers.removeAll();for(const g of y)(0,Br.SC)(g);this.layers.destroy()}normalizeCtorArgs(y){return y&&"resourceInfo"in y&&(this._set("resourceInfo",y.resourceInfo),delete(y={...y}).resourceInfo),y}set layers(y){this._set("layers",(0,Ik.Z)(y,this._get("layers")))}writeLayers(y,g,_,v){const b=[];y&&(v={...v,layerContainerType:"ground"},y.forEach(M=>{if("write"in M){const S={};(0,Ok.sM)(M)().write(S,v)&&b.push(S)}else v?.messages&&v.messages.push(new mr.Z("layer:unsupported",`Layers (${M.title}, ${M.id}) of type '${M.declaredClass}' cannot be persisted in the ground`,{layer:M}))})),g.layers=b}load(y){return this.addResolvingPromise(this._loadFromSource(y)),Promise.resolve(this)}loadAll(){return(0,nA.G)(this,y=>{y(this.layers)})}queryElevation(y,g){var _=this;return(0,hn.Z)(function*(){yield _.load({signal:g?.signal});const{ElevationQuery:v}=yield E.e(8390).then(E.bind(E,18390));(0,Fr.k_)(g);const b=new v,M=_.layers.filter(sA).toArray();return b.queryAll(M,y,g)})()}createElevationSampler(y,g){var _=this;return(0,hn.Z)(function*(){yield _.load({signal:g?.signal});const{ElevationQuery:v}=yield E.e(8390).then(E.bind(E,18390));(0,Fr.k_)(g);const b=new v,M=_.layers.filter(sA).toArray();return b.createSamplerAll(M,y,g)})()}clone(){const y={opacity:this.opacity,surfaceColor:(0,uo.d9)(this.surfaceColor),navigationConstraint:(0,uo.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(y.loadStatus="loaded"),new eb({resourceInfo:this.resourceInfo}).set(y)}read(y,g){this.resourceInfo||this._set("resourceInfo",{data:y,context:g}),super.read(y,g)}_loadFromSource(y){const g=this.resourceInfo;return g?this._loadLayersFromJSON(g.data,g.context,y):Promise.resolve()}_loadLayersFromJSON(y,g,_){var v=this;return(0,hn.Z)(function*(){const b=g?.origin||"web-scene",M=g?.portal||null,S=g?.url||null,{populateOperationalLayers:A}=yield Promise.all([E.e(2772),E.e(8592)]).then(E.bind(E,4906));(0,Fr.k_)(_);const K=[];y.layers&&Array.isArray(y.layers)&&K.push(A(v.layers,y.layers,{context:{origin:b,url:S,portal:M,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),yield Promise.allSettled(K)})()}};function sA(y){return"elevation"===y.type||function Tk(y){return y&&"createElevationSampler"in y}(y)}(0,we._)([(0,Le.Cb)({json:{read:!1}})],Dl.prototype,"layers",null),(0,we._)([(0,co.c)("layers")],Dl.prototype,"writeLayers",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Dl.prototype,"resourceInfo",void 0),(0,we._)([(0,Le.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:jd.z8,read:{reader:rA.b,source:"transparency"},write:{writer:(y,g)=>{g.transparency=(0,rA.a)(y)},target:"transparency"}}})],Dl.prototype,"opacity",void 0),(0,we._)([(0,Le.Cb)({type:Na.Z,json:{type:[jd.z8],write:(y,g)=>{g.surfaceColor=y.toJSON().slice(0,3)}}})],Dl.prototype,"surfaceColor",void 0),(0,we._)([(0,Le.Cb)({type:hy,json:{write:!0}})],Dl.prototype,"navigationConstraint",void 0),Dl=eb=(0,we._)([(0,cn.j)("esri.Ground")],Dl);const py=Dl;var dr=E(73514),fy=E(5603),my=E(88278),Wi=E(73018),Ud=E(33721),iA=E(11642),tb=E(85971);function Pk(y){return!(!(y&&"object"==typeof y&&"loaded"in y&&y.loaded&&(0,tb.S1)(y)?.operations?.supportsEditing&&"type"in y)||"editingEnabled"in y&&!(0,tb.ln)(y)||"scene"===y.type&&!function Ak(y){const{associatedLayer:g}=y,_=g?.infoFor3D;if(!_)return!0;const{supportedFormats:v,queryFormats:b}=_,M=(0,iA.S0)("model/gltf-binary",v)??(0,iA.Ow)("glb",v);if(null==M||!b.includes(M))return nr.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${y.title??"Untitled layer"}, ${y.id}) is not editable because it does not support GLB queries.`),!1;const S=y.spatialReference,A=g.spatialReference;if(!(0,Ud.fS)(S,A))return nr.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${y.title??"Untitled layer"}, ${y.id}) is not editable because its spatial reference (wkid:${S.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${A.wkid}).`),!1;const K=g.sourceJSON.sourceSpatialReference;return!(null!=K&&!(0,Ud.fS)(K,A)&&(nr.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${y.title??"Untitled layer"}, ${y.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${A.wkid}) is different from its source spatial reference (wkid:${K.wkid}).`),1))}(y))}var Fa=E(63335),yy=E(41528);const oA={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var Lk=E(95140),Rk=E(16031);let Wa=class extends((0,Rk.Q)((0,Lk.K)(my.Z.EventedMixin(dr.Z)))){constructor(y){super(y),this.allLayers=new fy.Z({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:g=>"layers"in g?g.layers:null}),this.allTables=(0,yy.a)(this),this.basemap=null,this.editableLayers=new fy.Z({getCollections:()=>[this.allLayers],itemFilterFunction:Pk}),this.ground=new py,this._basemapCache=(0,Fa.Df)()}destroy(){(0,Fa.Bf)(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,Br.SC)(this.basemap),(0,Br.SC)(this.ground),this._set("ground",null)}castBasemap(y){return(0,Fa.se)(y,this._basemapCache)}castGround(y){return function xk(y){let g=null;return"string"==typeof y?y in oA?g=new py({resourceInfo:{data:{layers:[oA[y]]}}}):nr.Z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${y}. Try "world-elevation"`):g=(0,jd.se)(py,y),g}(y)??this._get("ground")}findLayerById(y){return this.allLayers.find(g=>g.id===y)}findTableById(y){return this.allTables.find(g=>g.id===y)}};(0,we._)([(0,Le.Cb)({readOnly:!0,dependsOn:[]})],Wa.prototype,"allLayers",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wa.prototype,"allTables",void 0),(0,we._)([(0,Le.Cb)({type:wk.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Wa.prototype,"basemap",void 0),(0,we._)([(0,Wi.p)("basemap")],Wa.prototype,"castBasemap",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wa.prototype,"editableLayers",void 0),(0,we._)([(0,Le.Cb)({type:py,nonNullable:!0})],Wa.prototype,"ground",void 0),(0,we._)([(0,Wi.p)("ground")],Wa.prototype,"castGround",null),Wa=(0,we._)([(0,cn.j)("esri.Map")],Wa);const aA=Wa;var Ai=E(78570),jk=E(3233),nb=E(47868),Gt=E(77675),rf=E(6785),ru=E(62185),Uk=E(68090),sf=E(43814),Nk=E(45903),Bk=E(27835),Fk=E(50318);let su=class extends Lr.wq{constructor(y){super(y),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],su.prototype,"facilityIdField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],su.prototype,"layerId",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],su.prototype,"nameField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],su.prototype,"siteIdField",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],su.prototype,"sublayerId",void 0),su=(0,we._)([(0,cn.j)("esri.layers.support.FacilityLayerInfo")],su);const Wk=su;let sa=class extends Lr.wq{constructor(y){super(y),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"facilityIdField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"layerId",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"levelIdField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"levelNumberField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"longNameField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"shortNameField",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],sa.prototype,"sublayerId",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],sa.prototype,"verticalOrderField",void 0),sa=(0,we._)([(0,cn.j)("esri.layers.support.LevelLayerInfo")],sa);const Vk=sa;let Xu=class extends Lr.wq{constructor(y){super(y),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],Xu.prototype,"layerId",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],Xu.prototype,"nameField",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],Xu.prototype,"siteIdField",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Xu.prototype,"sublayerId",void 0),Xu=(0,we._)([(0,cn.j)("esri.layers.support.SiteLayerInfo")],Xu);const $k=Xu;let Nd=class extends Lr.wq{constructor(y){super(y),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,we._)([(0,Le.Cb)({type:Vk,json:{write:!0}})],Nd.prototype,"levelLayer",void 0),(0,we._)([(0,Le.Cb)({type:Wk,json:{write:!0}})],Nd.prototype,"facilityLayer",void 0),(0,we._)([(0,Le.Cb)({type:$k,json:{write:!0}})],Nd.prototype,"siteLayer",void 0),Nd=(0,we._)([(0,cn.j)("esri.support.MapFloorInfo")],Nd);const kk=Nd;var Va=E(25387),Bd=E(84303);let Fd=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.expression=null,this.returnType="string",this.title=null}};(0,we._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],Fd.prototype,"expression",void 0),(0,we._)([(0,Le.Cb)({type:["number","string"],json:{write:!0}})],Fd.prototype,"returnType",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],Fd.prototype,"title",void 0),Fd=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.ExpressionInfo")],Fd);const lA=Fd,gy=new Bd.X({deviceLocation:"device-location"});let af=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.filterExpression=null,this.type="device-location"}};(0,we._)([(0,Le.Cb)({type:lA,json:{write:!0}})],af.prototype,"filterExpression",void 0),(0,we._)([(0,Le.Cb)({type:gy.apiValues,readOnly:!0,json:{type:gy.jsonValues,read:gy.read,write:gy.write}})],af.prototype,"type",void 0),af=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],af);const Zk=af;var zk=E(2189),Kk=E(40637);let lf=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.geometry=null,this.where=null}};(0,we._)([(0,Le.Cb)({types:zk.qM,json:{read:Kk.im,write:!0}})],lf.prototype,"geometry",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],lf.prototype,"where",void 0),lf=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.FeatureFilter")],lf);const Gk=lf;let Wd=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,we._)([(0,Le.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],Wd.prototype,"layerId",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],Wd.prototype,"layerUrl",void 0),(0,we._)([(0,Ml.J)({featureLayer:"feature-layer"},{readOnly:!0})],Wd.prototype,"type",void 0),Wd=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Wd);const Hk=Wd;let qu=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,we._)([(0,Le.Cb)({type:Hk,json:{write:{isRequired:!0}}})],qu.prototype,"fenceSource",void 0),(0,we._)([(0,Le.Cb)({type:Gk,json:{write:!0}})],qu.prototype,"filter",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{write:!0}})],qu.prototype,"bufferDistance",void 0),(0,we._)([(0,Ml.J)({features:"features"},{readOnly:!0})],qu.prototype,"type",void 0),qu=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],qu);const Jk=qu;let _y=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.type="fence"}};(0,we._)([(0,Ml.J)({fence:"fence"},{readOnly:!0})],_y.prototype,"type",void 0),_y=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.Geotrigger")],_y);const uA=_y;let uf=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.expressionInfo=null,this.requestedActions=null}};(0,we._)([(0,Le.Cb)({type:lA,json:{write:!0}})],uf.prototype,"expressionInfo",void 0),(0,we._)([(0,Le.Cb)({type:[String],json:{write:!0}})],uf.prototype,"requestedActions",void 0),uf=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],uf);const Yk=uf,Qk=new Bd.X({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),Xk=new Bd.X({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),vy=new Bd.X({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let ia=class extends uA{constructor(y){super(y),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,we._)([(0,Ml.J)(Qk)],ia.prototype,"enterExitRule",void 0),(0,we._)([(0,Le.Cb)({type:Zk,json:{write:{isRequired:!0}}})],ia.prototype,"feed",void 0),(0,we._)([(0,Ml.J)(Xk)],ia.prototype,"feedAccuracyMode",void 0),(0,we._)([(0,Le.Cb)({type:vy.apiValues,json:{type:vy.jsonValues,read:vy.read,write:{writer:vy.write,isRequired:!0}}})],ia.prototype,"fenceNotificationRule",void 0),(0,we._)([(0,Le.Cb)({type:Jk,json:{write:{isRequired:!0}}})],ia.prototype,"fenceParameters",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],ia.prototype,"name",void 0),(0,we._)([(0,Le.Cb)({type:Yk,json:{write:!0}})],ia.prototype,"notificationOptions",void 0),(0,we._)([(0,Ml.J)({fence:"fence"},{readOnly:!0})],ia.prototype,"type",void 0),ia=(0,we._)([(0,cn.j)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],ia);const qk={base:uA,key:"type",typeMap:{fence:ia}};let Ey=class extends((0,Va.J)(Lr.wq)){constructor(y){super(y),this.geotriggers=null}};(0,we._)([(0,Le.Cb)({types:[qk],json:{write:{isRequired:!0}}})],Ey.prototype,"geotriggers",void 0),Ey=(0,we._)([(0,cn.j)("esri.webdoc.GeotriggersInfo")],Ey);const eZ=Ey;var rb,by=E(84735);let Vd=rb=class extends Lr.wq{constructor(y){super(y),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new rb((0,uo.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,we._)([(0,Le.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],Vd.prototype,"activeRange",void 0),(0,we._)([(0,Le.Cb)({type:[Number],json:{write:!0}})],Vd.prototype,"currentRangeExtent",void 0),(0,we._)([(0,Le.Cb)({type:[Number],json:{write:!0}})],Vd.prototype,"fullRangeExtent",void 0),Vd=rb=(0,we._)([(0,cn.j)("esri.webdoc.RangeInfo")],Vd);const sb=Vd;var ub,ib=E(48230),cA=E(61018),tZ=E(22497),nZ=E(93305);function dA(y,g,_){const v={context:{..._,layerContainerType:"operational-layers"}};return y.portalItem&&(v.context.portal=y.portalItem.portal||cA.Z.getDefault()),Promise.all([E.e(2772),E.e(8592)]).then(E.bind(E,4906)).then(({populateOperationalLayers:b})=>{const M=[],S=g.operationalLayers;S?.length&&M.push(b(y.layers,S,v));const A={...v,context:{...v.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},K=g.tables;return K?.length&&M.push(b(y.tables,K,A)),Promise.allSettled(M).then(()=>{})})}function ob(){return ob=(0,hn.Z)(function*(y,g,_){if(yield _.load().catch(S=>{throw new mr.Z(`${y.name}:load-portal-item`,"Failed to load portal item",{error:S})}),_.type!==y.itemType)throw new mr.Z(`${y.name}:invalid-portal-item`,`Invalid portal item type '${_.type}', expected '${y.itemType}'`,{type:_.type});const v=yield _.fetchData();g.resourceInfo=v;const b={origin:y.origin,url:(0,rf.mN)(_.itemUrl),portal:_.portal||cA.Z.getDefault(),portalItem:_,readResourcePaths:[]};yield function iZ(y,g,_,v){const b=function oZ(y,g){const _=y.parseVersion(g.version||"",y.name);return y.currentVersion.validate(_),g.version=`${_.major}.${_.minor}`,g}(y,_);return g.read(b,v),dA(g,b,v)}(y,g,v,b),g.resourceReferences={portalItem:_,paths:b.readResourcePaths};const M=yield function aZ(y,g,_){return ab.apply(this,arguments)}(g.initialViewProperties,_,nr.Z.getLogger(g));if(M){const S=g.initialViewProperties?.clone()??y.createInitialViewProperties();S.viewpoint=M,g.initialViewProperties=S}}),ob.apply(this,arguments)}function ab(){return ab=(0,hn.Z)(function*(y,g,_){if(y?.viewpoint?.targetGeometry)return null;const b=yield function lZ(y,g,_){return lb.apply(this,arguments)}(y,g,_);return b?new Ai.Z({targetGeometry:b}):null}),ab.apply(this,arguments)}function lb(){return(lb=(0,hn.Z)(function*(y,g,_){const v=y?.spatialReference,b=g?.extent;if(!v||!b)return null;if(v.isWGS84)return b.clone();if(v.isWebMercator)return(0,ib.$)(b);const{getGeometryServiceURL:M}=yield E.e(4135).then(E.bind(E,34135));try{const S=yield M(g),A=new nZ.Z;return A.geometries=[b],A.outSpatialReference=v,(yield(0,tZ.i)(S,A))[0]}catch(S){_.error("Error projecting item's extent:",S)}return null})).apply(this,arguments)}let $a=ub=class extends Lr.wq{constructor(y){super(y),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new ub((0,uo.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,we._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],$a.prototype,"enabled",void 0),(0,we._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],$a.prototype,"longNames",void 0),(0,we._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],$a.prototype,"minimized",void 0),(0,we._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],$a.prototype,"pinnedLevels",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],$a.prototype,"site",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],$a.prototype,"facility",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],$a.prototype,"level",void 0),$a=ub=(0,we._)([(0,cn.j)("esri.webdoc.widgets.FloorFilter")],$a);const uZ=$a;var cb;const Cy=new Bd.X({slider:"slider",picker:"picker"});let $d=cb=class extends Lr.wq{constructor(y){super(y),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new cb({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,we._)([(0,Le.Cb)({type:Cy.apiValues,nonNullable:!0,json:{type:Cy.jsonValues,default:null,read:{reader:Cy.read},write:{isRequired:!0,writer:Cy.write}}})],$d.prototype,"interactionMode",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const y=null!=this.stopInterval;return{enabled:!y,isRequired:!y}}}}})],$d.prototype,"numStops",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],$d.prototype,"stopInterval",void 0),$d=cb=(0,we._)([(0,cn.j)("esri.webdoc.widgets.Range")],$d);const cZ=$d;var hb,kd=E(34411),hA=E(95539),db=E(71763);let Qs=hb=class extends Lr.wq{constructor(y){super(y),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(y){if(!y)return;const g=null!=y[0]?new Date(y[0]):null,_=null!=y[1]?new Date(y[1]):null;return new kd.Z({start:g,end:_})}writeCurrentTimeExtent(y,g,_){y&&(0,db.RB)(_,[null!=y.start?y.start.getTime():null,null!=y.end?y.end.getTime():null],g)}readFullTimeExtent(y,g){const _=g.properties;if(!_)return;const v=null!=_.endTime?new Date(_.endTime):null,b=null!=_.startTime?new Date(_.startTime):null;return new kd.Z({start:b,end:v})}writeFullTimeExtent(y,g){if(!y)return;const _=g.properties=g.properties||{},v=y.end,b=y.start;v&&(_.endTime=null!=v?v.getTime():null),b&&(_.startTime=null!=b?b.getTime():null)}readStopInterval(y,g,_){return y?hA.Z.fromJSON({value:y.interval,unit:y.units},_):null}writeStopInterval(y,g,_,v){if(!y)return;const b=y.toJSON(v);(0,db.RB)(_,{interval:b.value,units:b.unit},g)}readStops(y){return y?.length?y.map(g=>new Date(g)):null}writeStops(y,g,_){y?.length&&(0,db.RB)(_,y.map(v=>v.getTime()),g)}clone(){return new hb((0,uo.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,we._)([(0,Le.Cb)({type:kd.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Qs.prototype,"currentTimeExtent",void 0),(0,we._)([(0,ru.r)("currentTimeExtent")],Qs.prototype,"readCurrentTimeExtent",null),(0,we._)([(0,co.c)("currentTimeExtent")],Qs.prototype,"writeCurrentTimeExtent",null),(0,we._)([(0,Le.Cb)({type:kd.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Qs.prototype,"fullTimeExtent",void 0),(0,we._)([(0,ru.r)("fullTimeExtent")],Qs.prototype,"readFullTimeExtent",null),(0,we._)([(0,co.c)("fullTimeExtent")],Qs.prototype,"writeFullTimeExtent",null),(0,we._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Qs.prototype,"loop",void 0),(0,we._)([(0,Le.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const _=!(this.stopInterval||this.stops?.length);return{enabled:_,isRequired:_}}}}})],Qs.prototype,"numStops",void 0),(0,we._)([(0,Le.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Qs.prototype,"numThumbs",void 0),(0,we._)([(0,Le.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Qs.prototype,"stopDelay",void 0),(0,we._)([(0,Le.Cb)({type:hA.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){const y=null!=this.numStops,g=!!this.stops?.length;return{enabled:!g,isRequired:!(y||g)}}}}})],Qs.prototype,"stopInterval",void 0),(0,we._)([(0,ru.r)("stopInterval")],Qs.prototype,"readStopInterval",null),(0,we._)([(0,co.c)("stopInterval")],Qs.prototype,"writeStopInterval",null),(0,we._)([(0,Le.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Qs.prototype,"stops",void 0),(0,we._)([(0,ru.r)("stops")],Qs.prototype,"readStops",null),(0,we._)([(0,co.c)("stops")],Qs.prototype,"writeStops",null),Qs=hb=(0,we._)([(0,cn.j)("esri.webdoc.widgets.TimeSlider")],Qs);const dZ=Qs;var pb;let Zd=pb=class extends Lr.wq{constructor(y){super(y),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new pb((0,uo.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,we._)([(0,Le.Cb)({type:cZ,json:{write:!0}})],Zd.prototype,"range",void 0),(0,we._)([(0,Le.Cb)({type:dZ,json:{write:!0}})],Zd.prototype,"timeSlider",void 0),(0,we._)([(0,Le.Cb)({type:uZ,json:{write:!0}})],Zd.prototype,"floorFilter",void 0),Zd=pb=(0,we._)([(0,cn.j)("esri.webdoc.Widgets")],Zd);const hZ=Zd,pZ={width:600,height:400};var mZ=E(5538);function pA(y){return{enabled:!!y?.length}}var fb,fA=E(51217);let zd=fb=class extends Lr.wq{constructor(y){super(y),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new fb({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,we._)([(0,Le.Cb)({type:Boolean,json:{write:!0}})],zd.prototype,"exactMatch",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],zd.prototype,"name",void 0),(0,we._)([(0,Ml.J)(fA.v)],zd.prototype,"type",void 0),zd=fb=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.SearchLayerField")],zd);const yZ=zd;var mb;let Kd=mb=class extends Lr.wq{constructor(y){super(y),this.field=null,this.id=null,this.subLayer=null}clone(){return new mb((0,uo.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,we._)([(0,Le.Cb)({type:yZ,json:{write:{isRequired:!0}}})],Kd.prototype,"field",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],Kd.prototype,"id",void 0),(0,we._)([(0,Le.Cb)({type:jd.z8,json:{write:!0}})],Kd.prototype,"subLayer",void 0),Kd=mb=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.SearchLayer")],Kd);const gZ=Kd;var yb;let Gd=yb=class extends Lr.wq{constructor(y){super(y),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new yb({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,we._)([(0,Le.Cb)({type:Boolean,json:{write:!0}})],Gd.prototype,"exactMatch",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],Gd.prototype,"name",void 0),(0,we._)([(0,Ml.J)(fA.v)],Gd.prototype,"type",void 0),Gd=yb=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.SearchTableField")],Gd);const _Z=Gd;var gb;let cf=gb=class extends Lr.wq{constructor(y){super(y),this.field=null,this.id=null}clone(){return new gb((0,uo.d9)({field:this.field,id:this.id}))}};(0,we._)([(0,Le.Cb)({type:_Z,json:{write:{isRequired:!0}}})],cf.prototype,"field",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],cf.prototype,"id",void 0),cf=gb=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.SearchTable")],cf);const vZ=cf;var _b;const mA=ss.Z.ofType(gZ),yA=ss.Z.ofType(vZ);let ka=_b=class extends Lr.wq{constructor(y){super(y),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new mA,this.tables=new yA}readAddressSearchEnabled(y){return!y}writeAddressSearchEnabled(y,g,_){g[_]=!y}clone(){return new _b((0,uo.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,we._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ka.prototype,"addressSearchEnabled",void 0),(0,we._)([(0,ru.r)("addressSearchEnabled")],ka.prototype,"readAddressSearchEnabled",null),(0,we._)([(0,co.c)("addressSearchEnabled")],ka.prototype,"writeAddressSearchEnabled",null),(0,we._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ka.prototype,"enabled",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:!0}})],ka.prototype,"hintText",void 0),(0,we._)([(0,Le.Cb)({type:mA,json:{write:{overridePolicy:pA},origins:{"web-scene":{write:{isRequired:!0}}}}})],ka.prototype,"layers",void 0),(0,we._)([(0,Le.Cb)({type:yA,json:{read:!0,write:{overridePolicy:pA}}})],ka.prototype,"tables",void 0),ka=_b=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.Search")],ka);const EZ=ka;var vb;let Dy=vb=class extends Lr.wq{constructor(y){super(y),this.search=null}clone(){return new vb((0,uo.d9)({search:this.search}))}};(0,we._)([(0,Le.Cb)({type:EZ,json:{write:!0}})],Dy.prototype,"search",void 0),Dy=vb=(0,we._)([(0,cn.j)("esri.webdoc.applicationProperties.Viewing")],Dy);const bZ=Dy;var Eb;let Hd=Eb=class extends Lr.wq{constructor(y){super(y),this.editing=null,this.offline=null,this.viewing=null}clone(){return new Eb((0,uo.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,we._)([(0,Le.Cb)({json:{write:!0}})],Hd.prototype,"editing",void 0),(0,we._)([(0,Le.Cb)({json:{write:!0}})],Hd.prototype,"offline",void 0),(0,we._)([(0,Le.Cb)({type:bZ,json:{write:!0}})],Hd.prototype,"viewing",void 0),Hd=Eb=(0,we._)([(0,cn.j)("esri.webmap.ApplicationProperties")],Hd);const CZ=Hd;var bb,Sy=E(84373);let Sl=bb=class extends Lr.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new bb({url:this.url})}};var Cb;(0,we._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],Sl.prototype,"url",void 0),Sl=bb=(0,we._)([(0,cn.j)("esri.webdoc.support.SlideThumbnail")],Sl);let Za=Cb=class extends((0,Sy.IG)(Lr.wq)){constructor(y){super(y),this.name=null,this.thumbnail=new Sl,this.timeExtent=null}castThumbnail(y){return"string"==typeof y?new Sl({url:y}):(0,jd.se)(Sl,y)}set viewpoint(y){const{targetGeometry:g,scale:_}=y;null!=g&&"point"===g.type&&null==_&&nr.Z.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",y),this._set("viewpoint",y)}readViewpoint(y,g){const{extent:_,viewpoint:v}=g;return Ai.Z.fromJSON(v||{targetGeometry:_})}writeViewpoint(y,g,_,v){if(!y)return;const{targetGeometry:b}=y;if(null==b||"extent"===b.type)null!=b&&(g.extent=b.toJSON()),g[_]=y.toJSON();else{const M="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";v?.messages?v.messages.push(new mr.Z("property:unsupported",M)):nr.Z.getLogger(this).error(M)}}clone(){return new Cb((0,uo.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,we._)([(0,Le.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Za.prototype,"name",void 0),(0,we._)([(0,Le.Cb)({type:Sl,json:{write:{overridePolicy:y=>({enabled:!(!y||!y.url)})}}})],Za.prototype,"thumbnail",void 0),(0,we._)([(0,Wi.p)("thumbnail")],Za.prototype,"castThumbnail",null),(0,we._)([(0,Le.Cb)({type:kd.Z,json:{write:!0}})],Za.prototype,"timeExtent",void 0),(0,we._)([(0,Le.Cb)({type:Ai.Z,nonNullable:!0,json:{write:!0}})],Za.prototype,"viewpoint",null),(0,we._)([(0,ru.r)("viewpoint",["extent","viewpoint"])],Za.prototype,"readViewpoint",null),(0,we._)([(0,co.c)("viewpoint")],Za.prototype,"writeViewpoint",null),Za=Cb=(0,we._)([(0,cn.j)("esri.webmap.Bookmark")],Za);const Mb=Za;var Db,Jd=E(764);let wy=Db=class extends Lr.wq{constructor(y){super(y),this.color=new Na.Z([0,0,0,1])}clone(){return new Db((0,uo.d9)({color:this.color}))}};(0,we._)([(0,Le.Cb)({type:Na.Z,json:{write:!0}})],wy.prototype,"color",void 0),wy=Db=(0,we._)([(0,cn.j)("esri.webmap.background.ColorBackground")],wy);const Iy=wy;let iu=class extends((0,Va.J)(dr.Z)){constructor(y){super(y),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeZone=Jd.By,this.viewpoint=null}};(0,we._)([(0,Le.Cb)({type:Iy})],iu.prototype,"background",void 0),(0,we._)([(0,Le.Cb)({type:sb})],iu.prototype,"rangeInfo",void 0),(0,we._)([(0,Le.Cb)({type:sf.Z})],iu.prototype,"spatialReference",void 0),(0,we._)([(0,Le.Cb)({nonNullable:!0})],iu.prototype,"timeZone",void 0),(0,we._)([(0,Le.Cb)({type:Ai.Z})],iu.prototype,"viewpoint",void 0),iu=(0,we._)([(0,cn.j)("esri.webmap.InitialViewProperties")],iu);const Oy=iu;var MZ=E(93960);class Yd extends MZ.G{constructor(g,_){super(g,_,"webmap")}}const df=new Yd(2,29),Sb="web-map",gA=ss.Z.ofType(Mb),wZ=ss.Z.ofType(Nk.default),IZ=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),TZ=Fk.Kz.JSAPI,wb={currentVersion:df,createInitialViewProperties:()=>new Oy,parseVersion:Yd.parse,itemType:"Web Map",name:"webmap",origin:Sb};let Rr=class extends((0,jk.R)(dy.Z.LoadableMixin((0,nb.v)(aA)))){constructor(y){var g;super(y),g=this,this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new gA,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new Oy,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this._debouncedSaveOperations=(0,Fr.Ds)(function(){var _=(0,hn.Z)(function*(v,b,M){const{save:S,saveAs:A}=yield E.e(2787).then(E.bind(E,12787));switch(v){case by.x.SAVE:return S(wb,g,b);case by.x.SAVE_AS:return A(wb,g,M,b)}});return function(v,b,M){return _.apply(this,arguments)}}()),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){if(this.portalItem=(0,Br.SC)(this.portalItem),this.utilityNetworks){const y=this.utilityNetworks.removeAll();for(const g of y)g.destroy();this.utilityNetworks.destroy()}}initialize(){if(this.when().catch(y=>{nr.Z.getLogger(this).error("#load()","Failed to load web map",y)}),this.resourceInfo){let y;try{y=this._validateJSON(this.resourceInfo)}catch(g){return void this.addResolvingPromise(Promise.reject(g))}this.read(y)}}set authoringApp(y){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",y)}writeAuthoringApp(y,g){g.authoringApp=y&&this._isAuthoringAppSetByUser?y:TZ}set authoringAppVersion(y){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",y)}writeAuthoringAppVersion(y,g){g.authoringAppVersion=y&&this._isAuthoringAppVersionSetByUser?y:tA.i8}readInitialViewProperties(y,g){const _=new Oy;g.background&&(_.background=Iy.fromJSON(g.background));const v=g.initialState?.viewpoint;return v&&(v.rotation&&Yd.parse(g.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===g.authoringApp&&(v.rotation*=-1),_.viewpoint=Ai.Z.fromJSON(v)),g.mapRangeInfo&&(_.rangeInfo=sb.fromJSON(g.mapRangeInfo)),g.spatialReference&&(_.spatialReference=sf.Z.fromJSON(g.spatialReference)),g.timeZone&&(_.timeZone=g.timeZone),_}writeInitialViewProperties(y,g,_,v){y&&(y.background?.color&&(g.background=y.background.write({},v)),y.viewpoint&&(g.initialState={viewpoint:y.viewpoint.write({},v)}),y.rangeInfo&&(g.mapRangeInfo=y.rangeInfo.toJSON(v)),y.spatialReference&&(g.spatialReference=y.spatialReference.write({},v)),g.timeZone=y.timeZone)}writeLayers(y,g,_,v){g[_]=this._writeLayers(y,v,"operational-layers")}readSourceVersion(y,g){const[_,v]=g.version.split(".");return new Yd(parseInt(_,10),parseInt(v,10))}writeSourceVersion(y,g,_){g[_]=`${df.major}.${df.minor}`}writeTables(y,g,_,v){const b=this._writeLayers(y,v,"tables");b.length&&(g[_]=b)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(y){y?(this._override("thumbnailUrl",y),this._thumbnailFilename=this._generateCustomThumbnailFilename(y)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(y){return this.addResolvingPromise(function rZ(y,g){return g.resourceInfo?dA(g,g.resourceInfo,{origin:y.origin}):g.portalItem?.id?function sZ(y,g,_){return ob.apply(this,arguments)}(y,g,g.portalItem):Promise.resolve()}(wb,this)),Promise.resolve(this)}loadAll(){return(0,nA.G)(this,y=>{y(this.ground,this.basemap,this.layers,this.tables)})}read(y,g){g={...g,origin:Sb};const _=this._getAuthoringPropsState();(0,Uk.$)(this,y,v=>super.read(y,v),g),this._restoreAuthoringPropsFromState(_)}write(y,g){if("loaded"!==this.loadStatus){const _=new mr.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw nr.Z.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),_}return this._removeDanglingLayerRefs(),g={...g,origin:Sb,restrictedWebMapWriting:!0,webmap:this},super.write(y,g)}save(y){var g=this;return(0,hn.Z)(function*(){return g._debouncedSaveOperations(by.x.SAVE,y)})()}saveAs(y,g){var _=this;return(0,hn.Z)(function*(){return _._debouncedSaveOperations(by.x.SAVE_AS,g,y)})()}updateFrom(y,g){var _=this;return(0,hn.Z)(function*(){const v=_._updateFromInternal(y,g);_._updateFromPromise=v,yield v,v===_._updateFromPromise&&(_._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(y){const g=this.resourceInfo;return this._collectAllLayersJSON([...g?.baseMap?.baseMapLayers||[],...g?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(_=>_.id===y.id)}updateItemThumbnail(){var y=this;return(0,hn.Z)(function*(){y.thumbnailUrl&&y._isOverridden("thumbnailUrl")&&(yield y.portalItem?.updateThumbnail({thumbnail:y.thumbnailUrl,filename:y._thumbnailFilename}),y._clearThumbnailOverride())})()}getThumbnailState(){let y=this.thumbnailUrl;return y&&(y=this._isOverridden("thumbnailUrl")?y:(0,rf.ZN)(y,"w","8192")),{thumbnailUrl:y,filename:this._thumbnailFilename}}restoreThumbnailFromState(y){this.thumbnailUrl=y.thumbnailUrl,this._thumbnailFilename=y.filename}_collectAllLayersJSON(y){return y.reduce((g,_)=>(g.push(_),"GroupLayer"===_.layerType&&(g=g.concat(this._collectAllLayersJSON(_.layers||[]))),g),[])}_writeLayers(y,g,_){return g={...g,layerContainerType:_},y.map(v=>(0,mZ.Nw)(v,"tables"===_?null:this.getLayerJSONFromResourceInfo(v),g)).filter(Cl.pC).toArray()}_validateJSON(y){const g=Yd.parse(y.version||"","webmap");return df.validate(g),y.version=`${g.major}.${g.minor}`,y}_removeDanglingLayerRefs(){const y=this.applicationProperties,g=y?.viewing?.search,_=b=>this.allLayers.some(M=>M.id===b);if(g&&g.layers&&(g.layers=g.layers.filter(b=>_(b.id))),g&&g.tables&&(g.tables=g.tables.filter(b=>this.tables.some(M=>M.id===b.id))),y){const b=y.editing?.locationTracking;b?.info&&!_(b.info.layerId)&&(y.editing=null)}const v=this.presentation?.slides;v&&v.forEach(b=>{b.visibleLayers&&(b.visibleLayers=b.visibleLayers.filter(M=>_(M.id)))})}_updateFromInternal(y,g){var _=this;return(0,hn.Z)(function*(){if(g??={},yield(0,Gt.N1)(()=>y.ready),_._updateInitialViewProperties(y,g),y.map===_)for(const v of y.allLayerViews)"visible"in v&&"visible"in v.layer&&v._isOverridden("visible")&&(v.layer.visible=v.visible),"featureEffect"in v&&"featureEffect"in v.layer&&v._isOverridden("featureEffect")&&(v.layer.featureEffect=v.featureEffect);yield _._updateThumbnailUrl(y,g)})()}_updateInitialViewProperties(y,g){if(g.backgroundExcluded||(this.initialViewProperties.background=y.background?.clone()),this.initialViewProperties.spatialReference=y.spatialReference?.clone(),this.initialViewProperties.timeZone=y.timeZone,g.viewpointExcluded||(this.initialViewProperties.viewpoint=new Ai.Z({rotation:y.rotation,scale:g.scalePreserved?y.scale:null,targetGeometry:this._getViewExtent(y)})),!g.widgetsExcluded)for(const _ of y.persistableViewModels)_.updateWebDocument(this)}_getViewExtent(y){const g=y.center.clone().normalize(),_=y.extent.clone(),v=_.width/2;return _.xmin=g.x-v,_.xmax=g.x+v,_}_updateThumbnailUrl(y,g){var _=this;return(0,hn.Z)(function*(){if(g.thumbnailExcluded)return;const v=function fZ(y,g){g=g||pZ;let{width:_,height:v}=g;const b=_/v;return b<1.5?v=_/1.5:b>1.5&&(_=1.5*v),_>y.width&&(v*=y.width/_,_=y.width),v>y.height&&(_*=y.height/v,v=y.height),{width:Math.round(_),height:Math.round(v)}}(y,g.thumbnailSize),b=yield y.takeScreenshot({format:"png",width:v.width,height:v.height});_._setAutoGeneratedThumbnail(b.dataUrl)})()}_setAutoGeneratedThumbnail(y){this.thumbnailUrl=y,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(y){if((0,rf.HK)(y)){const g=(0,rf.sJ)(y),_=g?.mediaType,v=_&&IZ.get(_.toLowerCase())||null,b=`thumbnail${Date.now()}`;return v?`${b}.${v}`:b}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(y){y.isAuthoringAppSetByUser?this.authoringApp=y.authoringApp:this._isAuthoringAppSetByUser=!1,y.isAuthoringAppVersionSetByUser?this.authoringAppVersion=y.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(y){const g=y;if(!g)throw new mr.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:g})}};Rr.VERSION=df,(0,we._)([(0,Le.Cb)()],Rr.prototype,"_updateFromPromise",void 0),(0,we._)([(0,Le.Cb)({type:CZ,json:{write:!0}})],Rr.prototype,"applicationProperties",void 0),(0,we._)([(0,Le.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Rr.prototype,"authoringApp",null),(0,we._)([(0,co.c)("authoringApp")],Rr.prototype,"writeAuthoringApp",null),(0,we._)([(0,Le.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Rr.prototype,"authoringAppVersion",null),(0,we._)([(0,co.c)("authoringAppVersion")],Rr.prototype,"writeAuthoringAppVersion",null),(0,we._)([(0,Le.Cb)({type:gA,json:{write:{overridePolicy:y=>({enabled:!!(y&&y.length>0),ignoreOrigin:!0})}}})],Rr.prototype,"bookmarks",void 0),(0,we._)([(0,Le.Cb)({type:kk,json:{name:"mapFloorInfo",write:!0}})],Rr.prototype,"floorInfo",void 0),(0,we._)([(0,Le.Cb)({type:eZ,json:{write:!0}})],Rr.prototype,"geotriggersInfo",void 0),(0,we._)([(0,Le.Cb)({type:Oy,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:Iy},"initialState.viewpoint":{type:Ai.Z},mapRangeInfo:{type:sb},spatialReference:{type:sf.Z},"timeZone:":{type:String}}}}})],Rr.prototype,"initialViewProperties",void 0),(0,we._)([(0,ru.r)("initialViewProperties")],Rr.prototype,"readInitialViewProperties",null),(0,we._)([(0,co.c)("initialViewProperties")],Rr.prototype,"writeInitialViewProperties",null),(0,we._)([(0,Le.Cb)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Rr.prototype,"layers",void 0),(0,we._)([(0,co.c)("layers")],Rr.prototype,"writeLayers",null),(0,we._)([(0,Le.Cb)({type:Bk.default})],Rr.prototype,"portalItem",void 0),(0,we._)([(0,Le.Cb)({json:{write:!0}})],Rr.prototype,"presentation",void 0),(0,we._)([(0,Le.Cb)()],Rr.prototype,"resourceInfo",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,type:Yd,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Rr.prototype,"sourceVersion",void 0),(0,we._)([(0,ru.r)("sourceVersion")],Rr.prototype,"readSourceVersion",null),(0,we._)([(0,co.c)("sourceVersion")],Rr.prototype,"writeSourceVersion",null),(0,we._)([(0,Le.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],Rr.prototype,"tables",void 0),(0,we._)([(0,co.c)("tables")],Rr.prototype,"writeTables",null),(0,we._)([(0,Le.Cb)()],Rr.prototype,"thumbnailUrl",null),(0,we._)([(0,Le.Cb)()],Rr.prototype,"updatingFromView",null),(0,we._)([(0,Le.Cb)({type:hZ,json:{write:!0}})],Rr.prototype,"widgets",void 0),(0,we._)([(0,Le.Cb)({type:wZ,json:{read:!0,write:!0}})],Rr.prototype,"utilityNetworks",void 0),Rr=(0,we._)([(0,cn.j)("esri.WebMap")],Rr);const PZ=Rr;var Ib=E(90984),Ty=E(94678),Ao=E(53021);let ou=class extends dr.Z{constructor(y){super(y)}get editedBookmark(){const{bookmark:y}=this;return y?this._get("editedBookmark")||y.clone():null}get state(){return this._get("state")}set state(y){this.validationState=void 0,this.loading=void 0,this._set("state",y)}};(0,we._)([(0,Le.Cb)()],ou.prototype,"bookmark",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],ou.prototype,"editedBookmark",null),(0,we._)([(0,Le.Cb)()],ou.prototype,"state",null),(0,we._)([(0,Le.Cb)()],ou.prototype,"validationState",void 0),(0,we._)([(0,Le.Cb)()],ou.prototype,"loading",void 0),ou=(0,we._)([(0,cn.j)("esri.widgets.Bookmarks.UserState")],ou);const Ob=ou;var Py=E(93300),_A=E(42704);const vA=ss.Z.ofType(Mb),AZ={width:128,height:128,format:"png"},Ay={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},Tb={time:!0},EA="esri.widgets.Bookmarks.BookmarksViewModel",bA=nr.Z.getLogger(EA);let ho=class extends((0,_A._)(my.Z.EventedAccessor)){constructor(y){super(y),this.capabilities={...Tb},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set("activeBookmark",null)}get abilities(){return(0,Py.Mr)(bA,"abilities",{replacement:"capabilities",version:"4.27"}),this.capabilities}set abilities(y){(0,Py.Mr)(bA,"abilities",{replacement:"capabilities",version:"4.27"}),this.capabilities=y}castAbilities(y){return{...Tb,...y}}castCapabilities(y){return{...Tb,...y}}get bookmarks(){return this.view?.map?.bookmarks??new vA}set bookmarks(y){this._overrideIfSome("bookmarks",y)}set defaultCreateOptions(y){this._set("defaultCreateOptions",{...Ay,...y})}get defaultCreateOptions(){return Ay}set defaultEditOptions(y){this._set("defaultEditOptions",{...Ay,...y})}get defaultEditOptions(){return Ay}get state(){const{view:y}=this;return y&&!y.ready?"loading":"ready"}createBookmark(y){var g=this;return(0,hn.Z)(function*(){const{view:_,defaultCreateOptions:v,capabilities:b}=g;if(!_)throw new mr.Z("create-bookmark:invalid-view","Cannot create a bookmark without a view.");const{takeScreenshot:M,screenshotSettings:S,captureViewpoint:A,captureRotation:K,captureScale:de,captureTimeExtent:De}={...v,...y},Te=M?yield g._createThumbnail(S):void 0,Ve=b.time&&De&&null!=_.timeExtent?_.timeExtent.clone():void 0;return new Mb({...Te&&{thumbnail:Te},...De&&{timeExtent:Ve},...A&&{viewpoint:g._createViewpoint({view:_,captureScale:de,captureRotation:K})}})})()}editBookmark(y,g){var _=this;return(0,hn.Z)(function*(){if(!y)return y;const{view:v,defaultEditOptions:b}=_;if(!v)throw new mr.Z("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");const{takeScreenshot:M,screenshotSettings:S,captureViewpoint:A,captureRotation:K,captureScale:de,captureTimeExtent:De}={...b,...g},Te=M?yield _._createThumbnail(S):void 0;return Te&&(y.thumbnail=Te),A&&(y.viewpoint=_._createViewpoint({view:v,captureScale:de,captureRotation:K})),De&&null!=v.timeExtent&&(y.timeExtent=v.timeExtent.clone()),_.emit("bookmark-edit",{bookmark:y}),y})()}goTo(y){const{capabilities:g,view:_}=this;if(!_)throw new mr.Z("go-to:invalid-view","Cannot go to a bookmark without a view");const v=y?.viewpoint;if(!v)throw new mr.Z("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:y});this._set("activeBookmark",y);const M=this.callGoTo({target:v}),S=y?.timeExtent;return g.time&&S&&(_.timeExtent=S),this.emit("bookmark-select",{bookmark:y}),M.catch(()=>{}).then(()=>this._set("activeBookmark",null)),M}_createThumbnail(y){var g=this;return(0,hn.Z)(function*(){const{view:_}=g;if(!_)throw new mr.Z("bookmark:invalid-view","Cannot create slide thumbnail without a view");const v=yield _.takeScreenshot({...AZ,...y});return new Sl({url:v.dataUrl})})()}_createViewpoint({view:y,captureRotation:g,captureScale:_}){const v=y.viewpoint?.clone();return new Ai.Z({targetGeometry:y.extent?.clone(),rotation:(g?v?.rotation:null)??0,scale:(_?v?.scale:null)??0})}};(0,we._)([(0,Le.Cb)()],ho.prototype,"abilities",null),(0,we._)([(0,Wi.p)("abilities")],ho.prototype,"castAbilities",null),(0,we._)([(0,Le.Cb)()],ho.prototype,"capabilities",void 0),(0,we._)([(0,Wi.p)("capabilities")],ho.prototype,"castCapabilities",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],ho.prototype,"activeBookmark",void 0),(0,we._)([(0,Le.Cb)({type:vA})],ho.prototype,"bookmarks",null),(0,we._)([(0,Le.Cb)()],ho.prototype,"defaultCreateOptions",null),(0,we._)([(0,Le.Cb)()],ho.prototype,"defaultEditOptions",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],ho.prototype,"state",null),(0,we._)([(0,Le.Cb)()],ho.prototype,"view",void 0),ho=(0,we._)([(0,cn.j)(EA)],ho);const CA=ho;var Ds=E(70868);const ni="esri-bookmarks",za=`${ni}__authoring`,oa=`${ni}__bookmark`,hf=`${ni}__time-extent`,On={base:ni,widgetIcon:Ds.W.bookmark,loaderContainer:`${ni}__loader-container`,loader:`${ni}__loader`,fadeIn:`${ni}--fade-in`,bookmarkList:`${ni}__list`,bookmarkListSortable:`${ni}__list--sortable`,bookmark:oa,bookmarkButton:`${oa}-button`,bookmarkImageContainer:`${oa}-image-container`,bookmarkImageContainerHasImage:`${oa}-image-container--has-image`,bookmarkEditButtonContainer:`${oa}-edit-button-container`,bookmarkEditButton:`${oa}-edit-button`,bookmarkDragHandle:`${ni}_bookmark-drag-handle`,bookmarkDragHandleIcon:`${ni}_bookmark-drag-handle-icon`,bookmarkIcon:`${oa}-icon`,bookmarkImage:`${ni}__image`,bookmarkLabel:`${oa}-label`,bookmarkName:`${oa}-name`,bookmarkTimeExtent:`${oa}-time-extent`,bookmarkActive:`${oa}--active`,noBookmarksHeader:`${ni}__no-bookmarks-heading`,noBookmarksDescription:`${ni}__no-bookmarks-description`,addingBookmark:`${ni}__adding-bookmark`,addBookmark:`${ni}__add-bookmark`,addBookmarkButton:`${ni}__add-bookmark-button`,addBookmarkIcon:`${ni}__add-bookmark-icon`,authoringCard:`${za}-card`,authoringContainer:`${za}-container`,authoringForm:`${za}-form`,authoringFormAdding:`${za}-form--adding`,authoringLabel:`${za}-label`,authoringLabelStartPadding:`${za}-label--start-padding`,authoringActions:`${za}-actions`,authoringInputInvalid:`${za}-input--invalid`,authoringDeleteButton:`${za}-delete-button`,authoringCancelButton:`${za}-cancel-button`,timeExtentContainer:`${hf}-container`,timeExtent:hf,timeExtentGroup:`${hf}-group`,timeExtentDate:`${hf}-date`,timeExtentTime:`${hf}-time`};var xy;let xo=xy=class extends dr.Z{constructor(y){super(y),this.autoCloseMenu=!1,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.selected=!1,this.selectionEnabled=!1,this.clickFunction=null}castItems(y){return y?y.map(g=>g instanceof xy?g:new xy(g)):null}};(0,we._)([(0,Le.Cb)()],xo.prototype,"autoCloseMenu",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"items",void 0),(0,we._)([(0,Wi.p)("items")],xo.prototype,"castItems",null),(0,we._)([(0,Le.Cb)()],xo.prototype,"label",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"open",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"selected",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"selectionEnabled",void 0),(0,we._)([(0,Le.Cb)()],xo.prototype,"clickFunction",void 0),xo=xy=(0,we._)([(0,cn.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenuItem")],xo);const pf=xo;let Qd=class extends dr.Z{constructor(y){super(y),this.items=null,this.open=!1}castItems(y){return y?y.map(g=>g instanceof pf?g:new pf(g)):null}};(0,we._)([(0,Le.Cb)()],Qd.prototype,"items",void 0),(0,we._)([(0,Wi.p)("items")],Qd.prototype,"castItems",null),(0,we._)([(0,Le.Cb)()],Qd.prototype,"open",void 0),Qd=(0,we._)([(0,cn.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenuViewModel")],Qd);const xZ=Qd;var ff=E(90643),er=E(89219),ec=E(40846),Ct=E(2485);const Vi="esri-button-menu",po={base:Vi,content:`${Vi}__content`,itemWrapper:`${Vi}__item-wrapper`,label:`${Vi}__label`,icon:`${Vi}__icon`,item:`${Vi}__item`,itemLabel:`${Vi}__item-label`,itemLabelContent:`${Vi}__item-label-content`,selectableMenuItem:`${Vi}__item--selectable`,selectedMenuItem:`${Vi}__item--selected`,checkbox:`${Vi}__checkbox`,embeddedContentWrapper:`${Vi}__embedded-content-wrapper`,button:`${Vi}__button`,buttonSelected:`${Vi}__button--selected`};let au=class extends Ao.Z{constructor(y,g){super(y,g),this._popover=null,this.disabled=!1,this.iconClass="",this.viewModel=new xZ}loadDependencies(){return(0,ff.h)({button:()=>Promise.all([E.e(7771),E.e(2102),E.e(8901)]).then(E.bind(E,38901)),popover:()=>Promise.all([E.e(7771),E.e(5782),E.e(2805),E.e(4661),E.e(7938)]).then(E.bind(E,87938))})}destroy(){this._popover=null}get items(){return this.viewModel.items}set items(y){this.viewModel.items=y}get open(){return this.viewModel.open}set open(y){this.viewModel.open=y}render(){const{open:y}=this,g=`${this.id}-button`;return(0,Ct.u)("div",{class:this.classes(po.base,er.z.widget),key:"menu"},(0,Ct.u)("calcite-button",{appearance:"transparent",bind:this,class:this.classes(po.button,y&&po.buttonSelected),disabled:this.disabled,iconStart:y?"x":"ellipsis",id:g,kind:"neutral",label:this.label||"button",onclick:()=>this._toggleOpen(y),tabIndex:0}),(0,Ct.u)("calcite-popover",{afterCreate:ec.Yo,afterUpdate:()=>this._popover?.reposition(),autoClose:!0,bind:this,"data-node-ref":"_popover",label:this.label||"menu",open:y,overlayPositioning:"fixed",placement:"bottom",pointerDisabled:!0,referenceElement:g,onCalcitePopoverClose:this._onPopoverClose},this._renderMenuContent()))}_onPopoverClose(){this.open=!1}_renderMenuContent(){const{id:y,open:g}=this;return(0,Ct.u)("div",{afterCreate:this._afterMenuContentNodeCreate,bind:this,class:po.content,hidden:!g,key:"esri-button-menu-content"},(0,Ct.u)("ul",{"aria-labelledby":`${y}-button`,bind:this,class:po.itemWrapper,id:`${y}-menu`,role:"menu"},this.items?.length?this._renderItems():null))}_renderItems(){return this.items?.map((y,g)=>this._renderItem(y,g))}_renderItem(y,g,_){const v=null!=_?`${this.id}-menu-item-${g}-${_}`:`${this.id}-menu-item-${g}`,b=`${v}-label`,M=this.classes(po.item,y.selectionEnabled?po.selectableMenuItem:null,y.selectionEnabled&&y.selected?po.selectedMenuItem:null);return(0,Ct.u)("li",{afterCreate:this._afterMenuItemCreate,bind:this,class:M,"data-item-index":g,"data-item-subIndex":_,for:v,key:v,onclick:S=>this._handleMenuItemInteraction(S,y),onkeydown:S=>this._handleMenuItemKeydown(S,y),role:"menuitem",tabIndex:this.disabled?-1:0},(0,Ct.u)("input",{checked:y.selected,class:po.checkbox,disabled:!0,id:v,name:v,tabIndex:-1,type:"checkbox"}),(0,Ct.u)("label",{class:po.itemLabel,for:v,id:b},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(po.icon,y.iconClass)}),(0,Ct.u)("span",{class:po.itemLabelContent},ec.w3.sanitize(y.label))),(0,Ct.u)("ul",{"aria-labelledby":b,class:po.embeddedContentWrapper,id:`${this.id}-submenu`,role:"menu"},y?.items?.map((S,A)=>this._renderItem(S,g,A))))}_handleMenuItemInteraction(y,g){g.selected=!g.selected,g.open=!(!g.selected||!g.items),g.autoCloseMenu&&this.set("open",!1),g.clickFunction&&g.clickFunction({event:y,item:g}),y.stopPropagation()}_handleMenuItemKeydown(y,g){const _=(0,Ib.kK)(y);(0,ec.pf)(_)&&this._handleMenuItemInteraction(y,g),"Escape"===_&&(this.open=!1,y.preventDefault(),y.stopPropagation())}_afterMenuContentNodeCreate(y){y.focus()}_toggleOpen(y){this.open=!y}_afterMenuItemCreate(y){0===y["data-item-index"]&&y.focus()}};(0,we._)([(0,Le.Cb)()],au.prototype,"disabled",void 0),(0,we._)([(0,Le.Cb)()],au.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],au.prototype,"items",null),(0,we._)([(0,Le.Cb)()],au.prototype,"open",null),(0,we._)([(0,Le.Cb)()],au.prototype,"viewModel",void 0),au=(0,we._)([(0,cn.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenu")],au);const LZ=au;var Xd=E(83022),fo=E(26440),RZ=E(92795);function MA(y,g){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(y);g&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(y,b).enumerable})),_.push.apply(_,v)}return _}function Ka(y){for(var g=1;g<arguments.length;g++){var _=null!=arguments[g]?arguments[g]:{};g%2?MA(Object(_),!0).forEach(function(v){jZ(y,v,_[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):MA(Object(_)).forEach(function(v){Object.defineProperty(y,v,Object.getOwnPropertyDescriptor(_,v))})}return y}function Ly(y){return(Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function jZ(y,g,_){return g in y?Object.defineProperty(y,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[g]=_,y}function Lo(){return Lo=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(y[v]=_[v])}return y},Lo.apply(this,arguments)}function wl(y){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(y)}var Il=wl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mf=wl(/Edge/i),DA=wl(/firefox/i),yf=wl(/safari/i)&&!wl(/chrome/i)&&!wl(/android/i),SA=wl(/iP(ad|od|hone)/i),wA=wl(/chrome/i)&&wl(/android/i),IA={capture:!1,passive:!1};function gr(y,g,_){y.addEventListener(g,_,!Il&&IA)}function fr(y,g,_){y.removeEventListener(g,_,!Il&&IA)}function Ry(y,g){if(g){if(">"===g[0]&&(g=g.substring(1)),y)try{if(y.matches)return y.matches(g);if(y.msMatchesSelector)return y.msMatchesSelector(g);if(y.webkitMatchesSelector)return y.webkitMatchesSelector(g)}catch{return!1}return!1}}function ZZ(y){return y.host&&y!==document&&y.host.nodeType?y.host:y.parentNode}function Ro(y,g,_,v){if(y){_=_||document;do{if(null!=g&&(">"===g[0]?y.parentNode===_&&Ry(y,g):Ry(y,g))||v&&y===_)return y;if(y===_)break}while(y=ZZ(y))}return null}var gf,OA=/\s+/g;function _s(y,g,_){if(y&&g)if(y.classList)y.classList[_?"add":"remove"](g);else{var v=(" "+y.className+" ").replace(OA," ").replace(" "+g+" "," ");y.className=(v+(_?" "+g:"")).replace(OA," ")}}function Sn(y,g,_){var v=y&&y.style;if(v){if(void 0===_)return document.defaultView&&document.defaultView.getComputedStyle?_=document.defaultView.getComputedStyle(y,""):y.currentStyle&&(_=y.currentStyle),void 0===g?_:_[g];!(g in v)&&-1===g.indexOf("webkit")&&(g="-webkit-"+g),v[g]=_+("string"==typeof _?"":"px")}}function tc(y,g){var _="";if("string"==typeof y)_=y;else do{var v=Sn(y,"transform");v&&"none"!==v&&(_=v+" "+_)}while(!g&&(y=y.parentNode));var b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return b&&new b(_)}function TA(y,g,_){if(y){var v=y.getElementsByTagName(g),b=0,M=v.length;if(_)for(;b<M;b++)_(v[b],b);return v}return[]}function Ga(){return document.scrollingElement||document.documentElement}function is(y,g,_,v,b){if(y.getBoundingClientRect||y===window){var M,S,A,K,de,De,Te;if(y!==window&&y.parentNode&&y!==Ga()?(S=(M=y.getBoundingClientRect()).top,A=M.left,K=M.bottom,de=M.right,De=M.height,Te=M.width):(S=0,A=0,K=window.innerHeight,de=window.innerWidth,De=window.innerHeight,Te=window.innerWidth),(g||_)&&y!==window&&(b=b||y.parentNode,!Il))do{if(b&&b.getBoundingClientRect&&("none"!==Sn(b,"transform")||_&&"static"!==Sn(b,"position"))){var Ve=b.getBoundingClientRect();S-=Ve.top+parseInt(Sn(b,"border-top-width")),A-=Ve.left+parseInt(Sn(b,"border-left-width")),K=S+M.height,de=A+M.width;break}}while(b=b.parentNode);if(v&&y!==window){var nt=tc(b||y),at=nt&&nt.a,gt=nt&&nt.d;nt&&(K=(S/=gt)+(De/=gt),de=(A/=at)+(Te/=at))}return{top:S,left:A,bottom:K,right:de,width:Te,height:De}}}function PA(y,g,_){for(var v=lu(y,!0),b=is(y)[g];v;){var M=is(v)[_];if(!("top"===_||"left"===_?b>=M:b<=M))return v;if(v===Ga())break;v=lu(v,!1)}return!1}function qd(y,g,_,v){for(var b=0,M=0,S=y.children;M<S.length;){if("none"!==S[M].style.display&&S[M]!==zn.ghost&&(v||S[M]!==zn.dragged)&&Ro(S[M],_.draggable,y,!1)){if(b===g)return S[M];b++}M++}return null}function Ab(y,g){for(var _=y.lastElementChild;_&&(_===zn.ghost||"none"===Sn(_,"display")||g&&!Ry(_,g));)_=_.previousElementSibling;return _||null}function Ss(y,g){var _=0;if(!y||!y.parentNode)return-1;for(;y=y.previousElementSibling;)"TEMPLATE"!==y.nodeName.toUpperCase()&&y!==zn.clone&&(!g||Ry(y,g))&&_++;return _}function AA(y){var g=0,_=0,v=Ga();if(y)do{var b=tc(y);g+=y.scrollLeft*b.a,_+=y.scrollTop*b.d}while(y!==v&&(y=y.parentNode));return[g,_]}function lu(y,g){if(!y||!y.getBoundingClientRect)return Ga();var _=y,v=!1;do{if(_.clientWidth<_.scrollWidth||_.clientHeight<_.scrollHeight){var b=Sn(_);if(_.clientWidth<_.scrollWidth&&("auto"==b.overflowX||"scroll"==b.overflowX)||_.clientHeight<_.scrollHeight&&("auto"==b.overflowY||"scroll"==b.overflowY)){if(!_.getBoundingClientRect||_===document.body)return Ga();if(v||g)return _;v=!0}}}while(_=_.parentNode);return Ga()}function xb(y,g){return Math.round(y.top)===Math.round(g.top)&&Math.round(y.left)===Math.round(g.left)&&Math.round(y.height)===Math.round(g.height)&&Math.round(y.width)===Math.round(g.width)}function xA(y,g){return function(){if(!gf){var _=arguments;1===_.length?y.call(this,_[0]):y.apply(this,_),gf=setTimeout(function(){gf=void 0},g)}}}function LA(y,g,_){y.scrollLeft+=g,y.scrollTop+=_}function Lb(y){var g=window.Polymer,_=window.jQuery||window.Zepto;return g&&g.dom?g.dom(y).cloneNode(!0):_?_(y).clone(!0)[0]:y.cloneNode(!0)}function jA(y,g,_){var v={};return Array.from(y.children).forEach(function(b){var M,S,A,K;if(Ro(b,g.draggable,y,!1)&&!b.animated&&b!==_){var de=is(b);v.left=Math.min(null!==(M=v.left)&&void 0!==M?M:1/0,de.left),v.top=Math.min(null!==(S=v.top)&&void 0!==S?S:1/0,de.top),v.right=Math.max(null!==(A=v.right)&&void 0!==A?A:-1/0,de.right),v.bottom=Math.max(null!==(K=v.bottom)&&void 0!==K?K:-1/0,de.bottom)}}),v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}var mi="Sortable"+(new Date).getTime();var eh=[],jb={initializeByDefault:!0},_f={mount:function(g){for(var _ in jb)jb.hasOwnProperty(_)&&!(_ in g)&&(g[_]=jb[_]);eh.forEach(function(v){if(v.pluginName===g.pluginName)throw"Sortable: Cannot mount plugin ".concat(g.pluginName," more than once")}),eh.push(g)},pluginEvent:function(g,_,v){var b=this;this.eventCanceled=!1,v.cancel=function(){b.eventCanceled=!0};var M=g+"Global";eh.forEach(function(S){_[S.pluginName]&&(_[S.pluginName][M]&&_[S.pluginName][M](Ka({sortable:_},v)),_.options[S.pluginName]&&_[S.pluginName][g]&&_[S.pluginName][g](Ka({sortable:_},v)))})},initializePlugins:function(g,_,v,b){for(var M in eh.forEach(function(A){var K=A.pluginName;if(g.options[K]||A.initializeByDefault){var de=new A(g,_,g.options);de.sortable=g,de.options=g.options,g[K]=de,Lo(v,de.defaults)}}),g.options)if(g.options.hasOwnProperty(M)){var S=this.modifyOption(g,M,g.options[M]);typeof S<"u"&&(g.options[M]=S)}},getEventProperties:function(g,_){var v={};return eh.forEach(function(b){"function"==typeof b.eventProperties&&Lo(v,b.eventProperties.call(_[b.pluginName],g))}),v},modifyOption:function(g,_,v){var b;return eh.forEach(function(M){g[M.pluginName]&&M.optionListeners&&"function"==typeof M.optionListeners[_]&&(b=M.optionListeners[_].call(g[M.pluginName],v))}),b}};var QZ=["evt"],$i=function(g,_){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=v.evt,M=function NZ(y,g){if(null==y)return{};var v,b,_=function UZ(y,g){if(null==y)return{};var b,M,_={},v=Object.keys(y);for(M=0;M<v.length;M++)!(g.indexOf(b=v[M])>=0)&&(_[b]=y[b]);return _}(y,g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(y);for(b=0;b<M.length;b++)!(g.indexOf(v=M[b])>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(_[v]=y[v])}return _}(v,QZ);_f.pluginEvent.bind(zn)(g,_,Ka({dragEl:fn,parentEl:ws,ghostEl:rr,rootEl:ps,nextEl:nc,lastDownEl:jy,cloneEl:vs,cloneHidden:uu,dragStarted:bf,putSortable:ii,activeSortable:zn.active,originalEvent:b,oldIndex:th,oldDraggableIndex:Ef,newIndex:mo,newDraggableIndex:cu,hideGhostForTarget:$A,unhideGhostForTarget:kA,cloneNowHidden:function(){uu=!0},cloneNowShown:function(){uu=!1},dispatchSortableEvent:function(A){xi({sortable:_,name:A,originalEvent:b})}},M))};function xi(y){!function vf(y){var g=y.sortable,_=y.rootEl,v=y.name,b=y.targetEl,M=y.cloneEl,S=y.toEl,A=y.fromEl,K=y.oldIndex,de=y.newIndex,De=y.oldDraggableIndex,Te=y.newDraggableIndex,Ve=y.originalEvent,nt=y.putSortable,at=y.extraEventProperties;if(g=g||_&&_[mi]){var gt,mt=g.options,At="on"+v.charAt(0).toUpperCase()+v.substr(1);!window.CustomEvent||Il||mf?(gt=document.createEvent("Event")).initEvent(v,!0,!0):gt=new CustomEvent(v,{bubbles:!0,cancelable:!0}),gt.to=S||_,gt.from=A||_,gt.item=b||_,gt.clone=M,gt.oldIndex=K,gt.newIndex=de,gt.oldDraggableIndex=De,gt.newDraggableIndex=Te,gt.originalEvent=Ve,gt.pullMode=nt?nt.lastPutMode:void 0;var St=Ka(Ka({},at),_f.getEventProperties(v,g));for(var Yt in St)gt[Yt]=St[Yt];_&&_.dispatchEvent(gt),mt[At]&&mt[At].call(g,gt)}}(Ka({putSortable:ii,cloneEl:vs,targetEl:fn,rootEl:ps,oldIndex:th,oldDraggableIndex:Ef,newIndex:mo,newDraggableIndex:cu},y))}var fn,ws,rr,ps,nc,jy,vs,uu,th,mo,Ef,cu,Uy,ii,rc,aa,Ub,Nb,UA,NA,bf,rh,Cf,Wy,yi,nh=!1,Ny=!1,By=[],Mf=!1,Fy=!1,Bb=[],Fb=!1,Vy=[],$y=typeof document<"u",ky=SA,BA=mf||Il?"cssFloat":"float",XZ=$y&&!wA&&!SA&&"draggable"in document.createElement("div"),FA=function(){if($y){if(Il)return!1;var y=document.createElement("x");return y.style.cssText="pointer-events:auto","auto"===y.style.pointerEvents}}(),WA=function(g,_){var v=Sn(g),b=parseInt(v.width)-parseInt(v.paddingLeft)-parseInt(v.paddingRight)-parseInt(v.borderLeftWidth)-parseInt(v.borderRightWidth),M=qd(g,0,_),S=qd(g,1,_),A=M&&Sn(M),K=S&&Sn(S),de=A&&parseInt(A.marginLeft)+parseInt(A.marginRight)+is(M).width,De=K&&parseInt(K.marginLeft)+parseInt(K.marginRight)+is(S).width;return"flex"===v.display?"column"===v.flexDirection||"column-reverse"===v.flexDirection?"vertical":"horizontal":"grid"===v.display?v.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":M&&A.float&&"none"!==A.float?!S||"both"!==K.clear&&K.clear!==("left"===A.float?"left":"right")?"horizontal":"vertical":M&&("block"===A.display||"flex"===A.display||"table"===A.display||"grid"===A.display||de>=b&&"none"===v[BA]||S&&"none"===v[BA]&&de+De>b)?"vertical":"horizontal"},VA=function(g){function _(M,S){return function(A,K,de,De){if(null==M&&(S||A.options.group.name&&K.options.group.name&&A.options.group.name===K.options.group.name))return!0;if(null==M||!1===M)return!1;if(S&&"clone"===M)return M;if("function"==typeof M)return _(M(A,K,de,De),S)(A,K,de,De);var Ve=(S?A:K).options.group.name;return!0===M||"string"==typeof M&&M===Ve||M.join&&M.indexOf(Ve)>-1}}var v={},b=g.group;(!b||"object"!=Ly(b))&&(b={name:b}),v.name=b.name,v.checkPull=_(b.pull,!0),v.checkPut=_(b.put),v.revertClone=b.revertClone,g.group=v},$A=function(){!FA&&rr&&Sn(rr,"display","none")},kA=function(){!FA&&rr&&Sn(rr,"display","")};$y&&!wA&&document.addEventListener("click",function(y){if(Ny)return y.preventDefault(),y.stopPropagation&&y.stopPropagation(),y.stopImmediatePropagation&&y.stopImmediatePropagation(),Ny=!1,!1},!0);var sc=function(g){if(fn){var _=function(g,_){var v;return By.some(function(b){var M=b[mi].options.emptyInsertThreshold;if(M&&!Ab(b)){var S=is(b);if(g>=S.left-M&&g<=S.right+M&&_>=S.top-M&&_<=S.bottom+M)return v=b}}),v}((g=g.touches?g.touches[0]:g).clientX,g.clientY);if(_){var v={};for(var b in g)g.hasOwnProperty(b)&&(v[b]=g[b]);v.target=v.rootEl=_,v.preventDefault=void 0,v.stopPropagation=void 0,_[mi]._onDragOver(v)}}},tz=function(g){fn&&fn.parentNode[mi]._isOutsideThisEl(g.target)};function zn(y,g){if(!y||!y.nodeType||1!==y.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(y));this.el=y,this.options=g=Lo({},g),y[mi]=this;var _={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(y.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return WA(y,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(S,A){S.setData("Text",A.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==zn.supportPointer&&"PointerEvent"in window&&!yf,emptyInsertThreshold:5};for(var v in _f.initializePlugins(this,y,_),_)!(v in g)&&(g[v]=_[v]);for(var b in VA(g),this)"_"===b.charAt(0)&&"function"==typeof this[b]&&(this[b]=this[b].bind(this));this.nativeDraggable=!g.forceFallback&&XZ,this.nativeDraggable&&(this.options.touchStartThreshold=1),g.supportPointer?gr(y,"pointerdown",this._onTapStart):(gr(y,"mousedown",this._onTapStart),gr(y,"touchstart",this._onTapStart)),this.nativeDraggable&&(gr(y,"dragover",this),gr(y,"dragenter",this)),By.push(this.el),g.store&&g.store.get&&this.sort(g.store.get(this)||[]),Lo(this,function HZ(){var g,y=[];return{captureAnimationState:function(){y=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(b){if("none"!==Sn(b,"display")&&b!==zn.ghost){y.push({target:b,rect:is(b)});var M=Ka({},y[y.length-1].rect);if(b.thisAnimationDuration){var S=tc(b,!0);S&&(M.top-=S.f,M.left-=S.e)}b.fromRect=M}})},addAnimationState:function(v){y.push(v)},removeAnimationState:function(v){y.splice(function zZ(y,g){for(var _ in y)if(y.hasOwnProperty(_))for(var v in g)if(g.hasOwnProperty(v)&&g[v]===y[_][v])return Number(_);return-1}(y,{target:v}),1)},animateAll:function(v){var b=this;if(!this.options.animation)return clearTimeout(g),void("function"==typeof v&&v());var M=!1,S=0;y.forEach(function(A){var K=0,de=A.target,De=de.fromRect,Te=is(de),Ve=de.prevFromRect,nt=de.prevToRect,at=A.rect,gt=tc(de,!0);gt&&(Te.top-=gt.f,Te.left-=gt.e),de.toRect=Te,de.thisAnimationDuration&&xb(Ve,Te)&&!xb(De,Te)&&(at.top-Te.top)/(at.left-Te.left)==(De.top-Te.top)/(De.left-Te.left)&&(K=function YZ(y,g,_,v){return Math.sqrt(Math.pow(g.top-y.top,2)+Math.pow(g.left-y.left,2))/Math.sqrt(Math.pow(g.top-_.top,2)+Math.pow(g.left-_.left,2))*v.animation}(at,Ve,nt,b.options)),xb(Te,De)||(de.prevFromRect=De,de.prevToRect=Te,K||(K=b.options.animation),b.animate(de,at,Te,K)),K&&(M=!0,S=Math.max(S,K),clearTimeout(de.animationResetTimer),de.animationResetTimer=setTimeout(function(){de.animationTime=0,de.prevFromRect=null,de.fromRect=null,de.prevToRect=null,de.thisAnimationDuration=null},K),de.thisAnimationDuration=K)}),clearTimeout(g),M?g=setTimeout(function(){"function"==typeof v&&v()},S):"function"==typeof v&&v(),y=[]},animate:function(v,b,M,S){if(S){Sn(v,"transition",""),Sn(v,"transform","");var A=tc(this.el),De=(b.left-M.left)/(A&&A.a||1),Te=(b.top-M.top)/(A&&A.d||1);v.animatingX=!!De,v.animatingY=!!Te,Sn(v,"transform","translate3d("+De+"px,"+Te+"px,0)"),this.forRepaintDummy=function JZ(y){return y.offsetWidth}(v),Sn(v,"transition","transform "+S+"ms"+(this.options.easing?" "+this.options.easing:"")),Sn(v,"transform","translate3d(0,0,0)"),"number"==typeof v.animated&&clearTimeout(v.animated),v.animated=setTimeout(function(){Sn(v,"transition",""),Sn(v,"transform",""),v.animated=!1,v.animatingX=!1,v.animatingY=!1},S)}}}}())}function Zy(y,g,_,v,b,M,S,A){var K,Te,de=y[mi],De=de.options.onMove;return!window.CustomEvent||Il||mf?(K=document.createEvent("Event")).initEvent("move",!0,!0):K=new CustomEvent("move",{bubbles:!0,cancelable:!0}),K.to=g,K.from=y,K.dragged=_,K.draggedRect=v,K.related=b||g,K.relatedRect=M||is(g),K.willInsertAfter=A,K.originalEvent=S,y.dispatchEvent(K),De&&(Te=De.call(de,K,S)),Te}function Wb(y){y.draggable=!1}function rz(){Fb=!1}function lz(y){for(var g=y.tagName+y.className+y.src+y.href+y.textContent,_=g.length,v=0;_--;)v+=g.charCodeAt(_);return v.toString(36)}function zy(y){return setTimeout(y,0)}function Vb(y){return clearTimeout(y)}zn.prototype={constructor:zn,_isOutsideThisEl:function(g){!this.el.contains(g)&&g!==this.el&&(rh=null)},_getDirection:function(g,_){return"function"==typeof this.options.direction?this.options.direction.call(this,g,_,fn):this.options.direction},_onTapStart:function(g){if(g.cancelable){var _=this,v=this.el,b=this.options,M=b.preventOnFilter,S=g.type,A=g.touches&&g.touches[0]||g.pointerType&&"touch"===g.pointerType&&g,K=(A||g).target,de=g.target.shadowRoot&&(g.path&&g.path[0]||g.composedPath&&g.composedPath()[0])||K,De=b.filter;if(function uz(y){Vy.length=0;for(var g=y.getElementsByTagName("input"),_=g.length;_--;){var v=g[_];v.checked&&Vy.push(v)}}(v),!fn&&!(/mousedown|pointerdown/.test(S)&&0!==g.button||b.disabled)&&!de.isContentEditable&&(this.nativeDraggable||!yf||!K||"SELECT"!==K.tagName.toUpperCase())&&!((K=Ro(K,b.draggable,v,!1))&&K.animated||jy===K)){if(th=Ss(K),Ef=Ss(K,b.draggable),"function"==typeof De){if(De.call(this,g,K,this))return xi({sortable:_,rootEl:de,name:"filter",targetEl:K,toEl:v,fromEl:v}),$i("filter",_,{evt:g}),void(M&&g.cancelable&&g.preventDefault())}else if(De&&(De=De.split(",").some(function(Te){if(Te=Ro(de,Te.trim(),v,!1))return xi({sortable:_,rootEl:Te,name:"filter",targetEl:K,fromEl:v,toEl:v}),$i("filter",_,{evt:g}),!0})))return void(M&&g.cancelable&&g.preventDefault());b.handle&&!Ro(de,b.handle,v,!1)||this._prepareDragStart(g,A,K)}}},_prepareDragStart:function(g,_,v){var K,b=this,M=b.el,S=b.options,A=M.ownerDocument;if(v&&!fn&&v.parentNode===M){var de=is(v);if(ps=M,ws=(fn=v).parentNode,nc=fn.nextSibling,jy=v,Uy=S.group,zn.dragged=fn,UA=(rc={target:fn,clientX:(_||g).clientX,clientY:(_||g).clientY}).clientX-de.left,NA=rc.clientY-de.top,this._lastX=(_||g).clientX,this._lastY=(_||g).clientY,fn.style["will-change"]="all",K=function(){$i("delayEnded",b,{evt:g}),zn.eventCanceled?b._onDrop():(b._disableDelayedDragEvents(),!DA&&b.nativeDraggable&&(fn.draggable=!0),b._triggerDragStart(g,_),xi({sortable:b,name:"choose",originalEvent:g}),_s(fn,S.chosenClass,!0))},S.ignore.split(",").forEach(function(De){TA(fn,De.trim(),Wb)}),gr(A,"dragover",sc),gr(A,"mousemove",sc),gr(A,"touchmove",sc),gr(A,"mouseup",b._onDrop),gr(A,"touchend",b._onDrop),gr(A,"touchcancel",b._onDrop),DA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,fn.draggable=!0),$i("delayStart",this,{evt:g}),!S.delay||S.delayOnTouchOnly&&!_||this.nativeDraggable&&(mf||Il))K();else{if(zn.eventCanceled)return void this._onDrop();gr(A,"mouseup",b._disableDelayedDrag),gr(A,"touchend",b._disableDelayedDrag),gr(A,"touchcancel",b._disableDelayedDrag),gr(A,"mousemove",b._delayedDragTouchMoveHandler),gr(A,"touchmove",b._delayedDragTouchMoveHandler),S.supportPointer&&gr(A,"pointermove",b._delayedDragTouchMoveHandler),b._dragStartTimer=setTimeout(K,S.delay)}}},_delayedDragTouchMoveHandler:function(g){var _=g.touches?g.touches[0]:g;Math.max(Math.abs(_.clientX-this._lastX),Math.abs(_.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){fn&&Wb(fn),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var g=this.el.ownerDocument;fr(g,"mouseup",this._disableDelayedDrag),fr(g,"touchend",this._disableDelayedDrag),fr(g,"touchcancel",this._disableDelayedDrag),fr(g,"mousemove",this._delayedDragTouchMoveHandler),fr(g,"touchmove",this._delayedDragTouchMoveHandler),fr(g,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(g,_){_=_||"touch"==g.pointerType&&g,!this.nativeDraggable||_?gr(document,this.options.supportPointer?"pointermove":_?"touchmove":"mousemove",this._onTouchMove):(gr(fn,"dragend",this),gr(ps,"dragstart",this._onDragStart));try{document.selection?zy(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(g,_){if(nh=!1,ps&&fn){$i("dragStarted",this,{evt:_}),this.nativeDraggable&&gr(document,"dragover",tz);var v=this.options;!g&&_s(fn,v.dragClass,!1),_s(fn,v.ghostClass,!0),zn.active=this,g&&this._appendGhost(),xi({sortable:this,name:"start",originalEvent:_})}else this._nulling()},_emulateDragOver:function(){if(aa){this._lastX=aa.clientX,this._lastY=aa.clientY,$A();for(var g=document.elementFromPoint(aa.clientX,aa.clientY),_=g;g&&g.shadowRoot&&(g=g.shadowRoot.elementFromPoint(aa.clientX,aa.clientY))!==_;)_=g;if(fn.parentNode[mi]._isOutsideThisEl(g),_)do{if(_[mi]&&_[mi]._onDragOver({clientX:aa.clientX,clientY:aa.clientY,target:g,rootEl:_})&&!this.options.dragoverBubble)break;g=_}while(_=_.parentNode);kA()}},_onTouchMove:function(g){if(rc){var _=this.options,v=_.fallbackTolerance,b=_.fallbackOffset,M=g.touches?g.touches[0]:g,S=rr&&tc(rr,!0),A=rr&&S&&S.a,K=rr&&S&&S.d,de=ky&&yi&&AA(yi),De=(M.clientX-rc.clientX+b.x)/(A||1)+(de?de[0]-Bb[0]:0)/(A||1),Te=(M.clientY-rc.clientY+b.y)/(K||1)+(de?de[1]-Bb[1]:0)/(K||1);if(!zn.active&&!nh){if(v&&Math.max(Math.abs(M.clientX-this._lastX),Math.abs(M.clientY-this._lastY))<v)return;this._onDragStart(g,!0)}if(rr){S?(S.e+=De-(Ub||0),S.f+=Te-(Nb||0)):S={a:1,b:0,c:0,d:1,e:De,f:Te};var Ve="matrix(".concat(S.a,",").concat(S.b,",").concat(S.c,",").concat(S.d,",").concat(S.e,",").concat(S.f,")");Sn(rr,"webkitTransform",Ve),Sn(rr,"mozTransform",Ve),Sn(rr,"msTransform",Ve),Sn(rr,"transform",Ve),Ub=De,Nb=Te,aa=M}g.cancelable&&g.preventDefault()}},_appendGhost:function(){if(!rr){var g=this.options.fallbackOnBody?document.body:ps,_=is(fn,!0,ky,!0,g),v=this.options;if(ky){for(yi=g;"static"===Sn(yi,"position")&&"none"===Sn(yi,"transform")&&yi!==document;)yi=yi.parentNode;yi!==document.body&&yi!==document.documentElement?(yi===document&&(yi=Ga()),_.top+=yi.scrollTop,_.left+=yi.scrollLeft):yi=Ga(),Bb=AA(yi)}_s(rr=fn.cloneNode(!0),v.ghostClass,!1),_s(rr,v.fallbackClass,!0),_s(rr,v.dragClass,!0),Sn(rr,"transition",""),Sn(rr,"transform",""),Sn(rr,"box-sizing","border-box"),Sn(rr,"margin",0),Sn(rr,"top",_.top),Sn(rr,"left",_.left),Sn(rr,"width",_.width),Sn(rr,"height",_.height),Sn(rr,"opacity","0.8"),Sn(rr,"position",ky?"absolute":"fixed"),Sn(rr,"zIndex","100000"),Sn(rr,"pointerEvents","none"),zn.ghost=rr,g.appendChild(rr),Sn(rr,"transform-origin",UA/parseInt(rr.style.width)*100+"% "+NA/parseInt(rr.style.height)*100+"%")}},_onDragStart:function(g,_){var v=this,b=g.dataTransfer,M=v.options;$i("dragStart",this,{evt:g}),zn.eventCanceled?this._onDrop():($i("setupClone",this),zn.eventCanceled||((vs=Lb(fn)).removeAttribute("id"),vs.draggable=!1,vs.style["will-change"]="",this._hideClone(),_s(vs,this.options.chosenClass,!1),zn.clone=vs),v.cloneId=zy(function(){$i("clone",v),!zn.eventCanceled&&(v.options.removeCloneOnHide||ps.insertBefore(vs,fn),v._hideClone(),xi({sortable:v,name:"clone"}))}),!_&&_s(fn,M.dragClass,!0),_?(Ny=!0,v._loopId=setInterval(v._emulateDragOver,50)):(fr(document,"mouseup",v._onDrop),fr(document,"touchend",v._onDrop),fr(document,"touchcancel",v._onDrop),b&&(b.effectAllowed="move",M.setData&&M.setData.call(v,b,fn)),gr(document,"drop",v),Sn(fn,"transform","translateZ(0)")),nh=!0,v._dragStartId=zy(v._dragStarted.bind(v,_,g)),gr(document,"selectstart",v),bf=!0,yf&&Sn(document.body,"user-select","none"))},_onDragOver:function(g){var b,M,S,nt,_=this.el,v=g.target,A=this.options,K=A.group,de=zn.active,De=Uy===K,Te=A.sort,Ve=ii||de,at=this,gt=!1;if(!Fb){if(void 0!==g.preventDefault&&g.cancelable&&g.preventDefault(),v=Ro(v,A.draggable,_,!0),mt("dragOver"),zn.eventCanceled)return gt;if(fn.contains(g.target)||v.animated&&v.animatingX&&v.animatingY||at._ignoreWhileAnimating===v)return St(!1);if(Ny=!1,de&&!A.disabled&&(De?Te||(S=ws!==ps):ii===this||(this.lastPutMode=Uy.checkPull(this,de,fn,g))&&K.checkPut(this,de,fn,g))){if(nt="vertical"===this._getDirection(g,v),b=is(fn),mt("dragOverValid"),zn.eventCanceled)return gt;if(S)return ws=ps,At(),this._hideClone(),mt("revert"),zn.eventCanceled||(nc?ps.insertBefore(fn,nc):ps.appendChild(fn)),St(!0);var Kt=Ab(_,A.draggable);if(!Kt||function iz(y,g,_){var v=is(Ab(_.el,_.options.draggable)),b=jA(_.el,_.options,rr);return g?y.clientX>b.right+10||y.clientY>v.bottom&&y.clientX>v.left:y.clientY>b.bottom+10||y.clientX>v.right&&y.clientY>v.top}(g,nt,this)&&!Kt.animated){if(Kt===fn)return St(!1);if(Kt&&_===g.target&&(v=Kt),v&&(M=is(v)),!1!==Zy(ps,_,fn,b,v,M,g,!!v))return At(),Kt&&Kt.nextSibling?_.insertBefore(fn,Kt.nextSibling):_.appendChild(fn),ws=_,Yt(),St(!0)}else if(Kt&&function sz(y,g,_){var v=is(qd(_.el,0,_.options,!0)),b=jA(_.el,_.options,rr);return g?y.clientX<b.left-10||y.clientY<v.top&&y.clientX<v.right:y.clientY<b.top-10||y.clientY<v.bottom&&y.clientX<v.left}(g,nt,this)){var sn=qd(_,0,A,!0);if(sn===fn)return St(!1);if(M=is(v=sn),!1!==Zy(ps,_,fn,b,v,M,g,!1))return At(),_.insertBefore(fn,sn),ws=_,Yt(),St(!0)}else if(v.parentNode===_){M=is(v);var gn,wr,ri,ms=fn.parentNode!==_,xr=!function(g,_,v){var b=v?g.left:g.top,A=v?_.left:_.top;return b===A||(v?g.right:g.bottom)===(v?_.right:_.bottom)||b+(v?g.width:g.height)/2===A+(v?_.width:_.height)/2}(fn.animated&&fn.toRect||b,v.animated&&v.toRect||M,nt),os=nt?"top":"left",li=PA(v,"top","top")||PA(fn,"top","top"),Ei=li?li.scrollTop:void 0;if(rh!==v&&(wr=M[os],Mf=!1,Fy=!xr&&A.invertSwap||ms),gn=function oz(y,g,_,v,b,M,S,A){var K=v?y.clientY:y.clientX,de=v?_.height:_.width,De=v?_.top:_.left,Te=v?_.bottom:_.right,Ve=!1;if(!S)if(A&&Wy<de*b){if(!Mf&&(1===Cf?K>De+de*M/2:K<Te-de*M/2)&&(Mf=!0),Mf)Ve=!0;else if(1===Cf?K<De+Wy:K>Te-Wy)return-Cf}else if(K>De+de*(1-b)/2&&K<Te-de*(1-b)/2)return function az(y){return Ss(fn)<Ss(y)?1:-1}(g);return(Ve=Ve||S)&&(K<De+de*M/2||K>Te-de*M/2)?K>De+de/2?1:-1:0}(g,v,M,nt,xr?1:A.swapThreshold,null==A.invertedSwapThreshold?A.swapThreshold:A.invertedSwapThreshold,Fy,rh===v),0!==gn){var rl=Ss(fn);do{ri=ws.children[rl-=gn]}while(ri&&("none"===Sn(ri,"display")||ri===rr))}if(0===gn||ri===v)return St(!1);rh=v,Cf=gn;var bu=v.nextElementSibling,pa=!1,Cu=Zy(ps,_,fn,b,v,M,g,pa=1===gn);if(!1!==Cu)return(1===Cu||-1===Cu)&&(pa=1===Cu),Fb=!0,setTimeout(rz,30),At(),pa&&!bu?_.appendChild(fn):v.parentNode.insertBefore(fn,pa?bu:v),li&&LA(li,0,Ei-li.scrollTop),ws=fn.parentNode,void 0!==wr&&!Fy&&(Wy=Math.abs(wr-is(v)[os])),Yt(),St(!0)}if(_.contains(fn))return St(!1)}return!1}function mt(sl,Pg){$i(sl,at,Ka({evt:g,isOwner:De,axis:nt?"vertical":"horizontal",revert:S,dragRect:b,targetRect:M,canSort:Te,fromSortable:Ve,target:v,completed:St,onMove:function(kf,_c){return Zy(ps,_,fn,b,kf,is(kf),g,_c)},changed:Yt},Pg))}function At(){mt("dragOverAnimationCapture"),at.captureAnimationState(),at!==Ve&&Ve.captureAnimationState()}function St(sl){return mt("dragOverCompleted",{insertion:sl}),sl&&(De?de._hideClone():de._showClone(at),at!==Ve&&(_s(fn,ii?ii.options.ghostClass:de.options.ghostClass,!1),_s(fn,A.ghostClass,!0)),ii!==at&&at!==zn.active?ii=at:at===zn.active&&ii&&(ii=null),Ve===at&&(at._ignoreWhileAnimating=v),at.animateAll(function(){mt("dragOverAnimationComplete"),at._ignoreWhileAnimating=null}),at!==Ve&&(Ve.animateAll(),Ve._ignoreWhileAnimating=null)),(v===fn&&!fn.animated||v===_&&!v.animated)&&(rh=null),!A.dragoverBubble&&!g.rootEl&&v!==document&&(fn.parentNode[mi]._isOutsideThisEl(g.target),!sl&&sc(g)),!A.dragoverBubble&&g.stopPropagation&&g.stopPropagation(),gt=!0}function Yt(){mo=Ss(fn),cu=Ss(fn,A.draggable),xi({sortable:at,name:"change",toEl:_,newIndex:mo,newDraggableIndex:cu,originalEvent:g})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){fr(document,"mousemove",this._onTouchMove),fr(document,"touchmove",this._onTouchMove),fr(document,"pointermove",this._onTouchMove),fr(document,"dragover",sc),fr(document,"mousemove",sc),fr(document,"touchmove",sc)},_offUpEvents:function(){var g=this.el.ownerDocument;fr(g,"mouseup",this._onDrop),fr(g,"touchend",this._onDrop),fr(g,"pointerup",this._onDrop),fr(g,"touchcancel",this._onDrop),fr(document,"selectstart",this)},_onDrop:function(g){var _=this.el,v=this.options;mo=Ss(fn),cu=Ss(fn,v.draggable),$i("drop",this,{evt:g}),ws=fn&&fn.parentNode,mo=Ss(fn),cu=Ss(fn,v.draggable),zn.eventCanceled||(nh=!1,Fy=!1,Mf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vb(this.cloneId),Vb(this._dragStartId),this.nativeDraggable&&(fr(document,"drop",this),fr(_,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yf&&Sn(document.body,"user-select",""),Sn(fn,"transform",""),g&&(bf&&(g.cancelable&&g.preventDefault(),!v.dropBubble&&g.stopPropagation()),rr&&rr.parentNode&&rr.parentNode.removeChild(rr),(ps===ws||ii&&"clone"!==ii.lastPutMode)&&vs&&vs.parentNode&&vs.parentNode.removeChild(vs),fn&&(this.nativeDraggable&&fr(fn,"dragend",this),Wb(fn),fn.style["will-change"]="",bf&&!nh&&_s(fn,ii?ii.options.ghostClass:this.options.ghostClass,!1),_s(fn,this.options.chosenClass,!1),xi({sortable:this,name:"unchoose",toEl:ws,newIndex:null,newDraggableIndex:null,originalEvent:g}),ps!==ws?(mo>=0&&(xi({rootEl:ws,name:"add",toEl:ws,fromEl:ps,originalEvent:g}),xi({sortable:this,name:"remove",toEl:ws,originalEvent:g}),xi({rootEl:ws,name:"sort",toEl:ws,fromEl:ps,originalEvent:g}),xi({sortable:this,name:"sort",toEl:ws,originalEvent:g})),ii&&ii.save()):mo!==th&&mo>=0&&(xi({sortable:this,name:"update",toEl:ws,originalEvent:g}),xi({sortable:this,name:"sort",toEl:ws,originalEvent:g})),zn.active&&((null==mo||-1===mo)&&(mo=th,cu=Ef),xi({sortable:this,name:"end",toEl:ws,originalEvent:g}),this.save())))),this._nulling()},_nulling:function(){$i("nulling",this),ps=fn=ws=rr=nc=vs=jy=uu=rc=aa=bf=mo=cu=th=Ef=rh=Cf=ii=Uy=zn.dragged=zn.ghost=zn.clone=zn.active=null,Vy.forEach(function(g){g.checked=!0}),Vy.length=Ub=Nb=0},handleEvent:function(g){switch(g.type){case"drop":case"dragend":this._onDrop(g);break;case"dragenter":case"dragover":fn&&(this._onDragOver(g),function nz(y){y.dataTransfer&&(y.dataTransfer.dropEffect="move"),y.cancelable&&y.preventDefault()}(g));break;case"selectstart":g.preventDefault()}},toArray:function(){for(var _,g=[],v=this.el.children,b=0,M=v.length,S=this.options;b<M;b++)Ro(_=v[b],S.draggable,this.el,!1)&&g.push(_.getAttribute(S.dataIdAttr)||lz(_));return g},sort:function(g,_){var v={},b=this.el;this.toArray().forEach(function(M,S){var A=b.children[S];Ro(A,this.options.draggable,b,!1)&&(v[M]=A)},this),_&&this.captureAnimationState(),g.forEach(function(M){v[M]&&(b.removeChild(v[M]),b.appendChild(v[M]))}),_&&this.animateAll()},save:function(){var g=this.options.store;g&&g.set&&g.set(this)},closest:function(g,_){return Ro(g,_||this.options.draggable,this.el,!1)},option:function(g,_){var v=this.options;if(void 0===_)return v[g];var b=_f.modifyOption(this,g,_);v[g]=typeof b<"u"?b:_,"group"===g&&VA(v)},destroy:function(){$i("destroy",this);var g=this.el;g[mi]=null,fr(g,"mousedown",this._onTapStart),fr(g,"touchstart",this._onTapStart),fr(g,"pointerdown",this._onTapStart),this.nativeDraggable&&(fr(g,"dragover",this),fr(g,"dragenter",this)),Array.prototype.forEach.call(g.querySelectorAll("[draggable]"),function(_){_.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),By.splice(By.indexOf(this.el),1),this.el=g=null},_hideClone:function(){if(!uu){if($i("hideClone",this),zn.eventCanceled)return;Sn(vs,"display","none"),this.options.removeCloneOnHide&&vs.parentNode&&vs.parentNode.removeChild(vs),uu=!0}},_showClone:function(g){if("clone"===g.lastPutMode){if(uu){if($i("showClone",this),zn.eventCanceled)return;fn.parentNode!=ps||this.options.group.revertClone?nc?ps.insertBefore(vs,nc):ps.appendChild(vs):ps.insertBefore(vs,fn),this.options.group.revertClone&&this.animate(fn,vs),Sn(vs,"display",""),uu=!1}}else this._hideClone()}},$y&&gr(document,"touchmove",function(y){(zn.active||nh)&&y.cancelable&&y.preventDefault()}),zn.utils={on:gr,off:fr,css:Sn,find:TA,is:function(g,_){return!!Ro(g,_,g,!1)},extend:function KZ(y,g){if(y&&g)for(var _ in g)g.hasOwnProperty(_)&&(y[_]=g[_]);return y},throttle:xA,closest:Ro,toggleClass:_s,clone:Lb,index:Ss,nextTick:zy,cancelNextTick:Vb,detectDirection:WA,getChild:qd},zn.get=function(y){return y[mi]},zn.mount=function(){for(var y=arguments.length,g=new Array(y),_=0;_<y;_++)g[_]=arguments[_];g[0].constructor===Array&&(g=g[0]),g.forEach(function(v){if(!v.prototype||!v.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(v));v.utils&&(zn.utils=Ka(Ka({},zn.utils),v.utils)),_f.mount(v)})},zn.create=function(y,g){return new zn(y,g)},zn.version="1.15.2";var Df,$b,Zb,zb,Ky,Sf,Fs=[],kb=!1;function Gy(){Fs.forEach(function(y){clearInterval(y.pid)}),Fs=[]}function ZA(){clearInterval(Sf)}var Kb=xA(function(y,g,_,v){if(g.scroll){var De,b=(y.touches?y.touches[0]:y).clientX,M=(y.touches?y.touches[0]:y).clientY,S=g.scrollSensitivity,A=g.scrollSpeed,K=Ga(),de=!1;$b!==_&&($b=_,Gy(),De=g.scrollFn,!0===(Df=g.scroll)&&(Df=lu(_,!0)));var Te=0,Ve=Df;do{var nt=Ve,at=is(nt),gt=at.top,mt=at.bottom,At=at.left,St=at.right,Yt=at.width,Kt=at.height,sn=void 0,gn=void 0,wr=nt.scrollWidth,ms=nt.scrollHeight,xr=Sn(nt),os=nt.scrollLeft,li=nt.scrollTop;nt===K?(sn=Yt<wr&&("auto"===xr.overflowX||"scroll"===xr.overflowX||"visible"===xr.overflowX),gn=Kt<ms&&("auto"===xr.overflowY||"scroll"===xr.overflowY||"visible"===xr.overflowY)):(sn=Yt<wr&&("auto"===xr.overflowX||"scroll"===xr.overflowX),gn=Kt<ms&&("auto"===xr.overflowY||"scroll"===xr.overflowY));var Ei=sn&&(Math.abs(St-b)<=S&&os+Yt<wr)-(Math.abs(At-b)<=S&&!!os),ri=gn&&(Math.abs(mt-M)<=S&&li+Kt<ms)-(Math.abs(gt-M)<=S&&!!li);if(!Fs[Te])for(var rl=0;rl<=Te;rl++)Fs[rl]||(Fs[rl]={});(Fs[Te].vx!=Ei||Fs[Te].vy!=ri||Fs[Te].el!==nt)&&(Fs[Te].el=nt,Fs[Te].vx=Ei,Fs[Te].vy=ri,clearInterval(Fs[Te].pid),(0!=Ei||0!=ri)&&(de=!0,Fs[Te].pid=setInterval(function(){v&&0===this.layer&&zn.active._onTouchMove(Ky);var bu=Fs[this.layer].vy?Fs[this.layer].vy*A:0,pa=Fs[this.layer].vx?Fs[this.layer].vx*A:0;"function"==typeof De&&"continue"!==De.call(zn.dragged.parentNode[mi],pa,bu,y,Ky,Fs[this.layer].el)||LA(Fs[this.layer].el,pa,bu)}.bind({layer:Te}),24))),Te++}while(g.bubbleScroll&&Ve!==K&&(Ve=lu(Ve,!1)));kb=de}},30),zA=function(g){var _=g.originalEvent,v=g.putSortable,b=g.dragEl,S=g.dispatchSortableEvent,K=g.unhideGhostForTarget;if(_){var de=v||g.activeSortable;(0,g.hideGhostForTarget)();var De=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:_,Te=document.elementFromPoint(De.clientX,De.clientY);K(),de&&!de.el.contains(Te)&&(S("spill"),this.onSpill({dragEl:b,putSortable:v}))}};function Gb(){}function Hb(){}Gb.prototype={startIndex:null,dragStart:function(g){this.startIndex=g.oldDraggableIndex},onSpill:function(g){var _=g.dragEl,v=g.putSortable;this.sortable.captureAnimationState(),v&&v.captureAnimationState();var b=qd(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(_,b):this.sortable.el.appendChild(_),this.sortable.animateAll(),v&&v.animateAll()},drop:zA},Lo(Gb,{pluginName:"revertOnSpill"}),Hb.prototype={onSpill:function(g){var _=g.dragEl,b=g.putSortable||this.sortable;b.captureAnimationState(),_.parentNode&&_.parentNode.removeChild(_),b.animateAll()},drop:zA},Lo(Hb,{pluginName:"removeOnSpill"}),zn.mount(new function cz(){function y(){for(var g in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===g.charAt(0)&&"function"==typeof this[g]&&(this[g]=this[g].bind(this))}return y.prototype={dragStarted:function(_){var v=_.originalEvent;this.sortable.nativeDraggable?gr(document,"dragover",this._handleAutoScroll):gr(document,this.options.supportPointer?"pointermove":v.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(_){var v=_.originalEvent;!this.options.dragOverBubble&&!v.rootEl&&this._handleAutoScroll(v)},drop:function(){this.sortable.nativeDraggable?fr(document,"dragover",this._handleAutoScroll):(fr(document,"pointermove",this._handleFallbackAutoScroll),fr(document,"touchmove",this._handleFallbackAutoScroll),fr(document,"mousemove",this._handleFallbackAutoScroll)),ZA(),Gy(),function GZ(){clearTimeout(gf),gf=void 0}()},nulling:function(){Ky=$b=Df=kb=Sf=Zb=zb=null,Fs.length=0},_handleFallbackAutoScroll:function(_){this._handleAutoScroll(_,!0)},_handleAutoScroll:function(_,v){var b=this,M=(_.touches?_.touches[0]:_).clientX,S=(_.touches?_.touches[0]:_).clientY,A=document.elementFromPoint(M,S);if(Ky=_,v||this.options.forceAutoScrollFallback||mf||Il||yf){Kb(_,this.options,A,v);var K=lu(A,!0);kb&&(!Sf||M!==Zb||S!==zb)&&(Sf&&ZA(),Sf=setInterval(function(){var de=lu(document.elementFromPoint(M,S),!0);de!==K&&(K=de,Gy()),Kb(_,b.options,de,v)},10),Zb=M,zb=S)}else{if(!this.options.bubbleScroll||lu(A,!0)===Ga())return void Gy();Kb(_,this.options,lu(A,!1),!1)}}},Lo(y,{pluginName:"scroll",initializeByDefault:!0})}),zn.mount(Hb,Gb);const pz=zn,ic="data-bookmark-uid",GA={addBookmark:!0,thumbnail:!0,time:!0},Jb=/^https:\/\/.*/i;let qr=class extends Ao.Z{constructor(y,g){super(y,g),this._tooltipReferenceMap=new Map,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=[],this._editIncludeTimeExtent=void 0,this._userState=null,this.disabled=!1,this.editingEnabled=!1,this.headingLevel=2,this.iconClass=On.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.viewModel=new CA,this.visibleElements={...GA}}initialize(){this.addHandles([(0,Gt.YP)(()=>this.viewModel?.bookmarks,()=>this._bookmarksInitialized(),Gt.nn),(0,Gt.YP)(()=>this.editingEnabled,()=>this._toggleSorting(),Gt.nn)])}destroy(){this._destroySortable(),this._editMenu.destroy(),this._tooltipReferenceMap.clear()}loadDependencies(){return(0,ff.h)({label:()=>E.e(3203).then(E.bind(E,63203)),switch:()=>Promise.all([E.e(2102),E.e(5865)]).then(E.bind(E,55865)),tooltip:()=>Promise.all([E.e(2805),E.e(3578)]).then(E.bind(E,53578))})}get _editMenuItems(){const{messages:y,_userState:g}=this,_=g?.editedBookmark?.thumbnail?.url;return[new pf({label:y?.menu.refreshThumbnail,iconClass:Ds.W.refresh,clickFunction:()=>this._refreshThumbnail()}),new pf({label:_&&Jb.test(_)?y?.menu.editImageUrl:y?.menu.useImageUrl,iconClass:Ds.W.link,clickFunction:()=>this._startUseImageUrl()}),_?new pf({label:y?.menu.removeThumbnail,iconClass:Ds.W.erase,clickFunction:()=>this._removeThumbnail()}):null].filter(Cl.pC)}get _editMenu(){const{_editMenuItems:y,messages:g,disabled:_}=this,v=this._get("_editMenu");v&&v.destroy();const b=new LZ({disabled:_,iconClass:Ds.W.handleHorizontal,label:g?.menu.label});return b.items=y,b}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(y){this.viewModel.defaultCreateOptions=y}get defaultEditOptions(){return this.viewModel.defaultEditOptions}set defaultEditOptions(y){this.viewModel.defaultEditOptions=y}get bookmarks(){return this.viewModel.bookmarks}set bookmarks(y){this.viewModel.bookmarks=y}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(y){this.viewModel.goToOverride=y}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}castVisibleElements(y){return{...GA,...y}}endAddBookmark(){this._userState=null}goTo(y){return this.viewModel.goTo(y)}render(){const{state:y}=this.viewModel,g="loading"===y?this._renderLoading():this._renderBookmarks();return(0,Ct.u)("div",{class:this.classes(On.base,er.z.widget,er.z.panel,{[er.z.widgetDisabled]:this.disabled})},g)}startAddBookmark(){this._userState=new Ob({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}_renderBookmarkTooltips(y){return y.toArray().map(g=>this._renderBookmarkTooltip(g))??[]}_renderBookmarkTooltip(y){const{_tooltipReferenceMap:g,messagesCommon:_}=this,v=this._getBookmarkTitle(y),b=`${_?.dragHandleTitle} ${v}`;return y?(0,Ct.u)("calcite-tooltip",{key:`tooltip-${y.uid}`,referenceElement:g.get(y.uid)},b):null}_renderLoading(){return(0,Ct.u)("div",{class:On.loaderContainer,key:"loader",tabIndex:this.disabled?-1:void 0},(0,Ct.u)("div",{class:On.loader}))}_renderNoBookmarksContainer(){const{messages:y,disabled:g}=this;return(0,Ct.u)("div",{class:er.z.empty,key:"no-bookmarks",tabIndex:g?-1:void 0},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(er.z.noBookmarksIcon,On.widgetIcon)}),(0,Ct.u)(Xd.X,{class:this.classes(er.z.heading,On.noBookmarksHeader),level:this.headingLevel},y?.noBookmarksHeading),(0,Ct.u)("p",{class:On.noBookmarksDescription},y?.noBookmarksDescription))}_renderAddBookmarkLoading(){return(0,Ct.u)("div",{class:On.addingBookmark,key:"adding-bookmark"},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(Ds.W.loadingIndicator,er.z.rotating)}),this.messages?.addingBookmark)}_renderBookmarkItems(y){if(!y)return[];const{_userState:g,editingEnabled:_}=this;return y.map(v=>_&&v&&g&&("edit"===g.state||"edit-thumbnail"===g.state)&&g.bookmark===v?"edit-thumbnail"===g.state?this._renderEditingBookmarkUrl(g.editedBookmark):this._renderEditingBookmark(g.editedBookmark):this._renderBookmark(v)).toArray()}_renderBookmarksContainer(y){const{_userState:g,editingEnabled:_,disabled:v,view:b}=this,M="add"===g?.state,S=b&&_&&!M?this._renderAddBookmarkButton():null,A=_?M&&g.loading?this._renderAddBookmarkLoading():"add"===g?.state?this._renderAddingBookmark():null:null;return[(0,Ct.u)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"aria-label":this.messages?.widgetLabel,bind:this,class:this.classes(On.bookmarkList,{[On.bookmarkListSortable]:this.editingEnabled}),"data-node-ref":"_sortableNode",key:"bookmark-list",tabIndex:v?-1:void 0},this._renderBookmarkItems(y)),S,A]}_renderAddBookmarkButton(){return this.visibleElements.addBookmark?(0,Ct.u)("div",{class:On.addBookmark,key:"add-bookmark-item"},(0,Ct.u)("button",{afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,bind:this,class:this.classes(er.z.button,er.z.buttonTertiary,On.addBookmarkButton),"data-node-ref":"_addBookmarkButtonNode",disabled:this.disabled,onclick:this.startAddBookmark,type:"button"},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(On.addBookmarkIcon,Ds.W.plus)}),this.messages?.addBookmark)):null}_renderBookmarks(){const{bookmarks:y}=this.viewModel,g=y&&y.filter(Boolean),_=g&&g.length,v=_||this.editingEnabled?this._renderBookmarksContainer(g):null;return[_?null:this._renderNoBookmarksContainer(),v,this._renderBookmarkTooltips(y)]}_renderEditContainer(y){const{messagesCommon:g,disabled:_}=this,v=this._getBookmarkTitle(y);return(0,Ct.u)("div",{class:On.bookmarkEditButtonContainer,key:"edit-container"},(0,Ct.u)("button",{"aria-label":`${g?.edit} ${v}`,bind:this,class:On.bookmarkEditButton,"data-bookmark":y,disabled:_,onclick:this._showEditBookmarkForm,title:`${g?.edit} ${v}`,type:"button"},(0,Ct.u)("span",{"aria-hidden":"true",class:Ds.W.edit})))}_renderDragHandle(y){const{messagesCommon:g,disabled:_}=this,v=this._getBookmarkTitle(y),b={[ic]:y.uid};return(0,Ct.u)("div",{afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,"aria-label":`${g?.dragHandleTitle} ${v}`,"aria-pressed":this._selectedSortUid===y.uid?"true":"false",bind:this,class:On.bookmarkDragHandle,"data-bookmark":y,key:"drag-handle",onblur:this._dragHandleBlur,onkeydown:this._dragHandleKeydown,role:"button",tabIndex:_?-1:0,...b},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(On.bookmarkDragHandleIcon,Ds.W.handleVertical)}))}_renderBookmarkImageIcon(){return(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(On.bookmarkIcon,On.widgetIcon)})}_renderBookmarkImage(y){const{visibleElements:g}=this,{thumbnail:_}=y,v=_?.url||"";return g.thumbnail&&v?(0,Ct.u)("img",{alt:"",class:On.bookmarkImage,src:v}):null}_renderBookmarkTimeSwitch(y){const{messages:g,disabled:_}=this,{timeExtent:v}=y,{view:b}=this.viewModel;return b?.timeExtent??v?(0,Ct.u)("calcite-label",{layout:"inline-space-between"},g?.includeTimeExtent,(0,Ct.u)("calcite-switch",{checked:!!v,disabled:_,scale:"s",onCalciteSwitchChange:M=>{this._editIncludeTimeExtent=!!M.target.checked}})):null}_renderBookmarkTimeExtent(y){const{visibleElements:g}=this,{timeExtent:_}=y;return _?(0,Ct.u)("span",{class:On.timeExtent},[null!=_.start&&(0,Ct.u)("span",{class:On.timeExtentGroup,key:"start-date-group"},(0,Ct.u)("span",{class:On.timeExtentDate,key:"start-date"},this._formatDate(_.start)),g.time?(0,Ct.u)("span",{class:On.timeExtentTime,key:"start-time"},this._formatTime(_.start)):null),null!=_.end&&(null==_.start||_.start.getTime()!==_.end.getTime())&&(0,Ct.u)("span",{class:On.timeExtentGroup,key:"end-date-group"},(0,Ct.u)("span",{class:On.timeExtentDate,key:"end-date"},this._formatDate(_.end)),g.time?(0,Ct.u)("span",{class:On.timeExtentTime,key:"end-time"},this._formatTime(_.end)):null)]):null}_renderBookmarkButton(y){const{disabled:g}=this,{timeExtent:_}=y,{capabilities:v}=this.viewModel,b=this._getBookmarkTitle(y),{thumbnail:M}=y,S=(0,Ct.u)("div",{class:this.classes(On.bookmarkImageContainer,M?.url?On.bookmarkImageContainerHasImage:null)},this._renderBookmarkImage(y)||this._renderBookmarkImageIcon()),A=v.time&&_?(0,Ct.u)("span",{class:On.bookmarkTimeExtent,key:"time-extent"},this._renderBookmarkTimeExtent(y)):null;return(0,Ct.u)("button",{bind:this,class:On.bookmarkButton,"data-bookmark":y,disabled:g,key:"bookmark-button",onclick:this._goToBookmark,type:"button"},S,(0,Ct.u)("div",{class:On.bookmarkLabel},(0,Ct.u)("span",{class:On.bookmarkName,key:"bookmark-title"},b),A))}_renderBookmark(y){const{activeBookmark:g}=this.viewModel,_={[On.bookmarkActive]:g===y},v=this.editingEnabled?this._renderEditContainer(y):null,b={[ic]:y.uid},M=this.editingEnabled?this._renderDragHandle(y):null;return(0,Ct.u)("li",{class:this.classes(On.bookmark,_),key:y,...b},M,this._renderBookmarkButton(y),v)}_renderEditingBookmarkName(y){const{messages:g,_userState:_,disabled:v}=this,b="name-required"===_?.validationState;return(0,Ct.u)("label",{class:this.classes({[On.authoringLabel]:!0,[On.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},g?.title,b?(0,Ct.u)("strong",null,g?.invalidTitle):null,(0,Ct.u)("input",{afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,bind:this,class:this.classes(er.z.input,b?On.authoringInputInvalid:null),"data-bookmark":y,"data-node-ref":"_editInputNode",disabled:v,placeholder:g?.titlePlaceholder,required:!0,type:"text",value:y.name}))}_renderEditingBookmarkUrlActions(){const{messagesCommon:y,disabled:g}=this;return(0,Ct.u)("div",{class:On.authoringActions},(0,Ct.u)("input",{bind:this,class:this.classes(er.z.button,er.z.buttonTertiary),disabled:g,onclick:this._closeUrlEditBookmarkForm,type:"button",value:y?.back}),(0,Ct.u)("input",{class:er.z.button,disabled:g,type:"submit",value:y?.add}))}_renderEditingBookmarkActions(){const{messagesCommon:y,disabled:g}=this,_=this._userState?.bookmark;return(0,Ct.u)("div",{class:On.authoringActions},(0,Ct.u)("input",{bind:this,class:this.classes(er.z.button,er.z.buttonTertiary,On.authoringDeleteButton),"data-bookmark":_,disabled:g,onclick:this._deleteBookmark,type:"button",value:y?.delete}),(0,Ct.u)("input",{bind:this,class:this.classes(er.z.button,er.z.buttonTertiary),disabled:g,onclick:this._closeEditBookmarkForm,type:"button",value:y?.cancel}),(0,Ct.u)("input",{class:er.z.button,disabled:g,type:"submit",value:y?.save}))}_renderEditingBookmarkUrlInput(y){const{messages:g,_userState:_,disabled:v}=this,b=y.thumbnail?.url,M=b&&Jb.test(b)?b:void 0,S="absolute-url-required"===_?.validationState;return(0,Ct.u)("label",{class:this.classes({[On.authoringLabel]:!0,[On.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},S?(0,Ct.u)("strong",null,g?.invalidImageUrl):null,(0,Ct.u)("input",{afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,bind:this,class:this.classes(er.z.input,S?On.authoringInputInvalid:null),"data-bookmark":y,"data-node-ref":"_urlEditInputNode",disabled:v,placeholder:g?`https://<${g.imageUrlPlaceholder}>`:void 0,required:!0,title:g?.imageUrlTooltip,type:"text",value:M}))}_renderEditingBookmarkUrl(y){return y?(0,Ct.u)("li",{class:On.authoringCard,key:"edit-bookmark-url-form",[ic]:y.uid},(0,Ct.u)("form",{bind:this,class:On.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkUrlSubmit},this._renderEditingBookmarkUrlInput(y),this._renderEditingBookmarkUrlActions())):null}_renderEditingBookmark(y){if(!y)return null;const g={[ic]:y.uid},{capabilities:_}=this.viewModel,v=_.time?(0,Ct.u)("div",{class:On.timeExtentContainer,key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(y),this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(y):null):null;return(0,Ct.u)("li",{class:On.authoringCard,key:"edit-bookmark-form",...g},(0,Ct.u)("form",{bind:this,class:On.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},(0,Ct.u)("div",{class:On.authoringContainer},this.visibleElements.thumbnail?(0,Ct.u)("div",{class:On.bookmarkImageContainer},this._renderBookmarkImage(y),this._editMenu.render()):null,this._renderEditingBookmarkName(y)),v,this._renderEditingBookmarkActions()))}_renderAddingBookmarkName(){const{_userState:y,messages:g,disabled:_}=this,v="name-required"===y?.validationState;return(0,Ct.u)("label",{class:On.authoringLabel},g?.title,v?(0,Ct.u)("strong",null,g?.invalidTitle):null,(0,Ct.u)("input",{afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,bind:this,class:this.classes(er.z.input,v?On.authoringInputInvalid:null),"data-node-ref":"_addInputNode",disabled:_,placeholder:g?.titlePlaceholder,required:!0,type:"text",value:""}))}_renderAddingBookmarkActions(){const{messagesCommon:y,disabled:g}=this;return(0,Ct.u)("div",{class:this.classes(On.authoringActions)},(0,Ct.u)("input",{bind:this,class:this.classes(er.z.button,er.z.buttonTertiary,On.authoringCancelButton),disabled:g,onclick:this._endAddBookmark.bind(this),type:"button",value:y?.cancel}),(0,Ct.u)("input",{class:er.z.button,disabled:g,type:"submit",value:y?.add}))}_renderAddingBookmark(){return(0,Ct.u)("div",{class:On.authoringCard,key:"add-bookmark-form"},(0,Ct.u)("form",{bind:this,class:this.classes(On.authoringForm,On.authoringFormAdding),onsubmit:this._addBookmarkSubmit},this._renderAddingBookmarkName(),this._renderAddingBookmarkActions()))}_setTooltipReference(y,g){this._tooltipReferenceMap.set(g.uid,y),this.scheduleRender()}_getBookmarkTitle(y){return(y?.name||this.messagesCommon?.untitled)??""}_formatDate(y){return y?(0,Ty.p6)(y,{...(0,Ty.Ze)("short-date"),timeZone:this.view?.timeZone??Jd.By}):""}_formatTime(y){return y?(0,Ty.p6)(y,{...(0,Ty.Ze)("long-time"),timeZone:this.view?.timeZone??Jd.By}):""}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(y){const{_sortableSavedItems:g}=this,v=(0,Ib.kK)(y);if(!["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].includes(v))return;const{_sortable:b,_selectedSortUid:M}=this;if(!b)return;const S=b.toArray(),A=y.target.getAttribute(ic),K=S.indexOf(A);if((0,ec.pf)(v)){const De=M&&M===A;return this._selectedSortUid=De?null:A,this._sortableSavedItems=De?[]:b.toArray(),void this.scheduleRender()}if("Tab"===v)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===v&&0!==g.length)return y.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(g,b,A),void this.scheduleRender();if(-1===K||!M)return;const de="ArrowUp"===v?K-1:K+1;de>=S.length||de<=-1||(function fz(y,g,_){y.splice(_,0,y.splice(g,1)[0])}(S,K,de),this._updateSortItems(S,b,A))}_updateSortItems(y,g,_){g.sort(y),this._sortBookmarks(g),this._focusSortUid=_,this._selectedSortUid=_}_focusDragHandle(y){const g=Yy(y);if(!g)return;this._setTooltipReference(y,g);const{_focusSortUid:_}=this;!y||!_||y.getAttribute(ic)===_&&(y.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:y,_sortableNode:g,editingEnabled:_,disabled:v}=this;if(g)if(y)y.option("disabled",v||!_);else{const b=pz.create(g,{dataIdAttr:ic,handle:`.${On.bookmarkDragHandle}`,group:"bookmarks",disabled:v||!_,onSort:()=>this._sortBookmarks(b)});this._sortable=b}}_sortNodeCreated(y){this._sortableNode=y,this._toggleSorting()}_sortBookmarks(y){const{bookmarks:g}=this.viewModel;if(!g)return;const _=y.toArray();g.sort((v,b)=>{const M=_.indexOf(v.uid),S=_.indexOf(b.uid);return M>S?1:M<S?-1:0})}_destroySortable(){const{_sortable:y}=this;y&&y.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const y="bookmarks-init";this.removeHandles(y),this.addHandles((0,Gt.on)(()=>this.viewModel?.bookmarks,"change",()=>this._bookmarksChanged()),y)}_bookmarksChanged(){const y="bookmarks-change",{bookmarks:g}=this.viewModel;this.removeHandles(y);const _=g.map(v=>(0,Gt.YP)(()=>[v?.name,v?.thumbnail?.url],()=>this.scheduleRender()));this.addHandles(_.toArray(),y),this.scheduleRender()}_showEditBookmarkForm(y){const g=Yy(y.currentTarget);g&&(this._editIncludeTimeExtent=!!g.timeExtent,this._focusEditInputBox=!0,this._userState=new Ob({bookmark:g,state:"edit"}),this.viewModel.goTo(g),this.scheduleRender())}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState&&(this._userState.state="edit")}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(y){y.preventDefault();const{_addInputNode:g,_userState:_}=this;if(!_)return;const v=g?g.value.trim():null;v?(_.loading=!0,this.viewModel.createBookmark().then(b=>{b.name=v,this.viewModel.bookmarks.add(b),this._endAddBookmark()})):_.validationState="name-required"}_editBookmarkAndClose(y,g){var _=this;return(0,hn.Z)(function*(){const{viewModel:v}=_;yield v.editBookmark(y,{...v.defaultEditOptions,...g}),_._closeEditBookmarkForm()})()}_editBookmarkSubmit(y){y.preventDefault();const{_editInputNode:g,_userState:_,_editIncludeTimeExtent:v}=this;if(!_?.bookmark||!_.editedBookmark)return;const b=g&&g.value.trim();b?(_.bookmark.name=b,_.bookmark.thumbnail=_.editedBookmark.thumbnail,v||(_.bookmark.timeExtent=null),this._editBookmarkAndClose(_.bookmark,{takeScreenshot:!1,captureTimeExtent:v})):_.validationState="name-required"}_storeAddBookmarkButton(y){this._addBookmarkButtonNode=y,this._focusAddBookmark()}_storeEditInput(y){this._editInputNode=y,this._focusEditInput()}_storeAddInput(y){this._addInputNode=y,this._focusAddInput()}_storeUrlEditInput(y){this._urlEditInputNode=y,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(y){const g=Yy(y.currentTarget);g&&this.viewModel.bookmarks.remove(g)}_goToBookmark(y){const g=Yy(y.currentTarget);g&&(this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(g))}_refreshThumbnail(){var y=this;return(0,hn.Z)(function*(){const{_userState:g,_editMenu:_,viewModel:v}=y;g&&(g.validationState=void 0,yield v.editBookmark(g.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}),_.open=!1,y._focusEditInputBox=!0,y.scheduleRender())})()}_removeThumbnail(){const{_userState:y,_editMenu:g}=this;y?.editedBookmark&&(y.editedBookmark.thumbnail=null,y.validationState=void 0,g.open=!1,this._focusEditInputBox=!0,this.scheduleRender())}_startUseImageUrl(){this._userState&&(this._userState.state="edit-thumbnail"),this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(y){y.preventDefault();const{_urlEditInputNode:g,_userState:_}=this;if(!g||!_)return;const v=g.value;Jb.test(v)?(v&&_.editedBookmark&&(_.editedBookmark.thumbnail=new Sl({url:v})),this._closeUrlEditBookmarkForm()):_.validationState="absolute-url-required"}};function Yy(y){return y["data-bookmark"]}(0,we._)([(0,Le.Cb)()],qr.prototype,"_editIncludeTimeExtent",void 0),(0,we._)([(0,Le.Cb)({type:Ob})],qr.prototype,"_userState",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],qr.prototype,"_editMenuItems",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],qr.prototype,"_editMenu",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"defaultCreateOptions",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"defaultEditOptions",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"bookmarks",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"disabled",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"editingEnabled",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"headingLevel",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"goToOverride",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"label",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Bookmarks/t9n/Bookmarks")],qr.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/t9n/common")],qr.prototype,"messagesCommon",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"uiStrings",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:CA}),(0,RZ.s)(["select-bookmark","bookmark-edit","bookmark-select"])],qr.prototype,"viewModel",void 0),(0,we._)([(0,Le.Cb)()],qr.prototype,"visibleElements",void 0),(0,we._)([(0,Wi.p)("visibleElements")],qr.prototype,"castVisibleElements",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"endAddBookmark",null),(0,we._)([(0,Le.Cb)()],qr.prototype,"startAddBookmark",null),qr=(0,we._)([(0,cn.j)("esri.widgets.Bookmarks")],qr);const gz=qr;var ua=E(83821);let Uo=class extends dr.Z{constructor(y){super(y),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=(0,Fa.se)("hybrid",this._basemapCache),this.view=null}initialize(){(0,Gt.YP)(()=>this.nextBasemap,y=>{y&&!y.loaded&&y.load().catch(()=>{})},Gt.nn)}destroy(){this.view=null,(0,Fa.Bf)(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return(0,Fa.Us)(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:y}=this;return!y||!("spatialReferenceLocked"in y)||y.spatialReferenceLocked}get activeBasemap(){return(0,Fa.se)(this.view?.map?.basemap??"topo-vector",this._basemapCache)}castNextBasemap(y){return(0,Fa.se)(y,this._basemapCache)}get state(){const{view:y}=this;if(!y?.ready||this._nextBasemapSpatialReferenceTask.updating)return"disabled";const{spatialReference:g}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=g&&!y.spatialReference.equals(g)?"incompatible-next-basemap":this._loadingProjectionEngine?"loading":"ready"}toggle(){var y=this;return(0,hn.Z)(function*(){const{activeBasemap:g,nextBasemap:_,state:v,view:b}=y;if(!b||"disabled"===v||"incompatible-next-basemap"===v)return;const M=y._viewSpatialReferenceLocked;if(!M){if(yield(0,Gt.N1)(()=>!y._nextBasemapSpatialReferenceTask.updating),_!==y.nextBasemap||g!==y.activeBasemap)return;const{spatialReference:S}=y._nextBasemapSpatialReferenceTask;if(null==S||(0,Ud.fS)(b.spatialReference,S)||(0,ua.isLoaded)()||(0,ua.canProjectWithoutEngine)(b.spatialReference,S)||(y._loadingProjectionEngine=!0,yield(0,ua.load)(),y._loadingProjectionEngine=!1),_!==y.nextBasemap||g!==y.activeBasemap)return}b.map.basemap=_,M||null==y._nextBasemapSpatialReferenceTask.spatialReference||(0,Ud.fS)(b.spatialReference,y._nextBasemapSpatialReferenceTask.spatialReference)||(b.spatialReference=y._nextBasemapSpatialReferenceTask.spatialReference),y.nextBasemap=g})()}static getThumbnailUrl(y){return(0,Fa.Qs)(y)}};(0,we._)([(0,Le.Cb)()],Uo.prototype,"_loadingProjectionEngine",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Uo.prototype,"_nextBasemapSpatialReferenceTask",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Uo.prototype,"_viewSpatialReferenceLocked",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Uo.prototype,"activeBasemap",null),(0,we._)([(0,Le.Cb)()],Uo.prototype,"nextBasemap",void 0),(0,we._)([(0,Wi.p)("nextBasemap")],Uo.prototype,"castNextBasemap",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Uo.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Uo.prototype,"view",void 0),(0,we._)([(0,Le.Cb)()],Uo.prototype,"toggle",null),Uo=(0,we._)([(0,cn.j)("esri.widgets.BasemapToggle.BasemapToggleViewModel")],Uo);const HA=Uo,oc="esri-basemap-toggle",Tf="esri-basemap-thumbnail",Ha={base:oc,secondaryBasemapImage:`${oc}__image--secondary`,container:`${Tf} ${oc}__container`,image:`${Tf}__image ${oc}__image`,imageLoading:`${oc}__image--loading`,overlay:`${Tf}__overlay ${oc}__image-overlay`,title:`${Tf}__title ${oc}__title`,overlayScrim:`${Tf}__overlay-scrim`};var ih=E(86269);function JA(y){const g=(0,Fa.Qs)(y);return g?{backgroundImage:"url("+g+")"}:{backgroundImage:""}}const YA={title:!1};let No=class extends Ao.Z{constructor(y,g){super(y,g),this.messages=null,this.viewModel=new HA,this.visibleElements={...YA}}loadDependencies(){return(0,ff.h)({icon:()=>E.e(4540).then(E.bind(E,24540)),scrim:()=>Promise.all([E.e(7771),E.e(8592),E.e(780)]).then(E.bind(E,84013))})}get activeBasemap(){return this.viewModel.activeBasemap}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(y){this.viewModel.nextBasemap=y}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}castVisibleElements(y){return{...YA,...y}}toggle(){return this.viewModel.toggle()}render(){const y=this.viewModel,g="disabled"===y.state?null:y.activeBasemap,_="disabled"===y.state?null:y.nextBasemap,v="loading"===y.state,b="incompatible-next-basemap"===y.state,M=_?.title??"",S=_&&"loaded"!==_.loadStatus;let A;const K=this.visibleElements.title&&M,de=b;return(K||de)&&(A=(0,Ct.u)("div",{class:Ha.overlay,key:"overlay"},K?(0,Ct.u)("span",{class:Ha.title,title:M},M):null,de?(0,Ct.u)("calcite-scrim",{class:Ha.overlayScrim,title:this.messages.incompatibleSpatialReference},(0,Ct.u)("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),(0,Ct.u)("div",{bind:this,class:this.classes(Ha.base,er.z.widget,b?er.z.disabled:null),"data-basemap-id":_?_.id:"",onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:b?-1:0,title:this.label},(0,Ct.u)("div",{class:this.classes(Ha.container,Ha.secondaryBasemapImage)},(0,Ct.u)("div",{class:Ha.image,styles:JA(g)})),(0,Ct.u)("div",{class:Ha.container},(0,Ct.u)("div",{class:this.classes(Ha.image,S?Ha.imageLoading:null),styles:JA(_)},S||v?(0,Ct.u)("calcite-scrim",null,(0,Ct.u)("span",{"aria-hidden":"true",class:er.z.loaderAnimation,role:"presentation"})):null),A))}_toggle(){this.toggle()}};(0,we._)([(0,Le.Cb)({readOnly:!0})],No.prototype,"activeBasemap",null),(0,we._)([(0,Le.Cb)()],No.prototype,"label",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/BasemapToggle/t9n/BasemapToggle")],No.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],No.prototype,"nextBasemap",null),(0,we._)([(0,Le.Cb)()],No.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:HA})],No.prototype,"viewModel",void 0),(0,we._)([(0,Le.Cb)()],No.prototype,"visibleElements",void 0),(0,we._)([(0,Wi.p)("visibleElements")],No.prototype,"castVisibleElements",null),(0,we._)([(0,ih.h)()],No.prototype,"_toggle",null),No=(0,we._)([(0,cn.j)("esri.widgets.BasemapToggle")],No);const _z=No;var vz=E(90373),Ez=E(53722);let du=class extends dr.Z{constructor(y){super(y),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles((0,Gt.on)(()=>this.view?.ui,"expand",y=>{const{target:g}=y;g&&g!==this&&g.expanded&&g.group&&g.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(y){this._set("autoCollapse",y),this._watchViewpoint()}set expanded(y){const g=!!y;this._set("expanded",g);const _=this.view?.ui;_&&_.emit("expand",{target:this}),this._viewpointHandleChange(g)}get state(){return this.view?.ready?"ready":"disabled"}set view(y){this._get("view")!==y&&(this._set("view",y),y&&(0,Gt.gx)(()=>y.ready,()=>{this.view===y&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(y){this._viewpointHandle&&(y?(0,Gt.gx)(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const y="viewpoint";this.removeHandles(y),this._viewpointHandle=null;const{autoCollapse:g,view:_}=this;if(!_||!g)return;const v=(0,Gt.Wy)(()=>"3d"===_.type?_.camera:_.viewpoint,()=>this._collapse());this.addHandles(v,y),this._viewpointHandle=v}_collapse(){this.expanded=!1}};(0,we._)([(0,Le.Cb)({value:!1})],du.prototype,"autoCollapse",null),(0,we._)([(0,Le.Cb)({value:!1})],du.prototype,"expanded",null),(0,we._)([(0,Le.Cb)()],du.prototype,"group",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],du.prototype,"state",null),(0,we._)([(0,Le.Cb)({value:null})],du.prototype,"view",null),du=(0,we._)([(0,cn.j)("esri.widgets.Expand.ExpandViewModel")],du);const QA=du;var Qy=E(36911);const Zi="esri-expand",gi={base:Zi,modeAuto:`${Zi}--auto`,modeDrawer:`${Zi}--drawer`,modeFloating:`${Zi}--floating`,container:`${Zi}__container`,containerExpanded:`${Zi}__container--expanded`,panel:`${Zi}__panel`,icon:"esri-collapse__icon",iconExpanded:`${Zi}__icon--expanded`,iconNumber:`${Zi}__icon-number`,iconNumberExpanded:`${Zi}__icon-number--expanded`,content:`${Zi}__content`,contentExpanded:`${Zi}__content--expanded`,expandMask:`${Zi}__mask`,expandMaskExpanded:`${Zi}__mask--expanded`};let es=class extends Ao.Z{constructor(y,g){super(y,g),this.closeOnEsc=!0,this.collapseIcon=null,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconClass=null,this.icon=null,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.viewModel=new QA,this._handleKeyDown=_=>{const{closeOnEsc:v,_toggleButtonEl:b,expanded:M}=this;!M||!v||_.target===b||"Escape"!==_.key||("function"==typeof v?v(_):v)&&(this.expanded=!1,b?.focus())}}loadDependencies(){return(0,ff.h)({icon:()=>E.e(4540).then(E.bind(E,24540))})}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:y,messagesCommon:g,collapseTooltip:_,expandTooltip:v}=this;return(y?_||g?.collapse:v||g?.expand)??""}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(y){this.viewModel.autoCollapse=y}get collapseIconClass(){return Ds.W.collapse}set collapseIconClass(y){this._overrideIfSome("collapseIconClass",y)}get expanded(){return this.viewModel.expanded}set expanded(y){this.viewModel.expanded=y}get expandIconClass(){return(0,Qy.Qd)(this.content)?this.content.iconClass:Ds.W.expand}set expandIconClass(y){this._overrideIfSome("expandIconClass",y)}get expandIcon(){return(0,Qy.Qd)(this.content)?this.content.icon:void 0}set expandIcon(y){this._overrideIfSome("expandIcon",y)}get group(){return this.viewModel.group}set group(y){this.viewModel.group=y}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:y}=this;return(0,Ct.u)("div",{class:this.classes(gi.base,er.z.widget,{[gi.modeAuto]:"auto"===y,[gi.modeDrawer]:"drawer"===y,[gi.modeFloating]:"floating"===y}),onkeydown:this._handleKeyDown},this._renderMask(),this._renderContainer())}_renderContainer(){const{expanded:y}=this;return(0,Ct.u)("div",{class:this.classes(gi.container,{[gi.containerExpanded]:y})},this._renderPanel(),this._renderContent())}_renderMask(){const{expanded:y}=this;return(0,Ct.u)("div",{bind:this,class:this.classes(gi.expandMask,{[gi.expandMaskExpanded]:y}),onclick:this._toggle})}_renderBadgeNumber(){const{expanded:y,iconNumber:g}=this;return g&&!y?(0,Ct.u)("span",{class:gi.iconNumber,key:"expand__icon-number"},g):null}_renderPanelNumber(){const{iconNumber:y,expanded:g}=this;return y&&g?(0,Ct.u)("span",{class:this.classes(gi.iconNumber,gi.iconNumberExpanded),key:"expand__expand-icon-number"},y):null}_renderIcon(){return(0,Ct.u)("calcite-icon",{icon:(this.expanded?this.collapseIcon:this.expandIcon)??"",key:"icon",scale:"s"})}_renderLegacyIcon(){const{collapseIconClass:y,expandIconClass:g,expanded:_}=this,v={[gi.iconExpanded]:_};return null!=g&&(v[g]=!_),null!=y&&(v[y]=y===g||_),(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(gi.icon,v),key:"legacy-icon"})}_renderTitle(){return(0,Ct.u)("span",{class:Ds.W.fontFallbackText},this.expandTitle)}_renderExpandButton(){const{expanded:y,expandTitle:g,expandIcon:_,collapseIcon:v,contentId:b}=this;return(0,Ct.u)("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":b,"aria-expanded":y?"true":"false",bind:this,class:er.z.widgetButton,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:0,title:g},this._renderBadgeNumber(),!y&&null!=_||y&&null!=v?this._renderIcon():this._renderLegacyIcon(),this._renderTitle())}_renderPanel(){return(0,Ct.u)("div",{class:gi.panel},this._renderExpandButton(),this._renderPanelNumber())}_renderContent(){const{expanded:y,contentId:g,content:_}=this,b={id:g,role:"region",class:this.classes(gi.content,{[gi.contentExpanded]:y})};return"string"==typeof _?(0,Ct.u)("div",{innerHTML:_,key:"content__string",...b}):(0,Qy.Qd)(_)?(0,Ct.u)("div",{key:"content__widget",...b},_.render()):_ instanceof HTMLElement?(0,Ct.u)("div",{afterCreate:this._attachToNode,bind:_,key:"content__html-element",...b}):(0,Qy.o)(_)?(0,Ct.u)("div",{afterCreate:this._attachToNode,bind:_.domNode,key:"content__node",...b}):null}_toggle(){this.toggle()}_attachToNode(y){y.appendChild(this)}_storeToggleButtonEl(y){this._toggleButtonEl=y}};(0,we._)([(0,Le.Cb)({readOnly:!0})],es.prototype,"contentId",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],es.prototype,"expandTitle",null),(0,we._)([(0,Le.Cb)()],es.prototype,"autoCollapse",null),(0,we._)([(0,Le.Cb)()],es.prototype,"closeOnEsc",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"collapseIconClass",null),(0,we._)([(0,Le.Cb)()],es.prototype,"collapseIcon",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"collapseTooltip",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"content",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"expanded",null),(0,we._)([(0,Le.Cb)()],es.prototype,"expandIconClass",null),(0,we._)([(0,Le.Cb)()],es.prototype,"expandIcon",null),(0,we._)([(0,Le.Cb)()],es.prototype,"expandTooltip",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"group",null),(0,we._)([(0,Le.Cb)()],es.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"iconNumber",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"label",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Expand/t9n/Expand")],es.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/t9n/common")],es.prototype,"messagesCommon",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"mode",void 0),(0,we._)([(0,Le.Cb)()],es.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:QA})],es.prototype,"viewModel",void 0),(0,we._)([(0,ih.h)()],es.prototype,"_toggle",null),es=(0,we._)([(0,cn.j)("esri.widgets.Expand")],es);const XA=es;E(91531);var Xy=E(37718),qA=E(66476),ex=E(71950),fs=E(55768),bz=E(51431),Pf=E(60301),Cz=E(54786),Mz=E(53984),Dz=E(61793),Sz=E(85295),tx=E(86741),wz=E(91963);E(34113);var Pz=E(5942),Az=E(43157),rx=E(52830),xz=E(86336),Lz=E(36232),Ja=E(38826),oh=E(62616),Rz=E(67285),Af=E(87463),Nz=E(10750),sx=E(82339),Ol=E(46052),Ya=E(36999),ix=E(55774),ah=E(35451),Bz=E(66637);const Qb=30,Xb=12,ox=[255,255,255],ax=[200,200,200],lh=[128,128,128],Fz=20,Wz=5;function Kz(y,g,_,v,b,M,S){return qb.apply(this,arguments)}function qb(){return qb=(0,hn.Z)(function*(y,g,_,v,b,M,S){const A=g.legendOptions,K=A?.customValues,de=S||(yield function Jz(y,g){return eC.apply(this,arguments)}(y,_)),De=g.stops,at=De&&De.length>1;if(!de||!K&&!(null!=g.minSize&&null!=g.maxSize||at&&!g.target))return;const mt=(0,oh.YW)(de);let At=!1,St=null,Yt=null;St=mt&&!at?(0,Ol.NM)([g.minDataValue,g.maxDataValue]):K??(yield function Qz(y,g,_,v){return tC.apply(this,arguments)}(g,de,v,b?.type));const Kt=y?.authoringInfo,sn="univariate-color-size"===Kt?.type,gn=sn&&"above-and-below"===Kt?.univariateTheme;if(!St&&at&&(St=De.map(os=>os.value),At=De.some(os=>!!os.label),"flow"===y.type&&(St=(0,Ol.NM)(St)),At&&(Yt=De.map(os=>os.label))),mt&&null!=St&&St?.length>2&&!gn&&(St=[St[0],St[St.length-1]]),!St)return null;sn&&5!==St?.length&&(St=cx({minSize:St[0],maxSize:St[St.length-1]}));const wr=mt?function Gz(y,g){const _=y?.authoringInfo,v="univariate-color-size"===_?.type;let b=[Xb,Qb];if(v){const M=g[0],S=g[g.length-1],A=Xb,K=Qb;b=g.map(de=>A+(de-M)/(S-M)*(K-A))}return v&&"below"===_?.univariateTheme&&b.reverse(),b}(y,St):null,ms=(0,oh.Y6)(de),xr=At?null:function zz(y,g){const _=y.length-1;return y.map((v,b)=>(0,Ya.MN)(v,b,_,g))}(St,M);return(yield Promise.all(St.map(function(){var os=(0,hn.Z)(function*(li,Ei){const ri=mt?wr[Ei]:yield uh(g,de,li,v,b?.type);return{value:li,symbol:eK(gn&&"class-breaks"===y.type?Hz(y,Ei):de,ri),label:At?Yt[Ei]:xr[Ei],size:ri,outlineSize:ms}});return function(li,Ei){return os.apply(this,arguments)}}()))).reverse()}),qb.apply(this,arguments)}function Hz(y,g){const _=y.classBreakInfos,v=_.length,b=v<2||!(g>=2)?_[0].symbol.clone():_[v-1].symbol.clone();return y.visualVariables.some(M=>"color"===M.type)&&(b.type.includes("3d")?lx(b):ux(b)),b}function eC(){return(eC=(0,hn.Z)(function*(y,g){if("flow"===y.type)return(0,Ya.y$)(y,g);if("pie-chart"===y.type)return new ah.Z({color:null,outline:y.outline?.width?y.outline:new Bz.Z});let _=null,v=null;if("simple"===y.type)_=y.symbol;else if("class-breaks"===y.type){const b=y.classBreakInfos;_=b&&b[0]&&b[0].symbol,v=b.length>1}else if("unique-value"===y.type){const b=y.uniqueValueInfos;_=b?.[0]?.symbol,v=null!=b&&b.length>1}return!_||function Yz(y){return!!y&&((0,ex.dU)(y)?!!y.symbolLayers&&y.symbolLayers.some(g=>g&&"fill"===g.type):y.type.includes("fill"))}(_)?null:(_=_.clone(),(g||v)&&(_.type.includes("3d")?lx(_):ux(_)),_)})).apply(this,arguments)}function lx(y){y.symbolLayers.forEach("line-3d"===y.type?g=>{g.material={color:lh}}:g=>{"icon"!==g.type||g.resource?.href?g.material={color:ax}:(g.material={color:ox},g.outline={color:lh,size:1.5})})}function ux(y){const g=(0,ix.$o)();"cim"===y.type?(0,rx.ZB)(y,new Na.Z(ax)):y.type.includes("line")?y.color=lh:(y.color=g?lh:ox,"simple-marker"===y.type&&(y.outline?"#ffffff"===y.outline?.color?.toHex()&&(y.outline.color=lh):y.outline={color:lh,width:1.5}))}function tC(){return(tC=(0,hn.Z)(function*(y,g,_,v){const b=(yield Promise.resolve().then(E.bind(E,37157))).getSizeRangeAtScale(y,_,v),M=b&&cx(b);if(!b||!M)return;let S=M.map(A=>function Xz(y,g,_){const v=_.minSize,b=_.maxSize,M=g.minDataValue,S=g.maxDataValue;let A;return A=y<=v?M:y>=b?S:(y-v)/(b-v)*(S-M)+M,A}(A,y,b));S=(0,Ol.NM)(S);for(let A=1;A<S.length-1;A++){const K=yield qz(y,g,S[A],S[A-1],_,v);K&&(S[A]=K[0],M[A]=K[1])}return S})).apply(this,arguments)}function cx(y){const g=y.minSize,v=Wz,b=(y.maxSize-g)/(v-1),M=[];for(let S=0;S<v;S++)M.push(g+b*S);return M}function qz(y,g,_,v,b,M){return nC.apply(this,arguments)}function nC(){return(nC=(0,hn.Z)(function*(y,g,_,v,b,M){const S=yield uh(y,g,_,b,M),A=yield uh(y,g,v,b,M),K=(0,Ol.D2)(_),De=Fz;let Te=K.integer,Ve=null,nt=null;_>0&&_<1&&(Ve=10**K.fractional,Te=(0,Ol.D2)(_*=Ve).integer);for(let at=Te-1;at>=0;at--){const gt=10**at;let mt=Math.floor(_/gt)*gt,At=Math.ceil(_/gt)*gt;null!=Ve&&(mt/=Ve,At/=Ve);let St=(mt+At)/2;[,St]=(0,Ol.NM)([mt,St,At],{indexes:[1]});const Yt=yield uh(y,g,mt,b,M),Kt=yield uh(y,g,At,b,M),sn=yield uh(y,g,St,b,M),gn=(0,Ol.f1)(S,Yt,A,null),wr=(0,Ol.f1)(S,Kt,A,null),ms=(0,Ol.f1)(S,sn,A,null);let xr=gn.previous<=De,os=wr.previous<=De;if(xr&&os&&(gn.previous<=wr.previous?(xr=!0,os=!1):(os=!0,xr=!1)),xr?nt=[mt,Yt]:os?nt=[At,Kt]:ms.previous<=De&&(nt=[St,sn]),nt)break}return nt})).apply(this,arguments)}function uh(y,g,_,v,b){return rC.apply(this,arguments)}function rC(){return(rC=(0,hn.Z)(function*(y,g,_,v,b){const{getSize:M}=yield Promise.resolve().then(E.bind(E,37157));return M(y,_,{scale:v,view:b,shape:"simple-marker"===g.type?g.style:null})})).apply(this,arguments)}function eK(y,g){const _=y.clone();if((0,ex.dU)(_))(0,oh.YW)(_)||_.symbolLayers.forEach(v=>{"fill"!==v.type&&(v.size=g)});else if(function Vz(y){return"esri.symbols.SimpleMarkerSymbol"===y.declaredClass}(_))_.size=g;else if(function $z(y){return"esri.symbols.PictureMarkerSymbol"===y.declaredClass}(_)){const v=_.width,b=_.height;_.height=g,_.width=g*(v/b)}else!function kz(y){return"esri.symbols.SimpleLineSymbol"===y.declaredClass}(_)?function Zz(y){return"esri.symbols.TextSymbol"===y.declaredClass}(_)&&_.font&&(_.font.size=g):_.width=g;return _}var dx=E(37689);E(64023);var hx=E(89481),px=E(33653),qy=E(36766);const eg=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,oK=new Bd.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),tg=new ah.Z({size:6,outline:{color:[128,128,128,.5],width:.5}}),aK=new hx.Z({style:"solid"});function sC(y){return"flow"===y.type}function fx(y){return"vector-field"===y.type}function mx(y){return"raster-colormap"===y.type}function yx(y){return"raster-stretch"===y.type}function gx(y){return"raster-shaded-relief"===y.type}function ch(y){return"esri.renderers.SimpleRenderer"===y.declaredClass}function dh(y){return"esri.renderers.ClassBreaksRenderer"===y.declaredClass}function ng(y){return"esri.renderers.UniqueValueRenderer"===y.declaredClass}function _x(y){return"esri.renderers.HeatmapRenderer"===y.declaredClass}function iC(y){return"esri.renderers.PointCloudClassBreaksRenderer"===y.declaredClass}function oC(y){return"esri.renderers.PointCloudStretchRenderer"===y.declaredClass}function aC(y){return"esri.renderers.PointCloudUniqueValueRenderer"===y.declaredClass}function vx(y){return"esri.renderers.DotDensityRenderer"===y.declaredClass}function Ex(y){return"esri.renderers.PieChartRenderer"===y.declaredClass}function lC(y){return"esri.layers.SubtypeGroupLayer"===y.declaredClass}function uC(y){return"esri.layers.MapImageLayer"===y.declaredClass}function bx(y){return"esri.layers.TileLayer"===y.declaredClass}function hh(y){return"esri.layers.ImageryLayer"===y.declaredClass}function rg(y){return"esri.layers.ImageryTileLayer"===y.declaredClass}function Cx(y){return"sublayers"in y}function Tl(y,g){return cC.apply(this,arguments)}function cC(){return(cC=(0,hn.Z)(function*(y,g){const _=yield(0,px.ME)("esri/widgets/Legend/t9n/Legend");return"previewTemplateAriaLabel"!==y||g||(y="previewAriaLabel"),(0,qy.n)(_[y],{label:g})})).apply(this,arguments)}const vK=new ah.Z({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let ph={},Ws=class extends dr.Z{constructor(y){super(y),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new ss.Z,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const y=()=>this.notifyChange("ready");this.addHandles([(0,Gt.on)(()=>this.children,"change",g=>{const{added:_,removed:v}=g;_.forEach(b=>{const M=`activeLayerInfo-ready-watcher-${b.layer.uid}`;this.addHandles((0,Gt.YP)(()=>b.ready,y,Gt.nn),M)}),v.forEach(b=>this.removeHandles(b.layer.uid)),y()})]),this.keepCacheOnDestroy||(ph={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(ph=null)}get effectList(){const y=this.layer;let g=null;return"effect"in y&&y.effect&&(g=new Cz.AM,g.effect=y.effect,g.endTransitions(),g.scale=this.scale),g}get opacity(){const y=this.layer.opacity,g=this.parent?.opacity,_=this.layer.parent,v=_&&"uid"in _?this._getParentLayerOpacity(_):null;return null!=g?g*y:null!=v?v*y:y}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view?.scale??0}get isScaleDriven(){const y=this.layer;if(null===y)return!1;if("effect"in y&&y.effect&&Array.isArray(y.effect))return!0;if("featureReduction"in y&&y.featureReduction){if("cluster"===y.featureReduction.type)return!0;if("binning"===y.featureReduction.type&&"renderer"in y.featureReduction&&y.featureReduction.renderer)return this._isRendererScaleDriven(y.featureReduction.renderer)}return"renderer"in y&&y.renderer?this._isRendererScaleDriven(y.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}buildLegendElementsForFeatureCollections(y){var g=this;return(0,hn.Z)(function*(){if(g.hideLayersNotInCurrentView&&!(yield g._isLayerInCurrentView()))return g.legendElements=[],void g.notifyChange("ready");const _=Array.from(y,v=>{if((0,tb.Te)(v))return g._getRendererLegendElements(v.renderer,{title:v.title});if(v.featureSet?.features.length){const b=v.layerDefinition,M=b?.drawingInfo,S=M&&(0,wz.i)(M.renderer),A=oK.read(b.geometryType);return S?g._getRendererLegendElements(S,{title:v.name,geometryType:A}):(nr.Z.getLogger(g).warn("drawingInfo not available!"),null)}return null});try{const v=[],b=yield Promise.allSettled(_);for(const M of b)if("fulfilled"===M.status)for(const S of M.value??[])v.push(S);g.legendElements=v,g.notifyChange("ready")}catch(v){nr.Z.getLogger(g).warn("error while building legend for layer!",v)}})()}buildLegendElementsForRenderer(y){var g=this;return(0,hn.Z)(function*(){try{const _=!g.hideLayersNotInCurrentView||(yield g._isLayerInCurrentView());g.legendElements=_?yield g._getRendererLegendElements(y):[],g.notifyChange("ready")}catch(_){nr.Z.getLogger(g).warn("error while building legend for layer!",_)}})()}buildLegendElementsForFeatureReduction(y){var g=this;return(0,hn.Z)(function*(){try{const _=!g.hideLayersNotInCurrentView||(yield g._isLayerInCurrentView());g.legendElements=_?yield g._getLegendElementsForFeatureReduction(y):[],g.notifyChange("ready")}catch(_){nr.Z.getLogger(g).warn("error while building legend for layer!",_)}})()}buildLegendElementsForTools(){var y=this;return(0,hn.Z)(function*(){const g=y.layer;if(function hK(y){return"esri.layers.VoxelLayer"===y.declaredClass}(g))y._constructLegendElementsForVoxellayer();else if(function fK(y){return"esri.layers.WMTSLayer"===y.declaredClass}(g))y._constructLegendElementsForWMTSlayer();else if(function pK(y){return"esri.layers.WMSLayer"===y.declaredClass}(g))yield y._constructLegendElementsForWMSSublayers();else if(function dK(y){return"esri.layers.BuildingSceneLayer"===y.declaredClass}(g))yield y._constructLegendElementsForBuildingSceneLayer();else if(uC(g)||bx(g)||lC(g))yield y._constructLegendElementsForSublayers();else{y.removeHandles("imageryLayers-watcher");let _="default";hh(g)&&(_=(g?.rasterFunction?.functionName||"default")+"_"+(g.bandIds?.length?g.bandIds.join(""):"###")),yield y._getLegendLayers(`${g.uid}-${_}`).then(function(){var v=(0,hn.Z)(function*(b){y.legendElements=[],y.notifyChange("ready");const M=b.map(function(){var S=(0,hn.Z)(function*(A){if(hh(g)||rg(g)){const de=(0,Gt.YP)(()=>["renderingRule"in g&&g.rasterFunction,g.bandIds],()=>(0,Fr.Ds)((0,hn.Z)(function*(){ph.default=null,g.renderer?yield y.buildLegendElementsForRenderer(g.renderer):yield y.buildLegendElementsForTools()}))());y.addHandles(de,"imageryLayers-watcher")}const K=y._generateSymbolTableElementForLegendLayer(A);K&&K.infos.length&&(hh(g)&&(K.title=g.title),y.legendElements.push(K)),y.notifyChange("ready")});return function(A){return S.apply(this,arguments)}}());yield Promise.allSettled(M)});return function(b){return v.apply(this,arguments)}}()).catch(v=>{nr.Z.getLogger(y).warn("Request to server for legend has failed!",v)})}})()}_isLayerInCurrentView(){var y=this;return(0,hn.Z)(function*(){const g=y.layer,_=y.layerView,v=_&&"createQuery"in _&&"queryFeatureCount"in _;if(!(v||_&&"createQuery"in g&&"queryFeatureCount"in g))return!0;yield(0,Gt.N1)(()=>!_.updating);const b=v?"createQuery"in _&&_.createQuery():"createQuery"in g&&g.createQuery();return!b||(b.geometry=y.view.extent,0!==(v?"queryFeatureCount"in _&&(yield _.queryFeatureCount(b)):"queryFeatureCount"in g&&(yield g.queryFeatureCount(b))))})()}_getParentLayerOpacity(y){let g=1;const _=y.parent;return _&&"uid"in _&&(g=this._getParentLayerOpacity(_)),y.opacity*g}_isGroupActive(){const y=this.children;return!!y.length&&y.some(g=>g.ready)}_isRendererScaleDriven(y){return"dot-density"===y.type||(!!eg.test("valueExpression"in y?y.valueExpression:null)||!!("visualVariables"in y?y.visualVariables:null)?.some(v=>this._isScaleDrivenSizeVariable(v))||this._hasScaleDrivenSymbols(y))}_hasScaleDrivenSymbols(y){switch(y.type){case"simple":return this._isScaleDrivenSymbol(y.symbol);case"class-breaks":return this._isScaleDrivenSymbol(y.defaultSymbol)||y.classBreakInfos.some(g=>this._isScaleDrivenSymbol(g.symbol));case"unique-value":return this._isScaleDrivenSymbol(y.defaultSymbol)||!!y.uniqueValueInfos?.some(g=>this._isScaleDrivenSymbol(g.symbol))}return!1}_isScaleDrivenSymbol(y){if("cim"===y?.type){const{primitiveOverrides:g,minScale:_,maxScale:v}=y.data,b=g?.some(M=>/\$view\.scale/.test(M.valueExpressionInfo?.expression||""))??!1;return null!=_||null!=v||b}return!1}_isScaleDrivenSizeVariable(y){if(y&&"size"!==y.type)return!1;const g=y,_=g.minSize,v=g.maxSize;return!("object"!=typeof _||!_||!this._isScaleDrivenSizeVariable(_))||!("object"!=typeof v||!v||!this._isScaleDrivenSizeVariable(v))||!!g.expression||eg.test(g.valueExpression)}_isLayerScaleDriven(y){if("minScale"in y&&y.minScale>0||"maxScale"in y&&y.maxScale>0)return!0;if("sublayers"in y&&y.sublayers)return y.sublayers.some(_=>this._isLayerScaleDriven(_));const g=y.parent;if(!1===y.loaded&&g&&uC(g)&&"source"in y&&y.source&&"map-layer"===y.source.type)for(const _ of g.sourceJSON.layers??[])if(_.id===y.source.mapLayerId&&(_.minScale>0||_.maxScale>0))return!0;return!1}_constructLegendElementsForVoxellayer(){var y=this;return(0,hn.Z)(function*(){y.legendElements=[],y.removeHandles("voxel-style-watcher"),y.removeHandles("voxel-current-variable");const g=y.layer;y.addHandles((0,Gt.YP)(()=>g.currentVariableId,()=>y._constructLegendElementsForVoxellayer()),"voxel-current-variable"),y.addHandles((0,Gt.YP)(()=>g.getVariableStyles(),()=>y._constructLegendElementsForVoxellayer()),"voxel-style-watcher");const _=g.getVariableStyle(null),v=[];if(_)if(_.uniqueValues?.length){const S=[];_.uniqueValues.forEach(A=>{A.enabled&&S.push({label:A.label||`${A.value}`,value:A.value,symbol:new hx.Z({color:A.color,outline:null})})}),S.length&&v.push({type:"symbol-table",title:_.label,infos:S})}else if(_.transferFunction){const{colorStops:S,stretchRange:A}=_.transferFunction,K=S.toArray().reverse(),de=A.map((Te,Ve)=>`${0===Ve?Ya.z4:Ya.Z8} ${function tK(y){const _=Math.floor(Math.log10(Math.abs(y)))+1,v=_<4||_>6?4:_,M=Math.abs(y)>=1e6?"compact":"standard";return(0,dx.uf)(y,{notation:M,minimumSignificantDigits:2,maximumSignificantDigits:v})}(Te)}`).reverse(),De=K.map(Te=>({color:Te.color,value:null,label:null}));De[0].label=de[0],De[De.length-1].label=de[1],v.push({type:"color-ramp",title:_.label,infos:De,preview:(0,Ja.jT)(K.map(Te=>Te.color),{ariaLabel:yield Tl("previewColorRampAriaLabel")})})}const b=g.opacity,M=v.reduce((S,A)=>[...S,...y._getAllInfos(A)],[]).filter(S=>!!S?.symbol).map(S=>y._getSymbolPreview(S,b));yield Promise.allSettled(M),y.legendElements=v,y.notifyChange("ready")})()}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this.removeHandles("wmts-activeLayer-watcher");const y=this.layer.activeLayer;if(this.addHandles((0,Gt.YP)(()=>{const{layer:g}=this;return g&&"activeLayer"in g&&g.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher"),y.styleId&&y.styles){let g=null;y.styles.some(_=>y.styleId===_.id&&(g=_.legendUrl,!0)),g&&(this.legendElements=[{type:"symbol-table",title:y.title,infos:[{src:g,opacity:this.opacity}]}])}this.notifyChange("ready")}_constructLegendElementsForWMSSublayers(){var y=this;return(0,hn.Z)(function*(){y.legendElements=[],y.removeHandles("wms-sublayers-watcher");const g=y.layer;let _=null;(g.customParameters||g.customLayerParameters)&&(_={...g.customParameters,...g.customLayerParameters}),y.addHandles((0,Gt.YP)(()=>{const{layer:v}=y;return v&&"sublayers"in v&&v.sublayers},()=>y._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),y.legendElements=yield y._generateLegendElementsForWMSSublayers(g.sublayers,_),y.notifyChange("ready")})()}_generateLegendElementsForWMSSublayers(y,g){var _=this;return(0,hn.Z)(function*(){const v=[];_.addHandles(y.on("change",()=>_._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const b=y.toArray();for(const M of b){const S=(0,Gt.YP)(()=>[M.title,M.visible,M.legendEnabled],()=>_._constructLegendElementsForWMSSublayers());if(_.addHandles(S,"wms-sublayers-watcher"),!_.respectLayerVisibility||M.visible&&M.legendEnabled){const A=yield _._generateSymbolTableElementForWMSSublayer(M,g);A?.infos.length&&v.unshift(A)}}return v})()}_generateSymbolTableElementForWMSSublayer(y,g){var _=this;return(0,hn.Z)(function*(){if(!y.legendUrl&&y.sublayers){const v=(yield _._generateLegendElementsForWMSSublayers(y.sublayers,g)).filter(b=>b);return{type:"symbol-table",title:y.title,infos:v}}return _._generateSymbolTableElementForLegendUrl(y,g)})()}_generateSymbolTableElementForLegendUrl(y,g){return(0,hn.Z)(function*(){let _=y.legendUrl;if(!_)return;const v={type:"symbol-table",title:y.title||y.name||String(y.id??""),infos:[]};g&&(_=(0,rf.fl)(_,g));let b=null;const M=y.layer?.opacity;try{b=(yield(0,qA.Z)(_,{responseType:"image"})).data,b&&(b.style.opacity=M)}catch{}return v.infos.push({src:_,preview:b,opacity:M}),v})()}_getLegendLayers(y,g){const _=ph&&ph[y];return _?Promise.resolve(_):this._legendRequest(g).then(v=>{const b=v.layers;return ph[y]=b,b})}_legendRequest(y){const g=this.layer;let _={f:"json",dynamicLayers:y};if(hh(g)){const b=g.exportImageServiceParameters.rasterFunction;if(b&&(_.renderingRule=JSON.stringify(b.functionDefinition?.toJSON()||b.toJSON())),g.bandIds&&(_.bandIds=g.bandIds.join()),g.raster||g.viewId||g.customParameters){const{raster:M,viewId:S,customParameters:A}=g;_={raster:M,viewId:S,..._,...A}}}let v=g.url.replace(/(\/)+$/,"");if("version"in g&&+g.version>=10.01){const b=v.indexOf("?");b>-1?v=v.substring(0,b)+"/legend"+v.substring(b):v+="/legend"}else{const b=v.toLowerCase().indexOf("/rest/"),M=v.substring(0,b)+v.substring(b+5,v.length);v="https://utility.arcgis.com/sharing/tools/legend?soapUrl="+encodeURI(M)+"&returnbytes=true"}return(0,qA.Z)(v,{query:_}).then(b=>b.data)}_constructLegendElementsForBuildingSceneLayer(){var y=this;return(0,hn.Z)(function*(){y.legendElements=[],y.removeHandles("sublayers-watcher");const g=y.layer;y.addHandles((0,Gt.YP)(()=>g.sublayers,()=>y._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{y.legendElements=yield y._generateLegendElementsForBuildingSublayers(g.sublayers,y.opacity),y.notifyChange("ready")}catch(_){nr.Z.getLogger(y).warn("Request to server for legend has failed!",_)}})()}_generateLegendElementsForBuildingSublayers(y,g){var _=this;return(0,hn.Z)(function*(){let v=[];_.addHandles(y.on("change",()=>_._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const b=y.toArray();for(const M of b){const S=(0,Gt.YP)(()=>["renderer"in M&&M.renderer,M.opacity,M.title,M.visible],()=>_._constructLegendElementsForBuildingSceneLayer());if(_.addHandles(S,"sublayers-watcher"),!_.respectLayerVisibility||M.visible){const A=null!=M?.opacity?M.opacity:null,K=null!=A?A*g:g;if("building-group"===M.type){const de={type:"symbol-table",title:M.title,infos:[]},De=yield _._generateLegendElementsForBuildingSublayers(M.sublayers,K);de.infos.push(...De),v=[de,...v]}else M.renderer&&(v=[...yield _._getRendererLegendElements(M.renderer,{title:M.title,opacity:K,sublayer:M}),...v])}}return v.filter(M=>!!M&&(!("infos"in M)||!M.infos||M.infos.length>0))})()}_constructLegendElementsForSublayers(){var y=this;return(0,hn.Z)(function*(){y.legendElements=[],y.removeHandles("sublayers-watcher");const g=y.layer;if(uC(g)||bx(g)||lC(g)){y.addHandles((0,Gt.YP)(()=>g.sublayers,()=>y._constructLegendElementsForSublayers),"sublayers-watcher");try{y.legendElements=yield y._generateLegendElementsForSublayers(g.sublayers,y.opacity),y.notifyChange("ready")}catch(_){nr.Z.getLogger(y).warn("Request to server for legend has failed!",_)}}})()}_generateLegendElementsForSublayers(y,g,_){var v=this;return(0,hn.Z)(function*(){const b=v.layer;let M=[];v.addHandles(y.on("change",()=>v._constructLegendElementsForSublayers()),"sublayers-watcher");let S=y.toArray();!_&&v.sublayerIds&&v.sublayerIds.length&&(S=lC(b)?v.sublayerIds.map(A=>b.findSublayerForSubtypeCode(A)).filter(Cl.pC):v.sublayerIds.map(A=>b.findSublayerById(A)).filter(Cl.pC));for(const A of S){const K=(0,Gt.YP)(()=>[A.renderer,A.opacity,A.title,A.visible,A.legendEnabled],()=>v._constructLegendElementsForSublayers());if(v.addHandles(K,"sublayers-watcher"),!v.respectLayerVisibility||A.visible&&A.legendEnabled&&v._isSublayerInScale(A)){const de=null!=A?.opacity?A.opacity:null,De=null!=de?de*g:g,Te=!Cx(A)||A.originIdOf("renderer")>Pf.s3.SERVICE&&!A.sublayers;if(A.renderer&&Te)yield A.load(),M=[...yield v._getRendererLegendElements(A.renderer,{title:A.title,opacity:De,sublayer:A}),...M];else if(Cx(A)){const Ve=yield v._generateSymbolTableElementForSublayer(A,De,_);Ve&&M.unshift(Ve)}}}return M.filter(A=>!!A&&(!("infos"in A)||!A.infos||A.infos.length>0))})()}_generateSymbolTableElementForSublayer(y,g,_){var v=this;return(0,hn.Z)(function*(){if(!_){_=new Map;const M=v.layer,S=y.source;let A=null;if(S&&("map-layer"!==S.type||S.mapLayerId!==y.id||S.gdbVersion&&S.gdbVersion!==("gdbVersion"in M&&M.gdbVersion))||y.originIdOf("renderer")>Pf.s3.SERVICE||y.originIdOf("labelingInfo")>Pf.s3.SERVICE||y.originIdOf("labelsVisible")>Pf.s3.SERVICE){const de=new Dz.R({layer:v.layer});A=de.hasDynamicLayers?de.dynamicLayers:null,de.destroy()}const K=A||`${M.uid}-default`;(yield v._getLegendLayers(K,A)).forEach(de=>_.set(de.layerId,de))}const b=_.get(y.id);if((!b||b?.subLayerIds&&b.defaultVisibility)&&y.sublayers){const M=yield v._generateLegendElementsForSublayers(y.sublayers,g,_);return{type:"symbol-table",title:y.title,infos:M}}return v._generateSymbolTableElementForLegendLayer(b,y,g)})()}_generateSymbolTableElementForLegendLayer(y,g,_){if(!y?.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(y,g))return null;const v=g?.renderer;let b=g?.title||y.layerName;if(v&&(!g||g?.originIdOf("renderer")>Pf.s3.SERVICE)){const A=g?.title||this._getRendererTitle(v,g);A&&(b&&"string"!=typeof A&&"title"in A&&(A.title=b),b=A)}const M={type:"symbol-table",title:b,legendType:y.legendType||null,infos:[]},S=g?this._sanitizeLegendForSublayer(y.legend.slice(),g):y.legend;return y.legendGroups&&y.legendGroups.length>0?y.legendGroups.forEach(A=>{const K={type:"symbol-table",title:A.heading,legendType:y.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(S.filter(de=>de.groupId===A.id),y.layerId,_)};K.infos?.length>0&&M.infos.push(K)}):M.infos=this._generateSymbolTableElementInfosForLegendLayer(S,y.layerId,_),M.infos.length>0?M:null}_generateSymbolTableElementInfosForLegendLayer(y,g,_){return y.map(v=>{let b=v.url;if(v.imageData&&v.imageData.length>0)b=`data:image/png;base64,${v.imageData}`;else{if(0===b.indexOf("http"))return null;b=(0,tA.Dp)(`${this.layer.url}/${g}/images/${b}`)}return{label:v.label,src:b,opacity:_??this.opacity,width:v.width,height:v.height}}).filter(Cl.pC)}_isSublayerInScale(y){const g=y.minScale||0;return!(g>0&&g<this.scale||(y.maxScale||0)>this.scale)}_isLegendLayerInScale(y,g){const _=g||this.layer;let v=null,b=null,M=!0;return!_.minScale&&0!==_.minScale||!_.maxScale&&0!==_.maxScale?(0===y.minScale&&_.tileInfo&&(v=_.tileInfo.lods[0].scale),0===y.maxScale&&_.tileInfo&&(b=_.tileInfo.lods[_.tileInfo.lods.length-1].scale)):(v=Math.min(_.minScale,y.minScale)||_.minScale||y.minScale,b=Math.max(_.maxScale,y.maxScale)),(v>0&&v<this.scale||b>this.scale)&&(M=!1),M}_sanitizeLegendForSublayer(y,g){if("version"in this.layer&&+this.layer.version<10.1||0===y.length)return y;const _=g.renderer,v=y.some(S=>S.values);let b=0,M=null;return v&&y.some((S,A)=>(S.values||(b=A,M=S,M.label||(M.label="others")),null!=M)),_?"unique-value"===_.type?M&&(y.splice(b,1),y.push(M)):"class-breaks"===_.type&&(M&&y.splice(b,1),y.reverse(),M&&y.push(M)):M&&(y.splice(b,1),y.push(M)),y}_getRendererLegendElements(y,g={}){var _=this;return(0,hn.Z)(function*(){if(!function cK(y,g){return ch(y)||dh(y)||ng(y)||_x(y)||vx(y)||Ex(y)?"2d"===g.type||function nx(y){return null==y||"simple"===y.type||"unique-value"===y.type||"class-breaks"===y.type||"dictionary"===y.type||"heatmap"===y.type}(y):yx(y)||mx(y)||gx(y)||iC(y)||oC(y)||aC(y)||fx(y)||sC(y)}(y,_.view))return nr.Z.getLogger(_).warn(`Renderer of type '${y.type}' not supported!`),[];if(function lK(y){return iC(y)||oC(y)||aC(y)||function uK(y){return"esri.renderers.PointCloudRGBRenderer"===y.declaredClass}(y)}(y))return _._constructPointCloudRendererLegendElements(y,g);if(vx(y))return _._constructDotDensityRendererLegendElements(y);const v=yield _._loadRenderer(y);return Ex(v)?_._constructPieChartRendererLegendElements(v):_._constructRendererLegendElements(v,g)})()}_getLegendElementsForFeatureReduction(y){var g=this;return(0,hn.Z)(function*(){let _=null;return"binning"===y.type?_=y.renderer:"cluster"===y.type&&(_=g._getClusterRenderer(y)),_?g._getRendererLegendElements(_):[]})()}_getPointCloudRendererTitle(y){return(y.legendOptions?.title||y.field)??""}_constructPointCloudRendererLegendElements(y,g={}){var _=this;return(0,hn.Z)(function*(){const v=g.title,b=[];let M=null,S=null;if(iC(y))M={type:"symbol-table",title:v||_._getPointCloudRendererTitle(y),infos:[]},y.colorClassBreakInfos.forEach(K=>{M.infos.unshift({label:K.label||K.minValue+" - "+K.maxValue,value:[K.minValue,K.maxValue],symbol:_._getAppliedCloneSymbol(tg,K.color)})});else if(oC(y)){const K=y.stops;let de=null;if(K?.length&&(1===K.length&&(de=K[0].color),!de)){const Te=K[0].value,Ve=K[K.length-1].value;null!=Te&&null!=Ve&&(de=(0,Af.QQ)(Te+(Ve-Te)/2,K))}M={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:_._getAppliedCloneSymbol(tg,de||tg.color)}]};const De=(0,Af.NA)(y.stops??[])??[];S={type:"color-ramp",title:v||_._getPointCloudRendererTitle(y),infos:De,preview:(0,Ja.jT)(De.map(Te=>Te.color),{ariaLabel:yield Tl("previewColorRampAriaLabel")})}}else aC(y)&&(M={type:"symbol-table",title:v||_._getPointCloudRendererTitle(y),infos:[]},y.colorUniqueValueInfos?.forEach(K=>{M.infos.push({label:K.label||K.values.join(", "),value:K.values.join(", "),symbol:_._getAppliedCloneSymbol(tg,K.color)})}));M&&M.infos.length&&b.push(M),S&&S.infos.length&&b.push(S);const A=b.reduce((K,de)=>[...K,...de.infos??[]],[]).filter(K=>!!K.symbol).map(K=>_._getSymbolPreview(K,_.opacity,{symbolConfig:{applyColorModulation:!!y.colorModulation}}));return yield Promise.allSettled(A),b})()}_getElementInfoForDotDensity(y,g){var _=this;return(0,hn.Z)(function*(){const{color:v,label:b,valueExpressionTitle:M}=g,{backgroundColor:S,outline:A,dotSize:K}=y,de=_.effectList,De=de?.effects.map(St=>St.toJSON()),Te=(0,Mz.rM)(De),Ve=yield Tl("previewTemplateAriaLabel",b||M),nt=K+"-"+v+"-"+S+"-"+(A&&JSON.stringify(A.toJSON()))+"-"+Te,at=_._dotDensityUrlCache,gt=at.has(nt)?at.get(nt):(0,Ja.k)(y,v,{ariaLabel:Ve});at.set(nt,gt);const At=(0,Lz.wh)([[{shape:{type:"image",x:0,y:0,width:gt.width,height:gt.height,src:gt.src},fill:null,stroke:null,offset:[0,0]}]],[gt.width,gt.height],{effectView:_.effectList,ariaLabel:Ve});return{opacity:1,src:gt.src,preview:At,width:gt.width,height:gt.height}})()}_constructDotDensityRendererLegendElements(y){var g=this;return(0,hn.Z)(function*(){const _=y.calculateDotValue(g.view.scale),v=y.legendOptions?.unit,b={type:"symbol-table",title:{value:_&&Math.round(_),unit:v||""},infos:[]};for(const M of y.attributes){const S=yield g._getElementInfoForDotDensity(y,M);S.label=M.label||M.valueExpressionTitle||M.field,b.infos.push(S)}return[b]})()}_constructPieChartRendererLegendElements(y){var g=this;return(0,hn.Z)(function*(){const _=g.layer.opacity,v=[];let b=null;const M=y.outline;y.attributes.forEach(de=>{const De=new ah.Z({color:de.color,outline:M});v.push({label:de.label||de.valueExpressionTitle||de.field,symbol:De})});const S=v.length?[...v]:[];if(y.othersCategory?.color&&0!==y.othersCategory?.threshold){const de=new ah.Z({color:y.othersCategory.color,outline:M});b=y.othersCategory.label||"Other",v.push({label:b,symbol:de})}if(y.defaultColor?.a){const de=new ah.Z({color:y.defaultColor,outline:M});v.push({label:y.defaultLabel,symbol:de})}const A=(yield g._getVisualVariableLegendElements(y,g.layer))||[];if(v.length){A.unshift({type:"symbol-table",title:null,infos:v});const de=S.filter(Te=>Te.label!==b).map(Te=>Te.symbol.color).filter(Boolean),De=(0,Ja.LC)(de,{holePercentage:y.holePercentage,backgroundColor:y.backgroundFillSymbol?.color,effectList:g.effectList,outline:M,ariaLabel:yield Tl("previewPieChartAriaLabel")});A.unshift({type:"pie-chart-ramp",title:g._getRendererTitle(y,g.layer),infos:v,preview:De})}const K=A.reduce((de,De)=>[...de,...g._getAllInfos(De)],[]).filter(de=>!!de?.symbol&&!de?.preview).map(de=>g._getSymbolPreview(de,_,{effectList:g.effectList}));return yield Promise.allSettled(K),A})()}_constructRendererLegendElements(y,g={}){var _=this;return(0,hn.Z)(function*(){const{title:v,sublayer:b}=g,M=b||_.layer;_._hasColorRamp=!1,_._hasOpacityRamp=!1,_._hasSizeRamp=!1,_._scaleDrivenSizeVariable=null;const S=(yield _._getVisualVariableLegendElements(y,M))||[],A={type:"symbol-table",title:v||_._getRendererTitle(y,M),infos:[]};let K=null,de=!1;const De=new Set;if(sC(y)&&!_._hasSizeRamp){const mt=yield(0,Ya.y$)(y);A.infos.push({label:null,symbol:mt})}else if(function gK(y){return"univariate-color-size"===("authoringInfo"in y?y?.authoringInfo:null)?.type}(y)){let mt=v;const At=function _K(y){const g="authoringInfo"in y?y?.authoringInfo:null;return"univariate-color-size"===g?.type&&"above-and-below"===g?.univariateTheme}(y)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",St=S.findIndex(wr=>"color-ramp"===wr.type),Yt=-1!==St?S.splice(St,1)[0]:null,Kt=S.findIndex(wr=>"size-ramp"===wr.type),sn=-1!==Kt?S.splice(Kt,1)[0]:null,gn=[];Yt&&(mt=Yt.title,gn.push(Yt)),sn&&(mt=sn.title,gn.push(sn)),gn.length>0&&S.push({type:At,title:mt,infos:gn})}else if(_x(y)){const mt=(0,Nz.h)(y);S.push({type:"heatmap-ramp",title:v||_._getRendererTitle(y,M),infos:mt,preview:(0,Ja.jT)(mt.map(At=>At.color),{effectList:_.effectList,ariaLabel:yield Tl("previewColorRampAriaLabel")})})}else if(ng(y)){const mt=y&&y.authoringInfo;if(mt&&"relationship"===mt.type){const{numClasses:At,field1:St,field2:Yt}=mt,Kt=mt.focus;if(At&&St&&Yt){const sn=[St,Yt];let gn=(0,sx.N_)(Kt)||0;for(const ms of sn){const{field:xr,normalizationField:os,label:li}=ms,Ei=li||{field:_._getFieldAlias(xr,M),normField:os&&_._getFieldAlias(os,M)},ri=vK.clone();ri.angle=gn,A.infos.push({label:Ei,symbol:ri}),De.add(ri),gn+=90}const wr=(0,sx.mg)({focus:Kt,numClasses:At,infos:y.uniqueValueInfos??[]});S.unshift(wr)}}else if(hh(_.layer)||rg(_.layer))y.uniqueValueInfos?.forEach(At=>{At.symbol&&A.infos.push({label:At.label||At.value,value:At.value,symbol:At.symbol})});else{const{field:At,field2:St,field3:Yt,fieldDelimiter:Kt,valueExpression:sn,defaultSymbol:gn}=y,wr=!(!At&&!sn||!St&&!Yt),ms=[];if(y.uniqueValueGroups?.forEach(xr=>{const os={type:"symbol-table",title:xr.heading,infos:[]};xr.classes?.forEach(li=>{const{symbol:Ei,values:ri}=li;if(Ei){const rl=[],bu=[];for(const sl of ri??[]){const{value:Pg,value2:sM,value3:kf}=sl,_c=[],Ag=[];(At||sn)&&(_c.push(Pg),Ag.push(_._getDomainName(At,Pg,M))),St&&(_c.push(sM),Ag.push(_._getDomainName(St,sM,M))),Yt&&(_c.push(kf),Ag.push(_._getDomainName(Yt,kf,M))),rl.push(wr?_c.join(Kt||""):_c[0]),bu.push(Ag.join(" - "))}const pa=rl.join(", ");let Cu=li.label;if(!Cu){const sl=bu.filter(Boolean);Cu=sl.length?sl.join(", "):pa}os.infos.push({label:Cu,value:pa,symbol:Ei})}}),os.infos.length&&ms.push(os)}),ms.length){const xr=ms[0];1===ms.length&&"title"in xr&&!xr.title?A.infos.push(...xr.infos??[]):(gn&&(ms.push({type:"symbol-table",infos:[{label:y.defaultLabel||"others",symbol:gn}]}),de=!0),A.infos.push(...ms)),v||y.legendOptions?.title||y.valueExpressionTitle||(A.title=null)}}y.defaultSymbol&&!de&&(A.infos.push({label:y.defaultLabel||"others",symbol:y.defaultSymbol}),de=!0)}else if(dh(y))K=_._isUnclassedRenderer(y),(!K||!_._hasSizeRamp)&&(y.classBreakInfos.forEach(mt=>{mt.symbol&&A.infos.unshift({label:mt.label||(K?null:mt.minValue+" - "+mt.maxValue),value:[mt.minValue,mt.maxValue],symbol:mt.symbol})}),K&&(A.title=null),_._updateInfosforClassedSizeRenderer(y,A.infos)),y.defaultSymbol&&!K&&(A.infos.push({label:y.defaultLabel||"others",symbol:y.defaultSymbol}),de=!0);else if(yx(y))if(rg(_.layer)||function mK(y){return"esri.layers.WCSLayer"===y.declaredClass}(_.layer)){const mt=yield _._constructTileImageryStretchRendererElements(y);!function yK(y){return"stretch-ramp"===y.type}(mt)?A.infos=mt:S.push(mt)}else{const mt=_.layer;let At,St;if(y.statistics?.length){const gn=y.statistics[0];(0,Ya.S8)(gn)?(At=gn.min,St=gn.max):[At,St]=gn}let Yt=[],Kt=mt.serviceRasterInfo;if(mt.rasterFunction)try{Kt=yield mt.generateRasterInfo(mt.rasterFunction)}catch{}const sn=(0,tx.r)(Kt.pixelType);if(1===Kt.bandCount){const gn=mt.bandIds?.[0]||0;At=At??(Kt.statistics?Kt.statistics[gn].min:sn[0]),St=St??(Kt.statistics?Kt.statistics[gn].max:sn[1]),At||St?S.push(yield _._getStretchLegendElements(y,{min:At,max:St})):_._getServerSideLegend()}else if(mt.bandIds&&1===mt.bandIds.length)At=At??(Kt.statistics?Kt.statistics[mt.bandIds[0]].min:sn[0]),St=St??(Kt.statistics?Kt.statistics[mt.bandIds[0]].max:sn[1]),At||St?S.push(yield _._getStretchLegendElements(y,{min:At,max:St})):_._getServerSideLegend();else if(Kt.bandCount>=3){const{bandInfos:gn}=Kt,{bandIds:wr}=mt;gn.length>=Kt.bandCount?3===wr?.length?(Yt=wr.map(ms=>gn[ms].name),A.infos=_._createSymbolTableElementMultiBand(Yt)):"lerc"===mt.format?(Yt=[0,1,2].map(ms=>gn[ms].name),A.infos=_._createSymbolTableElementMultiBand(Yt)):_._getServerSideLegend():"lerc"===mt.format?(Yt=["band1","band2","band3"],A.infos=_._createSymbolTableElementMultiBand(Yt)):_._getServerSideLegend()}else _._getServerSideLegend()}else if(mx(y))y.colormapInfos.forEach(mt=>{A.infos.push({label:mt.label,value:mt.value,symbol:_._getAppliedCloneSymbol(aK,mt.color)})});else if(ch(y)){let mt=y.symbol;switch(g.geometryType){case"point":mt="pointSymbol"in M?M.pointSymbol:null;break;case"polyline":mt="lineSymbol"in M?M.lineSymbol:null;break;case"polygon":mt="polygonSymbol"in M?M.polygonSymbol:null}const At=_._hasClusterSizeVariable&&_._getClusterSymbol()||!_._hasSizeRamp;y.symbol&&At&&A.infos.push({label:y.label,symbol:mt})}else if(fx(y)){y.outputUnit&&(_.title="("+y.toJSON().outputUnit+")"),A.title=y.attributeField;const mt=y.getClassBreakInfos();mt?.length?mt.forEach(At=>{A.infos.push({label:At.minValue+" - "+At.maxValue,symbol:At.symbol})}):A.infos.push({label:y.attributeField,symbol:y.getDefaultSymbol()})}else gx(y)&&S.push(yield _._getStretchLegendElements(y,{min:0,max:255}));const Te=y.defaultSymbol;!Te||de||ch(y)||K&&!_._hasColorRamp&&!_._hasSizeRamp&&!_._hasOpacityRamp||S.push({type:"symbol-table",infos:[{label:y.defaultLabel||"others",symbol:Te}]}),A.infos.length&&S.unshift(A);const Ve=null==g.opacity?_.opacity:g.opacity,nt=_._isTallSymbol("visualVariables"in y?y.visualVariables:null),at=hh(_.layer)||rg(_.layer),gt=S.reduce((mt,At)=>[...mt,..._._getAllInfos(At)],[]).filter(mt=>!!mt?.symbol).filter(mt=>{if("cim"===mt.symbol.type){const{minScale:At,maxScale:St}=mt.symbol.data;if(At&&At<_.scale||St&&St>_.scale)return!1}return!0}).map(mt=>_._getSymbolPreview(mt,Ve,{isDefault:mt.symbol===Te,applyScaleDrivenSize:!De.has(mt.symbol),symbolConfig:{isTall:nt,isSquareFill:at},effectList:De.has(mt.symbol)?null:_.effectList}));return y=null,yield Promise.allSettled(gt),S})()}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(y){const g=y?.infos;return g?g.reduce((_,v)=>_.concat(this._getAllInfos(v)),[]):[y]}_constructTileImageryStretchRendererElements(y){var g=this;return(0,hn.Z)(function*(){const _=g.layer,v=_.symbolizer.rasterInfo??_.raster.rasterInfo;let b,M;const S=y?.statistics?.length?y.statistics:v?.statistics;if(S){const K=S[0];(0,Ya.S8)(K)?(b=K.min,M=K.max):[b,M]=K}else{const K=(0,tx.r)(v.pixelType);b=K[0],M=K[1]}if(_.hasStandardTime()&&(b=_.getStandardTimeValue(b),M=_.getStandardTimeValue(M)),1===v.bandCount||1===_.bandIds?.length)return g._getStretchLegendElements(y,{min:b,max:M});const A=(_?.bandIds?.length?_.bandIds:Array.from(Array(Math.min(v.bandCount,3)).keys())).map(K=>v.bandInfos[K].name);return A.length<3?A.push(A[1]):A.length>3&&A.splice(3),g._createSymbolTableElementMultiBand(A)})()}_getStretchLegendElements(y,g){return(0,hn.Z)(function*(){const v=(0,Af.fD)(y.colorRamp,g);return{type:"stretch-ramp",title:"",infos:v,preview:(0,Ja.jT)(v.map(b=>b.color),{ariaLabel:yield Tl("previewColorRampAriaLabel")})}})()}_getClusterSymbol(){const y=this.layer,g="featureReduction"in y&&y.featureReduction,_=g&&"symbol"in g&&g.renderer;return _&&!0!==_?.authoringInfo?.isAutoGenerated?null:g&&"symbol"in g?g.symbol:null}_getSizeLegendElement(y,g,_,v){var b=this;return(0,hn.Z)(function*(){return{type:"size-ramp",title:b._hasClusterSizeVariable?b._getClusterTitle(g):y,infos:yield Kz(_,g,yield(0,Ya.jb)(_),b.scale,b.view,v,b._hasClusterSizeVariable?b._getClusterSymbol():null)}})()}_createSymbolTableElementMultiBand(y){const g=[],_=["red","green","blue"];return y.forEach((v,b)=>{g.push({label:{colorName:_[b],bandName:v},src:Ya.iP[b],opacity:this.opacity??1})}),g}_updateInfosforClassedSizeRenderer(y,g){const _=y.authoringInfo&&"class-breaks-size"===y.authoringInfo.type,v=y.classBreakInfos.some(b=>(0,oh.YW)(b.symbol));if(_&&v){const b=Qb,S=y.classBreakInfos.length,A=(b-Xb)/(S>1?S-1:S);g.forEach((K,de)=>{K.size=b-A*de})}}_isTallSymbol(y){let g=!1,_=!1;if(y)for(let v=0;v<y.length&&(!g||!_);v++){const b=y[v];"size"===b.type&&("height"===b.axis&&(g=!0),"width-and-depth"===b.axis&&(_=!0))}return g&&_}_getSymbolPreview(y,g,_){var v=this;return(0,hn.Z)(function*(){let b=!_?.isDefault&&null==y.size&&v._hasSizeRamp?(0,fs.Wz)(xz.b_.size):y.size;if(v._scaleDrivenSizeVariable&&_?.applyScaleDrivenSize){const{getSize:S}=yield Promise.resolve().then(E.bind(E,37157));b=S(v._scaleDrivenSizeVariable,null,{view:v.view.type,scale:v.scale,shape:"simple-marker"===y.symbol.type?y.symbol.style:null})}const M=!_?.isDefault&&v._hasSizeRamp||!(!v._scaleDrivenSizeVariable||!_?.applyScaleDrivenSize);return(0,Ja.l3)(y.symbol,{size:b,opacity:g,scale:!1,symbolConfig:_?.symbolConfig,effectView:_?.effectList,style:"legend",cimOptions:{allowScalingUp:M,viewParams:v.isScaleDriven?{viewingMode:"2d"===v.view?.type?"map":v.view?.viewingMode,scale:v.view?.scale}:null},ariaLabel:y.label&&"string"!=typeof y.label?null:yield Tl("previewTemplateAriaLabel",y.label)}).then(S=>(y.preview=S,y)).catch(()=>(y.preview=null,y))})()}_getClusterRenderer(y){this._hasClusterSizeVariable=!1;const g="renderer"in this.layer?this.layer.renderer:null,_=y.renderer?.clone()||g?.clone(),v=function Uz(y,g){if(!y||!("visualVariables"in y)||!y.visualVariables)return null;const _=y.visualVariables.find(b=>"size"===b.type),v=((y,g)=>{const _=y.featuresTilingScheme.getClosestInfoForScale(y.scale).level;return g?.levels?g.levels[_]:null})(g,_);return v?new Rz.Z({field:_.field,minSize:v[2].size,minDataValue:v[2].value,maxSize:v[3].size,maxDataValue:v[3].value}):null}(this.layerView._effectiveRenderer,this.view);if(v&&null!=_&&"visualVariables"in _&&!_.visualVariables?.some(M=>"size"===M.type&&"outline"!==M.target&&!eg.test(M.valueExpression))){if("clusterMinSize"in y&&"clusterMaxSize"in y){const{clusterMinSize:S,clusterMaxSize:A}=y;v.legendOptions=new Pz.Z({showLegend:S!==A})}_.visualVariables=(_.visualVariables||[]).concat([v]),this._hasClusterSizeVariable=!0}return _}_loadRenderer(y){var g=this;return(0,hn.Z)(function*(){const _=[],v=y.clone(),b=yield(0,Ya.jb)(v);if(dh(v)||ng(v)){const M=(v.classBreakInfos||v.uniqueValueInfos).map(S=>g._fetchSymbol(S.symbol,b).then(A=>{S.symbol=A}).catch(()=>{S.symbol=null}));Array.prototype.push.apply(_,M)}return _.push(g._fetchSymbol(v.symbol||v.defaultSymbol,v.defaultSymbol?null:b).then(M=>{g._applySymbolToRenderer(v,M,ch(v))}).catch(()=>{g._applySymbolToRenderer(v,null,ch(v))})),yield Promise.allSettled(_),v})()}_applySymbolToRenderer(y,g,_){_?y.symbol=g:y.defaultSymbol=g}_fetchSymbol(y,g){var _=this;return(0,hn.Z)(function*(){if(!y)throw new Error;if("web-style"===y.type){const v=_._webStyleSymbolCache;try{const b=yield"2d"===_.view.type?y.fetchCIMSymbol({cache:v}):y.fetchSymbol({cache:v});return _._getAppliedCloneSymbol(b,g)}catch{throw nr.Z.getLogger(_).warn("Fetching web-style failed!"),new Error}}return _._getAppliedCloneSymbol(y,g)})()}_getAppliedCloneSymbol(y,g){if(!y||!g)return y;const _=y.clone(),v=g&&g.toRgba();return _.type.includes("3d")?this._applyColorTo3dSymbol(_,v):"cim"===_.type?(0,rx.ZB)(_,g):_.color&&(_.color=new Na.Z(v||_.color)),_}_applyColorTo3dSymbol(y,g){g&&y.symbolLayers.forEach(_=>{_&&(_.material||(_.material={}),_.material.color=new Na.Z(g))})}_getVisualVariableLegendElements(y,g){var _=this;return(0,hn.Z)(function*(){if(!("visualVariables"in y)||!y.visualVariables||"vector-field"===y.type)return null;const v=y.visualVariables,b=[],M=[],S=[];for(const Te of v)"color"===Te.type?b.push(Te):"size"===Te.type?M.push(Te):"opacity"===Te.type&&S.push(Te);const A=[...b,...M,...S];let K,de;if(0===b.length&&dh(y)&&y.classBreakInfos&&1===y.classBreakInfos.length){const Te=y.classBreakInfos[0];K=Te&&Te.symbol}if(0===b.length&&ch(y)&&(K=y.symbol),K)if(K.type.includes("3d")){const Te=K.symbolLayers.at(0);"water"===Te.type?null!=Te.color&&(de=Te.color):null!=Te.material?.color&&(de=Te.material.color)}else K.url||(de=K.color);const De=_.effectList;return(yield Promise.all(A.map(function(){var Te=(0,hn.Z)(function*(Ve){if(!Ve.legendOptions||!1!==Ve.legendOptions.showLegend){const nt=sC(y)?Ve.field:_._getRampTitle(Ve,g);let at=null;const gt=_._getDateFormatOptions(g,Ve);if("color"===Ve.type){const mt=(yield(0,Af.pO)(Ve,null,gt))??[];at={type:"color-ramp",title:nt,infos:mt,preview:(0,Ja.jT)(mt.map(At=>At.color),{effectList:De,ariaLabel:yield Tl("previewColorRampAriaLabel")})},_._hasColorRamp||(_._hasColorRamp=mt.length>0)}else if("size"===Ve.type&&"outline"!==Ve.target)eg.test(Ve.valueExpression)?_._hasClusterSizeVariable||(_._scaleDrivenSizeVariable=Ve):(at=yield _._getSizeLegendElement(nt,Ve,y,gt),_._hasSizeRamp||(_._hasSizeRamp=!(null==at.infos||!at.infos.length)));else if("opacity"===Ve.type){const mt=(yield(0,Af.pO)(Ve,de,gt))??[];at={type:"opacity-ramp",title:nt,infos:mt,preview:(0,Ja.jT)(mt.map(At=>At.color),{effectList:De,ariaLabel:yield Tl("previewColorRampAriaLabel")})},_._hasOpacityRamp||(_._hasOpacityRamp=mt.length>0)}return at&&at.infos?at:null}});return function(Ve){return Te.apply(this,arguments)}}()))).filter(Cl.pC)})()}_getFieldInfo(y,g){if(!g.field)return null;if("featureReduction"in y)switch(y.featureReduction?.type){case"cluster":case"binning":{const _=y.featureReduction.fields.find(({name:v})=>v.toLowerCase()===g.field.toLowerCase());return _&&"getField"in y?y.getField(_.onStatisticField):null}}return"getField"in y?y.getField?.(g.field):null}_getDateFormat(y,g){const _="popupTemplate"in y?y.popupTemplate?.fieldInfos:null;if(_?.length&&g)return _.find(v=>v.fieldName?.toLowerCase()===g.toLowerCase())?.format?.dateFormat}_getDateFormatOptions(y,g){const _=this._getFieldInfo(y,g);if(!_||!(0,Az.a8)(_)&&!(0,Sz.sX)(_))return null;let v=this._getDateFormat(y,_.name);if(!v&&"date"===_.type){let b=0,M=0;g.stops?(b=g.stops?.at(0)?.value??b,M=g.stops?.at(-1)?.value??M):"minDataValue"in g&&"maxDataValue"in g&&(b=g.minDataValue??b,M=g.maxDataValue??M),v=M-b>2*bz.fM.days?"short-date":"short-date-short-time"}return{fieldType:_.type,format:v,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in y?y.preferredTimeZone:null,viewTimeZone:this.view.timeZone,datesInUnknownTimezone:"datesInUnknownTimezone"in y&&y.datesInUnknownTimezone}}}_getDomainName(y,g,_){if(y&&"function"!=typeof y){const v="getField"in _&&_.getField?.(y),b=v&&"getFieldDomain"in _&&_.getFieldDomain?_.getFieldDomain(v.name):null;return"coded-value"===b?.type?b.getName(g):null}return null}_getClusterTitle(y){const g=this.layer,_=y.field;if("featureReduction"in g&&g.featureReduction&&"cluster"===g.featureReduction.type){const v=g.featureReduction,b="popupTemplate"in v&&v.popupTemplate,M=b&&b.fieldInfos;if(M)for(const S of M)if(S.fieldName===_)return"cluster_count"===_?S.label||{showCount:!0}:S.label}return{showCount:!0}}_getRampTitle(y,g){let _=y.field,v=y.normalizationField,b=!1,M=!1,S=!1,A=null;_="function"==typeof _?null:_,v="function"==typeof v?null:v;const K=y.legendOptions?.title;if(null!=K)A=K;else if(y.valueExpressionTitle)A=y.valueExpressionTitle;else{if("renderer"in g&&g.renderer&&"authoringInfo"in g.renderer&&g.renderer.authoringInfo?.visualVariables){const de=g.renderer.authoringInfo.visualVariables;for(let De=0;De<de.length;De++){const Te=de[De];if("color"===Te.type){if("ratio"===Te.style){b=!0;break}if("percent"===Te.style){M=!0;break}if("percent-of-total"===Te.style){S=!0;break}}}}A={field:_&&this._getFieldAlias(_,g),normField:v&&this._getFieldAlias(v,g),ratio:b,ratioPercent:M,ratioPercentTotal:S}}return A}_getRendererTitle(y,g){const _=y;if(_.legendOptions?.title)return _.legendOptions.title;if(_.valueExpressionTitle)return _.valueExpressionTitle;let v=_.field,b=null,M=null;if(dh(_)&&(b=_.normalizationField,M="percent-of-total"===_.normalizationType),v="function"==typeof v?null:v,b="function"==typeof b?null:b,ng(_)){const{field2:A,field3:K,fieldDelimiter:de}=_;let De=v&&this._getFieldAlias(v,g);return A&&(De=`<${De}>${de}<${this._getFieldAlias(A,g)}>`,K&&(De=`${De}${de}<${this._getFieldAlias(K,g)}>`)),De}let S=null;return(v||b)&&(S={field:v&&this._getFieldAlias(v,g),normField:b&&this._getFieldAlias(b,g),normByPct:M}),S}_getFieldAlias(y,g){const _="popupTemplate"in g?g.popupTemplate:null,v=_?.fieldInfos;let b;v&&v.some(De=>y===De.fieldName&&(b=De,!0));let M=null;"getField"in g&&g.getField?M=g.getField(y):"fieldsIndex"in g&&g.fieldsIndex&&(M=g.fieldsIndex.get(y));let S=null;const A="featureReduction"in g&&g.featureReduction;A&&(!b&&"popupTemplate"in A&&A.popupTemplate?.fieldInfos&&A.popupTemplate.fieldInfos.some(De=>y?.toLowerCase()===De.fieldName?.toLowerCase()&&(b=De,!0)),"fields"in A&&A.fields&&(S=A.fields.find(De=>De.name?.toLowerCase()===y?.toLowerCase())));const K=b||M||S;let de=null;return K&&(de=b?.label||M?.alias||S?.alias||"name"in K&&K.name||"fieldName"in K&&K.fieldName||null),de}_isUnclassedRenderer(y){const g=y.visualVariables;let _=!1;return dh(y)&&y.classBreakInfos&&1===y.classBreakInfos.length&&g&&(_=y.field?g.some(v=>!(!v||y.field!==v.field||(y.normalizationField||v.normalizationField)&&y.normalizationField!==v.normalizationField)):!!g.length),_}};(0,we._)([(0,Le.Cb)()],Ws.prototype,"children",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ws.prototype,"effectList",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"layerView",void 0),(0,we._)([(0,Le.Cb)()],Ws.prototype,"layer",void 0),(0,we._)([(0,Le.Cb)()],Ws.prototype,"legendElements",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ws.prototype,"opacity",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"parent",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,dependsOn:[]})],Ws.prototype,"ready",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"hideLayersNotInCurrentView",void 0),(0,we._)([(0,Le.Cb)()],Ws.prototype,"keepCacheOnDestroy",void 0),(0,we._)([(0,Le.Cb)()],Ws.prototype,"respectLayerVisibility",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ws.prototype,"scale",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"sublayerIds",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ws.prototype,"isScaleDriven",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"title",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,dependsOn:["ready"],value:0})],Ws.prototype,"version",null),(0,we._)([(0,Le.Cb)()],Ws.prototype,"view",void 0),Ws=(0,we._)([(0,cn.j)("esri.widgets.Legend.support.ActiveLayerInfo")],Ws);const Mx=Ws;var sg=E(55829);const Dx=ss.Z.ofType(Mx),EK=new Set(["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.SubtypeGroupLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer","esri.layers.LinkChartLayer","esri.layers.knowledgeGraph.KnowledgeGraphSublayer"]),Sx="view.basemapView.baseLayerViews",wx="view.groundView.layerViews",Ix="view.basemapView.referenceLayerViews",bK=[Sx,wx,"view.layerViews",Ix];let Bo=class extends dr.Z{constructor(y){super(y),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new ss.Z,this.activeLayerInfos=new Dx,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles((0,Gt.YP)(()=>this.view,()=>this._viewHandles(),Gt.nn),"view"),this.addHandles((0,sg.qe)(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){return this.view?.ready?"ready":"disabled"}_viewHandles(){this.removeHandles("state"),this.view&&this.addHandles((0,Gt.YP)(()=>this.state,()=>this._stateHandles(),Gt.nn),"state")}_stateHandles(){this._resetAll(),"ready"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles(["all-layer-views","legend-properties"]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(y){this.removeHandles(y);const g=this._activeLayerInfosByLayerViewId[y];delete this._activeLayerInfosByLayerViewId[y],g?.parent&&g.parent.children.remove(g)}_watchPropertiesAndAllLayerViews(){const{view:y}=this;if(!y)return;const{allLayerViews:g}=y;g.length&&this._refresh(),this.addHandles(g.on("change",_=>this._allLayerViewsChangeHandle(_)),"all-layer-views"),this.addHandles((0,Gt.YP)(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),"legend-properties")}_allLayerViewsChangeHandle(y){y.removed.forEach(g=>this._destroyViewActiveLayerInfo(g.uid)),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(y){const g=this.view;if(y.length<2||!g)return;const _=[];y.forEach(b=>{if(!b.parent){const M=b.layer.parent,S=M&&"uid"in M&&this._layerViewByLayerId[M.uid],A=S&&this._activeLayerInfosByLayerViewId[S.uid];A&&y.includes(A)&&(_.push(b),b.parent=A,A.children.add(b),this._sortActiveLayerInfos(A.children))}}),y.removeMany(_);const v={};g.allLayerViews.forEach((b,M)=>v[b.layer.uid]=M),y.sort((b,M)=>(v[M.layer.uid]||0)-(v[b.layer.uid]||0))}_generateLayerViews(){const y=[];return bK.filter(this._filterLayerViews,this).map(g=>(0,Xy.U2)(this,g)).filter(g=>null!=g).forEach(this._collectLayerViews("layerViews",y)),y}_filterLayerViews(y){return!(!this.basemapLegendVisible&&(y===Sx||y===Ix)||!this.groundLegendVisible&&y===wx)}_collectLayerViews(y,g){const _=v=>(v&&v.forEach(b=>{g.push(b),_(b[y])}),g);return _}_filterLayerViewsByLayerInfos(y){const g=this.layerInfos;return!g||!g.length||g.some(_=>this._hasLayerInfo(_,y))}_hasLayerInfo(y,g){const _=this._isLayerUIDMatching(y.layer,g.layer.uid);return _&&(this._layerInfosByLayerViewId[g.uid]=y),_}_isLayerUIDMatching(y,g){return y&&(y.uid===g||this._hasLayerUID(y.layers,g))}_hasLayerUID(y,g){return y&&y.some(_=>this._isLayerUIDMatching(_,g))}_isLayerViewSupported(y){return!!EK.has(y.layer.declaredClass)&&(this._layerViewByLayerId[y.layer.uid]=y,!0)}_generateActiveLayerInfo(y){this._isLayerActive(y)?this._buildActiveLayerInfo(y):(this.removeHandles(y.uid),this.addHandles((0,Gt.YP)(()=>[y.legendEnabled,y.layer?.legendEnabled],()=>this._layerActiveHandle(y)),y.uid))}_layerActiveHandle(y){this._isLayerActive(y)&&(this.removeHandles(y.uid),this._buildActiveLayerInfo(y))}_isLayerActive(y){return!this.respectLayerVisibility||y.legendEnabled&&y.layer?.legendEnabled}_buildActiveLayerInfo(y){const g=y.layer,_=y.uid,v=this._layerInfosByLayerViewId[_];let b=this._activeLayerInfosByLayerViewId[_];b||(b=new Mx({layer:g,layerView:y,title:void 0!==v?.title&&v.layer.uid===g.uid?v.title:g.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:v?.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[_]=b);const M=g.parent&&"uid"in g.parent?this._layerViewByLayerId[g.parent?.uid]:null;if(b.parent=this._activeLayerInfosByLayerViewId[M?.uid],!this.hasHandles(_)){const S=[(0,Gt.YP)(()=>g.title,A=>this._titleHandle(A,b)),(0,Gt.YP)(()=>[g.opacity,"renderer"in g&&g.renderer,"pointSymbol"in g&&g.pointSymbol,"lineSymbol"in g&&g.lineSymbol,"polygonSymbol"in g&&g.polygonSymbol],()=>this._constructLegendElements(b)),(0,Gt.gx)(()=>!0===this.view?.stationary,()=>this._scaleHandle(b),Gt.nn),(0,Gt.YP)(()=>y._effectiveRenderer,()=>this._constructLegendElements(b)),(0,Gt.YP)(()=>"effect"in g&&g.effect,()=>this._constructLegendElements(b)),(0,Gt.gx)(()=>this.view?.timeZone,()=>this._constructLegendElements(b),Gt.nn)];if(this.respectLayerVisibility){const A=(0,Gt.YP)(()=>y.legendEnabled,de=>this._legendEnabledHandle(de,b)),K=(0,Gt.YP)(()=>g.legendEnabled,de=>this._legendEnabledHandle(de,b));S.push(A,K)}this.addHandles(S,_)}b.isScaleDriven||this._constructLegendElements(b),this._addActiveLayerInfo(b)}_titleHandle(y,g){g.title=y,this._constructLegendElements(g)}_legendEnabledHandle(y,g){y?this._addActiveLayerInfo(g):this._removeActiveLayerInfo(g)}_scaleHandle(y){(y.isScaleDriven||y.hideLayersNotInCurrentView)&&this._constructLegendElements(y)}_addActiveLayerInfo(y){const{layerView:g,layer:_}=y;if(this._isLayerActive(g)&&!this.activeLayerInfos.includes(y)){const v=y.parent;if(v)v.children.includes(y)||v.children.push(y),this._sortActiveLayerInfos(v.children);else{const b=this.layerInfos?.some(M=>M.layer.uid===_.uid);_.parent&&"uid"in _.parent&&!b?this._activeLayerInfosWithNoParent.add(y):(this.activeLayerInfos.add(y),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const b=[];this._activeLayerInfosWithNoParent.forEach(M=>{const S=M.layer.parent,A=S&&"uid"in S?this._layerViewByLayerId[S?.uid]:null,K=this._activeLayerInfosByLayerViewId[A?.uid];K&&(b.push(M),M.parent=K)}),b.length&&(this._activeLayerInfosWithNoParent.removeMany(b),b.forEach(M=>this._addActiveLayerInfo(M)))}}}_removeActiveLayerInfo(y){const g=y.parent;g?g.children.remove(y):this.activeLayerInfos.remove(y)}_constructLegendElements(y){const g=y.layer;"featureCollections"in g&&g.featureCollections?y.buildLegendElementsForFeatureCollections(g.featureCollections):"featureReduction"in g&&g.featureReduction&&"renderer"in g.featureReduction&&("binning"===g.featureReduction.type||"cluster"===g.featureReduction.type)?y.buildLegendElementsForFeatureReduction(g.featureReduction):"renderer"in g&&g.renderer&&!("sublayers"in g)?y.buildLegendElementsForRenderer(g.renderer):"url"in g&&g.url?y.buildLegendElementsForTools():y.children.forEach(_=>this._constructLegendElements(_))}};(0,we._)([(0,Le.Cb)({type:Dx})],Bo.prototype,"activeLayerInfos",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"basemapLegendVisible",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"groundLegendVisible",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"hideLayersNotInCurrentView",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"keepCacheOnDestroy",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"respectLayerVisibility",void 0),(0,we._)([(0,Le.Cb)()],Bo.prototype,"layerInfos",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Bo.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Bo.prototype,"view",void 0),Bo=(0,we._)([(0,cn.j)("esri.widgets.Legend.LegendViewModel")],Bo);const CK=Bo;var MK=E(96936);const Sr="esri-legend--card",fh="esri-legend",wn={activated:`${Sr}__carousel-indicator--activated`,base:Sr,stacked:`${fh}--stacked`,carouselTitle:`${Sr}__carousel-title`,indicator:`${Sr}__carousel-indicator`,intervalSeparator:`${Sr}__interval-separator`,imageryLayerStretchedImage:`${Sr}__imagery-layer-image--stretched`,imageLabel:`${Sr}__image-label`,layerCaption:`${Sr}__layer-caption`,labelElement:`${Sr}__label-element`,layerRow:`${Sr}__layer-row`,labelCell:`${Sr}__label-cell`,message:`${Sr}__message`,rampLabel:`${Sr}__ramp-label`,section:`${Sr}__section`,relationshipSection:`${Sr}__relationship-section`,serviceCaptionText:`${Sr}__service-caption-text`,serviceContent:`${Sr}__service-content`,service:`${Sr}__service`,groupLayer:`${Sr}__group-layer`,groupLayerChild:`${Sr}__group-layer-child`,symbol:`${Sr}__symbol`,sizeRampRow:`${Sr}__size-ramp-row`,symbolRow:`${Sr}__symbol-row`,symbolCell:`${Sr}__symbol-cell`,indicatorContainer:`${Sr}__carousel-indicator-container`,intervalSeparatorsContainer:`${Sr}__interval-separators-container`,relationshipLabelContainer:`${Sr}__relationship-label-container`,labelContainer:`${Sr}__label-container`,serviceCaptionContainer:`${Sr}__service-caption-container`,symbolContainer:`${Sr}__symbol-container`,sizeRampContainer:`${Sr}__size-ramp-container`,sizeRampPreview:`${Sr}__size-ramp-preview`,pieChartRampPreview:`${Sr}__pie-chart-ramp-preview`,rampContainer:`${fh}__ramps`,sizeRampHorizontal:`${fh}__size-ramp--horizontal`,rampLabelsContainer:`${fh}__ramp-labels`,layerInfo:`${fh}__layer-cell ${fh}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"};var Ox=E(84399),dC=(E(33740),E(58242));const DK=(0,dC.E)(),Tx=10,hC=20,ig=10,pC=20,fC={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function SK(y="vertical"){const g="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===y?(0,Ct.u)("svg",{height:"4",width:"10"},(0,Ct.u)("line",{style:g,x1:"0",x2:"10",y1:"2",y2:"2"})):(0,Ct.u)("svg",{height:"10",width:"10"},(0,Ct.u)("line",{style:g,x1:"5",x2:"5",y1:"0",y2:"10"}))}function wK(y,g="vertical"){const _=document.createElement("div");return _.style.height=`${hC}px`,_.className=fC.univariateAboveAndBelowSymbol,null!=y&&(_.style.opacity=y.toString()),DK.append(_,SK.bind(null,g)),_}function Px(y,g,_="vertical",v){y.infos.forEach((b,M)=>{if(v&&2===M)b.preview=wK(g,_);else{const S=(0,fs.F2)(b.size)+("horizontal"===_?pC:ig),A=b.preview,K="div"===A?.tagName.toLowerCase(),de=K?A:document.createElement("div");de.className=fC.univariateAboveAndBelowSymbol,"horizontal"===_?de.style.width=`${S}px`:de.style.height=`${S}px`,!K&&A&&de.appendChild(A),b.preview=de}})}function og(y,g="classic"){const _=y.infos;return"classic"===g?((0,fs.F2)(_[0].size)+ig)/2:((0,fs.F2)(_[0].size)-(0,fs.F2)(_[_.length-1].size))/2}function mh(y,g){if(!y)return null;const _=y.infos.map(b=>b.color),v=(0,Ja.jT)("full"===g.type?_:"above"===g.type?_.slice(0,3):_.slice(2,5),{width:g.width,height:g.height,align:g.rampAlignment,effectList:g.effectList,ariaLabel:g.ariaLabel});return v.className=fC.colorRamp,null!=g.opacity&&(v.style.opacity=g.opacity.toString()),v}function mC(y,g,_,v="vertical"){let b=0;const M=y.infos,S=Math.floor(M.length/2),K="full"===g||"below"===g?M.length-1:S;for(let de="full"===g||"above"===g?0:S;de<=K;de++)b+=_&&de===S?"horizontal"===v?Tx:hC:(0,fs.F2)(M[de].size)+("horizontal"===v?pC:ig);return Math.round(b)}function yh(y,g,_,v="vertical"){const b=mC(y,g,_,v),M=y.infos,S=Math.floor(M.length/2),A="full"===g||"above"===g?0:S,K="full"===g||"below"===g?M.length-1:S,De=_?"vertical"===v?hC:Tx:0,Te="vertical"===v?ig*("full"===g?2:1):pC*("full"===g?2:1);return Math.round(b-((0,fs.F2)("full"===g?M[A].size+M[K].size:"above"===g?M[A].size:M[K].size)/2+De/2+Te/2))}function Ax(y,g,_="vertical"){const v=y.infos;let b=v.find(({type:S})=>"size-ramp"===S),M=v.find(({type:S})=>"color-ramp"===S);return b&&(b={...b},b.infos=[...b.infos],Px(b,g,_,!0)),M&&(M={...M},M.infos=[...M.infos]),"horizontal"===_&&(b?.infos.reverse(),M?.infos.reverse()),{sizeRampElement:b,colorRampElement:M}}function xx(y,g="vertical"){const _=y.infos;let v=_.find(({type:M})=>"size-ramp"===M),b=_.find(({type:M})=>"color-ramp"===M);return v&&(v={...v},v.infos=[...v.infos],Px(v,null,g,!1)),b&&(b={...b},b.infos=[...b.infos]),"horizontal"===g&&(v?.infos.reverse(),b?.infos.reverse()),{sizeRampElement:v,colorRampElement:b}}var xf,y,IK=E(72578);function Xs(y){y.appendChild(this)}function hu(y,g,_){if(!g)return;if("number"==typeof g)return g;if("string"==typeof g)return(0,IK.Cb)(g);if("value"in g||"unit"in g)return(0,qy.n)(y.dotValue,g);if("colorName"in g&&"bandName"in g)return y[g.colorName]+": "+(y[g.bandName]||g.bandName);if("showCount"in g)return g.showCount?y.clusterCountTitle:void 0;let v=null;return function OK(y,g){return g}(0,_)?v=g.ratioPercentTotal?"showRatioPercentTotal":g.ratioPercent?"showRatioPercent":g.ratio?"showRatio":g.normField?"showNormField":g.field?"showField":null:Lx(0,_)&&(v=g.normField?"showNormField":g.normByPct?"showNormPct":g.field?"showField":null),v?(0,qy.n)("showField"===v?"{field}":y[v],{field:g.field,normField:g.normField}):void 0}function Lx(y,g){return!g}function Rx(y,g){return!!(g&&"Stretched"===g&&y.version>=10.3&&"esri.layers.ImageryLayer"===y.declaredClass)}function jx(y,g){return y.label?g[y.label]+": "+("string"==typeof y.value?y.value:(0,dx.uf)(y.value??0,{style:"decimal",notation:y.value?.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}(y=xf||(xf={})).Auto="auto",y.Stack="stack",y.SideBySide="side-by-side";const gh=window.devicePixelRatio;let ca=class extends Ao.Z{constructor(y,g){super(y,g),this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=xf.Stack,this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}initialize(){this.addHandles((0,Gt.YP)(()=>this.activeLayerInfos,y=>{this.removeAllHandles(),this._watchForSectionChanges(y)}))}render(){const{view:y}=this;this._hasIndicators=this.layout===xf.Auto&&y&&y.container.clientWidth<=768||this.layout===xf.Stack;const g=this.activeLayerInfos,_=g&&g.toArray().map(K=>this._renderLegendForLayer(K)).filter(K=>!!K);this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const v=this._sectionNames.length,b=this._sectionNames.map((K,de)=>{const De=(0,qy.n)(this.messagesCommon.pagination.pageText,{index:de+1,total:v});return(0,Ct.u)("div",{"aria-controls":`${K}-panel`,"aria-label":De,"aria-selected":(this._selectedSectionName===K).toString(),bind:this,class:this.classes(wn.indicator,{[wn.activated]:this._selectedSectionName===K}),"data-section-name":K,id:K,key:K,onclick:this._selectSection,onkeydown:this._focusSection,role:"tab",tabIndex:this._selectedSectionName===K?0:-1,title:De})}),M=this._hasIndicators&&v>1?(0,Ct.u)("div",{class:wn.indicatorContainer,key:"carousel-navigation",role:"tablist"},b):null,S=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):_&&_.length?_:null;return(0,Ct.u)("div",{class:this.classes(wn.base,{[wn.stacked]:this._hasIndicators})},S||(0,Ct.u)("div",{class:wn.message},this.messages.noLegend),M)}_selectSection(y){const g=y.target.getAttribute("data-section-name");g&&(this._selectedSectionName=g)}_focusSection(y){switch(y.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(y);break;case"Enter":case" ":this._selectSection(y)}}_switchSectionOnArrowPress(y){const g=y.key,_="ArrowLeft"===g?-1:1,v=y.target.getAttribute("data-section-name"),b=this._sectionNames.indexOf(v),M=this._sectionNames;let S=null;-1!==b&&(M[b+_]?S=document.getElementById(M[b+_]):"ArrowLeft"===g?S=document.getElementById(M[M.length-1]):"ArrowRight"===g&&(S=document.getElementById(M[0])),S?.focus())}_watchForSectionChanges(y){if(this._generateSectionNames(),y){y.forEach(_=>{const v=`activeLayerInfo-${_.layer.uid}-version-change`;this.removeHandles(v),this._watchForSectionChanges(_.children),this.addHandles((0,Gt.YP)(()=>_.version,()=>this._generateSectionNames()),v)});const g="activeLayerInfos-collection-change";this.removeHandles(g),this.addHandles(y.on("change",()=>this._watchForSectionChanges(y)),g)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(y,g,_){return`${this.id}${y.uid}-type-${g.type}-${_}`}_generateSectionNamesForActiveLayerInfo(y){y.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),y.legendElements&&y.legendElements.forEach((g,_)=>{this._sectionNames.push(this._getSectionName(y.layer,g,_))})}_renderLegendForLayer(y){if(!y.ready)return null;if(y.children.length){const g=y.children.map(_=>this._renderLegendForLayer(_)).toArray();return(0,Ct.u)("div",{class:this.classes(wn.service,wn.groupLayer),key:y.layer.uid},(0,Ct.u)("div",{class:wn.serviceCaptionContainer},y.title),g)}{const g=y.legendElements;if(g&&!g.length)return null;const _=g.some(M=>"relationship-ramp"===M.type),v=g.map((M,S)=>this._renderLegendForElement(M,y,S,_)).filter(M=>!!M);return v.length?(0,Ct.u)("div",{class:this.classes(wn.service,{[wn.groupLayerChild]:!!y.parent}),key:y.layer.uid},(0,Ct.u)("div",{class:wn.serviceCaptionContainer},(0,Ct.u)("div",{class:wn.serviceCaptionText},y.title)),(0,Ct.u)("div",{class:wn.serviceContent},v)):null}}_renderLegendForElement(y,g,_,v=!1,b=!1){const A=g.layer;let K=null;if("string"==typeof y.title)K=y.title;else if(y.title){const at=y.title,gt=hu(this.messages,at,"color-ramp"===y.type||"opacity-ramp"===y.type);K=at.title?`${at.title} (${gt})`:gt}const de=this._getSectionName(A,y,_),De=this._hasIndicators&&!b?(0,Ct.u)("div",null,(0,Ct.u)(Xd.X,{class:wn.carouselTitle,level:this.headingLevel},g.title),(0,Ct.u)(Xd.X,{class:wn.layerCaption,level:(0,Xd.M)(this.headingLevel)},K)):K?(0,Ct.u)(Xd.X,{class:wn.layerCaption,level:this.headingLevel},K):null,Te=g.effectList;let Ve=null;switch(y.type){case"symbol-table":{const at=y.infos.map((gt,mt)=>this._renderLegendForElementInfo(gt,g,y.legendType,mt)).filter(gt=>!!gt);if(at.length){const gt=at[0].properties.classes?.[wn.symbolRow];Ve=(0,Ct.u)("div",{class:this.classes({[wn.labelContainer]:!gt&&!v,[wn.relationshipLabelContainer]:v})},at)}break}case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":Ve=this._renderLegendForRamp(y,A.opacity,Te);break;case"size-ramp":Ve=this._renderSizeRamp(y,A.opacity);break;case"pie-chart-ramp":Ve=this._renderPieChartRamp(y);break;case"relationship-ramp":Ve=(0,Ox.g)(y,this.id,{opacity:A.opacity,effectList:Te,ariaLabel:this.messages.previewRelationshipRampAriaLabel});break;case"univariate-above-and-below-ramp":Ve=this._renderUnivariateAboveAndBelowRamp(y,A.opacity,Te);break;case"univariate-color-size-ramp":Ve=this._renderUnivariateColorSizeRamp(y,A.opacity,Te)}if(!Ve)return null;const nt=(0,Ct.u)("div",{"aria-labelledby":de,class:wn.section,id:`${de}-panel`,key:de,role:"tabpanel",tabIndex:0},[De,Ve]);return b||this._sectionMap.set(de,nt),nt}_renderPieChartRamp(y){return(0,Ct.u)("div",{afterCreate:Xs,bind:y.preview,class:wn.pieChartRampPreview})}_renderUnivariateAboveAndBelowRamp(y,g,_){const{sizeRampElement:v,colorRampElement:b}=Ax(y,g,"horizontal");if(!v)return null;const M=mC(v,"full",!0,"horizontal"),S=yh(v,"above",!0,"horizontal"),A=yh(v,"below",!0,"horizontal"),de=this.messages?.previewColorRampAriaLabel,De=mh(b,{width:S,height:12,rampAlignment:"horizontal",opacity:g,type:"above",effectList:_,ariaLabel:de}),Te=mh(b,{width:A,height:12,rampAlignment:"horizontal",opacity:g,type:"below",effectList:_,ariaLabel:de}),Ve=og(v,"card"),nt=v.infos.map(Kt=>Kt.label),at=nt.length-1,gt=nt.map((Kt,sn)=>0===sn||sn===at?(0,Ct.u)("div",{key:sn},Kt):null),St={marginTop:"3px",display:"flex"};(0,ec.dZ)(this.container)?St.marginRight=`${Ve}px`:St.marginLeft=`${Ve}px`;const Yt={width:`${M}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return(0,Ct.u)("div",{class:wn.layerRow,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},(0,Ct.u)("div",{class:this.classes(wn.symbolContainer,wn.sizeRampHorizontal),styles:{display:"flex",flexDirection:"row"}},v.infos.map((Kt,sn)=>(0,Ct.u)("div",{afterCreate:Xs,bind:Kt.preview,class:wn.symbol,key:sn}))),De?(0,Ct.u)("div",{class:wn.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:St},(0,Ct.u)("div",{afterCreate:Xs,bind:De}),(0,Ct.u)("div",{afterCreate:Xs,bind:Te})):null,(0,Ct.u)("div",{class:wn.layerInfo},(0,Ct.u)("div",{class:wn.rampLabelsContainer,styles:Yt},gt)))}_renderUnivariateColorSizeRamp(y,g,_){const{sizeRampElement:v,colorRampElement:b}=xx(y,"horizontal");if(!v)return null;const M=mC(v,"full",!1,"horizontal"),A=mh(b,{width:yh(v,"full",!1,"horizontal"),height:12,rampAlignment:"horizontal",opacity:g,type:"full",effectList:_,ariaLabel:this.messages?.previewColorRampAriaLabel}),K=og(v,"card"),de=v.infos.length-1,De=v.infos.map((gt,mt)=>0===mt||mt===de?(0,Ct.u)("div",{key:mt},gt.label):null),nt={marginTop:"3px",display:"flex"};(0,ec.dZ)(this.container)?nt.marginRight=`${K}px`:nt.marginLeft=`${K}px`;const at={width:`${M}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return(0,Ct.u)("div",{class:wn.layerRow,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},(0,Ct.u)("div",{class:this.classes(wn.symbolContainer,wn.sizeRampHorizontal),styles:{display:"flex",flexDirection:"row"}},v.infos.map((gt,mt)=>(0,Ct.u)("div",{afterCreate:Xs,bind:gt.preview,class:wn.symbol,key:mt}))),(0,Ct.u)("div",{class:wn.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:nt},(0,Ct.u)("div",{afterCreate:Xs,bind:A})),(0,Ct.u)("div",{class:wn.layerInfo},(0,Ct.u)("div",{class:wn.rampLabelsContainer,styles:at},De)))}_renderLegendForElementInfo(y,g,_,v){const b=g.layer;if(y.type)return this._renderLegendForElement(y,g,v,!1,!0);const M=Rx(b,_),S=hu(this.messages,y.label,!1)??"";if(y.preview){if(!y.symbol?.type.includes("simple-fill")){if(!y.label)return(0,Ct.u)("div",{afterCreate:Xs,bind:y.preview,key:v});const Kt={[wn.symbolCell]:this._hasIndicators};return(0,Ct.u)("div",{class:this.classes(wn.layerRow,{[wn.symbolRow]:this._hasIndicators}),key:v},(0,Ct.u)("div",{afterCreate:Xs,bind:y.preview,class:this.classes(Kt)}),(0,Ct.u)("div",{class:this.classes(wn.imageLabel,{[wn.labelCell]:this._hasIndicators})},S))}let A=255,K=255,de=255,De=0,Te=255,Ve=255,nt=255,at=0;const gt=y.symbol.color?.a,mt=y.symbol.outline?.color?.a;gt&&(A=y.symbol.color.r,K=y.symbol.color.g,de=y.symbol.color.b,De=y.symbol.color.a*b.opacity),mt&&(Te=y.symbol.outline.color.r,Ve=y.symbol.outline.color.g,nt=y.symbol.outline.color.b,at=y.symbol.outline.color.a*b.opacity);const At=y.symbol.color?.isBright??!0,St=At?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",Yt={background:gt?`rgba(${A}, ${K}, ${de}, ${De})`:"none",color:At?"black":"white",textShadow:`-1px -1px 0 ${St},\n                                              1px -1px 0 ${St},\n                                              -1px 1px 0 ${St},\n                                              1px 1px 0 ${St}`,border:mt?`1px solid rgba(${Te}, ${Ve}, ${nt}, ${at})`:"none",filter:(0,oh.wJ)(g.effectList)??void 0};return(0,Ct.u)("div",{class:wn.layerRow,key:v},(0,Ct.u)("div",{class:wn.labelElement,styles:Yt},S))}if(y.src){const A=this._renderImage(y,b,M);return(0,Ct.u)("div",{class:wn.layerRow,key:v},A,(0,Ct.u)("div",{class:wn.imageLabel},S))}}_renderImage(y,g,_){const{label:v,src:b,opacity:M}=y,S={[wn.imageryLayerStretchedImage]:_,[wn.symbol]:!_},A={opacity:`${M??g.opacity}`};return(0,Ct.u)("img",{alt:hu(this.messages,v,!1),"aria-label":hu(this.messages,v,!1),border:0,class:this.classes(S),height:y.height,src:b,styles:A,width:y.width})}_renderSizeRampLines(y){const g=y.infos,_=g[0],v=g[g.length-1],b=_.symbol,M=this._hasIndicators,S=(0,fs.F2)(_.size+_.outlineSize)*gh,A=(0,fs.F2)(v.size+v.outlineSize)*gh,K=M?S:S+50*gh,de=M?S/2+50*gh:S,De=function jK(y){if(y){if(y.type.includes("3d")){const g=y.symbolLayers?.length;if(!g)return;const _=y.symbolLayers.at(g-1).get("resource.primitive");return"triangle"===_||"cone"===_||"tetrahedron"===_}return"triangle"===y.style}}(b),Te=function RK(y){if(y){if(y.type.includes("3d")){const g=y.symbolLayers?.length;if(!g)return;const _=y.symbolLayers.at(g-1),v=_.resource?.primitive;return"circle"===v||"cross"===v||"kite"===v||"sphere"===v||"cube"===v||"diamond"===v}{const g=y.style;return"circle"===g||"diamond"===g||"cross"===g}}}(b),Ve=document.createElement("canvas");Ve.width=K,Ve.height=de,Ve.style.width=Ve.width/gh+"px",Ve.style.height=Ve.height/gh+"px";const nt=Ve.getContext("2d");if(M){nt.beginPath();const mt=K/2-A/2,At=de;nt.moveTo(0,0),nt.lineTo(mt,At);const Kt=K/2+A/2,sn=de;nt.moveTo(K,0),nt.lineTo(Kt,sn)}else{nt.beginPath();const mt=K;nt.moveTo(0,de/2-A/2),nt.lineTo(mt,0);const Kt=K,sn=de;nt.moveTo(0,de/2+A/2),nt.lineTo(Kt,sn)}return nt.strokeStyle="#ddd",nt.stroke(),(0,Ct.u)("div",{afterCreate:Xs,bind:Ve,styles:M?{display:"flex",marginTop:`-${De?0:Te?S/2:0}px`,marginBottom:`-${De?A:Te?A/2:0}px`}:{display:"flex",marginRight:`-${De?0:Te?S/2:0}px`,marginLeft:`-${De?0:Te?A/2:0}px`}})}_renderSizeRamp(y,g){const _=y.infos,v=_[0].label,b=_[_.length-1].label;let M=_[0].preview,S=_[_.length-1].preview;const A=this._hasIndicators,K={"flex-direction":A?"column":"row-reverse"};M&&(M=M.cloneNode(!0),M.style.display="flex"),S&&(S=S.cloneNode(!0),S.style.display="flex");const de={opacity:null!=g?`${g}`:""};return(0,Ct.u)("div",{class:this.classes(wn.layerRow,{[wn.sizeRampRow]:A})},(0,Ct.u)("div",{class:wn.rampLabel},A?v:b),(0,Ct.u)("div",{class:wn.sizeRampContainer,styles:K},(0,Ct.u)("div",{afterCreate:Xs,bind:M,class:wn.sizeRampPreview,styles:de}),this._renderSizeRampLines(y),(0,Ct.u)("div",{afterCreate:Xs,bind:S,class:wn.sizeRampContainer,styles:de})),(0,Ct.u)("div",{class:wn.rampLabel},A?b:v))}_getRampStopLabel(y,g){switch(g){case"heatmap-ramp":return this.messages[y.label];case"stretch-ramp":return jx(y,this.messages);default:return y.label}}_renderLegendForRamp(y,g,_){const v=y.infos,b=y.type,M="heatmap-ramp"===b,S=v.length-1,K=S>2&&!M?25*S:100,de=K+20,Te=v.slice(0).reverse(),Ve=Te.length-1,nt=Te.length%2!=0?Te[Te.length/2|0]:null,at=nt&&(0,Ct.u)("div",{class:wn.intervalSeparatorsContainer},(0,Ct.u)("div",{class:wn.intervalSeparator},"|"),(0,Ct.u)("div",{class:wn.rampLabel},this._getRampStopLabel(nt,b))),gt=[[{shape:{type:"path",path:"M0 12.5 L10 0 L10 25 Z"},fill:Te[0].color,stroke:{width:0}},{shape:{type:"rect",x:10,y:0,width:K,height:25},fill:{type:"linear",x1:10,y1:0,x2:K+10,y2:0,colors:Te.map((Yt,Kt)=>({color:Yt.color,offset:M&&"ratio"in Yt?Yt.ratio:Kt/S}))},stroke:{width:0}},{shape:{type:"path",path:`M${K+10} 0 L${de} 12.5 L${K+10} 25 Z`},fill:Te[Ve].color,stroke:{width:0}}]],mt=(0,MK.KB)(gt,de,25),At={filter:(0,oh.wJ)(_)??void 0,opacity:null==g?void 0:`${g}`};return(0,Ct.u)("div",{class:wn.layerRow,styles:{justifyContent:"center"}},(0,Ct.u)("div",{class:wn.rampLabel},this._getRampStopLabel(Te[0],b)),(0,Ct.u)("div",{class:wn.symbolContainer},(0,Ct.u)("div",{styles:At},mt),at),(0,Ct.u)("div",{class:wn.rampLabel},this._getRampStopLabel(Te[Ve],b)))}};(0,we._)([(0,Le.Cb)()],ca.prototype,"activeLayerInfos",void 0),(0,we._)([(0,Le.Cb)()],ca.prototype,"headingLevel",void 0),(0,we._)([(0,Le.Cb)()],ca.prototype,"layout",void 0),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Legend/t9n/Legend")],ca.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/t9n/common")],ca.prototype,"messagesCommon",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],ca.prototype,"type",void 0),(0,we._)([(0,Le.Cb)()],ca.prototype,"view",void 0),(0,we._)([(0,ih.h)()],ca.prototype,"_selectSection",null),ca=(0,we._)([(0,cn.j)("esri.widgets.Legend.styles.Card")],ca);const yC=ca,Or="esri-legend",Vn={service:`${Or}__service`,label:`${Or}__service-label`,layer:`${Or}__layer`,groupLayer:`${Or}__group-layer`,groupLayerChild:`${Or}__group-layer-child`,layerTable:`${Or}__layer-table`,layerTableSizeRamp:`${Or}__layer-table--size-ramp`,layerChildTable:`${Or}__layer-child-table`,layerCaption:`${Or}__layer-caption`,layerBody:`${Or}__layer-body`,layerRow:`${Or}__layer-row`,layerCell:`${Or}__layer-cell`,layerInfo:`${Or}__layer-cell ${Or}__layer-cell--info`,imageryLayerStretchedImage:`${Or}__imagery-layer-image--stretched`,imageryLayerCellStretched:`${Or}__imagery-layer-cell--stretched`,imageryLayerInfoStretched:`${Or}__imagery-layer-info--stretched`,symbolContainer:`${Or}__layer-cell ${Or}__layer-cell--symbols`,symbol:`${Or}__symbol`,rampContainer:`${Or}__ramps`,sizeRamp:`${Or}__size-ramp`,colorRamp:`${Or}__color-ramp`,opacityRamp:`${Or}__opacity-ramp`,borderlessRamp:`${Or}__borderless-ramp`,rampTick:`${Or}__ramp-tick`,rampFirstTick:`${Or}__ramp-tick-first`,rampLastTick:`${Or}__ramp-tick-last`,rampLabelsContainer:`${Or}__ramp-labels`,rampLabel:`${Or}__ramp-label`,message:`${Or}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"},UK=`${Or}__`,Ux={display:"flex",alignItems:"flex-start"},gC={marginLeft:"3px"},_h={display:"table-cell",verticalAlign:"middle"};let lc=class extends Ao.Z{constructor(y,g){super(y,g),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const y=this.activeLayerInfos,g=y&&y.toArray().map(_=>this._renderLegendForLayer(_)).filter(_=>!!_);return(0,Ct.u)("div",null,g&&g.length?g:(0,Ct.u)("div",{class:Vn.message},this.messages.noLegend))}_renderLegendForLayer(y){if(!y.ready)return null;const g=!!y.children.length,_=`${UK}${y.layer.uid}-version-${y.version}`,v=y.title?(0,Xd.X)({level:this.headingLevel,class:this.classes(er.z.heading,Vn.label)},y.title):null;if(g){const b=y.children.map(M=>this._renderLegendForLayer(M)).toArray();return(0,Ct.u)("div",{class:this.classes(Vn.service,Vn.groupLayer),key:_},v,b)}{const b=y.legendElements;if(b&&!b.length)return null;const M=b.map(A=>this._renderLegendForElement(A,y.layer,y.effectList)).filter(A=>!!A);return M.length?(0,Ct.u)("div",{class:this.classes(Vn.service,{[Vn.groupLayerChild]:!!y.parent}),key:_},v,(0,Ct.u)("div",{class:Vn.layer},M)):null}}_renderLegendForElement(y,g,_,v){const b="color-ramp"===y.type,M="opacity-ramp"===y.type,S="size-ramp"===y.type;let A=null;if("symbol-table"===y.type||S){const nt=y.infos.map(at=>this._renderLegendForElementInfo(at,g,_,S,y.legendType)).filter(at=>!!at);nt.length&&(A=(0,Ct.u)("div",{class:Vn.layerBody},nt))}else"color-ramp"===y.type||"opacity-ramp"===y.type||"heatmap-ramp"===y.type||"stretch-ramp"===y.type?A=this._renderLegendForRamp(y,g.opacity):"relationship-ramp"===y.type?A=(0,Ox.g)(y,this.id,{opacity:g.opacity,effectList:_,ariaLabel:this.messages.previewRelationshipRampAriaLabel}):"pie-chart-ramp"===y.type?A=this._renderPieChartRamp(y):"univariate-above-and-below-ramp"===y.type?A=this._renderUnivariateAboveAndBelowRamp(y,g.opacity,_):"univariate-color-size-ramp"===y.type&&(A=this._renderUnivariateColorSizeRamp(y,g.opacity,_));if(!A)return null;const K=y.title;let de=null;if("string"==typeof K)de=K;else if(K){const nt=hu(this.messages,K,b||M);de=Lx(0,b||M)&&K.title?`${K.title} (${nt})`:nt}const De=v?Vn.layerChildTable:Vn.layerTable,Te=de?(0,Ct.u)("div",{class:Vn.layerCaption},de):null;return(0,Ct.u)("div",{class:this.classes(De,{[Vn.layerTableSizeRamp]:S||!v})},Te,A)}_renderPieChartRamp(y){return(0,Ct.u)("div",{afterCreate:Xs,bind:y.preview})}_renderUnivariateAboveAndBelowRamp(y,g,_){const{sizeRampElement:v,colorRampElement:b}=Ax(y,g);if(!v)return null;const M=this.messages?.previewColorRampAriaLabel,S=yh(v,"above",!0),A=yh(v,"below",!0),de=mh(b,{width:12,height:S,rampAlignment:"vertical",opacity:g,type:"above",effectList:_,ariaLabel:M}),De=mh(b,{width:12,height:A,rampAlignment:"vertical",opacity:g,type:"below",effectList:_,ariaLabel:M}),Te=og(v),Ve=v.infos.map(sn=>sn.label),nt=Ve.map((sn,gn)=>0===gn?(0,Ct.u)("div",{class:sn?de?Vn.univariateAboveAndBelowLabel:Vn.rampLabel:void 0,key:gn},sn):2===gn?(0,Ct.u)("div",null):null),at=Ve.length-1,gt=Math.floor(Ve.length/2),mt=Ve.map((sn,gn)=>gn===gt||gn===at?(0,Ct.u)("div",{class:sn?de?Vn.univariateAboveAndBelowLabel:Vn.rampLabel:void 0,key:gn},sn):null),At={display:"table-cell",verticalAlign:"middle"},St={marginTop:`${Te}px`},Yt={height:`${S}px`},Kt={height:`${A}px`};return(0,Ct.u)("div",{key:"univariate-above-and-below-ramp-preview",styles:Ux},(0,Ct.u)("div",{class:Vn.layerBody},v.infos.map((sn,gn)=>(0,Ct.u)("div",{class:this.classes(Vn.layerRow,Vn.sizeRamp)},(0,Ct.u)("div",{afterCreate:Xs,bind:sn.preview,class:Vn.symbol,styles:At}),de||gn%2!=0?null:(0,Ct.u)("div",{class:Vn.layerInfo},Ve[gn])))),de?(0,Ct.u)("div",{key:"color-ramp-preview",styles:St},(0,Ct.u)("div",{styles:gC},(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{afterCreate:Xs,bind:de,class:Vn.rampContainer})),(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{class:Vn.rampLabelsContainer,styles:Yt},nt))),(0,Ct.u)("div",{styles:gC},(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{afterCreate:Xs,bind:De,class:Vn.rampContainer})),(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{class:Vn.rampLabelsContainer,styles:Kt},mt)))):null)}_renderUnivariateColorSizeRamp(y,g,_){const{sizeRampElement:v,colorRampElement:b}=xx(y);if(!v)return null;const M=og(v),A=yh(v,"full",!1),K=mh(b,{width:12,height:A,rampAlignment:"vertical",opacity:g,type:"full",effectList:_,ariaLabel:this.messages?.previewColorRampAriaLabel}),de=v.infos.length-1,De=v.infos.map((at,gt)=>0===gt||gt===de?(0,Ct.u)("div",{class:at.label?b?Vn.univariateAboveAndBelowLabel:Vn.rampLabel:void 0,key:gt},at.label):null),Te={display:"table-cell",verticalAlign:"middle"},Ve={marginTop:`${M}px`},nt={height:`${A}px`};return(0,Ct.u)("div",{key:"univariate-above-and-below-ramp-preview",styles:Ux},(0,Ct.u)("div",{class:Vn.layerBody},v.infos.map(at=>(0,Ct.u)("div",{class:this.classes(Vn.layerRow,Vn.sizeRamp)},(0,Ct.u)("div",{afterCreate:Xs,bind:at.preview,class:Vn.symbol,styles:Te})))),(0,Ct.u)("div",{key:"color-ramp-preview",styles:Ve},(0,Ct.u)("div",{styles:gC},(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{afterCreate:Xs,bind:K,class:Vn.rampContainer})),(0,Ct.u)("div",{styles:_h},(0,Ct.u)("div",{class:Vn.rampLabelsContainer,styles:nt},De)))))}_renderLegendForRamp(y,g){const _=y.infos,b="heatmap-ramp"===y.type,M="stretch-ramp"===y.type,S=y.preview;S.className=`${Vn.colorRamp} ${"opacity-ramp"===y.type?Vn.opacityRamp:""}`,null!=g&&(S.style.opacity=g.toString());const K=_.map(Te=>(0,Ct.u)("div",{class:Te.label?Vn.rampLabel:void 0},b?this.messages[Te.label]||Te.label:M?jx(Te,this.messages):Te.label)),De={height:S.style.height};return(0,Ct.u)("div",{class:Vn.layerRow},(0,Ct.u)("div",{class:Vn.symbolContainer,styles:{width:"24px"}},(0,Ct.u)("div",{afterCreate:Xs,bind:S,class:Vn.rampContainer})),(0,Ct.u)("div",{class:Vn.layerInfo},(0,Ct.u)("div",{class:Vn.rampLabelsContainer,styles:De},K)))}_renderLegendForElementInfo(y,g,_,v,b){if(y.type)return this._renderLegendForElement(y,g,_,!0);let M=null;const S=Rx(g,b);if(y.preview?M=(0,Ct.u)("div",{afterCreate:Xs,bind:y.preview,class:Vn.symbol}):y.src&&(M=this._renderImage(y,g,S)),!M)return null;const A={[Vn.imageryLayerInfoStretched]:S};return(0,Ct.u)("div",{class:Vn.layerRow},(0,Ct.u)("div",{class:this.classes(Vn.symbolContainer,{[Vn.imageryLayerInfoStretched]:S,[Vn.sizeRamp]:!S&&v})},M),(0,Ct.u)("div",{class:this.classes(Vn.layerInfo,A)},hu(this.messages,y.label,!1)||""))}_renderImage(y,g,_){const{label:v,src:b,opacity:M}=y,S={[Vn.imageryLayerStretchedImage]:_,[Vn.symbol]:!_},A={opacity:`${M??g.opacity}`};return(0,Ct.u)("img",{alt:hu(this.messages,v,!1),"aria-label":hu(this.messages,v,!1),border:0,class:this.classes(S),height:y.height,src:b,styles:A,width:y.width})}};(0,we._)([(0,Le.Cb)()],lc.prototype,"activeLayerInfos",void 0),(0,we._)([(0,Le.Cb)()],lc.prototype,"headingLevel",void 0),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Legend/t9n/Legend")],lc.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],lc.prototype,"type",void 0),lc=(0,we._)([(0,cn.j)("esri.widgets.Legend.styles.Classic")],lc);const vh=lc,Nx={base:"esri-legend",widgetIcon:Ds.W.layerList};let qs=class extends Ao.Z{constructor(y,g){super(y,g),this.headingLevel=3,this.iconClass=Nx.widgetIcon,this.icon=null,this.messages=null,this.style=new vh,this.viewModel=new CK}initialize(){this.addHandles([(0,Gt.on)(()=>this.view,"resize",()=>this.scheduleRender()),(0,Gt.on)(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),(0,Gt.YP)(()=>this.headingLevel,y=>{const{style:g}=this;g&&(g.headingLevel=y)}),(0,Gt.YP)(()=>this.style,(y,g)=>{g&&y!==g&&g.destroy(),y&&(y.activeLayerInfos=this.activeLayerInfos,"card"===y.type&&(y.view=this.view),y.headingLevel=this.headingLevel)},Gt.nn)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(y){this.viewModel.activeLayerInfos=y}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(y){this.viewModel.basemapLegendVisible=y}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(y){this.viewModel.groundLegendVisible=y}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(y){this.viewModel.hideLayersNotInCurrentView=y}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(y){this.viewModel.keepCacheOnDestroy=y}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(y){this.viewModel.respectLayerVisibility=y}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(y){this.viewModel.layerInfos=y}castStyle(y){if(y instanceof yC||y instanceof vh)return y;if("string"==typeof y)return"card"===y?new yC:new vh;if(y&&"string"==typeof y.type){const g={...y};return delete g.type,new("card"===y.type?yC:vh)(g)}return new vh}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}render(){return(0,Ct.u)("div",{class:this.classes(Nx.base,er.z.widget,this.style instanceof vh?er.z.panel:null)},this.style.render())}_refreshActiveLayerInfos(y){y.forEach(g=>{this.removeHandles(`version_${g.layer.uid}`),this._renderOnActiveLayerInfoChange(g)}),this.scheduleRender()}_renderOnActiveLayerInfoChange(y){const g=(0,Gt.YP)(()=>y.version,()=>this.scheduleRender());this.addHandles(g,`version_${y.layer.uid}`);const _=(0,Gt.on)(()=>y.children,"change",()=>y.children.forEach(v=>this._renderOnActiveLayerInfoChange(v)),Gt.nn);this.addHandles(_,`version_${y.layer.uid}`),y.children.forEach(v=>this._renderOnActiveLayerInfoChange(v))}};(0,we._)([(0,Le.Cb)()],qs.prototype,"activeLayerInfos",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"basemapLegendVisible",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"groundLegendVisible",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"headingLevel",void 0),(0,we._)([(0,Le.Cb)()],qs.prototype,"hideLayersNotInCurrentView",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"keepCacheOnDestroy",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"respectLayerVisibility",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],qs.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],qs.prototype,"label",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"layerInfos",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Legend/t9n/Legend")],qs.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],qs.prototype,"style",void 0),(0,we._)([(0,Wi.p)("style")],qs.prototype,"castStyle",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"view",null),(0,we._)([(0,Le.Cb)()],qs.prototype,"viewModel",void 0),qs=(0,we._)([(0,cn.j)("esri.widgets.Legend")],qs);const BK=qs;var FK=E(36885),WK=E(30220),ag=E(11667);const lg={widthBreakpoint:{getValue(y){const g=y.viewSize[0],_=y.breakpoints,v=this.values;return g<=_.xsmall?v.xsmall:g<=_.small?v.small:g<=_.medium?v.medium:g<=_.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(y){const g=y.viewSize[1],_=y.breakpoints,v=this.values;return g<=_.xsmall?v.xsmall:g<=_.small?v.small:g<=_.medium?v.medium:g<=_.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(y){const g=y.viewSize,b=this.values;return g[1]>=g[0]?b.portrait:b.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},_C={xsmall:544,small:768,medium:992,large:1200};function vC(y,g){return g?lg[y].valueToClassName[g].split(" "):[]}const $K=y=>{let g=class extends y{constructor(..._){super(..._),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=_C}initialize(){this.addHandles((0,Gt.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Gt.nn))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(_){if(_===this._get("breakpoints"))return;const v=function VK(y){return y&&y.xsmall<y.small&&y.small<y.medium&&y.medium<y.large}(_);if(!v){const b=JSON.stringify(_C,null,2);console.warn("provided breakpoints are not valid, using defaults:"+b)}_=v?_:_C,this._set("breakpoints",{..._})}_updateClassNames(){if(!this.container)return;const _=ag.Z.acquire(),v=ag.Z.acquire();let b,M=!1;for(b in lg){const S=this[b],A=lg[b].getValue({viewSize:this.size,breakpoints:this.breakpoints});S!==A&&(M=!0,this[b]=A,vC(b,S).forEach(K=>v.push(K)),vC(b,A).forEach(K=>_.push(K)))}M&&(this._applyClassNameChanges(_,v),ag.Z.release(_),ag.Z.release(v))}_applyClassNameChanges(_,v){const b=this.container;b&&(v.forEach(M=>b.classList.remove(M)),_.forEach(M=>b.classList.add(M)))}_removeActiveClassNames(){const _=this.container;if(!_)return;let v;for(v in lg)vC(v,this[v]).forEach(b=>_.classList.remove(b))}};return(0,we._)([(0,Le.Cb)()],g.prototype,"breakpoints",null),(0,we._)([(0,Le.Cb)()],g.prototype,"orientation",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"widthBreakpoint",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"heightBreakpoint",void 0),g=(0,we._)([(0,cn.j)("esri.views.BreakpointsOwner")],g),g};var pu=E(66081),uc=E(66679),ug=E(90110);let fu=class extends dr.Z{constructor(){super(...arguments),this.items=new ss.Z,this._watchUpdatingTracking=new ug.R,this._callbacks=new Map,this._projector=(0,dC.E)(),this._hiddenProjector=(0,dC.E)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const y=document.createElement("div");y.className="esri-overlay-surface",this._set("surface",y),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),y.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,g=>{for(const _ of g.added){const v=()=>_.render();this._callbacks.set(_,v),this._projector.append(this.surface,v)}for(const _ of g.removed){const v=this._projector.detach(this._callbacks.get(_));this.surface.removeChild(v.domNode),this._callbacks.delete(_)}})}addItem(y){this.items.add(y)}removeItem(y){this.items.remove(y)}destroy(){this.items.removeAll(),this._callbacks.forEach(y=>this._projector.detach(y)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(y){const g=this._hiddenSurface,_=this._hiddenProjector;let v;const b=()=>(v=y.render(),v);_.append(g,b),_.renderNow();const M={left:0,top:0,right:0,bottom:0};if(v?.domNode){const S=v.domNode.getBoundingClientRect();M.left=S.left,M.top=S.top,M.right=S.right,M.bottom=S.bottom}for(_.detach(b);g.firstChild;)g.removeChild(g.firstChild);return M}overlaps(y,g){const _=this.computeBoundingRect(y),v=this.computeBoundingRect(g);return Math.max(_.left,v.left)<=Math.min(_.right,v.right)&&Math.max(_.top,v.top)<=Math.min(_.bottom,v.bottom)}get hasVisibleItems(){return this.items.some(y=>y.visible)}prepare(){var y=this;return(0,hn.Z)(function*(){yield document.fonts.load(y._fontString()).catch(()=>{})})()}renderCanvas(y,g){const _=!!g?.disableDecorations;if(!this.items.some(b=>b.visible&&!(_&&b.isDecoration)))return;const v=y.getContext("2d");v.save(),v.font=this._fontString(),this.items.forEach(b=>{_&&b.isDecoration||(v.save(),b.renderCanvas(v),v.restore())}),v.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,we._)([(0,Le.Cb)({readOnly:!0})],fu.prototype,"surface",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],fu.prototype,"items",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],fu.prototype,"needsRender",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],fu.prototype,"_watchUpdatingTracking",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],fu.prototype,"updating",null),fu=(0,we._)([(0,cn.j)("esri.views.overlay.ViewOverlay")],fu);const Bx=fu,EC=[0,0];function Fx(y){y&&((0,pu.cS)(y),y.parentNode&&y.parentNode.removeChild(y))}const GK=y=>{let g=class extends y{constructor(..._){super(..._),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,Gt.YP)(()=>this.cursor,v=>{const{surface:b}=this;b&&b.setAttribute("data-cursor",v)}),(0,Gt.YP)(()=>this.navigating,v=>{const{surface:b}=this;b&&b.setAttribute("data-navigating",v.toString())})])}initialize(){var _=this;const v=(0,Ba.Z)("mac"),b=function(){var M=(0,hn.Z)(function*(){v&&(yield(0,Gt.N1)(()=>_.ready),_.messagesCommon=yield(0,px.ME)("esri/t9n/common").catch(()=>{}))});return function(){return M.apply(this,arguments)}}();b(),this.addHandles([(0,Gt.YP)(()=>this.ui,(M,S)=>this._handleUIChange(M,S),Gt.nn),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused")),(0,sg.qe)(b)])}destroy(){this.destroyed||(this.ui=(0,Br.SC)(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(_){const v=this._get("container"),b=(0,pu.L7)(_);if(b||"string"!=typeof _||nr.Z.getLogger(this).error("#container",`element with id '${_}' not found`),v===b)return;if(this._stopMeasuring(),v&&(v.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(Fx(this.root),this._set("root",null)),this.userContent&&((0,pu.YD)(this.userContent,v),Fx(this.userContent),this._set("userContent",null))),!b)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);b.classList.add("esri-view");const M=document.createElement("div");M.className="esri-view-user-storage",(0,pu.YD)(b,M),b.appendChild(M),this._set("userContent",M);const S=document.createElement("div");S.className="esri-view-root",b.insertBefore(S,b.firstChild),this._set("root",S);const A=document.createElement("div");A.className="esri-view-surface",A.setAttribute("role","application"),A.tabIndex=0,S.appendChild(A),this._set("surface",A);const K=new Bx;S.appendChild(K.surface),this._set("overlay",K),this.addHandles((0,Gt.YP)(()=>K.needsRender,de=>{this._overlayRenderTaskHandle=de&&!this._overlayRenderTaskHandle?(0,uc.A)({render:()=>this.overlay?.render()}):(0,Br.hw)(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",b),this._startMeasuring()}get focused(){const _=document.activeElement===this.surface;return document.hasFocus()&&_}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(_,v,b){const M=this.position;return _-=M?M[0]:0,v-=M?M[1]:0,b?(b[0]=_,b[1]=v):b=[_,v],b}containerToPage(_,v,b){const M=this.position;return _+=M?M[0]:0,v+=M?M[1]:0,b?(b[0]=_,b[1]=v):b=[_,v],b}_handleUIChange(_,v){this.removeHandles("ui"),v&&v!==_&&v.destroy(),_&&(_.view=this,this.addHandles((0,Gt.YP)(()=>this.root,b=>{_.container=b?function ZK(y){const g=document.createElement("div");return y.appendChild(g),g}(b):null},Gt.nn),"ui")),this._set("ui",_)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const _=this._freqInfo;_.freq=16,_.time=750,this.addHandles([(0,Ib.on)(window,"resize",()=>{_.freq=16,_.time=750}),(0,uc.A)({prepare:v=>{const b=this._measure(),M=this._freqInfo;if(M.time+=v.deltaTime,b&&(M.freq=16,this._get("resizing")||this._set("resizing",!0)),M.time<M.freq)return;M.time=0;const S=this._position();M.freq=S||b?16:Math.min(750,2*M.freq),!b&&M.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const _=this.container,v=_?_.clientWidth:0,b=_?_.clientHeight:0;if(0===v||0===b)return this.suspended||this._set("suspended",!0),!1;const M=this.width,S=this.height;return v===M&&b===S?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",v),this._set("height",b),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:M,oldHeight:S,width:v,height:b}),!0)}_position(){const _=this.container,v=this.position,b=_&&function kK(y){const g=(y.ownerDocument||window.document).defaultView,_=y.getBoundingClientRect();return EC[0]=_.left+(g?.pageXOffset??0),EC[1]=_.top+(g?.pageYOffset??0),EC}(_);return!(!b||v&&b[0]===v[0]&&b[1]===v[1]||(this._set("position",[b[0],b[1]]),0))}forceDOMReadyCycle(){}};return(0,we._)([(0,Le.Cb)()],g.prototype,"container",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"focused",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"height",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"messagesCommon",void 0),(0,we._)([(0,Le.Cb)({type:Bx})],g.prototype,"overlay",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"position",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"resizing",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"root",void 0),(0,we._)([(0,Le.Cb)({value:null,readOnly:!0})],g.prototype,"size",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"surface",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"suspended",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"ui",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"userContent",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],g.prototype,"width",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"widthBreakpoint",void 0),g=(0,we._)([(0,cn.j)("esri.views.DOMContainer")],g),g};var dg=E(37636),Eh=E(77192);function Qa(y){return null!=y&&"open"in y&&"declaredClass"in y}function Wx(y){return null!=y&&"declaredClass"in y&&"dockOptions"in y}const HK=y=>{let g=class extends y{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){var _=this;this.addHandles([(0,Gt.YP)(()=>[this.ui,this.popup],([v,b],M)=>{const S="popup";if(M){const[K,de]=M;K&&Qa(de)&&(de.view=null,Wx(de)&&K.remove(de,S))}v&&Qa(b)&&(b.view=this,Wx(b)&&v.add(b,{key:S,position:"manual",internal:!0}))},Gt.nn),this.on("click",v=>{this.popup&&this.popupEnabled&&("mouse"!==v.pointerType||0===v.button)&&(!Qa(this.popup)&&"autoOpenEnabled"in this.popup&&!1===this.popup.autoOpenEnabled||(Qa(this.popup)?this.popup.viewModel.handleViewClick(v):v.async((0,hn.Z)(function*(){yield _.setupPopup(),Qa(_.popup)&&!_.destroyed&&_.ready&&_.popupEnabled&&_.popup.viewModel.handleViewClick(v)}))))},Eh.f.WIDGET)]),(0,Gt.N1)(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Promise.all([E.e(842),E.e(2784),E.e(1687)]).then(E.bind(E,91687))})}destroy(){this.destroyed||this.closePopup()}openPopup(_){var v=this;return(0,hn.Z)(function*(){if(Qa(v.popup))return v.popup.open(_);try{if(yield v.setupPopup(),!v.popup)return void nr.Z.getLogger(v).error(new mr.Z("view:null-popup","Popup is null and can't be opened"));v.popup.open(_)}catch{}})()}closePopup(){this._popupSetupTask?.abort(),Qa(this.popup)&&this.popup.close()}fetchPopupFeatures(_,v){var b=this;return(0,hn.Z)(function*(){yield b.when();const{location:M,queryArea:S,layerViewsAndGraphics:A,clientOnlyGraphics:K}=yield b._prepareFetchPopupFeatures(_,v),de=Promise.resolve(K),De=b._queryLayerPopupFeatures(S,A,v),Te=De.map(Ve=>Ve.promise);return{location:M,clientOnlyGraphics:K,allGraphicsPromise:(0,Fr.WW)([de,...Te]).then(Ve=>Array.from(new Set(Ve.flat()))),promisesPerLayerView:De}})()}setupPopup(){var _=this;return(0,hn.Z)(function*(){if(_._popupSetupTask?.abort(),_.popup&&!Qa(_.popup))return _._popupSetupTask=(0,dg.vr)(function(){var v=(0,hn.Z)(function*(b){const{default:M}=yield Promise.all([E.e(842),E.e(2784),E.e(1687)]).then(E.bind(E,91687));if((0,Fr.k_)(b),!_.popup||Qa(_.popup))return;const S=_.popup;delete S.open,delete S.close,_.popup=new M(S)});return function(b){return v.apply(this,arguments)}}()),_._popupSetupTask.promise})()}_queryLayerPopupFeatures(_,v,b){return v.map(({layerView:M,graphics:S})=>{const K=M.fetchPopupFeatures(_,{clientGraphics:S,event:b?.event,signal:b?.signal,defaultPopupTemplateEnabled:null!=b&&!!b.defaultPopupTemplateEnabled});return{layerView:M,promise:K}})}_isValidPopupGraphic(_,v){return _&&!!_.getEffectivePopupTemplate(null!=v&&v.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(_,v){var b=this;return(0,hn.Z)(function*(){const{clientGraphics:M,queryArea:S,location:A}=yield b._popupHitTestGraphics(_,v),K=b._getFetchPopupLayerViews(),{layerViewsAndGraphics:de,clientOnlyGraphics:De}=b._graphicsPerFetchPopupLayerView(M,K);return{clientOnlyGraphics:De,layerViewsAndGraphics:de,queryArea:S,location:A}})()}_popupHitTestGraphics(_,v){var b=this;return(0,hn.Z)(function*(){const M=yield b.popupHitTest(_),A=M.mapPoint,K=M.results.filter(De=>"graphic"===De.type&&b._isValidPopupGraphic(De.graphic,v)),de=K.length?K[0].mapPoint:null;return{clientGraphics:K.map(De=>De.graphic),queryArea:A,location:A||de}})()}_getFetchPopupLayerViews(){const _=[];return this.allLayerViews.forEach(v=>{this._isValidPopupLayerView(v)&&_.push(v)}),null!=this.graphicsView&&this._isValidPopupLayerView(this.graphicsView)&&_.push(this.graphicsView),_.reverse()}_isValidPopupLayerView(_){return null!=_&&(!("layer"in _)||!_.suspended)&&"fetchPopupFeatures"in _}_graphicsPerFetchPopupLayerView(_,v){const b=[],M=new Map,S=v.map(A=>{const K=[];return M.set("layer"in A?A.layer:A.graphics,K),{layerView:A,graphics:K}});for(const A of _){const K=M.get(A.layer)||M.get(A.sourceLayer)||null;K?K.push(A):b.push(A)}return{layerViewsAndGraphics:S,clientOnlyGraphics:b}}};return(0,we._)([(0,Le.Cb)({cast(_){return!_||Qa(_)||"object"==typeof _&&(_.open=v=>((0,Py.x9)(nr.Z.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(v)),_.close=()=>((0,Py.x9)(nr.Z.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),_}})],g.prototype,"popup",void 0),(0,we._)([(0,Le.Cb)()],g.prototype,"popupEnabled",void 0),g=(0,we._)([(0,cn.j)("esri.views.PopupView")],g),g};var Vx=E(50433),$x=E(1258),bC=E(18714),Rf=E(26894),CC=E(69063);let hg=class extends bC.a{constructor(y){super(y),this.addHandles(this.on("before-add",g=>{null!=g.item&&g.item.parent===this.owner&&(nr.Z.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(y){y.parent=this.owner}_release(y){y.parent=null}};hg=(0,we._)([(0,cn.j)("esri.support.AnalysesCollection")],hg);var kx=E(72262);let mu=class extends dr.Z{constructor(y){super(y),this.view=null,this.baseLayerViews=new ss.Z,this.referenceLayerViews=new ss.Z,this._loadingHandle=(0,Gt.YP)(()=>this.view?.map?.basemap,g=>{g&&g.load().catch(()=>{})},Gt.nn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const y of this.baseLayerViews)y.destroy();this.baseLayerViews.length=0;for(const y of this.referenceLayerViews)y.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view&&this.view.suspended)return!1;const y=this.view?.map?.basemap;return!!y&&!!y.loaded&&(this.baseLayerViews.some(g=>g.updating)||this.referenceLayerViews.some(g=>g.updating))}};(0,we._)([(0,Le.Cb)({constructOnly:!0})],mu.prototype,"view",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],mu.prototype,"baseLayerViews",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],mu.prototype,"referenceLayerViews",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],mu.prototype,"suspended",null),(0,we._)([(0,Le.Cb)({type:Boolean,readOnly:!0})],mu.prototype,"updating",null),mu=(0,we._)([(0,cn.j)("esri.views.BasemapView")],mu);var pg=E(8611);class YK{constructor(g,_,v){this.layer=g,this.view=_,this.layerViewImporter=v,this._controller=new AbortController,this._deferred=(0,Fr.hh)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,Fr.fu)(this._controller.signal,()=>{const b=new mr.Z("cancelled:layerview-create","layerview creation cancelled",{layer:g});this._deferred.reject(b)})}tryRecycle(g){if(!this.done||!this.layerView||!function JK(y){return"tryRecycleWith"in y}(this.layerView))return null;const _=this.layer.type,v=this._controller.signal;for(let b=0;b<g.length;b++){const M=g[b];if(M.type!==_)continue;const S=this.layerView.tryRecycleWith(M,{signal:v});if(S){g.splice(b,1),this.layer=M;const A=this.layerView,K=A.view;return this.promise=Promise.race([S.then(()=>((0,Fr.k_)(this._controller.signal),M.emit("layerview-destroy",{view:K,layerView:A}),K.emit("layerview-destroy",{view:K,layerView:A}),M.emit("layerview-create",{view:K,layerView:A}),K.emit("layerview-create",{view:K,layerView:A}),A)),new Promise((de,De)=>(0,Fr.fu)(this._controller.signal,()=>De((0,Fr.zE)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:g}=this;if(g){const{layer:_,view:v}=this;_.emit("layerview-destroy",{view:v,layerView:g}),v.emit("layerview-destroy",{layer:_,layerView:g})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}start(){var g=this;return(0,hn.Z)(function*(){if(g._started)return;g._started=!0;const{_controller:{signal:_},layer:v,view:b}=g;g._map=b.map;try{let M,S;if(yield v.load({signal:_}),v.prefetchResources&&(yield v.prefetchResources({signal:_})),function XK(y){return"createLayerView"in y&&null!=y.createLayerView}(v))M=yield v.createLayerView(b,{signal:_});else{if(!g.layerViewImporter.hasLayerViewModule(v))throw new mr.Z("layer:view-not-supported","No layerview implementation was found");const de=yield g.layerViewImporter.importLayerView(v);(0,Fr.k_)(_),M="default"in de?new de.default({layer:v,view:b}):new de({layer:v,view:b})}const A=()=>{S=(0,Br.hw)(S),M.destroyed||M.destroy(),M.layer=null,M.parent=null,M.view=null,g.done=!0};S=(0,Fr.fu)(_,A),(0,Fr.k_)(_);try{yield M.when()}catch(de){throw A(),de}if(!g._map?.allLayers?.includes(v))return A(),void g._deferred.reject(new mr.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:v}));g.layerView=M,v.emit("layerview-create",{view:b,layerView:M}),b.emit("layerview-create",{layer:v,layerView:M}),g.done=!0,g._deferred.resolve(M)}catch(M){v.emit("layerview-create-error",{view:b,error:M}),b.emit("layerview-create-error",{layer:v,error:M}),g.done=!0,g._deferred.reject(new mr.Z("layerview:create-error","layerview creation failed",{layer:v,error:M}))}})()}}let Fo=class extends dr.Z{constructor(y){super(y),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new ug.R,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const g=this.view.map?.allLayers;if(g)for(const _ of g)this.layerViewImporter.hasLayerViewModule(_)&&this.layerViewImporter.importLayerView(_)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,Fr.hh)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,uc.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const g=this.view.map;if(this._map!==g&&(this.clear(),this._map=g),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const _=new Set,v=[],b=this.view.ready,M=A=>{if(null!=A)for(const K of A)if(K){_.add(K);const de=this._layerLayerViewInfoMap.get(K);de&&b?de.start():de||this._recyclingInfoMap.has(K)||v.push(K),"layers"in K&&K.layers&&M(K.layers)}};for(const A of this._rootCollectionNames)M((0,Xy.U2)(this,A));for(const[A,K]of this._layerLayerViewInfoMap)if(!_.has(A)){this._layerLayerViewInfoMap.delete(K.layer);const de=K.tryRecycle(v);de?(this.notifyChange("updating"),this._recyclingInfoMap.set(K.layer,K),de.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(K.layer),this._layerLayerViewInfoMap.set(K.layer,K),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(K.layer),K.destroy(),this._reschedule()})):K.destroy()}for(const[A,K]of this._recyclingInfoMap)_.has(A)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(K.layer),K.destroy());for(const A of v)this._createLayerView(A);this._refreshCollections();const S=[g?.ground?.layers,g?.basemap?.baseLayers,g?.basemap?.referenceLayers,g?.layers].filter(A=>!!A);_.forEach(A=>"layers"in A&&S.push(A.layers)),this.addHandles(S.map(A=>this._watchUpdatingTracking.addOnCollectionChange(()=>A,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,Gt.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,Gt.YP)(()=>{const y=this.view,g=y?.map;return[g?.basemap,g?.ground,g?.layers,y?.ready]},()=>this._reschedule(),Gt.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,yy.O)(this._recyclingInfoMap),(0,yy.O)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,Fr.zE)()),this._workPromise=null)}get _layersToLayerViews(){const y=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&y.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(y)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,pg.oE)(this._layerLayerViewInfoMap,y=>!y.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let y=0;for(const g of this._layerLayerViewInfoMap.values())g.done||++y;return y}clear(){this.destroyed||((0,yy.O)(this._layerLayerViewInfoMap),this._refreshCollections())}whenLayerView(y){var g=this;return(0,hn.Z)(function*(){if(yield g._reschedule(),!g._layerLayerViewInfoMap.has(y)){if(g._recyclingInfoMap.has(y))return g._recyclingInfoMap.get(y).promise;throw new mr.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:y})}return g._layerLayerViewInfoMap.get(y).promise})()}_refreshCollections(){for(const[y,g]of this._layersToLayerViews)this._populateLayerViewsOwners((0,Xy.U2)(this,y),(0,Xy.U2)(this,g),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(y,g,_){if(!y||!g)return void(g&&g.removeAll());let v=0;for(const b of y){const M=this._layerLayerViewInfoMap.get(b);if(!M?.layerView)continue;const S=M.layerView;S.layer=b,S.parent=_,g.at(v)!==S&&g.splice(v,0,S),b.layers&&this._populateLayerViewsOwners(b.layers,S.layerViews,S),v+=1}v<g.length&&g.splice(v,g.length)}_createLayerView(y){y.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(y)&&this.layerViewImporter.importLayerView(y);const g=new YK(y,this.view,this.layerViewImporter);g.promise.then(()=>this._refreshCollections(),_=>{_&&((0,Fr.D_)(_)||"cancelled:layerview-create"===_.name)||nr.Z.getLogger(this).error(`Failed to create layerview for layer title:'${y.title??"no title"}', id:'${y.id??"no id"}' of type '${y.type}'.`,{layer:y,error:_}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(y,g),this.view.ready&&g.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,we._)([(0,Le.Cb)()],Fo.prototype,"_workPromise",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Fo.prototype,"_watchUpdatingTracking",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Fo.prototype,"_layersToLayerViews",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Fo.prototype,"_rootCollectionNames",null),(0,we._)([(0,Le.Cb)()],Fo.prototype,"layerViewImporter",void 0),(0,we._)([(0,Le.Cb)()],Fo.prototype,"supportsGround",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Fo.prototype,"updating",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Fo.prototype,"updatingRemaining",null),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Fo.prototype,"view",void 0),Fo=(0,we._)([(0,cn.j)("esri.views.LayerViewManager")],Fo);const QK=Fo;let go=class extends dr.Z{constructor(y){super(y),this.factor=1.5,this.offset=(0,fs.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,we._)([(0,Le.Cb)({type:Number})],go.prototype,"factor",void 0),(0,we._)([(0,Le.Cb)({nonNullable:!0})],go.prototype,"offset",void 0),(0,we._)([(0,Le.Cb)()],go.prototype,"position",void 0),(0,we._)([(0,Le.Cb)({type:Number,range:{min:0}})],go.prototype,"size",void 0),(0,we._)([(0,Le.Cb)()],go.prototype,"maskUrl",void 0),(0,we._)([(0,Le.Cb)()],go.prototype,"maskEnabled",void 0),(0,we._)([(0,Le.Cb)()],go.prototype,"overlayUrl",void 0),(0,we._)([(0,Le.Cb)()],go.prototype,"overlayEnabled",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],go.prototype,"version",null),(0,we._)([(0,Le.Cb)({type:Boolean})],go.prototype,"visible",void 0),go=(0,we._)([(0,cn.j)("esri.views.Magnifier")],go);const Zx=go;let jf=class extends((0,Va.J)(dr.Z)){constructor(y){super(y),this.accentColor=new Na.Z([255,127,0]),this.textColor=new Na.Z([255,255,255])}};(0,we._)([(0,Le.Cb)({type:Na.Z,nonNullable:!0})],jf.prototype,"accentColor",void 0),(0,we._)([(0,Le.Cb)({type:Na.Z,nonNullable:!0})],jf.prototype,"textColor",void 0),jf=(0,we._)([(0,cn.j)("esri.views.Theme")],jf);const MC=jf;var zx,Uf=E(8169),DC=E(55117),oi=E(27041);!function(y){y[y.Left=0]="Left",y[y.Middle=1]="Middle",y[y.Right=2]="Right"}(zx||(zx={}));const Kx=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Gx={};function Hx(y){return!!Gx[y]}Kx.forEach(y=>{Gx[y]=!0});class eG{constructor(g){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=g,this.inputManager=null}connect(g){g&&this.disconnect(),this.inputManager=g,this._handlers.forEach(({handler:_,priority:v},b)=>this.inputManager?.installHandlers(b,[_],v))}disconnect(){this.inputManager&&this._handlers.forEach((g,_)=>this.inputManager?.uninstallHandlers(_)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(g,_,v,b){const M=Array.isArray(g)?g:g.split(",");if(!function qK(y){for(const g of y)if(!Hx(g))return!1;return!0}(M))return M.some(Hx)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let S,A;Array.isArray(_)?A=_:(S=_,A=[]),"function"==typeof v?S=v:b=v,b=b??Eh.f.DEFAULT;const K=this._createUniqueGroupName(),de=new tG(this.view,M,A,S);this._handlers.set(K,{handler:de,priority:b});for(const De of M){const Te=this._handlerCounts.get(De)||0;this._handlerCounts.set(De,Te+1)}return this.inputManager&&this.inputManager.installHandlers(K,[de],b),(0,$x.kB)(()=>this._removeHandler(K,M))}hasHandler(g){return!!this._handlerCounts.get(g)}_removeHandler(g,_){if(this._handlers.has(g)){this._handlers.delete(g);for(const v of _){const b=this._handlerCounts.get(v);void 0===b?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===b?this._handlerCounts.delete(v):this._handlerCounts.set(v,b-1)}}this.inputManager&&this.inputManager.uninstallHandlers(g)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class tG extends oi.a{constructor(g,_,v,b){super(!0),this._latestDragStart=void 0,this.view=g;for(const M of _)switch(M){case"click":this.registerIncoming("click",v,S=>b(this._wrapClick(S)));break;case"double-click":this.registerIncoming("double-click",v,S=>b(this._wrapDoubleClick(S)));break;case"immediate-click":this.registerIncoming("immediate-click",v,S=>b(this._wrapImmediateClick(S)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",v,S=>b(this._wrapImmediateDoubleClick(S)));break;case"hold":this.registerIncoming("hold",v,S=>b(this._wrapHold(S)));break;case"drag":this.registerIncoming("drag",v,S=>{const A=this._wrapDrag(S);A&&b(A)});break;case"key-down":this.registerIncoming("key-down",v,S=>b(this._wrapKeyDown(S)));break;case"key-up":this.registerIncoming("key-up",v,S=>b(this._wrapKeyUp(S)));break;case"pointer-down":this.registerIncoming("pointer-down",v,S=>b(this._wrapPointer(S,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",v,S=>b(this._wrapPointer(S,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",v,S=>b(this._wrapPointer(S,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",v,S=>b(this._wrapPointerDrag(S)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",v,S=>b(this._wrapMouseWheel(S)));break;case"pointer-enter":this.registerIncoming("pointer-enter",v,S=>b(this._wrapPointer(S,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",v,S=>b(this._wrapPointer(S,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",v,S=>{b(this._wrapGamepad(S))});break;case"focus":this.registerIncoming("focus",v,S=>{b(this._wrapFocus(S))});break;case"blur":this.registerIncoming("blur",v,S=>{b(this._wrapBlur(S))})}}_wrapFocus(g){return{type:"focus",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:_=>g.async(_),preventDefault:()=>g.preventDefault()}}_wrapBlur(g){return{type:"blur",timestamp:g.timestamp,native:g.data.native,cancelable:g.cancelable,stopPropagation:()=>g.stopPropagation(),async:_=>g.async(_),preventDefault:()=>g.preventDefault()}}_wrapClick(g){const{pointerType:_,button:v,buttons:b,x:M,y:S,native:A,eventId:K}=g.data,{cancelable:de,timestamp:De}=g;return{type:"click",pointerType:_,button:v,buttons:b,x:M,y:S,native:A,timestamp:De,screenPoint:(0,fs.vW)(M,S),mapPoint:this._getMapPoint(M,S),eventId:K,cancelable:de,stopPropagation:()=>g.stopPropagation(),async:Te=>g.async(Te),preventDefault:()=>g.preventDefault()}}_wrapDoubleClick(g){const{pointerType:_,button:v,buttons:b,x:M,y:S,native:A,eventId:K}=g.data,{cancelable:de,timestamp:De}=g;return{type:"double-click",pointerType:_,button:v,buttons:b,x:M,y:S,native:A,timestamp:De,mapPoint:this._getMapPoint(M,S),eventId:K,cancelable:de,stopPropagation:()=>g.stopPropagation(),async:Te=>g.async(Te),preventDefault:()=>g.preventDefault()}}_wrapImmediateClick(g){const{pointerType:_,button:v,buttons:b,x:M,y:S,native:A,eventId:K}=g.data,de=A.pointerId,{cancelable:De,timestamp:Te}=g;return{type:"immediate-click",pointerId:de,pointerType:_,button:v,buttons:b,x:M,y:S,native:A,timestamp:Te,mapPoint:this._getMapPoint(M,S),eventId:K,cancelable:De,stopPropagation:()=>g.stopPropagation(),async:Ve=>g.async(Ve),preventDefault:()=>g.preventDefault()}}_wrapImmediateDoubleClick(g){const{pointerType:_,button:v,buttons:b,x:M,y:S,native:A,eventId:K}=g.data,de=A.pointerId,{cancelable:De,timestamp:Te}=g;return{type:"immediate-double-click",pointerId:de,pointerType:_,button:v,buttons:b,x:M,y:S,native:A,timestamp:Te,mapPoint:this._getMapPoint(M,S),eventId:K,cancelable:De,stopPropagation:()=>g.stopPropagation(),async:Ve=>g.async(Ve),preventDefault:()=>g.preventDefault()}}_wrapHold(g){const{pointerType:_,button:v,buttons:b,x:M,y:S,native:A}=g.data,{cancelable:K,timestamp:de}=g;return{type:"hold",pointerType:_,button:v,buttons:b,x:M,y:S,native:A,timestamp:de,mapPoint:this._getMapPoint(M,S),cancelable:K,stopPropagation:()=>g.stopPropagation(),async:De=>g.async(De),preventDefault:()=>g.preventDefault()}}_getMapPoint(g,_){return this.view.toMap((0,fs.vW)(g,_),{exclude:[]})}_wrapDrag(g){const _=g.data,{x:v,y:b}=_.center,{action:M,pointerType:S,button:A}=_;if("start"===M&&(this._latestDragStart=_),!this._latestDragStart)return;const K=_.pointer.native,de=_.buttons,{cancelable:De,timestamp:Te}=g,Ve={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===M&&(this._latestDragStart=void 0),{type:"drag",action:M,x:v,y:b,origin:Ve,pointerType:S,button:A,buttons:de,radius:_.radius,angle:(0,DC.BV)(_.angle),native:K,timestamp:Te,cancelable:De,stopPropagation:()=>g.stopPropagation(),async:nt=>g.async(nt),preventDefault:()=>g.preventDefault()}}_wrapKeyDown(g){const{key:_,repeat:v,native:b}=g.data,{cancelable:M,timestamp:S}=g;return{type:"key-down",key:_,repeat:v,native:b,timestamp:S,cancelable:M,stopPropagation:()=>g.stopPropagation(),async:A=>g.async(A),preventDefault:()=>g.preventDefault()}}_wrapKeyUp(g){const{key:_,native:v}=g.data,{cancelable:b,timestamp:M}=g;return{type:"key-up",key:_,native:v,timestamp:M,cancelable:b,stopPropagation:()=>g.stopPropagation(),async:S=>g.async(S),preventDefault:()=>g.preventDefault()}}_wrapPointer(g,_){const{x:v,y:b,button:M,buttons:S,native:A,eventId:K}=g.data,de=A.pointerId,De=A.pointerType,{cancelable:Te,timestamp:Ve}=g;return{type:_,x:v,y:b,pointerId:de,pointerType:De,button:M,buttons:S,native:A,timestamp:Ve,eventId:K,cancelable:Te,stopPropagation:()=>g.stopPropagation(),async:nt=>g.async(nt),preventDefault:()=>g.preventDefault()}}_wrapPointerDrag(g){const{x:_,y:v,buttons:b,native:M,eventId:S}=g.data.currentEvent,{button:A}=g.data.startEvent,K=g.data.startEvent.native.pointerId,de=g.data.startEvent.native.pointerType,De=g.data.action,Te={x:g.data.startEvent.x,y:g.data.startEvent.y},{cancelable:Ve,timestamp:nt}=g;return{type:"pointer-drag",x:_,y:v,pointerId:K,pointerType:de,button:A,buttons:b,action:De,origin:Te,native:M,timestamp:nt,eventId:S,cancelable:Ve,stopPropagation:()=>g.stopPropagation(),async:at=>g.async(at),preventDefault:()=>g.preventDefault()}}_wrapMouseWheel(g){const{cancelable:_,data:v,timestamp:b}=g,{x:M,y:S,deltaY:A,native:K}=v;return{type:"mouse-wheel",x:M,y:S,deltaY:A,native:K,timestamp:b,cancelable:_,stopPropagation:()=>g.stopPropagation(),async:de=>g.async(de),preventDefault:()=>g.preventDefault()}}_wrapGamepad(g){const{action:_,state:v,device:b}=g.data,{cancelable:M,timestamp:S}=g,{buttons:A,axes:K}=v;return{type:"gamepad",device:b,timestamp:S,action:_,buttons:A,axes:K,cancelable:M,stopPropagation:()=>g.stopPropagation(),async:de=>g.async(de),preventDefault:()=>g.preventDefault()}}}var Nf,Jx,Yx;function nG(y){return[y.on("before-add",g=>{const _=g.item;if(null==_||y.includes(_))return nr.Z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void g.preventDefault();_.onAdd()}),y.on("after-remove",g=>{const _=g.item;_.active&&(_.view.activeTool=null),_.destroy()})]}function SC(y){return y.visible&&null!=y.getEditableFlag&&y.getEditableFlag(Nf.USER)&&y.getEditableFlag(Nf.MANAGER)}(function(y){y[y.USER=0]="USER",y[y.MANAGER=1]="MANAGER"})(Nf||(Nf={})),function(y){y[y.None=0]="None",y[y.Unfocused=1]="Unfocused",y[y.Focused=2]="Focused",y[y.Unselected=4]="Unselected",y[y.Selected=8]="Selected",y[y.All=15]="All"}(Jx||(Jx={})),function(y){y[y.None=0]="None",y[y.Custom1=16]="Custom1",y[y.Custom2=32]="Custom2",y[y.Custom3=64]="Custom3",y[y.Custom4=128]="Custom4",y[y.Custom5=256]="Custom5",y[y.Custom6=512]="Custom6",y[y.Custom7=1024]="Custom7",y[y.Custom8=2048]="Custom8",y[y.Custom9=4096]="Custom9",y[y.Custom10=8192]="Custom10",y[y.Custom11=16384]="Custom11",y[y.Custom12=32768]="Custom12",y[y.All=65520]="All"}(Yx||(Yx={}));var wC=E(44242);function Xa(y){return(0,fs.vW)(y.x,y.y)}function Qx(y,g){const _=(y instanceof HTMLElement?y:y.surface)?.getBoundingClientRect();return _?(0,fs.vW)(g.clientX-_.left,g.clientY-_.top):(0,fs.vW)(0,0)}function Xx(y,g){return g instanceof Event?Qx(y,g):Xa(g)}function qx(y){if(y instanceof Event)return!0;if("object"==typeof y&&"type"in y)switch(y.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class rG{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(g,_){const v=()=>g.stopPropagation();switch(g.type){case"pointer-move":eL(g.pointerType)&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(v(),"end"===g.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!tL(g))break;const b=Xa(g),M=this._intersect(b,g.pointerType,_.forEachTool);if(null==M)break;const S=M.manipulator,A=M.tool;null==S||null==A||!S.interactive||S.grabbable&&S.grabbableForEvent(g)||!S.grabbing||S.dragging||this._ungrabManipulatorBeforeDragging(S,g,_),null!=S&&null!=A&&S.interactive&&S.grabbable&&S.grabbableForEvent(g)&&!S.grabbing&&(this._grabbedManipulators.set(g.pointerId,{manipulator:S,tool:A,start:b,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&null==_.activeTool&&(this._revertToNullActiveTool=!0,_.setActiveTool(M.tool)),S.grabbing=!0,S.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:b}),v());break}case"pointer-up":this._draggedManipulators.has(g.pointerId)||this._handlePointerEnd(g,_);break;case"pointer-drag":{if(!tL(g))break;const b=this._grabbedManipulators.get(g.pointerId),M=b?.manipulator,S=b?.tool;if(null==M||null==S)break;const A=Xa(g);A.x=(0,DC.uZ)(A.x,0,_.view.width),A.y=(0,DC.uZ)(A.y,0,_.view.height);const K=b.start,de=this._draggedManipulators.get(g.pointerId);switch(g.action){case"start":case"update":"update"!==g.action&&1!==this._grabbedManipulators.size||(M.dragging=!0,M.events.emit("drag",de?{action:"update",start:K,screenPoint:A}:{action:"start",start:K,screenPoint:A,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{tool:S,manipulator:M,start:K}));break;case"end":M.dragging=!1,de&&M.events.emit("drag",{action:"end",start:K,screenPoint:A}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,_)}v();break}case"immediate-click":{const b=Xa(g),M=this._intersect(b,g.pointerType,_.forEachTool);if(function sG(y){return!!y.native.shiftKey}(g)||_.forEachTool(de=>{if((null==M||M.tool!==de||de.automaticManipulatorSelection)&&de.manipulators){let De=!1;de.manipulators.forEach(({manipulator:Te})=>{Te.selected&&(Te.selected=!1,De=!0)}),De&&de.onManipulatorSelectionChanged&&de.onManipulatorSelectionChanged()}}),null==M)break;const{manipulator:S,tool:A}=M;if(!S.interactive)break;S.selectable&&A.automaticManipulatorSelection&&(S.selected=!S.selected,A.onManipulatorSelectionChanged&&A.onManipulatorSelectionChanged()),S.events.emit("immediate-click",{screenPoint:b,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:v}),IC(S,v);break}case"click":{const b=Xa(g),M=this._intersect(b,g.pointerType,_.forEachTool),S=M?.manipulator;if(null==S||!S.interactive)break;S.events.emit(g.type,{screenPoint:b,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey}),v();break}case"double-click":{const b=Xa(g),M=this._intersect(b,g.pointerType,_.forEachTool),S=null!=M?M.manipulator:null;if(null==S||!S.interactive)break;S.events.emit("double-click",{screenPoint:b,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:v}),IC(S,v);break}case"immediate-double-click":{const b=Xa(g),M=this._intersect(b,g.pointerType,_.forEachTool),S=null!=M?M.manipulator:null;if(null==S||!S.interactive)break;S.events.emit("immediate-double-click",{screenPoint:b,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:v}),IC(S,v);break}}this._onFocusChange(_.forEachTool)}_ungrabManipulatorBeforeDragging(g,_,v){g.grabbing=!1,g.events.emit("grab-changed",{action:"end",pointerType:_.pointerType,screenPoint:Xa(_)}),this._grabbedManipulators.forEach(({manipulator:b},M)=>{b===g&&this._grabbedManipulators.delete(M)}),this._afterManipulatorUngrab(v.setActiveTool)}_handlePointerEnd(g,_){const v=this._grabbedManipulators.get(g.pointerId)?.manipulator;null!=v&&v.grabbing&&(v.grabbing=!1,v.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:Xa(g)}),this._grabbedManipulators.delete(g.pointerId),this._afterManipulatorUngrab(_.setActiveTool))}_cursorFromMap(g){let _=null;return(0,pg.oE)(g,({manipulator:v})=>!(null==v||!v.interactive||(v.grabbing&&v.grabCursor?(_=v.grabCursor,0):!v.cursor||(_=v.cursor,0)))),_}_onFocusChange(g){this._updateCursor(),this._updateFocusedManipulatorTools(g)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(g){const _=new Set,v=new Set;this._grabbedManipulators.forEach(({tool:b})=>{_.add(b)}),this._hoveredManipulators.forEach(({tool:b})=>{v.add(b)}),g(b=>{b.hasGrabbedManipulators=_.has(b),b.hasHoveredManipulators=v.has(b);const M=this._grabbedManipulators.values(),S=(0,wC.sE)(M,({tool:A})=>A===b);b.firstGrabbedManipulator=null!=S?S.manipulator:null})}clearPointers(g,{forEachTool:_,setActiveTool:v},b=!0,M){const S=(A,K)=>A===g&&(null==M||M===K);this._grabbedManipulators.forEach(({tool:A,manipulator:K,pointerType:de},De)=>{S(A,K)&&(this._grabbedManipulators.delete(De),K.grabbing=!1,K.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:de}))}),this._draggedManipulators.forEach(({tool:A,manipulator:K},de)=>{S(A,K)&&(this._draggedManipulators.delete(de),K.dragging=!1,K.events.emit("drag",{action:"cancel"}))}),b&&this._hoveredManipulators.forEach(({tool:A,manipulator:K},de)=>{S(A,K)&&(this._hoveredManipulators.delete(de),K.hovering=!1)}),this._afterManipulatorUngrab(v),this._onFocusChange(_)}_intersect(g,_,v){let b=null;return v(M=>{if(null==M.manipulators||!SC(M))return!1;const S=M.manipulators.intersect(g,_);return null!=S&&(b={tool:M,manipulator:S},!0)}),b}updateHoveredStateFromKnownPointers(g){this._pointerLocations.forEach((_,v)=>{this._updateHoveredStateForPointerAtScreenPosition((0,fs.vW)(_.x,_.y),v,_.pointerType,g)})}handleHoverEvent(g,_){"pointer-up"!==g.type&&"immediate-click"!==g.type&&"pointer-move"!==g.type||!eL(g.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Xa(g),g.pointerId,g.pointerType,_)}_updateHoveredStateForPointerAtScreenPosition(g,_,v,b){let M=this._intersect(g,v,b);const S=this._hoveredManipulators.get(_)?.manipulator;null==M||M.manipulator.interactive||(M=null),null!=M&&S===M.manipulator||(null!=S&&(S.hovering=!1),null!=M?(M.manipulator.hovering=!0,this._hoveredManipulators.set(_,M)):this._hoveredManipulators.delete(_),this._onFocusChange(b))}_afterManipulatorUngrab(g){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(g(null),this._revertToNullActiveTool=!1)}}function eL(y){return"mouse"===y}function tL(y){return"mouse"!==y.pointerType||0===y.button}function IC(y,g){y?.consumesClicks&&g()}const nL="attached",OC="tools";let qa=class extends dr.Z{constructor(y){super(y),this._updatingHandles=new ug.R,this._clock=Uf.m,this._manipulatorState=new rG,this.tools=new ss.Z,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=g=>{for(const _ of this.tools.items)if(g(_))return}}initialize(){this.addHandles([this.view.on(Kx,y=>{this._handleInputEvent(y)},Eh.f.TOOL),...nG(this.tools),this.tools.on("before-add",({item:y})=>{this._updateToolEditableFlag(y)}),this.tools.on("before-remove",({item:y})=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(y=>y.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:y=>{this.activeTool=y},view:this.view}}set activeTool(y){if(null!=y&&!this.view.ready)return void nr.Z.getLogger(this).error("Cannot set active tool while view is not ready.");if(y===this.activeTool)return;const g=this.activeTool;this._set("activeTool",y),g?.deactivate(),y?.activate(),this._removeIncompleteTools(y);for(const _ of this.tools){this._updateToolEditableFlag(_);const v=SC(_);null!=this.activeTool&&v||this._manipulatorState.clearPointers(_,this._manipulatorStateEventArgs,!v)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(y=>y.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,Br.hw)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,Gt.YP)(()=>{const{state:y}=this.view;return"camera"in y&&y.camera},()=>this._forEachManipulator(y=>y.onViewChange())),this.view.elevationProvider?.on("elevation-change",y=>this._forEachManipulator(g=>g.onElevationChange(y)))],nL):this.addHandles((0,Gt.YP)(()=>this.view.extent,()=>this._forEachManipulator(y=>y.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(nL),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(y){this._forEachTool(g=>{g.manipulators&&g.manipulators.forEach(({manipulator:_})=>y(_,g))})}_handleInputEvent(y){let g=!1;const _={...y,stopPropagation:()=>{g=!0,y.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(_):this._forEachTool(v=>{!g&&v.visible&&v.handleInputEvent(_)}),!g&&"key-down"===y.type&&"Escape"===y.key&&this.activeTool&&(y.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(_,this._manipulatorStateEventArgs),g||null==this.activeTool||this.activeTool.handleInputEventAfter(_),this._manipulatorState.handleHoverEvent(_,this._forEachTool),this._updateCursor(),"pointer-move"===y.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(OC),this._forEachTool(y=>{if(y instanceof dr.Z){const g=(0,Gt.YP)(()=>[y.cursor,y.visible,y.editable],()=>{SC(y)||this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(g,OC)}y.manipulators&&this.addHandles([y.manipulators.on("after-remove",g=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs,!0,g.item.manipulator)}),y.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],OC)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(y){y.setEditableFlag?.(Nf.MANAGER,null==this.activeTool||y===this.activeTool)}_updateCursor(){let y=this._manipulatorState.cursor;null==y&&this._forEachTool(g=>!(null==g.cursor||!g.visible||(y=g.cursor,0))),this._get("cursor")!==y&&this._set("cursor",y)}_removeIncompleteTools(y){this.tools.filter(g=>(null==y||g!==y)&&!g.created&&g.removeIncompleteOnCancel).forEach(g=>{this.tools.remove(g)})}get test(){const y=this;return{setClock:g=>this._clock=g,set interactingTimeoutEnabled(g){y._interactingTimeout=g?1e3:0},get interactingTimeoutEnabled(){return 0!==y._interactingTimeout}}}};(0,we._)([(0,Le.Cb)({constructOnly:!0,nonNullable:!0})],qa.prototype,"view",void 0),(0,we._)([(0,Le.Cb)({value:null})],qa.prototype,"activeTool",null),(0,we._)([(0,Le.Cb)({readOnly:!0,type:ss.Z})],qa.prototype,"tools",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],qa.prototype,"cursor",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],qa.prototype,"updating",null),(0,we._)([(0,Le.Cb)()],qa.prototype,"_interacting",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],qa.prototype,"interacting",null),qa=(0,we._)([(0,cn.j)("esri.views.ToolViewManager")],qa);let bh=class extends dr.Z{constructor(y){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===y.mapping?"standard":iG.test(y.id)?"spacemouse":"unknown",this.nativeIndex=y.index}get native(){const y=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<y.length?y[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return oG[this.deviceType]}};(0,we._)([(0,Le.Cb)({nonNullable:!0,readOnly:!0})],bh.prototype,"nativeIndex",void 0),(0,we._)([(0,Le.Cb)({type:String,readOnly:!0})],bh.prototype,"deviceType",null),(0,we._)([(0,Le.Cb)({type:Number,readOnly:!0})],bh.prototype,"axisThreshold",null),bh=(0,we._)([(0,cn.j)("esri.views.input.gamepad.GamepadInputDevice")],bh);const iG=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),oG={standard:.15,spacemouse:.025,unknown:0},TC=bh;let Bf=class extends dr.Z{constructor(...y){super(...y),this.devices=new ss.Z,this.enabledFocusMode="document"}};(0,we._)([(0,Le.Cb)({type:ss.Z.ofType(TC),readOnly:!0})],Bf.prototype,"devices",void 0),(0,we._)([(0,Le.Cb)({type:["document","view","none"]})],Bf.prototype,"enabledFocusMode",void 0),Bf=(0,we._)([(0,cn.j)("esri.views.input.gamepad.GamepadSettings")],Bf);const aG=Bf;let fg=class extends dr.Z{constructor(){super(...arguments),this.gamepad=new aG}};(0,we._)([(0,Le.Cb)({readOnly:!0})],fg.prototype,"gamepad",void 0),fg=(0,we._)([(0,cn.j)("esri.views.input.Input")],fg);const lG=fg;let yu=class extends dr.Z{constructor(y){super(y),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,we._)([(0,Le.Cb)({type:Boolean,nonNullable:!0})],yu.prototype,"enabled",void 0),(0,we._)([(0,Le.Cb)({type:TC})],yu.prototype,"device",void 0),(0,we._)([(0,Le.Cb)({type:["pan","zoom"],nonNullable:!0})],yu.prototype,"mode",void 0),(0,we._)([(0,Le.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],yu.prototype,"tiltDirection",void 0),(0,we._)([(0,Le.Cb)({type:Number,nonNullable:!0})],yu.prototype,"velocityFactor",void 0),yu=(0,we._)([(0,cn.j)("esri.views.navigation.gamepad.GamepadSettings")],yu);const sL=yu;let cc=class extends dr.Z{constructor(y){super(y),this.browserTouchPanEnabled=!0,this.gamepad=new sL,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,we._)([(0,Le.Cb)({type:Boolean})],cc.prototype,"browserTouchPanEnabled",void 0),(0,we._)([(0,Le.Cb)({type:sL,nonNullable:!0})],cc.prototype,"gamepad",void 0),(0,we._)([(0,Le.Cb)({type:Boolean})],cc.prototype,"momentumEnabled",void 0),(0,we._)([(0,Le.Cb)({type:Boolean})],cc.prototype,"mouseWheelZoomEnabled",void 0),cc=(0,we._)([(0,cn.j)("esri.views.navigation.Navigation")],cc);const iL=cc;var zi,uG=E(89713);function oL(y){const g=y.url?(0,uG.Qc)(y.url):void 0;return(null!=y.spatialReference?.vcsWkid||null==g||"ImageServer"!==g.serverType)&&aL(y)&&y.heightModelInfo?y.heightModelInfo:function uL(y){return lL(y)?!!(y.capabilities&&y.capabilities.data&&y.capabilities.data.supportsZ):cL(y)}(y)?CC.Z.deriveUnitFromSR(pG,y.spatialReference):null}function aL(y){return"heightModelInfo"in y}function lL(y){if("unknown"===y.type||!("capabilities"in y))return!1;switch(y.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function hG(y){return null!=y.layers||cL(y)||lL(y)||aL(y)}function cL(y){switch(y.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(y){y[y.Ok=0]="Ok",y[y.Units=1]="Units",y[y.HeightModel=2]="HeightModel",y[y.CRS=3]="CRS",y[y.Unsupported=4]="Unsupported"}(zi||(zi={}));const pG=new CC.Z({heightModel:"gravity-related-height"});var dL=E(92867);let AC,xC=null;function fG(y){return LC.apply(this,arguments)}function LC(){return LC=(0,hn.Z)(function*(y){xC||(xC=E.e(4135).then(E.bind(E,34135)).then(g=>AC=g)),yield xC,(0,Fr.k_)(y)}),LC.apply(this,arguments)}function hL(y,g,_,v){return RC.apply(this,arguments)}function RC(){return RC=(0,hn.Z)(function*(y,g,_,v){if(!y)return null;const b=y.spatialReference;return(0,ua.isLoaded)()||(0,ua.canProjectWithoutEngine)(b,g)?(0,ua.project)(y,g):AC?AC.projectGeometry(y,g,_,v):(yield Promise.race([fG(v),(0,ua.load)(v)]),hL(y,g,_,v))}),RC.apply(this,arguments)}let Wr=class extends dr.Z{constructor(y){super(y),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Br.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const y=this.map?.(),g=[];return null!=this.priorityCollection&&g.push(this.priorityCollection),g.push({parent:y?.basemap,layers:y?.basemap?.baseLayers},{layers:y?.layers},{parent:y?.ground,layers:y?.ground?.layers},{parent:y?.basemap,layers:y?.basemap?.referenceLayers}),g}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:y,updating:g}=this._allLayers;let _=null;for(const b of y){const M=this._getSupportedSpatialReferences(b);if(M.length>0){const S=this._narrowDownSpatialReferenceCandidates(_,M);null!=S&&(_=S)}if(null!=_&&1===_.length)break}if(g&&(null==_||1!==_.length))return{updating:!0};const v=this._pickSpatialReferenceCandidate(_);return{spatialReference:null!=v?v.spatialReference:null,viewingMode:null!=v?v.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:y,updating:g}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(y&&y.length>0&&"tileInfo"in y[0]){const _=y[0].tileInfo;return{tileInfo:_&&_.spatialReference.equals(this.spatialReference)?_:null,updating:!1}}return{updating:g}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:y,updating:g}=this._allLayers;for(const _ of y)if(hG(_)){const v=oL(_);if(v)return{heightModelInfo:v,vcsWkid:_.spatialReference?.vcsWkid,latestVcsWkid:_.spatialReference?.latestVcsWkid,updating:!1}}return{updating:g}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const y=this._allLayers,g=y.updating,_=[];for(const v of y.layers){const b="fullExtents"in v&&v.fullExtents||(null!=v.fullExtent?[v.fullExtent]:[]),M=this.requiresExtentInSpatialReference?null:b[0],S=b.find(A=>A.spatialReference.equals(this.spatialReference))??M;if(S)return{candidates:[{extent:S,layer:v}],updating:!1};if(this._getSupportedSpatialReferences(v).length>0)for(const A of b)_.push({extent:A,layer:v})}return{candidates:_,updating:g}}get _extentTask(){var y=this;const{candidates:g,updating:_}=this._extentCandidatesTask;if(_)return{updating:_};if(null==g||0===g.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const v=this._pickExtentCandidate(g),b=this.spatialReference;return v.extent.equals(this._projectExtentTask.input)&&b.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Br.IM)(this._projectExtentTask.task)),this._projectExtentTask={input:v.extent.clone(),output:null,spatialReference:b.clone(),task:(0,dg.vr)(function(){var M=(0,hn.Z)(function*(S){try{const A=yield hL(v.extent,b,"portalItem"in v.layer?v.layer.portalItem:void 0,S);y._projectExtentTask={...y._projectExtentTask,task:null,output:A}}catch{if((0,Fr.Hc)(S))return;y._projectExtentTask={...y._projectExtentTask,task:null}}});return function(S){return M.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(y,g){if(null==y)return g;const _=[],v=(b,M)=>null!=b?null!=M?b===M&&b:b:M;for(const b of y)for(const M of g){if(!b.spatialReference.equals(M.spatialReference))continue;const S=v(b.viewingMode,M.viewingMode);if(!1!==S){_.push({spatialReference:b.spatialReference,viewingMode:S});break}}return _.length>0?_:null}_pickSpatialReferenceCandidate(y){const g=this.defaultSpatialReference;return null==y||y.length<1?null!=g?{spatialReference:g,viewingMode:null}:null:(null!=g&&y.length>1&&y.some(({spatialReference:_})=>_.equals(g))&&(y=y.filter(({spatialReference:_})=>_.equals(g))),y.length>1&&y.some(({viewingMode:_})=>_!==dL.JY.Local)&&(y=y.filter(({viewingMode:_})=>_!==dL.JY.Local)),y[0])}_getSupportedSpatialReferences(y){const g="supportedSpatialReferences"in y&&y.supportedSpatialReferences||(y.spatialReference?[y.spatialReference]:[]);if(0===g.length)return[];const _=[];for(const v of g){const b=this.getSpatialReferenceSupport({spatialReference:v,layer:y});if(null!=b){const M=null!=b.constraints?b.constraints:[{spatialReference:v,viewingMode:null}];for(const{spatialReference:S,viewingMode:A}of M)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!S.equals(this.userSpatialReference)||_.push({spatialReference:S,viewingMode:A})}}return _}_pickExtentCandidate(y){const g=this.spatialReference;return y.find(({extent:_})=>g.equals(_.spatialReference))||y[0]}_collectLayers(y){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const g=new mG;for(const _ of y)if(this._collectCollection(_,g),g.preloading===this.sourcePreloadCount)break;return{layers:g.layers,updating:g.updating}}_collectCollection(y,g){if(y.layers){switch(this._loadMaybe(y.parent)){case"loading":return g.updating=!0,void++g.preloading;case"failed":return}for(const _ of y.layers){switch(this._loadMaybe(_)){case"failed":continue;case"loading":g.updating=!0,++g.preloading;break;case"loaded":g.updating||g.layers.push(_),"layers"in _&&this._collectCollection({layers:_.layers},g)}if(g.preloading===this.sourcePreloadCount)break}}}_loadMaybe(y){return y&&"loadStatus"in y&&null!=y.loadStatus?"not-loaded"===y.loadStatus?(y.load().catch(g=>{(0,Fr.D_)(g)||console.log(g)}),"loading"):y.loadStatus:"loaded"}};(0,we._)([(0,Le.Cb)()],Wr.prototype,"required",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Wr.prototype,"map",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Wr.prototype,"getSpatialReferenceSupport",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"defaultSpatialReference",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"userSpatialReference",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"sourcePreloadCount",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"priorityCollection",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"requiresExtentInSpatialReference",void 0),(0,we._)([(0,Le.Cb)()],Wr.prototype,"suspended",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"ready",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"heightModelInfoReady",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"spatialReference",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"extent",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"heightModelInfo",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"vcsWkid",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"latestVcsWkid",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"viewingMode",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"tileInfo",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"mapCollections",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"_allLayers",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"_spatialReferenceTask",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"_tileInfoTask",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"_heightModelInfoTask",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Wr.prototype,"_extentCandidatesTask",null),(0,we._)([(0,Le.Cb)()],Wr.prototype,"_extentTask",null),(0,we._)([(0,Le.Cb)()],Wr.prototype,"_projectExtentTask",void 0),Wr=(0,we._)([(0,cn.j)("esri.views.support.DefaultsFromMap")],Wr);class mG{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}}var Ff;let In=Ff=class extends(my.Z.EventedMixin((0,nb.v)(dr.Z))){constructor(y){super(y),this._userSpatialReference=null,this._cursor=null,this.handles=new Vx.Z,this.updatingHandles=new ug.R,this.allLayerViews=new fy.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:gG}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new kx.J,this.analyses=new hg,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ss.Z,this.magnifier=new Zx,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new lG,this.navigation=new iL,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new eG(this),this.persistableViewModels=new ss.Z,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add((0,Gt.YP)(()=>this.preconditionsReady,g=>{g?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Ff.views.add(this)):(this._lockedSpatialReference=null,Ff.views.remove(this)),this.notifyChange("spatialReference"),!g&&this.ready?(this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):g&&!this.ready&&(this._startup(),null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Gt.Z_))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,(0,Gt.N1)(()=>this.ready)))),this.basemapView=new mu({view:this}),this.layerViewManager=new QK({view:this,layerViewImporter:{importLayerView:y=>this.importLayerView(y),hasLayerViewModule:y=>this.hasLayerViewModule(y)},supportsGround:this.supportsGround}),this.toolViewManager=new qa({view:this}),this._setupSpatialReferenceLogger(),this.addHandles([(0,Gt.YP)(()=>this.initialExtentRequired,y=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:y},{sync:!0,initial:!0}),(0,Gt.YP)(()=>this.ready,y=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=y,this.defaultsFromMap.userSpatialReference=y?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,Gt.YP)(()=>this._userSpatialReference,y=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=y)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var y=this;let g=null;this.addHandles([(0,Gt.YP)(()=>this.defaultsFromMap?.ready,_=>{if(_&&!this.spatialReference&&this.map?.allLayers.length>0){if(null!=g)return;const b=(0,$x.kB)(()=>g=(0,Br.IM)(g));g=(0,dg.vr)(function(){var M=(0,hn.Z)(function*(S){try{yield(0,Fr.e4)(y.spatialReferenceWarningDelay,null,S)}catch{return}finally{g=null}nr.Z.getLogger(y).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(S){return M.apply(this,arguments)}}()),this.addHandles(b,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(Ff.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Br.SC)(this.graphics),this.analyses=(0,Br.SC)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,Br.SC)(this.analysisViewManager),this.toolViewManager=(0,Br.SC)(this.toolViewManager),this.layerViewManager=(0,Br.SC)(this.layerViewManager),this.basemapView=(0,Br.SC)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(y=>y.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,Br.SC)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return nr.Z.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(y){this.toolViewManager&&(this.toolViewManager.activeTool=y)}get animation(){return this._get("animation")}set animation(y){this._set("animation",y)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Wr({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:y=>this.getSpatialReferenceSupport(y),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(y){this._set("extent",y)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||dy.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(y){y!==this._get("map")&&(y?.destroyed&&(nr.Z.getLogger(this).warn("#map","The provided map is already destroyed",{map:y}),y=null),dy.Z.isLoadable(y)&&y.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",y))}get spatialReference(){let y=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return y&&this.defaultsFromMap?.required?.heightModelInfo&&(y=y.clone(),y.vcsWkid=this.defaultsFromMap.vcsWkid,y.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),y}set spatialReference(y){const g=!(0,Ud.fS)(y,this._get("spatialReference"));this._set("_userSpatialReference",y),g&&(this._set("spatialReference",y),this._spatialReferenceChanged(y))}_spatialReferenceChanged(y){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Jd.By}set timeZone(y){const g=new Set(["etc/utc","etc/gmt","gmt"]),_=new Set(Intl.supportedValuesOf("timeZone").map(v=>v.toLowerCase()));this._userTimeZone=y,y===Jd.By||y===Jd._4||g.has(y.toLowerCase())||_.has(y.toLowerCase())||nr.Z.getLogger(this).warn("#timeZone",`the parsed value '${y}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(y){this._cursor=y,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new MC}whenLayerView(y){return this.layerViewManager?.whenLayerView(y)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(y){throw new mr.Z("importLayerView() not implemented")}hasLayerViewModule(y){return!1}validate(){return(0,hn.Z)(function*(){})()}loadAsyncDependencies(){return(0,hn.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(y){return null!=this.getSpatialReferenceSupport({spatialReference:y})}when(y,g){return this.isResolved()&&!this.ready&&nr.Z.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(y,g)}forceReadyCycle(){this.ready&&((0,Gt.gx)(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(y){this.toolViewManager.tools.add(y),this.activeTool=y}tryFatalErrorRecovery(){this.fatalError=null}};In.views=new ss.Z,(0,we._)([(0,Le.Cb)()],In.prototype,"_userSpatialReference",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"activeTool",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"allLayerViews",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"groundView",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"animation",null),(0,we._)([(0,Le.Cb)()],In.prototype,"basemapView",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"center",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"_defaultsFromMapSettings",null),(0,we._)([(0,Le.Cb)()],In.prototype,"defaultsFromMap",null),(0,we._)([(0,Le.Cb)()],In.prototype,"fatalError",void 0),(0,we._)([(0,Le.Cb)({type:Rf.Z})],In.prototype,"extent",null),(0,we._)([(0,Le.Cb)((0,bC.z)(kx.J,"graphics"))],In.prototype,"graphics",void 0),(0,we._)([(0,Le.Cb)((0,bC.z)(hg,"analyses"))],In.prototype,"analyses",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,type:CC.Z})],In.prototype,"heightModelInfo",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"interacting",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"navigating",null),(0,we._)([(0,Le.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],In.prototype,"preconditionsReady",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"typeSpecificPreconditionsReady",void 0),(0,we._)([(0,Le.Cb)({type:ss.Z,readOnly:!0})],In.prototype,"layerViews",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"resolution",null),(0,we._)([(0,Le.Cb)({type:Zx})],In.prototype,"magnifier",void 0),(0,we._)([(0,Le.Cb)({value:null,type:aA})],In.prototype,"map",null),(0,we._)([(0,Le.Cb)()],In.prototype,"padding",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"ready",void 0),(0,we._)([(0,Le.Cb)({type:sf.Z})],In.prototype,"spatialReference",null),(0,we._)([(0,Le.Cb)()],In.prototype,"spatialReferenceWarningDelay",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"stationary",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"supportsGround",void 0),(0,we._)([(0,Le.Cb)({type:kd.Z})],In.prototype,"timeExtent",void 0),(0,we._)([(0,Le.Cb)({type:String,nonNullable:!0})],In.prototype,"timeZone",null),(0,we._)([(0,Le.Cb)()],In.prototype,"tools",null),(0,we._)([(0,Le.Cb)()],In.prototype,"toolViewManager",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"type",void 0),(0,we._)([(0,Le.Cb)({type:Number})],In.prototype,"scale",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"updating",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"initialExtentRequired",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"initialExtent",null),(0,we._)([(0,Le.Cb)()],In.prototype,"cursor",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"input",void 0),(0,we._)([(0,Le.Cb)({type:iL,nonNullable:!0})],In.prototype,"navigation",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"layerViewManager",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"analysisViewManager",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"width",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"height",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"resizing",void 0),(0,we._)([(0,Le.Cb)({value:null,readOnly:!0})],In.prototype,"size",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"suspended",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"viewEvents",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],In.prototype,"persistableViewModels",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"_isValid",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"_readyCycleForced",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"_lockedSpatialReference",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"_userTimeZone",void 0),(0,we._)([(0,Le.Cb)()],In.prototype,"_lockedTimeZone",void 0),(0,we._)([(0,Le.Cb)({type:MC})],In.prototype,"theme",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,type:MC})],In.prototype,"effectiveTheme",null),In=Ff=(0,we._)([(0,cn.j)("esri.views.View")],In);const yG=In;function gG(y){return y.layerViews}let gu=class extends nb.D{constructor(y){super(y),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,Fr.hh)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new mr.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(y,g){g||(g=(0,Fr.y8)(y)?"waiting-for-target":"running"),this._set("target",y),this._set("state",g)}};(0,we._)([(0,Le.Cb)({readOnly:!0})],gu.prototype,"done",null),(0,we._)([(0,Le.Cb)({readOnly:!0,type:String})],gu.prototype,"state",void 0),(0,we._)([(0,Le.Cb)()],gu.prototype,"target",void 0),gu=(0,we._)([(0,cn.j)("esri.views.ViewAnimation")],gu),function(y){y.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(gu||(gu={}));const jC=gu;var mg=E(46503),Es=E(31898),Ki=E(85039);class _G{constructor(g,_,v,b){const M=g.targetGeometry,S=_.targetGeometry;b?"string"==typeof b&&(b=(0,mg.Qc)(b)||mg.LI.ease):b=mg.LI.ease,this.easing=b,this.duration=v,this.sCenterX=M.x,this.sCenterY=M.y,this.sScale=g.scale,this.sRotation=g.rotation,this.tCenterX=S.x,this.tCenterY=S.y,this.tScale=_.scale,this.tRotation=_.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(g,_){const v=this.easing(_);let b,M,S,A;_>=1?(b=this.tCenterX,M=this.tCenterY,S=this.tRotation,A=this.tScale):(b=this.sCenterX+v*this.dCenterX,M=this.sCenterY+v*this.dCenterY,S=this.sRotation+v*this.dRotation,A=this.sScale+v*this.dScale),g.targetGeometry.x=b,g.targetGeometry.y=M,g.scale=A,g.rotation=S}}let Pl=class extends dr.Z{constructor(y){super(y),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=mg.LI.ease,this.view=null,this.viewpoint=new Ai.Z({targetGeometry:new Ki.Z,scale:0,rotation:0}),this._updateTask=(0,uc.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=(0,Br.hw)(this._updateTask)}animate(y,g,_){this.stop(),(0,Es.JG)(this.viewpoint,g),this.transition=new _G(this.viewpoint,y.target,_?.duration||this.duration,_?.easing||this.easing);const b=()=>{this.animation===y&&this._updateTask&&("finished"===y.state&&(this.transition?.applyRatio(this.viewpoint,1),this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return y.when(b,b),this._startTime=performance.now(),this._updateTask.resume(),this.animation=y,y}animateContinous(y,g){this.stop(),this.updateFunction=g,this.viewpoint=y;const _=new jC({target:y.clone()}),v=()=>{this.animation===_&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return _.when(v,v),this._startTime=performance.now(),this._updateTask.resume(),this.animation=_,_}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(y){const g=this.animation;if(g&&g.state!==jC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,y.deltaTime);else{const _=this.transition,v=(performance.now()-this._startTime)/_.duration,b=v>=1;_.applyRatio(this.viewpoint,v),b&&this.animation?.finish()}this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,we._)([(0,Le.Cb)()],Pl.prototype,"animation",void 0),(0,we._)([(0,Le.Cb)()],Pl.prototype,"duration",void 0),(0,we._)([(0,Le.Cb)()],Pl.prototype,"transition",void 0),(0,we._)([(0,Le.Cb)()],Pl.prototype,"easing",void 0),(0,we._)([(0,Le.Cb)()],Pl.prototype,"view",void 0),(0,we._)([(0,Le.Cb)()],Pl.prototype,"viewpoint",void 0),Pl=(0,we._)([(0,cn.j)("esri.views.2d.AnimationManager")],Pl);const vG=Pl;class EG{constructor(g){this.view=g,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:_,graphicsView:v,labelManager:b,state:{id:M}}=this.view;_.forEach(this._updateLayerView,this),null!=b&&(b.lastUpdateId!==M&&(b.viewChange(),b.lastUpdateId=M),b.updateRequested&&b.processUpdate(this._updateParameters)),null!=v&&(v.lastUpdateId!==M&&(v.viewChange(),v.lastUpdateId=M),v.updateRequested&&v.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const g=this.view;this.stationary=g.stationary,this._updateParameters={state:g.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:g.renderingOptions},this._stationaryHandle=(0,Gt.YP)(()=>g.stationary,_=>{this.stationary=_,this.requestFrame()}),this._frameTaskHandle=(0,uc.A)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(g){if(!g.attached)return void this.requestUpdate();const _=this.view.state,v=g.lastUpdateId;null!=v&&(this.stationary||g.moving)||(g.moving=!0,g.moveStart()),v!==_.id&&g.viewChange(),this.stationary&&g.moving&&(g.moving=!1,g.moveEnd()),g.lastUpdateId=_.id,g.updateRequested&&g.processUpdate(this._updateParameters),"layerViews"in g&&g.layerViews?.forEach(this._updateLayerView,this)}}let yg=class extends dr.Z{constructor(y){super(y),this._gotoTask=null}destroy(){this._gotoTask=null}goTo(y,g){var _=this;return(0,hn.Z)(function*(){if(!y)return void nr.Z.getLogger(_).error("#goTo()","target cannot be null or undefined");_.view.animation&&(_.view.animation=null);const v=_._createAnimation();yield(0,Gt.N1)(()=>_.view.ready,g);const b={animate:!0,...g},{extent:M,spatialReference:S,size:A,viewpoint:K,constraints:de,padding:De,allLayerViews:Te}=_.view,Ve=(0,Es.Ue)(y,{extent:M,spatialReference:S,size:A,viewpoint:K,constraints:de,padding:De,allLayerViews:Te,pickClosestTarget:g?.pickClosestTarget??!0});return v?.update(Ve),_._gotoTask={},b.animate?_._gotoAnimated(Ve,b):_._gotoImmediate(Ve,b)})()}_gotoImmediate(y,g){const _=this._gotoTask,v=this.view.animation,b=y.then(M=>{if((0,Fr.k_)(g),_!==this._gotoTask)throw new mr.Z("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=v.target=M,v.finish()});return this._cancellableGoTo(_,v,b)}_gotoAnimated(y,g){const _=this._gotoTask,v=this.view.animation;if(!v)return Promise.resolve();const b=y.then(M=>{if((0,Fr.k_)(g),_!==this._gotoTask)throw new mr.Z("view:goto-interrupted","Goto was interrupted");return v.update(M),this.view.animationManager.animate(v,this.view.viewpoint,g),v.when().then(()=>{},()=>{})});return this._cancellableGoTo(_,v,b)}_createAnimation(){return this.view.animation&&!this.view.animation.done||(this.view.animation=new jC),this.view.animation}_cancellableGoTo(y,g,_){const v=()=>y===this._gotoTask;return _.finally(()=>{v()&&(g.done||g.stop(),this.view.animation=null)})}};function bs(){return Promise.all([Promise.all([E.e(7091),E.e(3018),E.e(1363),E.e(9714)]).then(E.bind(E,19714)),Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(6469),E.e(6557),E.e(8592),E.e(137)]).then(E.bind(E,40137))])}(0,we._)([(0,Le.Cb)({constructOnly:!0})],yg.prototype,"view",void 0),yg=(0,we._)([(0,cn.j)("esri.views.2d.GoToManager")],yg);const Wf=()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(6469),E.e(5525),E.e(7192),E.e(8592),E.e(9935)]).then(E.bind(E,1646))),Ch=()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1997)]).then(E.bind(E,71997))),pL={"base-dynamic":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(8592),E.e(4296)]).then(E.bind(E,16773))),"base-tile":Wf,"bing-maps":Wf,csv:Ch,"geo-rss":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(494)]).then(E.bind(E,20494))),feature:Ch,geojson:Ch,graphics:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(8035)]).then(E.bind(E,8035))),group:()=>bs().then(()=>Promise.all([E.e(7091),E.e(6269),E.e(2799)]).then(E.bind(E,59808))),imagery:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(6062),E.e(9350),E.e(5525),E.e(8930),E.e(8592),E.e(1146)]).then(E.bind(E,31146))),"imagery-tile":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(6062),E.e(9350),E.e(8930),E.e(8592),E.e(4251)]).then(E.bind(E,84251))),kml:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(9350),E.e(6557),E.e(8592),E.e(522)]).then(E.bind(E,21357))),"knowledge-graph":()=>bs().then(()=>Promise.all([E.e(7091),E.e(6269),E.e(8450)]).then(E.bind(E,79187))),"link-chart":()=>bs().then(()=>Promise.all([E.e(7091),E.e(6269),E.e(8450)]).then(E.bind(E,79187))),"knowledge-graph-sublayer":Ch,"map-image":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(5525),E.e(7192),E.e(8592),E.e(4321)]).then(E.bind(E,54321))),"map-notes":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(2203)]).then(E.bind(E,12203))),media:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(6469),E.e(8592),E.e(8818)]).then(E.bind(E,28818))),"ogc-feature":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1997),E.e(7211)]).then(E.bind(E,87211))),"open-street-map":Wf,"oriented-imagery":Ch,route:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(3301),E.e(6635)]).then(E.bind(E,86635))),stream:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1997),E.e(3724)]).then(E.bind(E,23724))),"subtype-group":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1997),E.e(5205)]).then(E.bind(E,35205))),tile:Wf,"vector-tile":()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(4433),E.e(5884)]).then(E.bind(E,16673))),video:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(8592),E.e(8478)]).then(E.bind(E,88478))),wcs:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(6062),E.e(9350),E.e(8930),E.e(8592),E.e(4251)]).then(E.bind(E,84251))),"web-tile":Wf,wfs:Ch,wms:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(8592),E.e(1767)]).then(E.bind(E,21774))),wmts:()=>bs().then(()=>Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6269),E.e(6239),E.e(2311),E.e(8592),E.e(796)]).then(E.bind(E,7514))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var NC,CG=E(8321),UC=E(5825),_o=E(46033),MG=E(54746);let dc=NC=class extends((0,Sy.iv)(dr.Z)){constructor(y){super(y),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,ua.project)(this.geometry,this.spatialReference)}catch(y){return nr.Z.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:y}),null}return this.geometry}constrain(y,g){if(null==this.normalizedGeometry)return y;const _=y.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,UC.aV)(this.normalizedGeometry,_):(0,UC.CI)(this.normalizedGeometry,_))return y;const{coordinate:v}=function DG(y,g){const{spatialReference:_}=g,v=[g.x,g.y];let b=Number.POSITIVE_INFINITY,M=0,S=0;const A=[0,0],K="extent"===y.type?[[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]]]:y.rings;for(const de of K)for(let De=0;De<de.length-1;De++){(0,MG.Tx)(A,v,de,De);const Te=(0,_o.d)(v,A);Te<b&&(b=Te,M=A[0],S=A[1])}return{coordinate:new Ki.Z({x:M,y:S,spatialReference:_}),distance:b}}(this.normalizedGeometry,_);return v&&(y.targetGeometry=v),y}clone(){return new NC({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var BC;(0,we._)([(0,Le.Cb)({constructOnly:!0})],dc.prototype,"geometry",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],dc.prototype,"normalizedGeometry",null),(0,we._)([(0,Le.Cb)({constructOnly:!0})],dc.prototype,"spatialReference",void 0),dc=NC=(0,we._)([(0,cn.j)("esri.views.2d.constraints.GeometryConstraint")],dc);let Vf=BC=class extends((0,Sy.iv)(dr.Z)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(y,g){return this.enabled&&g&&(this.rotationEnabled||(y.rotation=g.rotation)),y}clone(){return new BC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,we._)([(0,Le.Cb)()],Vf.prototype,"enabled",void 0),(0,we._)([(0,Le.Cb)()],Vf.prototype,"rotationEnabled",void 0),Vf=BC=(0,we._)([(0,cn.j)("esri.views.2d.constraints.RotationConstraint")],Vf);const mL=Vf;var FC;let Gi=FC=class extends((0,Sy.iv)(dr.Z)){constructor(y){super(y),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let y,{lods:g,minScale:_,maxScale:v,minZoom:b,maxZoom:M}=this,S=-1,A=-1,K=!1,de=!1;if(0!==_&&0!==v&&_<v&&([_,v]=[v,_]),!g?.length)return this._set("effectiveMinScale",_),void this._set("effectiveMaxScale",v);g=g.map(De=>De.clone()),g.sort((De,Te)=>Te.scale-De.scale),g.forEach((De,Te)=>De.level=Te);for(const De of g)!K&&_>0&&_>=De.scale&&(S=De.level,K=!0),!de&&v>0&&v>=De.scale&&(A=y?y.level:-1,de=!0),y=De;-1===b&&(b=0===_?0:S),-1===M&&(M=0===v?g.length-1:A),b=Math.max(b,0),b=Math.min(b,g.length-1),M=Math.max(M,0),M=Math.min(M,g.length-1),b>M&&([b,M]=[M,b]),_=g[b].scale,v=g[M].scale,g.splice(0,b),g.splice(M-b+1,g.length),g.forEach((De,Te)=>{this._lodByScale[De.scale]=De,this._scales[Te]=De.scale}),this._set("effectiveLODs",g),this._set("effectiveMinZoom",b),this._set("effectiveMaxZoom",M),this._set("effectiveMinScale",_),this._set("effectiveMaxScale",v)}constrain(y,g){if(g&&y.scale===g.scale)return y;const _=this.effectiveMinScale,v=this.effectiveMaxScale,b=y.targetGeometry,M=g&&g.targetGeometry,A=0!==_&&y.scale>_;if(0!==v&&y.scale<v||A){const K=A?_:v;if(g&&M){const de=(K-g.scale)/(y.scale-g.scale);b.x=M.x+(b.x-M.x)*de,b.y=M.y+(b.y-M.y)*de}y.scale=K}return this.snapToZoom&&this.effectiveLODs&&(y.scale=this._getClosestScale(y.scale)),y}fit(y){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(y,null);const g=this.scaleToZoom(y.scale),_=Math.abs(g-Math.floor(g));return y.scale=this.zoomToScale(_>.99?Math.round(g):Math.floor(g)),y}zoomToScale(y){if(!this.effectiveLODs)return 0;y-=this.effectiveMinZoom,y=Math.max(0,y);const g=this._scales;if(y<=0)return g[0];if(y>=g.length)return g[g.length-1];const _=Math.round(y-.5),v=Math.round(y);return g[v]+(v-y)*(g[_]-g[v])}scaleToZoom(y){if(!this.effectiveLODs)return-1;const g=this._scales;let _,v;if(y>=g[0])return this.effectiveMinZoom;if(y<=g[g.length-1])return this.effectiveMaxZoom;for(let b=0;b<g.length-1;b++){if(_=g[b],v=g[b+1],v===y)return b+this.effectiveMinZoom+1;if(_>y&&v<y)return b+this.effectiveMinZoom+1-(y-v)/(_-v)}return-1}snapToClosestScale(y){if(!this.effectiveLODs)return y;const g=this.scaleToZoom(y);return this.zoomToScale(Math.round(g))}snapToNextScale(y,g=.5){if(!this.effectiveLODs)return y*g;const _=Math.round(this.scaleToZoom(y));return this.zoomToScale(_+1)}snapToPreviousScale(y,g=2){if(!this.effectiveLODs)return y*g;const _=Math.round(this.scaleToZoom(y));return this.zoomToScale(_-1)}clone(){return new FC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(y){return this._lodByScale[y]||(y=this._scales.reduce((g,_)=>Math.abs(_-y)<=Math.abs(g-y)?_:g,this._scales[0])),this._lodByScale[y].scale}};(0,we._)([(0,Le.Cb)({readOnly:!0})],Gi.prototype,"effectiveLODs",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Gi.prototype,"effectiveMinZoom",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Gi.prototype,"effectiveMaxZoom",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Gi.prototype,"effectiveMinScale",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Gi.prototype,"effectiveMaxScale",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"lods",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"minZoom",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"maxZoom",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"minScale",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"maxScale",void 0),(0,we._)([(0,Le.Cb)()],Gi.prototype,"snapToZoom",void 0),Gi=FC=(0,we._)([(0,cn.j)("esri.views.2d.constraints.ZoomConstraint")],Gi);const yL=Gi;var SG=E(5391);const wG={base:null,key:"type",typeMap:{extent:Rf.Z,polygon:SG.Z}};let Is=class extends dr.Z{constructor(y){super(y),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ss.Z}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(y){this._set("geometry",y||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const y=this._get("_geometry");return y&&this.geometry===y.geometry&&this.view?.constraintsInfo.spatialReference===y.spatialReference?y:new dc({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new mL({rotationEnabled:this.rotationEnabled})}get _zoom(){const y=this._get("_zoom"),g=this.lods||this.view?.constraintsInfo.lods,_=this.minZoom,v=this.maxZoom,b=this.minScale,M=this.maxScale,S=this.snapToZoom;return y&&y.lods===g&&y.minZoom===_&&y.maxZoom===v&&y.minScale===b&&y.maxScale===M&&y.snapToZoom===S?y:new yL({lods:g,minZoom:_,maxZoom:v,minScale:b,maxScale:M,snapToZoom:S})}canZoomInTo(y){const g=this.effectiveMaxScale;return 0===g||y>=g}canZoomOutTo(y){const g=this.effectiveMinScale;return 0===g||y<=g}constrain(y,g){return this._zoom.constrain(y,g),this._rotation.constrain(y,g),this._geometry.constrain(y,g),this.customConstraints.forEach(_=>_.constrain(y,g)),y}constrainByGeometry(y){return this._geometry.constrain(y),this.customConstraints.forEach(g=>g.applyPanConstraint?.(y)),y}fit(y){return this._zoom.fit(y)}zoomToScale(y){return this._zoom.zoomToScale(y)}scaleToZoom(y){return this._zoom.scaleToZoom(y)}snapScale(y){return this._zoom.snapToClosestScale(y)}snapToNextScale(y){return this._zoom.snapToNextScale(y)}snapToPreviousScale(y){return this._zoom.snapToPreviousScale(y)}};(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"effectiveLODs",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"effectiveMinScale",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"effectiveMaxScale",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"effectiveMinZoom",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"effectiveMaxZoom",null),(0,we._)([(0,Le.Cb)({types:wG,value:null})],Is.prototype,"geometry",null),(0,we._)([(0,Le.Cb)({type:[CG.Z]})],Is.prototype,"lods",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"minScale",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"maxScale",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"minZoom",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"maxZoom",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"rotationEnabled",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"snapToZoom",void 0),(0,we._)([(0,Le.Cb)({type:ss.Z})],Is.prototype,"customConstraints",void 0),(0,we._)([(0,Le.Cb)()],Is.prototype,"view",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Is.prototype,"version",null),(0,we._)([(0,Le.Cb)({type:dc,readOnly:!0})],Is.prototype,"_geometry",null),(0,we._)([(0,Le.Cb)({type:mL})],Is.prototype,"_rotation",null),(0,we._)([(0,Le.Cb)({readOnly:!0,type:yL})],Is.prototype,"_zoom",null),Is=(0,we._)([(0,cn.j)("esri.views.2d.MapViewConstraints")],Is);const gL=Is;var IG=E(6777),_L=(E(54529),E(87766),E(40394),E(23206)),OG=E(39392),vL=E(51675),TG=E(52593),gg=E(86662),PG=E(89921),WC=E(18755),Mh=E(51006),VC=E(71602),EL=E(7077);function _g(y){return function AG(y){return y instanceof Float32Array&&y.length>=2}(y)||function xG(y){return Array.isArray(y)&&y.length>=2}(y)}var $C,LG=E(93566);const _i=[0,0];let _u=$C=class extends Lr.wq{constructor(y){super(y),this._viewpoint2D={center:(0,vL.a)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Rf.Z,this.id=0,this.inverseTransform=(0,WC.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,WC.c)(),this.transformNoRotation=(0,WC.c)(),this.displayMat3=(0,VC.c)(),this.displayViewMat3=(0,VC.c)(),this.viewMat3=(0,VC.c)(),this.viewMat2d=(0,PG.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(y){this._set("pixelRatio",y),this._update()}set size(y){this._set("size",y),this._update()}set viewpoint(y){if(y){const g=this._viewpoint2D,_=y.targetGeometry;g.center[0]=_.x,g.center[1]=_.y,g.rotation=y.rotation,g.scale=y.scale,g.spatialReference=_.spatialReference}this._update()}copy(y){const g=this.size,_=this.viewpoint;return _&&g?(this.viewpoint=(0,Es.JG)(_,y.viewpoint),this._set("size",(0,_o.j)(g,y.size))):(this.viewpoint=y.viewpoint.clone(),this._set("size",[y.size[0],y.size[1]])),this._set("pixelRatio",y.pixelRatio),this}clone(){return new $C({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(y,g,_){return _g(g)?(0,_o.t)(y,g,this.inverseTransform):(_i[0]=g,_i[1]=_,(0,_o.t)(y,_i,this.inverseTransform))}toScreen(y,g,_){return _g(g)?(0,_o.t)(y,g,this.transform):(_i[0]=g,_i[1]=_,(0,_o.t)(y,_i,this.transform))}toScreenNoRotation(y,g,_){return _g(g)?(0,_o.t)(y,g,this.transformNoRotation):(_i[0]=g,_i[1]=_,(0,_o.t)(y,_i,this.transformNoRotation))}toScreenClosest(y,g,_){_g(g)?(_i[0]=g[0],_i[1]=g[1]):(_i[0]=g,_i[1]=_);const[v]=_i,{center:b,extent:M,spatialReference:S,transform:A}=this;return(v<M.xmin||v>M.xmax)&&(_i[0]=(0,LG.it)(v,b[0],S)),(0,_o.t)(y,_i,A)}getScreenTransform(y,g){const{center:_}=this._viewpoint2D,v=this._get("pixelRatio")||1,b=this._get("size");return(0,Es.Rb)(y,_,b,g,0,v),y}_update(){const{center:y,spatialReference:g,scale:_,rotation:v}=this._viewpoint2D,b=this._get("pixelRatio")||1,M=this._get("size"),S=new Ai.Z({targetGeometry:new Ki.Z(y[0],y[1],g),scale:_,rotation:v});if(this._set("viewpoint",S),!M||!g||!_)return;this.resolution=(0,Es.uG)(S),this.rotation=v,this.scale=_,this.spatialReference=g,(0,_o.j)(this.center,y),(0,Mh.s)(this.displayMat3,0!==M[0]?2/M[0]:0,0,0,0,0!==M[1]?-2/M[1]:0,0,-1,1,1);const de=(0,Mh.g)(this.viewMat3),De=(0,EL.f)(M[0]/2,M[1]/2),Te=(0,EL.f)(-M[0]/2,-M[1]/2),Ve=(0,TG.t)(v);(0,Mh.h)(de,de,De),(0,Mh.r)(de,de,Ve),(0,Mh.h)(de,de,Te),(0,Mh.m)(this.displayViewMat3,this.displayMat3,de);const nt=(0,gg.a)(this.viewMat2d,De);return(0,gg.r)(nt,nt,Ve),(0,gg.t)(nt,nt,Te),(0,Es.bk)(this.extent,S,M),(0,Es.Ck)(this.transform,S,M,b),(0,gg.i)(this.inverseTransform,this.transform),(0,Es.Jp)(this.transformNoRotation,S,M,b),this.worldScreenWidth=(0,Es.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,we._)([(0,Le.Cb)({readOnly:!0})],_u.prototype,"id",void 0),(0,we._)([(0,Le.Cb)({value:1,json:{write:!0}})],_u.prototype,"pixelRatio",null),(0,we._)([(0,Le.Cb)({json:{write:!0}})],_u.prototype,"size",null),(0,we._)([(0,Le.Cb)()],_u.prototype,"spatialReference",void 0),(0,we._)([(0,Le.Cb)({type:Ai.Z,json:{write:!0}})],_u.prototype,"viewpoint",null),_u=$C=(0,we._)([(0,cn.j)("esri.views.2d.ViewState")],_u);const bL=_u;var kC,ZC;let Al=kC=class extends dr.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new kC({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,we._)([(0,Le.Cb)()],Al.prototype,"left",void 0),(0,we._)([(0,Le.Cb)()],Al.prototype,"top",void 0),(0,we._)([(0,Le.Cb)()],Al.prototype,"right",void 0),(0,we._)([(0,Le.Cb)()],Al.prototype,"bottom",void 0),Al=kC=(0,we._)([(0,cn.j)("esri.views.2d.PaddedViewState.Padding")],Al);let Dh=ZC=class extends bL{constructor(...y){super(...y),this.paddedViewState=new bL,this._updateContent=(()=>{const g=(0,vL.a)();return()=>{const _=this._get("size"),v=this._get("padding");if(!_||!v)return;const b=this.paddedViewState;(0,_o.s)(g,v.left+v.right,v.top+v.bottom),(0,_o.c)(g,_,g),(0,_o.j)(b.size,g);const M=b.viewpoint;M&&(this.viewpoint=M)}})(),this.addHandles((0,Gt.YP)(()=>[this.size,this.padding],()=>this._updateContent(),Gt.Z_)),this.padding=new Al,this.size=[0,0]}set padding(y){this._set("padding",y||new Al)}set viewpoint(y){if(y){const g=y.clone();this.paddedViewState.viewpoint=y,(0,Es.H4)(g,y,this._get("size"),this._get("padding"));const _=this._viewpoint2D,v=g.targetGeometry;_.center[0]=v.x,_.center[1]=v.y,_.rotation=g.rotation,_.scale=g.scale,_.spatialReference=v.spatialReference,this._update()}}clone(){return new ZC({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,we._)([(0,Le.Cb)()],Dh.prototype,"paddedViewState",void 0),(0,we._)([(0,Le.Cb)({type:Al})],Dh.prototype,"padding",null),(0,we._)([(0,Le.Cb)()],Dh.prototype,"viewpoint",null),Dh=ZC=(0,we._)([(0,cn.j)("esri.views.2d.PaddedViewState")],Dh);const RG=Dh;let Li=class extends dr.Z{constructor(y){super(y),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,Gt.YP)(()=>this.constraints?.version,g=>{this.constraints&&g&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Gt.Z_)])}get center(){if(!this.ready)return this._get("center");const{center:y,spatialReference:g}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ki.Z({x:y[0],y:y[1],spatialReference:g})}set center(y){if(null==y)return;if(!this.ready)return void this._set("center",y);let g;try{g=this._project(y,this.state.spatialReference)}catch(v){return void nr.Z.getLogger(this).error(new mr.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:y,error:v}))}const _=this.viewpoint;(0,Es.o2)(_,_,g),this.viewpoint=_}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(y){if(null==y)return;if(!y.width||!y.height)return void nr.Z.getLogger(this).error(new mr.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",y),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let g;try{g=this._project(y,this.state.spatialReference)}catch(v){return void nr.Z.getLogger(this).error(new mr.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:v}))}const _=this.viewpoint;(0,Es.qf)(_,_,g,this.state.size,{constraints:this.constraints}),this.viewpoint=_}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(y){this.ready?(this.state.padding=y,this._set("padding",this.state.padding)):this._set("padding",y)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(y){if(isNaN(y))return;if(!this.ready)return void this._set("rotation",y);const g=this.viewpoint;(0,Es.YQ)(g,g,y),this.viewpoint=g}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(y){if(!y||isNaN(y))return;if(!this.ready){this._set("scale",y),this._set("zoom",void 0);const _=this._get("extent");return void(_&&(this._set("extent",void 0),this._set("center",_.center)))}const g=this.viewpoint;(0,Es.Hy)(g,g,y),this.viewpoint=g}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(y){if(null==y)return;if(!this.ready)return this._set("viewpoint",y),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let g,_;try{g=this._project(y,this.state.spatialReference),!y.scale||isNaN(y.scale)?_=new mr.Z("mapview:invalid-viewpoint",`invalid scale value of ${y.scale}`):null==y.targetGeometry&&(_=new mr.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(b){_=new mr.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:b})}if(_)return void nr.Z.getLogger(this).error(_);this._scaleBeforeChangingSpatialReference=null;const v=new Ai.Z({targetGeometry:new Ki.Z,scale:0,rotation:0});(0,Es.JG)(v,g),this.constraints?.constrain(v,this.state.paddedViewState.viewpoint),this.state.viewpoint=v,this._set("viewpoint",v)}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(y){if(!(y>=0))return;if(!this.ready){this._set("zoom",y),this._set("scale",void 0);const v=this._get("extent");return void(v&&(this._set("extent",void 0),this._set("center",v.center)))}const g=this.constraints?.zoomToScale(y)??0;if(!g)return void this._set("zoom",-1);const _=this.viewpoint;(0,Es.Hy)(_,_,g),this.viewpoint=_,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(y){if(!y[0]&&!y[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:g,constraints:_}=this,v=this._get("center"),b=this._get("extent"),M=this._get("scale"),S=this._get("rotation"),A=this._get("viewpoint"),K=this._get("zoom"),de=null!=K&&null!=_&&_.zoomToScale(K)||void 0;let De,Te,Ve;const nt=A?.rotation,at=A?.targetGeometry;"extent"===at?.type?De=at:"point"===at?.type&&(Te=at,Ve=A?.scale);const gt=b??De;return{center:v??Te??gt?.center,rotation:S??nt,scale:(M??de??Ve??(gt&&(0,Es.EK)(gt,[y[0]-g.left-g.right,y[1]-g.top-g.bottom])))||void 0}}startup(y,g,_,v){const b=y.targetGeometry;try{this._project(y,_)}catch(M){nr.Z.getLogger(this).warn(new _L.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:b.toJSON(),spatialReference:_,error:M})),y.targetGeometry=v||new Ki.Z({x:0,y:0,spatialReference:_})}this.constraints?.fit(y),this._set("state",new RG({padding:this.padding,size:g,viewpoint:y})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[y,g],spatialReference:_,rotation:v,scale:b}=this.state.paddedViewState,M=new Ki.Z({x:y,y:g,spatialReference:_});this._set("viewpoint",null),this._set("extent",null),this._set("center",M),this._set("zoom",-1),this._set("rotation",v),this._set("scale",b),this._set("state",null)}changeSpatialReference(y){const g=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=g.scale;else{const A=g.viewpoint.clone();A.scale=this._scaleBeforeChangingSpatialReference,g.viewpoint=A}const _=g.clone(),[v,b]=g.center;let M=null;try{M=this._project(new Ki.Z({x:v,y:b,spatialReference:g.spatialReference}),y)}catch(A){(0,OG.i)()||nr.Z.getLogger(this).warn(new _L.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:M?.toJSON(),spatialReference:y,error:A}))}M||(M=new Ki.Z({x:0,y:0,spatialReference:y}));const S=(0,Es.o2)(new Ai.Z({targetGeometry:new Ki.Z,scale:0,rotation:0}),g.viewpoint,M);_.viewpoint=S;try{const K=[g.size[0]/2,g.size[1]/2],de=[K[0]+20,K[1]],De=g.toMap([0,0],de),{x:Te,y:Ve}=this._project(new Ki.Z({x:De[0],y:De[1],spatialReference:g.spatialReference}),y);De[0]=Te,De[1]=Ve,_.toScreen(De,De);const nt=(0,Es.dI)(K,De,de),at=Math.hypot(De[0]-K[0],De[1]-K[1])/20;!Number.isFinite(at)||Math.abs(at)>4?(S.rotation=0,S.targetGeometry=new Ki.Z({x:0,y:0,spatialReference:y})):(S.scale*=at,S.scale>(0,Ba.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?S.rotation=0:S.rotation+=Number.isFinite(nt)?nt:0)}catch{}this._get("constraints")?.constrain(S,void 0),this._get("state").viewpoint=S}resize(y,g){if(!this.ready)return;const _=this.state;let v=this.state.paddedViewState.viewpoint;const b=this.state.paddedViewState.size.concat();_.size=[y,g],(0,Es.SI)(v,v,b,this.state.paddedViewState.size,this.resizeAlign),v=this.constraints?.constrain(v,void 0)??v,this.state.viewpoint=v}toMap(y){if(!this.ready)return null;const[_,v]=this.state.toMap([0,0],[y.x,y.y]);return new Ki.Z({x:_,y:v,spatialReference:this.state.spatialReference})}toScreen(y,g){if(!this.ready)return null;const _=this._project(y,this.state.spatialReference),v=[_.x,_.y];return!1===g?.pickClosestTarget?this.state.toScreen(v,v):this.state.toScreenClosest(v,v),(0,fs.vW)(v[0],v[1])}_project(y,g){const _=y?.targetGeometry||y;if(!g)return y;if(!_)return null;if(g.imageCoordinateSystem||_.spatialReference?.imageCoordinateSystem||(0,Ud.fS)(g,_.spatialReference))return y;const v=(0,ua.project)(_,g);if(!v)throw new mr.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:_,spatialReference:g});return function jG(y){return"esri.Viewpoint"===y?.declaredClass}(y)?(y.targetGeometry=v,y):v}};function zC(y,g){switch(g){case"primary":return"touch"===y.pointerType||0===y.button;case"secondary":return"touch"!==y.pointerType&&2===y.button;case"tertiary":return"touch"!==y.pointerType&&1===y.button}}(0,we._)([(0,Le.Cb)({type:Ki.Z})],Li.prototype,"center",null),(0,we._)([(0,Le.Cb)()],Li.prototype,"constraints",void 0),(0,we._)([(0,Le.Cb)({type:Rf.Z})],Li.prototype,"extent",null),(0,we._)([(0,Le.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:y=>({top:0,right:0,bottom:0,left:0,...y})})],Li.prototype,"padding",null),(0,we._)([(0,Le.Cb)()],Li.prototype,"ready",void 0),(0,we._)([(0,Le.Cb)()],Li.prototype,"resizeAlign",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Li.prototype,"resolution",null),(0,we._)([(0,Le.Cb)({type:Number})],Li.prototype,"rotation",null),(0,we._)([(0,Le.Cb)({type:Number})],Li.prototype,"scale",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Li.prototype,"state",void 0),(0,we._)([(0,Le.Cb)({type:Ai.Z})],Li.prototype,"viewpoint",null),(0,we._)([(0,Le.Cb)()],Li.prototype,"zoom",null),Li=(0,we._)([(0,cn.j)("esri.views.2d.ViewStateManager")],Li);class CL extends oi.a{constructor(g,_){super(!0),this._view=g,this.registerIncoming("double-click",_,v=>this._handleDoubleClick(v,_))}_handleDoubleClick(g,_){zC(g.data,"primary")&&(g.stopPropagation(),_?this._view.mapViewNavigation.zoomOut([g.data.x,g.data.y]):this._view.mapViewNavigation.zoomIn([g.data.x,g.data.y]))}}class UG extends oi.a{constructor(g,_,v){super(!0),this.view=g,this.pointerType=_,this.registerIncoming("double-tap-drag",v,b=>this._handleDoubleTapDrag(b))}_handleDoubleTapDrag(g){const{data:_}=g,{pointerType:v}=_;if(v!==this.pointerType)return;g.stopPropagation();const{action:b,delta:M}=_,{view:S}=this,{mapViewNavigation:A}=S;switch(b){case"begin":{const{scale:K}=S;this._startScale=K,this._currentScale=K,this._previousDelta=M,A.begin();break}case"update":{if(this._previousDelta.y===M.y)return;this._previousDelta=M;const de=this._startScale*1.015**M.y;A.setViewpointImmediate(de/this._currentScale),this._currentScale=de;break}case"end":{const{constraints:K}=S,{effectiveLODs:de,snapToZoom:De}=K;if(!De||!de)return void A.end();const Te=K.snapScale(this._currentScale),Ve=(M.y>0?Math.max(Te,K.snapToPreviousScale(this._startScale)):Math.min(Te,K.snapToNextScale(this._startScale)))/this._currentScale;A.zoom(Ve);break}}}}class vg{constructor(g){this._callbacks=g,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(g){const _=g.data,v=_.pointers.size;switch(_.action){case"start":this._currentCount=v,this._emitStart(g);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=v,this._emitStart(g);break;case"update":this._emitUpdate(g);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=v,this._emitStart(g);break;case"end":this._emitEnd(g),this._currentCount=0}this._previousEvent=g}_emitStart(g){this._startEvent=g,this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.start(this._currentCount,g,this._startEvent)}_emitUpdate(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.update(this._currentCount,g,this._startEvent)}_emitEnd(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.end(this._currentCount,g,this._startEvent),this._startEvent=null}}class NG extends oi.a{constructor(g,_,v){super(!0),this.view=g,this.pointerAction=_,this.registerIncoming("drag",v,b=>this._handleDrag(b)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(g){super.onInstall(g),this._dragEventSeparator=new vg({start:(_,v)=>{this.view.mapViewNavigation.pan.begin(this.view,v.data),v.stopPropagation()},update:(_,v)=>{this.view.mapViewNavigation.pan.update(this.view,v.data),v.stopPropagation()},end:(_,v)=>{this.view.mapViewNavigation.pan.end(this.view,v.data),v.stopPropagation()},condition:(_,v)=>1===_&&zC(v.data,this.pointerAction)})}_handleDrag(g){const _=this.view.mapViewNavigation;_.pinch.zoomMomentum||_.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(g)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class BG extends oi.a{constructor(g,_,v){super(!0),this._view=g,this.pointerAction=_;const b=this._view.mapViewNavigation;this._dragEventSeparator=new vg({start:(M,S)=>{b.rotate.begin(this._view,S.data),S.stopPropagation()},update:(M,S)=>{b.rotate.update(this._view,S.data),S.stopPropagation()},end:(M,S)=>{b.rotate.end(),S.stopPropagation()},condition:(M,S)=>1===M&&zC(S.data,this.pointerAction)}),this.registerIncoming("drag",v,M=>this._dragEventSeparator.handle(M))}}var FG=E(43589);function da(y){let g=y*y;return y<0&&(g*=-1),g}class kG extends oi.a{constructor(g){super(!0),this._view=g,this._frameTask=null,this._watchHandles=new Vx.Z,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",_=>this._handleGamePadEvent(_)),this._handle.pause()}onInstall(g){super.onInstall(g),this._watchHandles.add([(0,Gt.YP)(()=>this._view.navigation.gamepad?.enabled,_=>{_?(this._handle.resume(),this._frameTask||(this._frameTask=(0,uc.A)({update:v=>this._frameUpdate(v.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Gt.nn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(g){const _=this._view.navigation.gamepad.device;_&&g.data.device!==_||this._currentDevice&&this._currentDevice!==g.data.device||("end"===g.data.action?(this._currentDevice=null,function WG(y){y.translation[0]=0,y.translation[1]=0,y.translation[2]=0,y.heading=0,y.tilt=0}(this._transformation)):(this._currentDevice=g.data.device,function VG(y,g,_){const v=_,b=y.state,M=y.device,S="forward-down"===g.tiltDirection?1:-1;"standard"===M.deviceType?(v.translation[0]=da(b.axes[0]),v.translation[1]=da(b.axes[1]),v.translation[2]=da(b.buttons[7])-da(b.buttons[6]),v.heading=da(b.axes[2]),v.tilt=da(b.axes[3])):"spacemouse"===M.deviceType&&(v.translation[0]=1.2*da(b.axes[0]),v.translation[1]=1.2*da(b.axes[1]),v.translation[2]=2*-da(b.axes[2]),v.heading=1.2*da(b.axes[5]),v.tilt=1.2*da(b.axes[3])),v.tilt*=S,(0,FG.i)(v.translation,v.translation,1)}(g.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(g){const _=this._transformation;if(function $G(y){return 0===y.translation[0]&&0===y.translation[1]&&0===y.translation[2]&&0===y.heading&&0===y.tilt&&0===y.zoom}(_))return;const v=this._view.viewpoint.clone(),M=zG*this._view.navigation.gamepad.velocityFactor*g;(0,Es.Rx)(v,v,[_.translation[0]*M,-_.translation[1]*M]);const K=this._view.size;(0,Es.UZ)(v,v,1+_.translation[2]*KG*g,this._view.constraints.rotationEnabled?-_.heading*ZG*g:0,[K[0]/2,K[1]],K);const De=this._view.constraints.constrain(v,this._view.viewpoint);this._view.viewpoint=De}}const ZG=.06,zG=.7,KG=6e-4;function ML(y){const g=()=>y("visible"===document.visibilityState);return document.addEventListener("visibilitychange",g),{remove:()=>document.addEventListener("visibilitychange",g)}}class GG extends oi.a{constructor(g,_,v){super(!0),this.view=g,this.keys=_,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=b=>{const M=this._keyMap[b.data.key];if(b.modifiers.has("Meta")||b.modifiers.has("Ctrl"))return void this._stopMovement();if(null==M)return;b.stopPropagation(),b.preventDefault();const S="key-down"===b.type;if(this._pressedKeys[S?"add":"delete"](M),S){if(this._direction===M)return;this._direction=M,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else void 0===this._timeout||this._pressedKeys.size>0?this._handlePopKey():this._isSticky=!0},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[_.left]:"left",[_.right]:"right",[_.up]:"up",[_.down]:"down"},this.registerIncoming("key-down",v,this._handleKey),this.registerIncoming("key-up",v,this._handleKey),this.registerIncoming("blur",v,this._stopMovement),this._visibilityHandle=ML(b=>b?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(g){const _=null!=this._currentDirection;if(null!=g){if(_||this.view.mapViewNavigation.begin(),this._currentDirection!==g)switch(g){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}}else _&&this.view.mapViewNavigation.stop();this._currentDirection=g}_setTimeout(g){clearTimeout(this._timeout),this._timeout=void 0===g?void 0:setTimeout(()=>{this._timeout=void 0,g()},this._stickyKeyDuration)}}class HG extends oi.a{constructor(g,_,v){super(!0),this.view=g,this.keys=_,this._pressed=!1,this._keyToDirection={[_.clockwiseOption1]:"clockwise",[_.clockwiseOption2]:"clockwise",[_.counterClockwiseOption1]:"counterClockwise",[_.counterClockwiseOption2]:"counterClockwise",[_.resetOption1]:"reset",[_.resetOption2]:"reset"},this.registerIncoming("key-down",v,b=>this._handleKeyDown(b)),this.registerIncoming("key-up",v,b=>this._handleKeyUp(b)),this.registerIncoming("blur",v,()=>this._handleStop()),this._visibilityHandle=ML(b=>b?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,_){const v=g.modifiers;if(v.size>0&&!v.has("Shift")||!this.view.constraints.rotationEnabled)return;const b=this._keyToDirection[g.data.key];if(this._pressed=null!=b,this._pressed){if(g.preventDefault(),_)switch(this.view.mapViewNavigation.begin(),b){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}var Sh;!function(y){y[y.IN=0]="IN",y[y.OUT=1]="OUT"}(Sh||(Sh={}));class JG extends oi.a{constructor(g,_,v){super(!0),this.view=g,this.keys=_,this._keysToZoomAction={},this.registerIncoming("key-down",v,b=>this._handleKeyDown(b)),_.zoomIn.forEach(b=>this._keysToZoomAction[b]=Sh.IN),_.zoomOut.forEach(b=>this._keysToZoomAction[b]=Sh.OUT)}_handleKeyDown(g){this._handleKey(g)}_handleKey(g){const _=g.modifiers;if(_.size>0&&!_.has("Shift"))return;const{key:v}=g.data;if(!(v in this._keysToZoomAction))return;const b=this._keysToZoomAction[v],{mapViewNavigation:M}=this.view;let S=null;switch(b){case Sh.IN:S=M.zoomIn();break;case Sh.OUT:S=M.zoomOut();break;default:return}M.begin(),S.then(()=>M.end()),g.stopPropagation()}}class QG extends oi.a{constructor(g,_){super(!0),this._view=g,this._canZoom=!0,this.registerIncoming("mouse-wheel",_,v=>this._handleMouseWheel(v))}_handleMouseWheel(g){if(!this._view.navigation.mouseWheelZoomEnabled||(g.preventDefault(),g.stopPropagation(),!this._canZoom))return;const _=this._view.mapViewNavigation,{x:v,y:b,deltaY:M}=g.data,A=_.zoom(1/.6**(1/60*M),[v,b]);A&&(this._canZoom=!1,A.catch(()=>{}).then(()=>{this._canZoom=!0,_.end()}))}}class XG extends oi.a{constructor(g){super(!0),this.view=g,this.registerIncoming("drag",v=>this._handleDrag(v)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const _=this.view.mapViewNavigation;this._dragEventSeparator=new vg({start:(v,b)=>{_.pinch.begin(this.view,b.data),b.stopPropagation()},update:(v,b)=>{_.pinch.update(this.view,b.data),b.stopPropagation()},end:(v,b)=>{_.pinch.end(this.view),b.stopPropagation()},condition:v=>v>=2})}_handleDrag(g){this._dragEventSeparator.handle(g)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var qG=E(79259);function DL(y){const g=y.native;return g?{buttons:g.buttons.map(_=>_.pressed?_.value||1:0),axes:g.axes.map(_=>function nH(y,g){const _=Math.abs(y);return _<g?0:Math.sign(y)*(_-g)/(1-g)}(_,y.axisThreshold))}:{buttons:[],axes:[]}}class rH{constructor(g,_){this._element=g,this._input=_,this._hasEventListeners=!1,this._onConnectGamepad=M=>{this._connectGamepad(M.gamepad)},this._onDisconnectGamepad=M=>{const S=M.gamepad,A=S.index,K=this._inputDevices[A];K&&(this._emitGamepadEvent(S,DL(K),!1),this._inputDevices.splice(A,1),this._latestUpdate.splice(A,1),this._input.gamepad.devices.remove(K),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const v="getGamepads"in window.navigator,b=window.isSecureContext;this.supported=v&&b,this.supported&&(this._forEachGamepad(M=>this._connectGamepad(M)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(g){this._hasEventListeners!==g&&(this._hasEventListeners=g,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(g){this._callback=g}_connectGamepad(g){const _=new TC(g);"unknown"!==_.deviceType&&(this._inputDevices[g.index]=_,this._input.gamepad.devices.add(_)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,uc.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const g=document.hasFocus(),_=this._element.contains(document.activeElement),v="document"===this._input.gamepad.enabledFocusMode&&!g||"view"===this._input.gamepad.enabledFocusMode&&!_;this._forEachGamepad(b=>{const M=this._inputDevices[b.index];if(!M)return;const S=this._latestUpdate[b.index],A=DL(M),K=v||function tH(y){for(let g=0;g<y.axes.length;g++)if(0!==y.axes[g])return!1;for(let g=0;g<y.buttons.length;g++)if(0!==y.buttons[g])return!1;return!0}(A);S&&(S.timestamp===b.timestamp||!S.active&&K||function eH(y,g){if(y.axes.length!==g.axes.length||y.buttons.length!==g.buttons.length)return!1;for(let _=0;_<y.axes.length;_++)if(y.axes[_]!==g.axes[_])return!1;for(let _=0;_<y.buttons.length;_++)if(y.buttons[_]!==g.buttons[_])return!1;return!0}(S.state,A))||this._emitGamepadEvent(b,A,!K)})}_forEachGamepad(g){const _=window.navigator.getGamepads();for(let v=0;v<_.length;v++){const b=_[v];this._validate(b)&&g(b)}}_emitGamepadEvent(g,_,v){const b=this._latestUpdate[g.index],M=b&&b.active;if(!M&&!v)return;const S=!M&&v?"start":M&&v?"update":"end";this._latestUpdate[g.index]={timestamp:g.timestamp,state:_,active:v},this._callback&&this._callback({device:this._inputDevices[g.index],state:_,action:S})}_validate(g){if(!g||!g.connected)return!1;for(let _=0;_<g.axes.length;_++)if(isNaN(g.axes[_]))return!1;return!0}}const SL=(0,Ba.Z)("edge"),sH=(0,Ba.Z)("chrome"),iH=(0,Ba.Z)("ff"),oH=(0,Ba.Z)("safari"),wL="esri-view-surface",wh={touchNone:`${wL}--touch-none`,touchPan:`${wL}--touch-pan`};let aH=(()=>{class y{constructor(_,v){this._input=v,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=_,_.getAttribute("tabindex")||_.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new rH(_,this._input),this._gamepadSource.onEvent=b=>this._callback("gamepad",b)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(_=>{this._releasePointerCaptureSafe(_)}),this._gamepadSource=(0,Br.SC)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(_){this._browserTouchPanningEnabled=_,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(_){this._callback=_}set activeEvents(_){for(const v in this._active)_&&_.has(v)||(this._element.removeEventListener(KC[v],this._active[v]),delete this._active[v]);_&&_.forEach(v=>{if(!this._active[v]&&KC[v]){const b=(this._eventHandlers[v]||this._handleDefault).bind(this,v);this._element.addEventListener(KC[v],b),this._active[v]=b}}),this._gamepadSource.hasEventListeners=_?.has("gamepad")??!1}setPointerCapture(_,v){v?this._setPointerCatpureSafe(_.pointerId):(this._releasePointerCaptureSafe(_.pointerId),this._activePointerCaptures.delete(_.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?wh.touchNone:wh.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?wh.touchPan:wh.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(wh.touchNone),this._element.classList.remove(wh.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(_){try{this._element.setPointerCapture(_),this._activePointerCaptures.add(_)}catch{}}_releasePointerCaptureSafe(_){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(_))return;this._element.releasePointerCapture(_)}catch{}}_updateNormalizedPointerLikeEvent(_,v){const b=Qx(this._element,_);return y.test.disableSubpixelCoordinates&&(b.x=Math.round(b.x),b.y=Math.round(b.y)),v.x=b.x,v.y=b.y,v}_handleKey(_,v){const b=(0,qG.kK)(v);b&&"key-up"===_&&this._keyDownState.delete(b);const M={native:v,key:b,repeat:!!b&&this._keyDownState.has(b)};b&&"key-down"===_&&this._keyDownState.add(M.key),this._callback(_,M)}_handlePointer(_,v){const b=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});this._callback(_,b)}_handlePointerPreventDefault(_,v){const b=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});v.preventDefault(),this._callback(_,b)}_handleMouseWheel(_,v){let b=v.deltaY;switch(v.deltaMode){case 0:SL&&(b=b/document.documentElement.clientHeight*600);break;case 1:b*=30;break;case 2:b*=900}SL?b*=.7:sH||oH?b*=.6:iH&&(b*=1.375);const S=Math.abs(b);S>100&&(b=b/S*200/(1+Math.exp(-.02*(S-100))));const A=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,deltaY:b});this._callback(_,A)}_handlePointerCaptureLost(_,v){this._activePointerCaptures.delete(v.pointerId),this._handleDefault(_,v)}_handleDefault(_,v){const b={native:v};v.preventDefault(),this._callback(_,b)}_preventAltKeyDefault(_){"Alt"===_.key&&_.preventDefault()}_preventMultiTouchPanning(_){_.touches.length>1&&_.preventDefault()}}return y.test={disableSubpixelCoordinates:!1},y})();const KC={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class lH extends oi.a{constructor(){super(!0),this.registerIncoming("context-menu",g=>{g.data.native.preventDefault()})}}function Eg(y,g){return Math.abs(g.x-y.x)+Math.abs(g.y-y.y)}function hc(y){const{native:g}=y,{pointerId:_,button:v,pointerType:b}=g;return"mouse"===b?`${_}:${v}`:`${b}`}class dH extends oi.a{constructor(g=250,_=10,v=350,b=35,M=Uf.m){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=_,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=M,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,fs.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new vg({start:(S,A)=>this._dragStart(S,A),update:(S,A)=>this._dragUpdate(A),end:(S,A)=>this._dragEnd(A)}),this.registerIncoming("drag",S=>this._dragEventSeparator.handle(S)),this.registerIncoming("pointer-down",S=>this._handlePointerDown(S)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(g=>{g.doubleTapTimeout=(0,Br.hw)(g.doubleTapTimeout)})}get hasPendingInputs(){return(0,pg.oE)(this._pointerState,g=>null!=g.doubleTapTimeout)}_clearPointerDown(g){const _=this._pointerState.get(g);_&&(_.doubleTapTimeout=(0,Br.hw)(_.doubleTapTimeout),this._pointerState.delete(g),this.refreshHasPendingInputs())}_createDoubleTapDragData(g,_,v){const{button:b,buttons:M,pointer:S,pointers:A,pointerType:K,timestamp:de}=v;return{action:g,delta:_,button:b,buttons:M,pointer:S,pointers:A,pointerType:K,timestamp:de}}_dragStart(g,_){if(!this._doubleTapDragReady||1!==g)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:v,modifiers:b}=_,{center:M}=v;this._dragStartCenter=M;const S=this._createDoubleTapDragData("begin",(0,fs.vW)(0,0),v);this._doubleTapDrag.emit(S,void 0,b),_.stopPropagation()}_dragUpdate(g){if(!this._doubleTapDragActive)return;const{data:_,modifiers:v}=g,{center:b}=_,M=(0,fs.vW)(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y),S=this._createDoubleTapDragData("update",M,_);this._doubleTapDrag.emit(S,void 0,v),g.stopPropagation()}_dragEnd(g){if(!this._doubleTapDragActive)return;const{data:_,modifiers:v}=g,{center:b}=_,M=(0,fs.vW)(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y),S=this._createDoubleTapDragData("end",M,_);this._doubleTapDrag.emit(S,void 0,v),this._doubleTapDragActive=!1,g.stopPropagation()}_handlePointerDown(g){const{data:_}=g,v=hc(_),b=this._pointerState.get(v),{pointerType:M}=_.native;if(b){const S="touch"===M?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(v),Eg(b.event.data,_)>S?this._storePointerDown(g):this._doubleTapDragReady=!0}else this._storePointerDown(g)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(g){const{data:_}=g,{pointerType:v}=_.native,b=hc(_),S=this._clock.setTimeout(()=>this._clearPointerDown(b),"touch"===v?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(b,{event:g,doubleTapTimeout:S}),this.refreshHasPendingInputs()}}var OL,GC=E(95854);class hH extends oi.a{constructor(g){super(!1),this._navigationTouch=g,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(g,_,v,b){return{action:g,pointerType:this._pointerType,button:this._mouseButton,buttons:_.buttons,timestamp:b,pointers:pH(this._activePointerMap),pointer:_,angle:v.angle,radius:v.radius,center:v.center}}_addPointer(g){const _=g.native.pointerId,v=bg(this._activePointerMap).angle,b={event:g,initialAngle:0,lastAngle:0};this._activePointerMap.set(_,b);const M=Cg(b,IL(this._activePointerMap));b.initialAngle=M,b.lastAngle=M,this._updatePointerAngles(v)}_updatePointer(g){if(g&&null==g.x&&null==g.y)return;const v=this._activePointerMap.get(g.native.pointerId);v?v.event=g:this._addPointer(g)}_removePointer(g){const _=bg(this._activePointerMap).angle;this._activePointerMap.delete(g),this._updatePointerAngles(_)}_updatePointerAngles(g){const _=bg(this._activePointerMap);this._activePointerMap.forEach(v=>{v.initialAngle=Cg(v,_)-g,v.lastAngle=Cg(v,_)-g})}_emitEvent(g,_,v){const b=bg(this._activePointerMap);this._drag.emit(this._createPayload(g,_,b,v),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(g){const _=g.data.native.pointerId,v=(0,GC.HA)(g.timestamp);this._activePointerMap.get(_)&&(1===this._activePointerMap.size?(this._updatePointer(g.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",g.data,v),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(_)):(this._removePointer(_),this._emitEvent("removed",g.data,(0,GC.HA)(g.timestamp))))}_handlePointerDrag(g){const _=g.data,v=_.currentEvent,b=(0,GC.HA)(g.timestamp);switch(_.action){case"start":case"update":this._isDragging?this._activePointerMap.has(v.native.pointerId)?(this._updatePointer(v),!this._isCurrentDragSuppressed&&this._emitEvent("update",v,b)):(this._addPointer(v),this._emitEvent("added",v,b),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(v),this._pointerType=g.data.startEvent.pointerType,this._mouseButton=g.data.startEvent.button,this._startStateModifiers=g.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",v,b))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function IL(y){const g=[];return y.forEach(_=>{g.push((0,fs.vW)(_.event.x,_.event.y))}),function cH(y,g){if(g?(g.radius=0,g.center.x=0,g.center.y=0):g={radius:0,center:(0,fs.vW)()},0===y.length)return g;if(1===y.length)return g.center.x=y[0].x,g.center.y=y[0].y,g;if(2===y.length){const[Yt,Kt]=y,[sn,gn]=[Kt.x-Yt.x,Kt.y-Yt.y];return g.radius=Math.sqrt(sn*sn+gn*gn)/2,g.center.x=(Yt.x+Kt.x)/2,g.center.y=(Yt.y+Kt.y)/2,g}let _=0,v=0;for(let Yt=0;Yt<y.length;Yt++)_+=y[Yt].x,v+=y[Yt].y;_/=y.length,v/=y.length;const b=y.map(Yt=>Yt.x-_),M=y.map(Yt=>Yt.y-v);let S=0,A=0,K=0,de=0,De=0,Te=0,Ve=0;for(let Yt=0;Yt<b.length;Yt++){const Kt=b[Yt],sn=M[Yt],gn=Kt*Kt,wr=sn*sn;S+=gn,A+=wr,K+=Kt*sn,de+=gn*Kt,De+=wr*sn,Te+=Kt*wr,Ve+=sn*gn}const nt=.5*(de+Te),at=.5*(De+Ve),gt=S*A-K*K,mt=(nt*A-at*K)/gt,At=(S*at-K*nt)/gt,St=(0,fs.vW)(mt+_,At+v);return{radius:Math.sqrt(mt*mt+At*At+(S+A)/y.length),center:St}}(g)}function bg(y){const g=IL(y);let _=0;return y.forEach(v=>{let b=Cg(v,g),M=b-v.lastAngle;for(;M>Math.PI;)M-=2*Math.PI;for(;M<-Math.PI;)M+=2*Math.PI;b=v.lastAngle+M,v.lastAngle=b,_+=b-v.initialAngle}),_/=y.size||1,{angle:_,radius:g.radius,center:g.center}}function pH(y){const g=new Map;return y.forEach((_,v)=>g.set(v,_.event)),g}function Cg(y,g){const _=y.event;return Math.atan2(_.y-g.center.y,_.x-g.center.x)}!function(y){y[y.Left=0]="Left",y[y.Middle=1]="Middle",y[y.Right=2]="Right",y[y.Back=3]="Back",y[y.Forward=4]="Forward",y[y.Undefined=-1]="Undefined"}(OL||(OL={}));class fH extends oi.a{constructor(g=250,_=10,v=350,b=35,M=Uf.m){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=_,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=M,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(g=>{g.immediateDoubleClick&&g.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(g){const _=g.data,v=hc(_);this._pointerState.has(v)||(this._pointerState.set(v,{downButton:_.native.button,x:_.x,y:_.y,immediateDoubleClick:null}),this.startCapturingPointer(_.native))}_handlePointerUp(g){const _=g.data,v=hc(_),b=this._pointerState.get(v);if(b&&b.downButton===_.native.button){const M=b.immediateDoubleClick,S="touch"===g.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;M?(M.timeoutHandle.remove(),Eg(M,g.data)>S?this._startImmediateDoubleClick(g,b):(this._immediateDoubleClick.emit(g.data,void 0,M.modifiers),this._removeState(_))):Eg(b,g.data)>S?this._removeState(_):this._startImmediateDoubleClick(g,b)}}_startImmediateDoubleClick(g,_){_.immediateDoubleClick={x:g.data.x,y:g.data.y,modifiers:g.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(g.data),"touch"===g.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(g){const _=hc(g);this._pointerState.delete(_),this.stopCapturingPointer(g.native),this.refreshHasPendingInputs()}}class mH extends oi.a{constructor(g=300,_=1.5,v=6,b=6,M=500,S=Uf.m){super(!1),this._maximumClickDelay=g,this._movementUntilMouseDrag=_,this._movementUntilPenDrag=v,this._movementUntilTouchDrag=b,this._holdDelay=M,this._clock=S,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",A=>{this._handlePointerLoss(A,"pointer-up")}),this.registerIncoming("pointer-capture-lost",A=>{this._handlePointerLoss(A,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",A=>{this._handlePointerLoss(A,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(g=>{g.holdTimeout=(0,Br.hw)(g.holdTimeout)}),super.onUninstall()}_handlePointerDown(g){const _=g.data,v=_.native.pointerId;let b=null;0===this._pointerState.size&&(b=this._clock.setTimeout(()=>{const S=this._pointerState.get(v);S&&(S.isDragging||(this._pointerHold.emit(S.previousEvent,void 0,g.modifiers),S.holdEmitted=!0),S.holdTimeout=null)},this._holdDelay)),this._pointerState.set(v,{startEvent:_,previousEvent:_,startTimestamp:g.timestamp,isDragging:!1,downButton:_.native.button,holdTimeout:b,modifiers:new Set}),this.startCapturingPointer(_.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(g)}_createPointerDragData(g,_,v){return{action:g,startEvent:_.startEvent,previousEvent:_.previousEvent,currentEvent:v}}_handlePointerMove(g){const _=g.data,b=this._pointerState.get(_.native.pointerId);b&&(b.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",b,_),void 0,b.modifiers):function uH(y,g){const _=g.x-y.x,v=g.y-y.y;return Math.sqrt(_*_+v*v)}(_,b.startEvent)>this._getDragThreshold(_.native.pointerType)&&this._startDragging(g),b.previousEvent=_)}_getDragThreshold(g){switch(g){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(g){const _=g.data,v=_.native.pointerId;this._pointerState.forEach(b=>{null!=b.holdTimeout&&(b.holdTimeout.remove(),b.holdTimeout=null),b.isDragging||(b.modifiers=g.modifiers,b.isDragging=!0,v===b.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",b,_)):this._pointerDrag.emit(this._createPointerDragData("start",b,b.previousEvent),g.timestamp))})}_handlePointerLoss(g,_){const v=g.data,b=v.native.pointerId,M=this._pointerState.get(b);M&&(null!=M.holdTimeout&&(M.holdTimeout.remove(),M.holdTimeout=null),M.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",M,"pointer-up"===_?v:M.previousEvent),void 0,M.modifiers):"pointer-up"===_&&M.downButton===v.native.button&&g.timestamp-M.startTimestamp<=this._maximumClickDelay&&!M.holdEmitted&&this._immediateClick.emit(v),this._pointerState.delete(b),this.stopCapturingPointer(v.native),0===this._pointerState.size&&this._moveHandle.pause())}}class yH extends oi.a{constructor(g=250,_=10,v=350,b=35,M=Uf.m){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=_,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=M,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(g=>g.doubleClickTimer=(0,Br.hw)(g.doubleClickTimer))}get hasPendingInputs(){return(0,pg.oE)(this._pointerState,g=>null!=g.doubleClickTimer)}_clearDoubleClickTimer(g,_){const v=this._pointerState.get(g);v&&(v.doubleClickTimer=(0,Br.hw)(v.doubleClickTimer),_&&this._click.emit(v.event.data,void 0,v.event.modifiers),this._pointerState.delete(g),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(g){const _=this._pointerState.get(g);1===_.pointerDownCount&&this._click.emit(_.event.data,void 0,_.event.modifiers),_.doubleClickTimer=null,this._pointerState.delete(g),this.refreshHasPendingInputs()}_getPointerId(g){const{pointerId:_,pointerType:v,button:b}=g.native;return"mouse"===v?`${_}:${b}`:`${v}`}_handleImmediateClick(g){const _=g.data,{pointerType:v}=_.native,b=this._getPointerId(_);if(!this._pointerState.has(b))return void this._startClick(g);const M=this._pointerState.get(b),{data:S,modifiers:A}=M.event,K="touch"===v?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;Eg(S,_)>K?(this._clearDoubleClickTimer(b,!0),this._startClick(g)):(this._clearDoubleClickTimer(b,!1),2===M.pointerDownCount&&this._doubleClick.emit(S,void 0,A))}_handlePointerDown(g){const _=hc(g.data),v=this._pointerState.get(_);v&&(v.pointerDownCount+=1)}_startClick(g){const{data:_}=g,{native:{pointerType:v}}=_,b=hc(_),S=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(b),"touch"===v?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(b,{event:g,doubleClickTimer:S,pointerDownCount:1}),this.refreshHasPendingInputs()}}const Mg_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Mg_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Mg_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let pc=class extends dr.Z{initialize(){const y=()=>this.view?.ready;this.addHandles([(0,Gt.gx)(()=>!y(),()=>this._disconnect()),(0,Gt.gx)(y,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=(0,Br.SC)(this._inputManager)}_connect(){const g=new aH(this.view.surface,this.view.input),_=[new fH,new mH,new yH,new hH(this.view.navigation),new dH],v=new Eh.$({eventSource:g,recognizers:_});v.installHandlers("prevent-context-menu",[new lH],Eh.f.INTERNAL),v.installHandlers("navigation",[new XG(this.view),new kG(this.view),new QG(this.view),new CL(this.view),new CL(this.view,["Ctrl"]),new NG(this.view,"primary"),new GG(this.view,Mg_pan),new JG(this.view,Mg_zoom),new HG(this.view,Mg_rotate),new BG(this.view,"secondary"),new UG(this.view,"touch")],Eh.f.INTERNAL),this.view.viewEvents.connect(v),this._source=g,this._inputManager=v,(0,Gt.YP)(()=>this.view?.navigation?.browserTouchPanEnabled,b=>{this._source&&(this._source.browserTouchPanningEnabled=!b)},Gt.nn)}get test(){return{inputManager:this._inputManager}}};(0,we._)([(0,Le.Cb)()],pc.prototype,"view",void 0),(0,we._)([(0,Le.Cb)()],pc.prototype,"latestPointerType",null),(0,we._)([(0,Le.Cb)()],pc.prototype,"latestPointerLocation",null),(0,we._)([(0,Le.Cb)()],pc.prototype,"multiTouchActive",null),pc=(0,we._)([(0,cn.j)("esri.views.2d.input.MapViewInputManager")],pc);const gH=pc;var _H=E(82726),TL=E(30640),vH=E(35458);function HC(){return HC=(0,hn.Z)(function*(y,g,_){const v=qx(g)?Xx(y,g):g;if(!y.ready||isNaN(v.x)||isNaN(v.y))return{screenPoint:v,results:[]};let b=new Set;const M=new Set;let S=!1,A=null,K=null;_?.include?AL(_.include,PL(y,Ve=>{b.add(Ve),YC(Ve,nt=>M.add(nt))},(Ve,nt)=>{M.add(Ve),b.add(nt)},Ve=>{A||(A=new Set),A.add(Ve)},Ve=>b.add(Ve),()=>S=!0)):(S=!0,b=new Set(y.allLayerViews),b.forEach(Ve=>{YC(Ve,nt=>M.add(nt))})),_?.exclude&&AL(_.exclude,PL(y,Ve=>{b.delete(Ve),YC(Ve,nt=>M.delete(nt))},Ve=>M.delete(Ve),Ve=>{K||(K=new Set),K.add(Ve)}));const de=y.allLayerViews.filter(Ve=>!Ve.suspended&&b.has(Ve)).reverse(),De=y.toMap(v);let Te=[...S?y.graphicsView.hitTest(De).map(Ve=>({type:"graphic",graphic:Ve,layer:null,mapPoint:De})):[],...yield Promise.all(de.map(Ve=>Ve.hitTest(De,v)).toArray())].filter(Cl.pC).flat().filter(Cl.pC);return Te=Te.filter(Ve=>"graphic"!==Ve.type||"subtype-group"!==Ve.layer?.type||M.has(Ve.graphic.layer)),A&&(Te=Te.filter(Ve=>!("graphic"in Ve)||!Ve.graphic||A?.has(JC(Ve.graphic)))),K&&(Te=Te.filter(Ve=>!("graphic"in Ve)||!Ve.graphic||!K?.has(JC(Ve.graphic)))),{screenPoint:v,results:Te}}),HC.apply(this,arguments)}function PL(y,g,_,v,b,M){return S=>{if(S instanceof vH.Z){if(S.layer===y)M?.();else{const A=y.allLayerViews.find(K=>K.layer===S.layer);A&&b?.(A)}v(JC(S))}else if("subtype-sublayer"===S.type){const A=y.allLayerViews.find(K=>K.layer===S.parent);A&&_(S,A)}else{const A=y.allLayerViews.find(K=>K.layer===S);A&&g(A)}}}function AL(y,g){if(y)if((0,wC.TW)(y))for(const _ of y)if((0,wC.TW)(_))for(const v of _)g(v);else g(_);else g(y)}function JC(y){const g=y.getObjectId();return g?`${y.layer?.uid??y.sourceLayer?.uid??"MapView"}/${g}`:`"MapView/${y.uid}`}function YC({layer:y},g){"subtype-group"===y.type&&y.sublayers.forEach(_=>{g(_)})}var Dg=E(82871);const xL={flipY:!0,premultipliedAlpha:!0};function QC(){return QC=(0,hn.Z)(function*(y,g){const _=yield LL(y,g),{format:v,quality:b}=(0,Dg.LI)(g?.format,g?.quality);return(0,Dg.cv)(_,{format:v,quality:b,rotation:0,disableDecorations:!1},xL)}),QC.apply(this,arguments)}function XC(){return XC=(0,hn.Z)(function*(y,g){const _=yield LL(y,g);return(0,Dg.v8)(_,xL)}),XC.apply(this,arguments)}function LL(y,g){const _=function SH(y,g,_,v){y.ignorePadding&&(v={left:0,right:0,top:0,bottom:0});let b=null;null!=y.width&&null!=y.height?b=[y.width,y.height]:null==y.width&&null!=y.height?b=[y.height,y.height]:null!=y.width&&null==y.height?b=[y.width,y.width]:null==y.width&&null==y.height&&(b=null);const M=_[0]-(v.left+v.right),S=_[1]-(v.top+v.bottom);let A,K,de=y.area||{x:0,y:0,width:M,height:S};if(b){const Te=b[0]/b[1];if(Te>M/S){const Ve=de.width/Te;de={x:de.x,y:Math.round(de.y+(de.height-Ve)/2),width:de.width,height:Math.round(Ve)}}else{const Ve=de.height*Te;de={x:Math.round(de.x+(de.width-Ve)/2),y:de.y,width:Math.round(Ve),height:de.height}}}else b=[de.width,de.height];return b[0]>de.width?(A=Math.min(b[0]/de.width,g),K=b[0]/de.width/A):(A=1,K=b[0]/de.width),{cropArea:{x:Math.round((de.x+v.left)*A),y:Math.round((de.y+v.top)*A),width:Math.round(de.width*A),height:Math.round(de.height*A)},outputScale:K,resolutionScale:A}}(g||{},function DH(y,g){return Math.min(4,(0,Dg.RZ)(g,Math.min(4096,y.context.parameters.maxTextureSize)))}(y.stage,y.size),y.size,y.padding),v=function MH(y={},g){if(!y.layers)return;const _=[];return y.layers.forEach(v=>{const b=g.find(M=>M.layer.id===v.id);b?.container&&_.push(b.container)}),_}(g,y.allLayerViews);return y.stage.takeScreenshot(_,v,y.backgroundColor,g?.rotation)}let $f=class extends dr.Z{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=160&&this.clear()},160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,we._)([(0,Le.Cb)()],$f.prototype,"_timer",void 0),(0,we._)([(0,Le.Cb)()],$f.prototype,"stationary",null),$f=(0,we._)([(0,cn.j)("esri.views.2d.support.StationaryManager")],$f);var jL=E(76363),wH=E(19903),IH=E(99273);let fc=class extends dr.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(y){this._set("id",y)}set node(y){const g=this._get("node");y!==g&&(y&&y.classList.add("esri-component"),g&&g.classList.remove("esri-component"),this._set("node",y))}castNode(y){return this.widget?.destroy(),y?"string"==typeof y||function TH(y){return y&&"nodeType"in y}(y)?(this._set("widget",null),(0,pu.L7)(y)):(function PH(y){return y&&"function"==typeof y.render}(y)&&!y.domNode&&(y.domNode=document.createElement("div")),this._set("widget",y),y.domNode):(this._set("widget",null),null)}};(0,we._)([(0,Le.Cb)()],fc.prototype,"id",null),(0,we._)([(0,Le.Cb)()],fc.prototype,"node",null),(0,we._)([(0,Wi.p)("node")],fc.prototype,"castNode",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],fc.prototype,"widget",void 0),fc=(0,we._)([(0,cn.j)("esri.views.ui.Component")],fc);const Sg=fc,AH={left:0,top:0,bottom:0,right:0},NL={bottom:30,top:15,right:15,left:15},xl="esri-ui",Hi={ui:xl,corner:`${xl}-corner`,innerContainer:`${xl}-inner-container`,manualContainer:`${xl}-manual-container`,cornerContainer:`${xl}-corner-container`,topLeft:`${xl}-top-left`,topRight:`${xl}-top-right`,bottomLeft:`${xl}-bottom-left`,bottomRight:`${xl}-bottom-right`};function wg(y){return 0===y?"0":`${y}px`}function qC(y){const g="object"==typeof y&&null!==y&&Object.getPrototypeOf(y);return null!==g&&g!==Object.prototype||!("component"in y||"index"in y||"position"in y)?null:y}function eM(y,{top:g,bottom:_,left:v,right:b}){y.style.top=g,y.style.bottom=_,y.style.left=v,y.style.right=b}let el=class extends my.Z.EventedAccessor{constructor(y){super(y),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._locale=(0,sg.Kd)(),this.view=null,this._applyViewPadding=()=>{const g=this.container;g&&eM(g,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const g=this._innerContainer;g&&eM(g,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,Gt.YP)(()=>[this.view?.padding,this.container],this._applyViewPadding,Gt.nn),(0,Gt.YP)(()=>this.padding,this._applyUIPadding,Gt.nn),(0,Gt.YP)(()=>[this.container,this._locale],([y,g])=>{y&&y.setAttribute("lang",g)},Gt.nn),(0,sg.qe)(y=>{this._locale=y})])}destroy(){this.container=null;for(const y of this._components)y.destroy();this._components.length=0,this._componentMap.clear()}set container(y){const g=this._get("container");y!==g&&(y&&(y.classList.add(Hi.ui),(0,ix.V$)(y),this._attachContainers(y)),g&&(g.classList.remove(Hi.ui),eM(g,{top:"",bottom:"",left:"",right:""}),(0,pu.cS)(g)),this._set("container",y))}get height(){const y=this.view?.height??0;if(0===y)return y;const g=this._getViewPadding(),{top:_,bottom:v}=g;return Math.max(y-_-v,0)}get padding(){return this._get("padding")}set padding(y){this._overrideIfSome("padding",y)}castPadding(y){return"number"==typeof y?{bottom:y,top:y,right:y,left:y}:{...NL,...y}}get width(){const y=this.view?.width??0;if(0===y)return y;const g=this._getViewPadding(),{left:_,right:v}=g;return Math.max(y-_-v,0)}add(y,g){let _,v,b;if(Array.isArray(y))return void y.forEach(S=>this.add(S,g));const M=qC(y);M&&({index:_,position:g,component:y,key:v}=M),g&&"object"==typeof g&&({index:_,key:v,position:g,internal:b}=g),!y||g&&!this._isValidPosition(g)||this._add(y,g,_,v,b)}remove(y,g){if(!y)return;if(Array.isArray(y))return y.map(v=>this.remove(v,g));const _=this._find(y);if(_){if(this._componentMap.has(_)&&this._componentMap.get(_)?.key!==g)return;const v=this._components.indexOf(_);return _.node.parentNode?.removeChild(_.node),this._componentMap.delete(_),this._components.splice(v,1)[0]}}empty(y,g={removeInternal:!1}){if(Array.isArray(y)){for(const b of y)this.empty(b,g);return}const v=Array.prototype.slice.call(this._positionNameToContainerLookup[y??"manual"].children).map(b=>this._findByNode(b)).filter(b=>null!=b&&(!this._componentMap.get(b)?.internal||g.removeInternal));for(const b of v)this.remove(b)}move(y,g){if(Array.isArray(y)&&y.forEach(M=>this.move(M,g)),!y)return;let _;const v=qC(y)||qC(g);if(v&&(_=v.index,g=v.position,y=v.component||y),g&&!this._isValidPosition(g))return;const b=this.remove(y);b&&this.add(b,{position:g,index:_})}find(y){if(!y)return null;const g=this._findById(y);return g&&(g.widget||g.node)}getComponents(y,g={includeInternal:!1}){return y?Array.isArray(y)?y.flatMap(_=>this._getComponentsAtPosition(_,g)):this._getComponentsAtPosition(y,g):this._components.filter(_=>g.includeInternal||!this._componentMap.get(_)?.internal).map(({widget:_,node:v})=>_??v)}getPosition(y){for(const g in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[g].contains(y))return g;return null}_add(y,g,_,v,b){y instanceof Sg||(y=new Sg({node:y})),this._place({component:y,position:g,index:_}),this._components.push(y),this._componentMap.set(y,{key:v,internal:b})}_find(y){return y?y instanceof Sg?this._findByComponent(y):"string"==typeof y?this._findById(y):this._findByNode(y.domNode||y):null}_getViewPadding(){return this.view?.padding??AH}_attachContainers(y){y.appendChild(this._innerContainer),y.appendChild(this._manualContainer)}_initContainers(){const y=document.createElement("div");y.classList.add(Hi.innerContainer,Hi.cornerContainer);const g=document.createElement("div");g.classList.add(Hi.innerContainer,Hi.manualContainer);const _=document.createElement("div");_.classList.add(Hi.topLeft,Hi.corner),y.appendChild(_);const v=document.createElement("div");v.classList.add(Hi.topRight,Hi.corner),y.appendChild(v);const b=document.createElement("div");b.classList.add(Hi.bottomLeft,Hi.corner),y.appendChild(b);const M=document.createElement("div");M.classList.add(Hi.bottomRight,Hi.corner),y.appendChild(M),this._innerContainer=y,this._manualContainer=g;const S=(0,ec.dZ)();this._cornerNameToContainerLookup={"top-left":_,"top-right":v,"bottom-left":b,"bottom-right":M,"top-leading":S?v:_,"top-trailing":S?_:v,"bottom-leading":S?M:b,"bottom-trailing":S?b:M},this._positionNameToContainerLookup={manual:g,...this._cornerNameToContainerLookup}}_isValidPosition(y){return!!this._positionNameToContainerLookup[y]}_place(y){const g=y.position??"manual",{component:_,index:v}=y,b=this._positionNameToContainerLookup[g],M=null!=v&&v>-1;if(function xH(y){return y&&!y._started&&"function"==typeof y.postMixInProperties&&"function"==typeof y.buildRendering&&"function"==typeof y.postCreate&&"function"==typeof y.startup}(_.widget)&&_.widget.startup(),!M)return void b.appendChild(_.node);const S=Array.from(b.children);0!==v?v>=S.length?b.appendChild(_.node):(0,pu.Vt)(_.node,S[v]):b.firstChild?(0,pu.Vt)(_.node,b.firstChild):b.appendChild(_.node)}_toPixelPosition(y){return{top:wg(y.top),left:wg(y.left),right:wg(y.right),bottom:wg(y.bottom)}}_findByComponent(y){return this._components.find(g=>g===y)??null}_findById(y){return this._components.find(({id:g})=>g===y)??null}_findByNode(y){return this._components.find(({node:g})=>g===y)??null}_getComponentsAtPosition(y,g){return Array.prototype.slice.call(this._positionNameToContainerLookup[y].children).map(v=>this._findByNode(v)).filter(Cl.pC).filter(v=>g.includeInternal||!this._componentMap.get(v)?.internal).map(({widget:v,node:b})=>v??b)}};(0,we._)([(0,Le.Cb)()],el.prototype,"_locale",void 0),(0,we._)([(0,Le.Cb)()],el.prototype,"container",null),(0,we._)([(0,Le.Cb)()],el.prototype,"height",null),(0,we._)([(0,Le.Cb)({value:NL})],el.prototype,"padding",null),(0,we._)([(0,Wi.p)("padding")],el.prototype,"castPadding",null),(0,we._)([(0,Le.Cb)()],el.prototype,"view",void 0),(0,we._)([(0,Le.Cb)()],el.prototype,"width",null),el=(0,we._)([(0,cn.j)("esri.views.ui.UI")],el);const LH=el;function BL(y,g){return y&&"copyright"in y&&(!g||"function"==typeof y.originOf&&"user"===y.originOf("copyright"))}function Ig(y,g,_){!_||!g||y.find(v=>v.layerView===g&&v.text===_)||y.push({text:_,layerView:g})}const vu=[];let Ih=class extends dr.Z{constructor(y){super(y),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ss.Z,this.view=null,this._allLayerViewsChange=g=>{this.removeHandles("suspension");const _=this.view?.allLayerViews;_&&this.addHandles(_.map(v=>(0,Gt.YP)(()=>[v.suspended,v.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),g?.removed&&g.removed.forEach(v=>{this._pendingAttributions.delete(v),this._fetchedAttributionData.delete(v)}),this._updateAttributionItems()},this.addHandles([(0,Gt.on)(()=>this.view?.allLayerViews,"change",g=>this._allLayerViewsChange(g),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,Gt.gx)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const y=this.view,g=y?.allLayerViews;vu.length=0,y&&g?(g.forEach(_=>{if(_.suspended||!_.layer?.attributionVisible)return;const v=_.layer;if(BL(v,"user"))Ig(vu,_,v.copyright);else if(v.hasAttributionData){if(this._fetchedAttributionData.has(_)){const M=this._fetchedAttributionData.get(_);return void(M?Ig(vu,_,this._getDynamicAttribution(M,y,v)):BL(v)&&Ig(vu,_,v.copyright))}this._fetchAttributionData(_)}else Ig(vu,_,("portalItem"in v?v.portalItem?.accessInformation:void 0)||v.copyright)}),function RH(y,g){return y.length!==g.length||y.some((_,v)=>_.text!==g[v].text)}(this.items,vu)&&(this.items.removeAll(),this.items.addMany(vu)),vu.length=0,this.notifyChange("state")):this._clear()}_fetchAttributionData(y){var g=this;return(0,hn.Z)(function*(){if(g._pendingAttributions.has(y))return;g._pendingAttributions.add(y);const _=yield(0,dg.q6)(y.layer.fetchAttributionData());if(g._pendingAttributions.has(y)){const v=_.ok?g._createContributionIndex(_.value,function jH(y){return"bing-maps"===y.type}(y.layer)):null;g._pendingAttributions.delete(y),g._fetchedAttributionData.set(y,v)}g._updateAttributionItems()})()}_createContributionIndex(y,g){const _=y.contributors,v={};if(!_)return v;for(let b=0;b<_.length;b++){const M=_[b],S=M.coverageAreas;if(!S)return;for(const A of S){const K=A.bbox,de=A.zoomMin-(g&&A.zoomMin?1:0),De=A.zoomMax-(g&&A.zoomMax?1:0),Te=new Rf.Z({xmin:K[1],ymin:K[0],xmax:K[3],ymax:K[2],spatialReference:sf.Z.WGS84}),Ve={extent:(0,ib.$)(Te),attribution:M.attribution||"",score:null!=A.score?A.score:100,id:b};for(let nt=de;nt<=De;nt++)v[nt]??=[],v[nt].push(Ve)}}return v.maxKey=Math.max.apply(null,Object.keys(v)),v}_getDynamicAttribution(y,g,_){const{extent:v,scale:b}=g;let M=_.tileInfo?.scaleToZoom(b)??0;if(M=Math.min(y.maxKey??0,Math.round(M)),!v||null==M||M<=-1)return"";const S=y[M],A=(0,ib.iV)(v.center.clone().normalize(),g.spatialReference),K=new Set;return S?S.filter(de=>{const De=de.id,Te=!K.has(De)&&A&&de.extent&&(0,UC.aV)(de.extent,A);return Te&&K.add(De),Te}).sort((de,De)=>De.score-de.score||de.objectId-De.objectId).map(de=>de.attribution).join(", "):""}};(0,we._)([(0,Le.Cb)({readOnly:!0,type:ss.Z})],Ih.prototype,"items",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ih.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Ih.prototype,"view",void 0),Ih=(0,we._)([(0,cn.j)("esri.widgets.Attribution.AttributionViewModel")],Ih);const FL=Ih,Oh="esri-attribution",mc={base:Oh,poweredBy:`${Oh}__powered-by`,sources:`${Oh}__sources`,open:`${Oh}--open`,sourcesOpen:`${Oh}__sources--open`,link:`${Oh}__link`,widgetIcon:Ds.W.description};let vi=class extends Ao.Z{constructor(y,g){super(y,g),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(_=>_.forEach(({target:v})=>this._checkSourceTextOverflow(v))),this.iconClass=mc.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new FL}initialize(){this.addHandles((0,Gt.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((y,g)=>(y.includes(g.text)||y.push(g.text),y),[]).join(this.itemDelimiter)}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}render(){return(0,Ct.u)("div",{bind:this,class:this.classes(mc.base,er.z.widget,{[mc.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,Ct.u)("div",{class:mc.poweredBy},"Powered by"," ",(0,Ct.u)("a",{class:mc.link,href:"http://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const y=this._isOpen,g=this._isInteractive,_=g?0:void 0,{attributionText:v}=this;return(0,Ct.u)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(mc.sources,{[mc.sourcesOpen]:y,[er.z.interactive]:g}),innerHTML:v,tabIndex:_})}_afterSourcesNodeCreate(y){this._prevSourceNodeHeight=y.clientWidth,this._resizeObserver.observe(y)}_checkSourceTextOverflow(y){let g=!1;const{clientHeight:_,clientWidth:v,scrollWidth:b}=y,M=b>v,S=this._attributionTextOverflowed!==M;if(this._attributionTextOverflowed=M,S&&(g=!0),this._isOpen){const A=_<this._prevSourceNodeHeight;this._prevSourceNodeHeight=_,A&&(this._isOpen=!1,g=!0)}g&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,we._)([(0,Le.Cb)()],vi.prototype,"_isOpen",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"_isInteractive",null),(0,we._)([(0,Le.Cb)()],vi.prototype,"_attributionTextOverflowed",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"_prevSourceNodeHeight",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],vi.prototype,"attributionText",null),(0,we._)([(0,Le.Cb)()],vi.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"itemDelimiter",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"label",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Attribution/t9n/Attribution")],vi.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],vi.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:FL})],vi.prototype,"viewModel",void 0),(0,we._)([(0,ih.h)()],vi.prototype,"_toggleState",null),vi=(0,we._)([(0,cn.j)("esri.widgets.Attribution")],vi);const UH=vi;let yc=class extends((0,_A._)(dr.Z)){constructor(y){super(y),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles((0,Gt.YP)(()=>this.view,this._updateRotationWatcher,Gt.nn))}destroy(){this.view=null}get canShowNorth(){return function NH(y){return y?.spatialReference?.isWebMercator||y?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){if(!this.view?.ready)return;const y={};"2d"===this.view?.type?y.rotation=0:y.heading=0,this.callGoTo({target:y})}_updateForRotation(y){null!=y&&(this.orientation={z:y})}_updateForCamera(y){y&&(this.orientation={x:0,y:0,z:-y.heading})}_updateRotationWatcher(y){this.removeAllHandles(),y&&this.addHandles("2d"===y.type?(0,Gt.YP)(()=>y?.rotation,this._updateForRotation,Gt.nn):(0,Gt.YP)(()=>y?.camera,this._updateForCamera,Gt.nn))}};(0,we._)([(0,Le.Cb)({readOnly:!0})],yc.prototype,"canShowNorth",null),(0,we._)([(0,Le.Cb)()],yc.prototype,"orientation",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],yc.prototype,"state",null),(0,we._)([(0,Le.Cb)()],yc.prototype,"view",void 0),yc=(0,we._)([(0,cn.j)("esri.widgets.CompassViewModel")],yc);const WL=yc,VL="esri-compass",tM={base:VL,widgetIcon:Ds.W.locateCircled,iconContainer:`${VL}__icon-container`};let tl=class extends Ao.Z{constructor(y,g){super(y,g),this.iconClass=tM.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new WL,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=_=>({transform:`rotateZ(${_.z}deg)`})}loadDependencies(){return(0,ff.h)({button:()=>Promise.all([E.e(7771),E.e(2102),E.e(8901)]).then(E.bind(E,38901)),icon:()=>E.e(4540).then(E.bind(E,24540))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(y){this.viewModel.goToOverride=y}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}reset(){return this.viewModel.reset()}render(){const{orientation:y,state:g}=this.viewModel,_="rotation"===g?"arrow-up":"compass-needle",{messages:v}=this;return(0,Ct.u)("div",{class:this.classes(tM.base,er.z.widget)},(0,Ct.u)("calcite-button",{"aria-label":v.reset,class:er.z.widgetButton,disabled:"disabled"===g,kind:"neutral",onclick:this._reset,round:!0,scale:"s",title:v.reset},(0,Ct.u)("div",{"aria-hidden":"true",class:tM.iconContainer,title:v.reset},(0,Ct.u)("calcite-icon",{icon:_,scale:"m",styles:this._toRotationTransform(y)}))))}};(0,we._)([(0,Le.Cb)()],tl.prototype,"goToOverride",null),(0,we._)([(0,Le.Cb)()],tl.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],tl.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],tl.prototype,"label",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Compass/t9n/Compass")],tl.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],tl.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:WL})],tl.prototype,"viewModel",void 0),tl=(0,we._)([(0,cn.j)("esri.widgets.Compass")],tl);const FH=tl,Th="esri-navigation-toggle",Ll={base:Th,widgetIcon:Ds.W.pan2,button:`${Th}__button`,activeButton:`${Th}__button--active`,panButton:`${Th}__button--pan`,rotateButton:`${Th}__button--rotate`,isLayoutHorizontal:`${Th}--horizontal`};let Ph=class extends dr.Z{constructor(y){super(y),this.navigationMode="pan",this.view=null}initialize(){this.addHandles((0,Gt.gx)(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){const y=this.view?.inputManager;y&&(y.primaryDragAction="pan"===this.navigationMode?"pan":"rotate")}};(0,we._)([(0,Le.Cb)({readOnly:!0})],Ph.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Ph.prototype,"navigationMode",void 0),(0,we._)([(0,Le.Cb)()],Ph.prototype,"view",void 0),Ph=(0,we._)([(0,cn.j)("esri.widgets.NavigationToggleViewModel")],Ph);const $L=Ph;let ha=class extends Ao.Z{constructor(y,g){super(y,g),this.iconClass=Ll.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new $L}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}set layout(y){"horizontal"!==y&&(y="vertical"),this._set("layout",y)}get view(){return this.viewModel.view}set view(y){this.viewModel.view=y}toggle(){return this.viewModel.toggle()}render(){const y="disabled"===this.viewModel?.state,g="pan"===this.viewModel?.navigationMode,v={[Ll.activeButton]:g},b={[Ll.activeButton]:!g},M=y?-1:0,S=this.messages.toggle;return(0,Ct.u)("div",{"aria-label":S,bind:this,class:this.classes(Ll.base,er.z.widget,{[er.z.disabled]:y,[Ll.isLayoutHorizontal]:"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:M,title:S},(0,Ct.u)("div",{class:this.classes(Ll.button,er.z.widgetButton,Ll.panButton,v)},(0,Ct.u)("span",{class:Ds.W.pan})),(0,Ct.u)("div",{class:this.classes(Ll.button,er.z.widgetButton,Ll.rotateButton,b)},(0,Ct.u)("span",{class:Ds.W.rotate})))}_toggle(){this.toggle()}};(0,we._)([(0,Le.Cb)()],ha.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],ha.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],ha.prototype,"label",null),(0,we._)([(0,Le.Cb)({value:"vertical"})],ha.prototype,"layout",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],ha.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],ha.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:$L})],ha.prototype,"viewModel",void 0),(0,we._)([(0,ih.h)()],ha.prototype,"_toggle",null),ha=(0,we._)([(0,cn.j)("esri.widgets.NavigationToggle")],ha);const WH=ha;var VH=E(19399);let Rl=class extends Ao.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const y=this.enabled?0:-1;return(0,Ct.u)("div",{bind:this,class:this.classes(er.z.widgetButton,er.z.widget,{[er.z.disabled]:!this.enabled,[er.z.interactive]:this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:y,title:this.title},(0,Ct.u)("span",{"aria-hidden":"true",class:this.classes(VH.i.icon,this.iconClass??""),role:"presentation"}),(0,Ct.u)("span",{class:Ds.W.fontFallbackText},this.title))}_triggerAction(){this.action.call(this)}};(0,we._)([(0,Le.Cb)()],Rl.prototype,"action",void 0),(0,we._)([(0,Le.Cb)()],Rl.prototype,"enabled",void 0),(0,we._)([(0,Le.Cb)()],Rl.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],Rl.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],Rl.prototype,"title",void 0),(0,we._)([(0,ih.h)()],Rl.prototype,"_triggerAction",null),Rl=(0,we._)([(0,cn.j)("esri.widgets.IconButton")],Rl);const kL=Rl;let gc=class extends dr.Z{get canZoomIn(){if(!this.view?.ready)return!1;const g=this.view?.constraints?.effectiveMaxScale;return 0===g||this._scale>g}get canZoomOut(){const{view:y}=this;if(!y?.ready)return!1;const _=y.constraints?.effectiveMinScale;return 0===_||this._scale<_}get _scale(){const y=this.view?.animation?.target;return(y&&"then"in y?void 0:y?.scale)??this.view?.scale??0}};(0,we._)([(0,Le.Cb)({readOnly:!0})],gc.prototype,"canZoomIn",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],gc.prototype,"canZoomOut",null),(0,we._)([(0,Le.Cb)()],gc.prototype,"view",void 0),(0,we._)([(0,Le.Cb)()],gc.prototype,"_scale",null),gc=(0,we._)([(0,cn.j)("esri.widgets.Zoom.ZoomConditions2D")],gc);const $H=gc;let Ah=class extends dr.Z{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,we._)([(0,Le.Cb)({readOnly:!0})],Ah.prototype,"canZoomIn",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Ah.prototype,"canZoomOut",null),(0,we._)([(0,Le.Cb)()],Ah.prototype,"view",void 0),Ah=(0,we._)([(0,cn.j)("esri.widgets.Zoom.ZoomConditions3D")],Ah);const kH=Ah;let Eu=class extends dr.Z{constructor(y){super(y)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(y){y?"2d"===y.type?this._zoomConditions=new $H({view:y}):"3d"===y.type&&(this._zoomConditions=new kH({view:y})):this._zoomConditions=null,this._set("view",y)}zoomIn(){if(!this.canZoomIn)return;const y=this.view;"2d"===y.type?y.mapViewNavigation.zoomIn():(0,Fr.R8)(y.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const y=this.view;"2d"===y.type?y.mapViewNavigation.zoomOut():(0,Fr.R8)(y.goTo({zoomFactor:.5}))}};(0,we._)([(0,Le.Cb)()],Eu.prototype,"_zoomConditions",void 0),(0,we._)([(0,Le.Cb)()],Eu.prototype,"canZoomIn",null),(0,we._)([(0,Le.Cb)()],Eu.prototype,"canZoomOut",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Eu.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Eu.prototype,"view",null),Eu=(0,we._)([(0,cn.j)("esri.widgets.Zoom.ZoomViewModel")],Eu);const ZL=Eu,nM={base:"esri-zoom",widgetIcon:Ds.W.zoomInMagnifyingGlass,horizontalLayout:"esri-zoom--horizontal"};let nl=class extends Ao.Z{constructor(y,g){super(y,g),this.iconClass=nM.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new ZL}initialize(){this._zoomInButton=new kL({action:this.zoomIn.bind(this),iconClass:Ds.W.plus}),this._zoomOutButton=new kL({action:this.zoomOut.bind(this),iconClass:Ds.W.minus})}destroy(){this._zoomInButton=(0,Br.SC)(this._zoomInButton),this._zoomOutButton=(0,Br.SC)(this._zoomOutButton)}get label(){return this.messages?.widgetLabel??""}set label(y){this._overrideIfSome("label",y)}set layout(y){"horizontal"!==y&&(y="vertical"),this._set("layout",y)}set view(y){this.viewModel.view=y}get view(){return this.viewModel.view}render(){const y=this.viewModel,g={[nM.horizontalLayout]:"horizontal"===this.layout},{canZoomIn:_,canZoomOut:v}=y;this._zoomInButton.enabled=_,this._zoomOutButton.enabled=v;const{zoomIn:b,zoomOut:M}=this.messages;return this._zoomInButton.title=b,this._zoomOutButton.title=M,(0,Ct.u)("div",{class:this.classes(nM.base,er.z.widget,g)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,we._)([(0,Le.Cb)()],nl.prototype,"iconClass",void 0),(0,we._)([(0,Le.Cb)()],nl.prototype,"icon",void 0),(0,we._)([(0,Le.Cb)()],nl.prototype,"label",null),(0,we._)([(0,Le.Cb)({value:"vertical"})],nl.prototype,"layout",null),(0,we._)([(0,Le.Cb)(),(0,fo.H)("esri/widgets/Zoom/t9n/Zoom")],nl.prototype,"messages",void 0),(0,we._)([(0,Le.Cb)()],nl.prototype,"view",null),(0,we._)([(0,Le.Cb)({type:ZL})],nl.prototype,"viewModel",void 0),nl=(0,we._)([(0,cn.j)("esri.widgets.Zoom")],nl);const ZH=nl;let Og=class extends LH{constructor(y){super(y),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=g=>{this.components.forEach(_=>{const v=this._find(_),b=v?.widget;(function zH(y){return void 0!==y?.view})(b)&&(b.view=g)})},this._componentsWatcher=(g,_)=>{this._removeComponents(_),this._addComponents(g),this._adjustPadding(g)}}initialize(){this.addHandles([(0,Gt.YP)(()=>this.components,this._componentsWatcher,Gt.nn),(0,Gt.YP)(()=>this.view,this._updateViewAwareWidgets,Gt.nn)])}_add(y,g,_,v,b){let M=y;if("string"==typeof y&&this._defaultPositionLookup[y]){if(this._find(y))return;M=this._createComponent(y)}super._add(M,g,_,v,b)}_removeComponents(y){y.forEach(g=>{const _=this._find(g);_&&(this.remove(_),_.destroy())})}_adjustPadding(y){if(!y.includes("attribution")&&!this._isOverridden("padding")){const{top:g}=this.padding;this.padding=g}}_addComponents(y){this.constructed&&y.forEach(g=>this.add(this._createComponent(g),this._defaultPositionLookup[g]))}_createComponent(y){const g=this._createWidget(y);return new Sg({id:y,node:g})}_createWidget(y){const{view:g}=this;switch(y){case"attribution":return new UH({view:g});case"compass":return new FH({view:g});case"navigation-toggle":return new WH({view:g});case"zoom":return new ZH({view:g})}}};(0,we._)([(0,Le.Cb)()],Og.prototype,"components",void 0),Og=(0,we._)([(0,cn.j)("esri.views.ui.DefaultUI")],Og);const zL=Og;let Tg=class extends zL{constructor(y){super(y),this.components=["attribution","zoom"]}};(0,we._)([(0,Le.Cb)()],Tg.prototype,"components",void 0),Tg=(0,we._)([(0,cn.j)("esri.views.ui.2d.DefaultUI2D")],Tg);const KL=Tg;let GL,HL,JL,YL,QL,XL;function rM(){return rM=(0,hn.Z)(function*(){const[,{GraphicsView2D:y,GraphicContainer:g,LabelManager:_,MapViewNavigation:v,MagnifierView2D:b,Stage:M}]=yield Promise.all([Promise.all([E.e(7091),E.e(3018),E.e(1363),E.e(9714)]).then(E.bind(E,19714)),Promise.all([E.e(842),E.e(7091),E.e(7917),E.e(3018),E.e(1363),E.e(6239),E.e(3866),E.e(2311),E.e(9968),E.e(693),E.e(9231),E.e(210),E.e(1601),E.e(4985),E.e(1176),E.e(6469),E.e(6557),E.e(8592),E.e(137)]).then(E.bind(E,40137))]);HL=y,JL=g,YL=_,QL=v,XL=b,GL=M}),rM.apply(this,arguments)}let Kn=class extends($K(HK(GK(yG)))){constructor(y){var g,_;super(y),g=this,this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new fy.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new yg({view:this}),this.graphicsView=null,this.stateManager=new Li({constraints:new gL({view:this})}),this.stationaryManager=new $f,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new EG(this),this.floors=new ss.Z,this.highlightOptions=new TL.Z,this.inputManager=new gH({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new jL.T,this.type="2d",this.ui=new KL,this.test={takeScreenshot:(_=(0,hn.Z)(function*(v){return function CH(y,g){return XC.apply(this,arguments)}(g._getScreenshotView(v),v)}),function(b){return _.apply(this,arguments)})},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,Gt.YP)(()=>this.viewpoint,()=>this.stationaryManager.flip(),Gt.Z_),this.on("resize",_=>this.stateManager.resize(_.width,_.height)),(0,Gt.YP)(()=>this.animationManager?.animation,_=>{this.animation=_})]),(0,FK.j2)()}destroy(){this._set("preconditionsReady",!1),this.frameTask=(0,Br.SC)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new _H.Z(this.featuresTilingScheme)}get constraintsInfo(){const y=this.defaultsFromMap?.tileInfo,g=this.spatialReference;return{lods:y?.spatialReference?.equals(g)?y.lods:null,spatialReference:g}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:y,constraints:g,center:_,viewpoint:v,extent:b}=this;let M=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||b||(g?.effectiveLODs||(M=-1),_&&(0!==y||-1!==M)||null!=v?.targetGeometry&&("extent"===v.targetGeometry.type||v.scale)))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const y=this._getDefaultViewpoint();return!!y&&(!!(0,ua.canProjectWithoutEngine)(y.targetGeometry.spatialReference,this.spatialReference)||(0,ua.isLoadedOrLoad)())}set animation(y){const g=this._get("animation");if(y===g)return;if(g&&g.stop(),!y||y.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",y),this.frameTask.animationInProgress=!0;const _=()=>{y===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask.animationInProgress=!1};y.when(_,_)}get background(){return qL(this.map)?this.map.initialViewProperties.background:null}set background(y){this._override("background",y)}get center(){return this.stateManager?.center??null}set center(y){this.stateManager.center=y}get constraints(){return this.stateManager?.constraints}set constraints(y){y.view=this;const g=this.stateManager.constraints;this.stateManager.constraints=y,g?.destroy()}get extent(){return this.stateManager?.extent??null}set extent(y){this.stateManager.extent=y}get padding(){return this.stateManager?.padding}set padding(y){this.stateManager&&(this.stateManager.padding=y)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(y){this.stateManager.resizeAlign=y}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(y){const{rotationEnabled:g}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=y,this.constraints.rotationEnabled=g}get scale(){return this.stateManager?.scale??0}set scale(y){this.stateManager&&(this.stateManager.scale=y)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get updating(){const y=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(g=>!g.destroyed&&!("layerViews"in g)&&!0===g.updating));if((0,Ba.Z)("esri-2d-log-updating")){const g=this.allLayerViews.reduce((_,v)=>({..._,[v.layer.id]:!v.destroyed&&!("layerViews"in v)&&v.updating}),{});console.log(`Updating MapView: ${y}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(g)}\n`)}return y}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(y){this.stateManager.viewpoint=y,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(y){this.stateManager.zoom=y}get navigating(){return this.mapViewNavigation?.interacting??!1}goTo(y,g){return this.goToManager.goTo(y,g)}hitTest(y,g){var _=this;return(0,hn.Z)(function*(){return function EH(y,g,_){return HC.apply(this,arguments)}(_,y,g)})()}takeScreenshot(y){var g=this;return(0,hn.Z)(function*(){return function bH(y,g){return QC.apply(this,arguments)}(g._getScreenshotView(y),y)})()}toMap(y){if(!this.ready)return null;const g=qx(y)?Xx(this,y):y;return this.stateManager.toMap(g)}toScreen(y,g){return this.stateManager.toScreen(y,g)}on(y,g,_,v){return this.inputManager&&this.viewEvents.on(y,g,_,v)||super.on(y,g)}hasEventListener(y){return super.hasEventListener(y)||this.viewEvents.hasHandler(y)}whenLayerView(y){return super.whenLayerView(y)}graphicChanged(y){this.graphicsView&&this.graphicsView.graphicUpdateHandler(y)}whenReady(){return new Promise(y=>{this.ready?y(this):this._resolveWhenReady.push(y)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return qL(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(y){return(y=>null!=pL[y.type])(y)}importLayerView(y){return(y=>{const g=pL[y.type];if(null==g)throw function bG(y){const g=y.declaredClass?y.declaredClass.slice(y.declaredClass.lastIndexOf(".")+1):"Unknown",_=g.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new mr.Z(`${_}:view-not-supported`,`${g} is not supported in 2D`)}(y);return g(y)})(y)}pixelSizeAt(){return this.ready?this.resolution:(nr.Z.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(y){return this.hitTest(y).then(g=>({...g,mapPoint:this.toMap(y)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){var y=this;return(0,hn.Z)(function*(){let g=function OH(y){const g=(0,wH.hc)(y);if(!g.available)return new mr.Z("webgl:required","3d"===y?"WebGL2 is required but not supported.":"WebGL is required but not supported.",(new Error).stack);if("3d"===y&&g.majorPerformanceCaveat)return new mr.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!g.supportsHighPrecisionFragment)return new mr.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!g.supportsVertexShaderSamplers)return new mr.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(g.type===IH.zO.WEBGL1){if(!g.supportsElementIndexUint)return new mr.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!g.supportsStandardDerivatives)return new mr.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!g.supportsInstancedArrays)return new mr.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(y.type);if((0,Ba.Z)("safari")&&(0,Ba.Z)("safari")<9&&(g=new mr.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Ba.Z)("safari")})),null!=g)throw nr.Z.getLogger(y).warn("#validate()",g.message),g})()}loadAsyncDependencies(){return function KH(){return rM.apply(this,arguments)}()}_getDefaultViewpoint(){const{constraints:y,initialExtent:g,map:_,padding:v,size:b}=this;if(!y)return null;const M=_&&"initialViewProperties"in _?_.initialViewProperties:void 0,S=this.stateManager.getUserStartupOptions(this.size),A=M?.viewpoint,K=A?.targetGeometry?.extent??g,de=K?.center,De=A?.rotation??0,Te=A?.scale||K&&(0,Es.EK)(K,[b[0]-v.left-v.right,b[1]-v.top-v.bottom]),Ve=S.center??de,at=S.scale??Te;return Ve&&at?new Ai.Z({targetGeometry:Ve,scale:at,rotation:S.rotation??De}):null}_startup(){this.timeline.begin("MapView Startup");const y=this._getDefaultViewpoint();this.stateManager.startup(y,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const g=new GL(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=g,this._magnifierView=new XL,this._magnifierView.magnifier=this.magnifier;const _=new YL({view:this});this._set("labelManager",_);const v=new vG({view:this});this._set("animationManager",v);const b=new QL({view:this,animationManager:v});this._set("mapViewNavigation",b),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),g.on("webgl-error",S=>this.fatalError=S.error),(0,Gt.YP)(()=>this.stationary,S=>g.stationary=S,Gt.tX),(0,Gt.YP)(()=>this.background,S=>{g.backgroundColor=S?.color,this._magnifierView.backgroundColor=S?.color},Gt.tX),(0,Gt.YP)(()=>this.magnifier,S=>this._magnifierView.magnifier=S,Gt.tX),(0,Gt.YP)(()=>this.renderingOptions,S=>g.renderingOptions=S,Gt.tX),(0,Gt.YP)(()=>this.highlightOptions,S=>g.highlightOptions=S,Gt.tX),(0,Gt.YP)(()=>this.state.id,()=>g.state=this.state,Gt.tX)],"map-view"),this._updateStageChildren();const M=this._resolveWhenReady;this._resolveWhenReady=[],M.forEach(S=>S(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown(),this.animation=null}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(g=>{this.stage.addChild(g.container)}),this.stage.addChild(this.graphicsView.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const y=new IG.Z(WK.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",y);const g=new HL({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new JL(y)});this._set("graphicsView",g)}_destroySpatialReferenceDependentProperties(){const y=this.graphicsView;this._set("graphicsView",null),y.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(y){const{allLayerViews:g,padding:_,size:v,stage:b}=this;return{allLayerViews:g,backgroundColor:y?.ignoreBackground?null:this.background?.color,padding:_,size:v,stage:b}}_spatialReferenceChanged(y){if(this.ready){this.frameTask.stop();for(const g of this.allLayerViews)g.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(y),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const g of this.allLayerViews)g.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Kn.type="2d",(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"animationManager",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Kn.prototype,"deactivatedWebGLExtensions",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Kn.prototype,"debugWebGLExtensions",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"featuresTilingScheme",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"fullOpacity",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"goToManager",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"graphicsTileStore",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"graphicsView",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"stateManager",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"constraintsInfo",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"state",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"initialExtentRequired",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"labelManager",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"mapViewNavigation",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Kn.prototype,"renderCanvas",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"renderingOptions",void 0),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Kn.prototype,"supersampleScreenshotsEnabled",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"supportsGround",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"_defaultsFromMapSettings",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"typeSpecificPreconditionsReady",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"animation",null),(0,we._)([(0,Le.Cb)({type:Iy})],Kn.prototype,"background",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"center",null),(0,we._)([(0,Le.Cb)({type:gL})],Kn.prototype,"constraints",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"extent",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"floors",void 0),(0,we._)([(0,Le.Cb)({type:TL.Z})],Kn.prototype,"highlightOptions",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"inputManager",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"map",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"padding",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"rendering",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"resizeAlign",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"resolution",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"rotation",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"scale",null),(0,we._)([(0,Le.Cb)({constructOnly:!0})],Kn.prototype,"spatialReferenceLocked",void 0),(0,we._)([(0,Le.Cb)()],Kn.prototype,"stationary",null),(0,we._)([(0,Le.Cb)({type:jL.T,readOnly:!0})],Kn.prototype,"timeline",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"type",void 0),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"updating",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"viewpoint",null),(0,we._)([(0,Le.Cb)()],Kn.prototype,"zoom",null),(0,we._)([(0,Le.Cb)({readOnly:!0})],Kn.prototype,"navigating",null),(0,we._)([(0,Le.Cb)(),(0,Wi.p)(y=>y instanceof zL?y:(0,jd.TJ)(KL,y))],Kn.prototype,"ui",void 0),Kn=(0,we._)([(0,cn.j)("esri.views.MapView")],Kn);const GH=Kn;function qL(y){return"esri.WebMap"===y?.declaredClass}const HH=["mapViewNode"];(function J9(y,g){return bF({rootComponent:y,...xP(g)})})((()=>{class y{constructor(){this.view=null}initializeMap(){const _=this.mapViewEl.nativeElement,v=new PZ({portalItem:{id:"56b5bd522c52409c90d902285732e9f1"}});this.view=new GH({container:_,map:v,center:[-98.491142,29.424349],zoom:11,popup:{dockEnabled:!0,dockOptions:{position:"top-right",breakpoint:!1}},constraints:{maxScale:35e3}});var b=new _z({view:this.view,nextBasemap:"hybrid"});this.view.ui.add(b,"top-right");const M=new Ez.Z({dotValue:100,referenceScale:577790,legendOptions:{unit:"people"},attributes:[{field:"B03002_001E",color:"#00b6f1",label:"Power By Person"}]});this.layer=new vz.default({url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/ACS_Population_by_Race_and_Hispanic_Origin_Boundaries/FeatureServer/2",minScale:2e7,maxScale:35e3,title:"Estimated Usage of Power",popupTemplate:{title:"{County}, {State}",content:[{type:"text",text:'<div style="text-align: center; font-weight: bold; font-size: 16px; margin-bottom: 10px;">Power Usage Information By Selected Area</div>'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Monthly Power Usage: </div>{MonthlyPowerUsage} KWh'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Monthly Revenue Earned: </div>${MonthlyRevenue}'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Yearly Power Usage: </div>{YearlyPowerUsage} KWh'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Yearly Revenue Earned: </div>${YearlyRevenue}'}],fieldInfos:[{fieldName:"MonthlyPowerUsage",label:"Monthly Power Usage",format:{digitSeparator:!0,places:4}},{fieldName:"MonthlyRevenue",label:"Monthly $ Earned",format:{digitSeparator:!0,places:4}},{fieldName:"YearlyPowerUsage",label:"Yearly Power Usage",format:{digitSeparator:!0,places:4}},{fieldName:"YearlyRevenue",label:"Yearly $",format:{digitSeparator:!0,places:4}}]},renderer:M}),v.add(this.layer),this.view.ui.add([new XA({view:this.view,content:new BK({view:this.view}),group:"top-left",expanded:!0}),new XA({view:this.view,content:new gz({view:this.view}),group:"top-left"})],"top-left");const A=K=>K.toLocaleString("en-US",{maximumFractionDigits:0});return this.view.on("click",K=>{this.view.hitTest(K).then(de=>{const De=de.results[0].graphic;De&&(console.log("Graphic attributes:",De.attributes),this.monthly=25*De.attributes.B03002_001E*900,this.monthlyRev=.124*this.monthly,console.log("Monthly:",this.monthly," Revenue: $",this.monthlyRev),this.yearly=25*De.attributes.B03002_001E*10900,this.yearlyRev=.124*this.yearly,console.log("Yearly:",this.yearly," Revenue: $",this.yearlyRev),De.attributes.MonthlyPowerUsage=A(this.monthly),De.attributes.MonthlyRevenue=A(this.monthlyRev),De.attributes.YearlyPowerUsage=A(this.yearly),De.attributes.YearlyRevenue=A(this.yearlyRev),De.popupTemplate=this.layer.popupTemplate,De.popupTemplate.overwriteActions=!0,setTimeout(()=>{De.popupTemplate.content=[{type:"text",text:'<div style="text-align: center; font-weight: bold; font-size: 16px; margin-bottom: 10px;">Power Usage Information By Selected Area</div>'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Monthly Power Usage: </div>{MonthlyPowerUsage} KWh'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Monthly Revenue Earned: </div>${MonthlyRevenue}'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Yearly Power Usage: </div>{YearlyPowerUsage} KWh'},{type:"text",text:'<div style="font-weight: bold; font-size: 14px; margin-bottom: 3px;">Yearly Revenue Earned: </div>${YearlyRevenue}'}],this.view.popup.open({features:[De],location:K.mapPoint})},1500))}).catch(de=>{console.error("Error during hitTest:",de)})}),this.view.when()}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}ngOnDestroy(){this.view&&this.view.destroy()}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275cmp=Nh({type:y,selectors:[["app-root"]],viewQuery:function(v,b){if(1&v&&gO(HH,7),2&v){let M;fE(M=function mE(){return function J8(y,g){return y[to].queries[g].queryList}(Jt(),DM())}())&&(b.mapViewEl=M.first)}},standalone:!0,features:[ME],decls:2,vars:0,consts:[["mapViewNode",""]],template:function(v,b){1&v&&dm(0,"div",null,0)},dependencies:[s9],styles:['@import"https://js.arcgis.com/4.28/@arcgis/core/assets/esri/themes/light/main.css";.esri-view[_ngcontent-%COMP%], #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}']})}return y})(),Sk).catch(y=>console.error(y))},55369:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z5:()=>w,HY:()=>En,mv:()=>ya,AA:()=>pe,yM:()=>qe,xE:()=>ar,K3:()=>I,h:()=>ie,GH:()=>et,wj:()=>ga,YY:()=>T});var C=E(15861);let U,Y,V,x=!1,B=!1,k=!1,R=!1,H=null,P=!1;const w={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},I=$e=>{const Ye=new URL($e,bn.$resourcesUrl$);return Ye.origin!==Dr.location.origin?Ye.href:Ye.pathname},T=$e=>bn.$resourcesUrl$=$e,fe="http://www.w3.org/1999/xlink",ge={},ee=$e=>"object"==($e=typeof $e)||"function"===$e;const ie=($e,Ye,...tt)=>{let dt=null,Mt=null,Dt=null,xt=!1,Wt=!1;const Bt=[],Ht=Dn=>{for(let Wn=0;Wn<Dn.length;Wn++)dt=Dn[Wn],Array.isArray(dt)?Ht(dt):null!=dt&&"boolean"!=typeof dt&&((xt="function"!=typeof $e&&!ee(dt))&&(dt=String(dt)),xt&&Wt?Bt[Bt.length-1].$text$+=dt:Bt.push(xt?ne(null,dt):dt),Wt=xt)};if(Ht(tt),Ye&&(Ye.key&&(Mt=Ye.key),Ye.name&&(Dt=Ye.name),true)){const Dn=Ye.className||Ye.class;Dn&&(Ye.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(Wn=>Dn[Wn]).join(" "))}if("function"==typeof $e)return $e(null===Ye?{}:Ye,Bt,re);const pn=ne($e,null);return pn.$attrs$=Ye,Bt.length>0&&(pn.$children$=Bt),pn.$key$=Mt,pn.$name$=Dt,pn},ne=($e,Ye)=>{const tt={$flags$:0,$tag$:$e,$text$:Ye,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return tt},pe={},ye=$e=>$e&&$e.$tag$===pe,re={forEach:($e,Ye)=>$e.map(ve).forEach(Ye),map:($e,Ye)=>$e.map(ve).map(Ye).map(Oe)},ve=$e=>({vattrs:$e.$attrs$,vchildren:$e.$children$,vkey:$e.$key$,vname:$e.$name$,vtag:$e.$tag$,vtext:$e.$text$}),Oe=$e=>{if("function"==typeof $e.vtag){const tt=Object.assign({},$e.vattrs);return $e.vkey&&(tt.key=$e.vkey),$e.vname&&(tt.name=$e.vname),ie($e.vtag,tt,...$e.vchildren||[])}const Ye=ne($e.vtag,$e.vtext);return Ye.$attrs$=$e.vattrs,Ye.$children$=$e.vchildren,Ye.$key$=$e.vkey,Ye.$name$=$e.vname,Ye},qe=($e,Ye,tt)=>{const dt=$e;return{emit:Mt=>We(dt,Ye,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:Mt})}},We=($e,Ye,tt)=>{const dt=bn.ce(Ye,tt);return $e.dispatchEvent(dt),dt},He=new WeakMap,Ce=($e,Ye,tt,dt)=>{var Mt;let Dt=Ae(Ye,tt);const xt=ma.get(Dt);if($e=11===$e.nodeType?$e:Cr,xt)if("string"==typeof xt){let Bt,Wt=He.get($e=$e.head||$e);if(Wt||He.set($e,Wt=new Set),!Wt.has(Dt)){{Bt=Cr.createElement("style"),Bt.innerHTML=xt;const Ht=null!==(Mt=bn.$nonce$)&&void 0!==Mt?Mt:function ce($e){var Ye,tt,dt;return null!==(dt=null===(tt=null===(Ye=$e.head)||void 0===Ye?void 0:Ye.querySelector('meta[name="csp-nonce"]'))||void 0===tt?void 0:tt.getAttribute("content"))&&void 0!==dt?dt:void 0}(Cr);null!=Ht&&Bt.setAttribute("nonce",Ht),$e.insertBefore(Bt,$e.querySelector("link"))}Wt&&Wt.add(Dt)}}else!$e.adoptedStyleSheets.includes(xt)&&($e.adoptedStyleSheets=[...$e.adoptedStyleSheets,xt]);return Dt},Ae=($e,Ye)=>"sc-"+(Ye&&32&$e.$flags$?$e.$tagName$+"-"+Ye:$e.$tagName$),ze=($e,Ye,tt,dt,Mt,Dt)=>{if(tt!==dt){let xt=bi($e,Ye),Wt=Ye.toLowerCase();if("class"===Ye){const Bt=$e.classList,Ht=Xe(tt),pn=Xe(dt);Bt.remove(...Ht.filter(Dn=>Dn&&!pn.includes(Dn))),Bt.add(...pn.filter(Dn=>Dn&&!Ht.includes(Dn)))}else if("style"===Ye){for(const Bt in tt)(!dt||null==dt[Bt])&&(Bt.includes("-")?$e.style.removeProperty(Bt):$e.style[Bt]="");for(const Bt in dt)(!tt||dt[Bt]!==tt[Bt])&&(Bt.includes("-")?$e.style.setProperty(Bt,dt[Bt]):$e.style[Bt]=dt[Bt])}else if("key"!==Ye)if("ref"===Ye)dt&&dt($e);else if($e.__lookupSetter__(Ye)||"o"!==Ye[0]||"n"!==Ye[1]){{const Bt=ee(dt);if((xt||Bt&&null!==dt)&&!Mt)try{if($e.tagName.includes("-"))$e[Ye]=dt;else{const pn=dt??"";"list"===Ye?xt=!1:(null==tt||$e[Ye]!=pn)&&($e[Ye]=pn)}}catch{}let Ht=!1;Wt!==(Wt=Wt.replace(/^xlink\:?/,""))&&(Ye=Wt,Ht=!0),null==dt||!1===dt?(!1!==dt||""===$e.getAttribute(Ye))&&(Ht?$e.removeAttributeNS(fe,Ye):$e.removeAttribute(Ye)):(!xt||4&Dt||Mt)&&!Bt&&(dt=!0===dt?"":dt,Ht?$e.setAttributeNS(fe,Ye,dt):$e.setAttribute(Ye,dt))}}else Ye="-"===Ye[2]?Ye.slice(3):bi(Dr,Wt)?Wt.slice(2):Wt[2]+Ye.slice(3),tt&&bn.rel($e,Ye,tt,!1),dt&&bn.ael($e,Ye,dt,!1)}},st=/\s/,Xe=$e=>$e?$e.split(st):[],ot=($e,Ye,tt,dt)=>{const Mt=11===Ye.$elm$.nodeType&&Ye.$elm$.host?Ye.$elm$.host:Ye.$elm$,Dt=$e&&$e.$attrs$||ge,xt=Ye.$attrs$||ge;for(dt in Dt)dt in xt||ze(Mt,dt,Dt[dt],void 0,tt,Ye.$flags$);for(dt in xt)ze(Mt,dt,Dt[dt],xt[dt],tt,Ye.$flags$)},ut=($e,Ye,tt,dt)=>{const Mt=Ye.$children$[tt];let xt,Wt,Bt,Dt=0;if(!x&&(k=!0,"slot"===Mt.$tag$&&(U&&dt.classList.add(U+"-s"),Mt.$flags$|=Mt.$children$?2:1)),null!==Mt.$text$)xt=Mt.$elm$=Cr.createTextNode(Mt.$text$);else if(1&Mt.$flags$)xt=Mt.$elm$=Cr.createTextNode("");else{if(!R&&(R="svg"===Mt.$tag$),xt=Mt.$elm$=Cr.createElementNS(R?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Mt.$flags$?"slot-fb":Mt.$tag$),R&&"foreignObject"===Mt.$tag$&&(R=!1),ot(null,Mt,R),($e=>null!=$e)(U)&&xt["s-si"]!==U&&xt.classList.add(xt["s-si"]=U),Mt.$children$)for(Dt=0;Dt<Mt.$children$.length;++Dt)Wt=ut($e,Mt,Dt,xt),Wt&&xt.appendChild(Wt);"svg"===Mt.$tag$?R=!1:"foreignObject"===xt.tagName&&(R=!0)}return xt["s-hn"]=V,3&Mt.$flags$&&(xt["s-sr"]=!0,xt["s-cr"]=Y,xt["s-sn"]=Mt.$name$||"",Bt=$e&&$e.$children$&&$e.$children$[tt],Bt&&Bt.$tag$===Mt.$tag$&&$e.$elm$&&Et($e.$elm$,!1)),xt},Et=($e,Ye)=>{bn.$flags$|=1;const tt=$e.childNodes;for(let dt=tt.length-1;dt>=0;dt--){const Mt=tt[dt];Mt["s-hn"]!==V&&Mt["s-ol"]&&(un(Mt).insertBefore(Mt,qt(Mt)),Mt["s-ol"].remove(),Mt["s-ol"]=void 0,k=!0),Ye&&Et(Mt,Ye)}bn.$flags$&=-2},Lt=($e,Ye,tt,dt,Mt,Dt)=>{let Wt,xt=$e["s-cr"]&&$e["s-cr"].parentNode||$e;for(xt.shadowRoot&&xt.tagName===V&&(xt=xt.shadowRoot);Mt<=Dt;++Mt)dt[Mt]&&(Wt=ut(null,tt,Mt,$e),Wt&&(dt[Mt].$elm$=Wt,xt.insertBefore(Wt,qt(Ye))))},Ut=($e,Ye,tt,dt,Mt)=>{for(;Ye<=tt;++Ye)(dt=$e[Ye])&&(Mt=dt.$elm$,ln(dt),B=!0,Mt["s-ol"]?Mt["s-ol"].remove():Et(Mt,!0),Mt.remove())},Xt=($e,Ye)=>$e.$tag$===Ye.$tag$&&("slot"===$e.$tag$?$e.$name$===Ye.$name$:$e.$key$===Ye.$key$),qt=$e=>$e&&$e["s-ol"]||$e,un=$e=>($e["s-ol"]?$e["s-ol"]:$e).parentNode,yt=($e,Ye)=>{const tt=Ye.$elm$=$e.$elm$,dt=$e.$children$,Mt=Ye.$children$,Dt=Ye.$tag$,xt=Ye.$text$;let Wt;null!==xt?(Wt=tt["s-cr"])?Wt.parentNode.textContent=xt:$e.$text$!==xt&&(tt.data=xt):(R="svg"===Dt||"foreignObject"!==Dt&&R,"slot"===Dt||ot($e,Ye,R),null!==dt&&null!==Mt?(($e,Ye,tt,dt)=>{let Vs,ei,Mt=0,Dt=0,xt=0,Wt=0,Bt=Ye.length-1,Ht=Ye[0],pn=Ye[Bt],Dn=dt.length-1,Wn=dt[0],ls=dt[Dn];for(;Mt<=Bt&&Dt<=Dn;)if(null==Ht)Ht=Ye[++Mt];else if(null==pn)pn=Ye[--Bt];else if(null==Wn)Wn=dt[++Dt];else if(null==ls)ls=dt[--Dn];else if(Xt(Ht,Wn))yt(Ht,Wn),Ht=Ye[++Mt],Wn=dt[++Dt];else if(Xt(pn,ls))yt(pn,ls),pn=Ye[--Bt],ls=dt[--Dn];else if(Xt(Ht,ls))("slot"===Ht.$tag$||"slot"===ls.$tag$)&&Et(Ht.$elm$.parentNode,!1),yt(Ht,ls),$e.insertBefore(Ht.$elm$,pn.$elm$.nextSibling),Ht=Ye[++Mt],ls=dt[--Dn];else if(Xt(pn,Wn))("slot"===Ht.$tag$||"slot"===ls.$tag$)&&Et(pn.$elm$.parentNode,!1),yt(pn,Wn),$e.insertBefore(pn.$elm$,Ht.$elm$),pn=Ye[--Bt],Wn=dt[++Dt];else{for(xt=-1,Wt=Mt;Wt<=Bt;++Wt)if(Ye[Wt]&&null!==Ye[Wt].$key$&&Ye[Wt].$key$===Wn.$key$){xt=Wt;break}xt>=0?(ei=Ye[xt],ei.$tag$!==Wn.$tag$?Vs=ut(Ye&&Ye[Dt],tt,xt,$e):(yt(ei,Wn),Ye[xt]=void 0,Vs=ei.$elm$),Wn=dt[++Dt]):(Vs=ut(Ye&&Ye[Dt],tt,Dt,$e),Wn=dt[++Dt]),Vs&&un(Ht.$elm$).insertBefore(Vs,qt(Ht.$elm$))}Mt>Bt?Lt($e,null==dt[Dn+1]?null:dt[Dn+1].$elm$,tt,dt,Dt,Dn):Dt>Dn&&Ut(Ye,Mt,Bt)})(tt,dt,Ye,Mt):null!==Mt?(null!==$e.$text$&&(tt.textContent=""),Lt(tt,null,Ye,Mt,0,Mt.length-1)):null!==dt&&Ut(dt,0,dt.length-1),R&&"svg"===Dt&&(R=!1))},ft=$e=>{const Ye=$e.childNodes;let tt,dt,Mt,Dt,xt,Wt;for(dt=0,Mt=Ye.length;dt<Mt;dt++)if(tt=Ye[dt],1===tt.nodeType){if(tt["s-sr"])for(xt=tt["s-sn"],tt.hidden=!1,Dt=0;Dt<Mt;Dt++)if(Wt=Ye[Dt].nodeType,Ye[Dt]["s-hn"]!==tt["s-hn"]||""!==xt){if(1===Wt&&xt===Ye[Dt].getAttribute("slot")){tt.hidden=!0;break}}else if(1===Wt||3===Wt&&""!==Ye[Dt].textContent.trim()){tt.hidden=!0;break}ft(tt)}},Ot=[],Tt=$e=>{let Ye,tt,dt,Mt,Dt,xt,Wt=0;const Bt=$e.childNodes,Ht=Bt.length;for(;Wt<Ht;Wt++){if(Ye=Bt[Wt],Ye["s-sr"]&&(tt=Ye["s-cr"])&&tt.parentNode)for(dt=tt.parentNode.childNodes,Mt=Ye["s-sn"],xt=dt.length-1;xt>=0;xt--)tt=dt[xt],!tt["s-cn"]&&!tt["s-nr"]&&tt["s-hn"]!==Ye["s-hn"]&&(Vt(tt,Mt)?(Dt=Ot.find(pn=>pn.$nodeToRelocate$===tt),B=!0,tt["s-sn"]=tt["s-sn"]||Mt,Dt?Dt.$slotRefNode$=Ye:Ot.push({$slotRefNode$:Ye,$nodeToRelocate$:tt}),tt["s-sr"]&&Ot.map(pn=>{Vt(pn.$nodeToRelocate$,tt["s-sn"])&&(Dt=Ot.find(Dn=>Dn.$nodeToRelocate$===tt),Dt&&!pn.$slotRefNode$&&(pn.$slotRefNode$=Dt.$slotRefNode$))})):Ot.some(pn=>pn.$nodeToRelocate$===tt)||Ot.push({$nodeToRelocate$:tt}));1===Ye.nodeType&&Tt(Ye)}},Vt=($e,Ye)=>1===$e.nodeType?null===$e.getAttribute("slot")&&""===Ye||$e.getAttribute("slot")===Ye:$e["s-sn"]===Ye||""===Ye,ln=$e=>{$e.$attrs$&&$e.$attrs$.ref&&$e.$attrs$.ref(null),$e.$children$&&$e.$children$.map(ln)},nn=($e,Ye)=>{const tt=$e.$hostElement$,dt=$e.$cmpMeta$,Mt=$e.$vnode$||ne(null,null),Dt=ye(Ye)?Ye:ie(null,null,Ye);if(V=tt.tagName,dt.$attrsToReflect$&&(Dt.$attrs$=Dt.$attrs$||{},dt.$attrsToReflect$.map(([xt,Wt])=>Dt.$attrs$[Wt]=tt[xt])),Dt.$tag$=null,Dt.$flags$|=4,$e.$vnode$=Dt,Dt.$elm$=Mt.$elm$=tt.shadowRoot||tt,U=tt["s-sc"],Y=tt["s-cr"],x=Ps&&0!=(1&dt.$flags$),B=!1,yt(Mt,Dt),bn.$flags$|=1,k){Tt(Dt.$elm$);let xt,Wt,Bt,Ht,pn,Dn,Wn=0;for(;Wn<Ot.length;Wn++)xt=Ot[Wn],Wt=xt.$nodeToRelocate$,Wt["s-ol"]||(Bt=Cr.createTextNode(""),Bt["s-nr"]=Wt,Wt.parentNode.insertBefore(Wt["s-ol"]=Bt,Wt));for(Wn=0;Wn<Ot.length;Wn++)if(xt=Ot[Wn],Wt=xt.$nodeToRelocate$,xt.$slotRefNode$){for(Ht=xt.$slotRefNode$.parentNode,pn=xt.$slotRefNode$.nextSibling,Bt=Wt["s-ol"];Bt=Bt.previousSibling;)if(Dn=Bt["s-nr"],Dn&&Dn["s-sn"]===Wt["s-sn"]&&Ht===Dn.parentNode&&(Dn=Dn.nextSibling,!Dn||!Dn["s-nr"])){pn=Dn;break}(!pn&&Ht!==Wt.parentNode||Wt.nextSibling!==pn)&&Wt!==pn&&(!Wt["s-hn"]&&Wt["s-ol"]&&(Wt["s-hn"]=Wt["s-ol"].parentNode.nodeName),Ht.insertBefore(Wt,pn))}else 1===Wt.nodeType&&(Wt.hidden=!0)}B&&ft(Dt.$elm$),bn.$flags$&=-2,Ot.length=0},vn=($e,Ye)=>{$e.$flags$|=16;const tt=()=>hr($e,Ye);return Tr(tt)},hr=($e,Ye)=>{const tt=$e.$hostElement$,dt=()=>{},Mt=tt;let Dt;return Ye?(as(tt,"componentWillLoad"),Dt=Qt(Mt,"componentWillLoad")):(as(tt,"componentWillUpdate"),Dt=Qt(Mt,"componentWillUpdate")),as(tt,"componentWillRender"),Dt=Kr(Dt,()=>Qt(Mt,"componentWillRender")),dt(),Kr(Dt,()=>xn($e,Mt,Ye))},xn=function(){var $e=(0,C.Z)(function*(Ye,tt,dt){const Mt=Ye.$hostElement$,Dt=()=>{};dt&&($e=>{const Ye=$e.$cmpMeta$,tt=$e.$hostElement$,dt=Ye.$flags$,Mt=()=>{},Dt=Ce(Ps&&tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),Ye,$e.$modeName$);10&dt&&(tt["s-sc"]=Dt,tt.classList.add(Dt+"-h"),2&dt&&tt.classList.add(Dt+"-s")),Mt()})(Ye);const Wt=()=>{};Xn(Ye,tt,Mt),Wt(),Dt(),rn(Ye)});return function(tt,dt,Mt){return $e.apply(this,arguments)}}(),Xn=($e,Ye,tt)=>{try{H=Ye,Ye=Ye.render&&Ye.render(),$e.$flags$&=-17,$e.$flags$|=2,nn($e,Ye)}catch(Wt){ci(Wt,$e.$hostElement$)}return H=null,null},rn=$e=>{const tt=$e.$hostElement$,dt=()=>{},Mt=tt;Qt(Mt,"componentDidRender"),as(tt,"componentDidRender"),64&$e.$flags$?(Qt(Mt,"componentDidUpdate"),as(tt,"componentDidUpdate"),dt()):($e.$flags$|=64,Qt(Mt,"componentDidLoad"),as(tt,"componentDidLoad"),dt())},ar=$e=>{{const Ye=Yn($e),tt=Ye.$hostElement$.isConnected;return tt&&2==(18&Ye.$flags$)&&vn(Ye,!1),tt}},Qt=($e,Ye,tt)=>{if($e&&$e[Ye])try{return $e[Ye](tt)}catch(dt){ci(dt)}},Kr=($e,Ye)=>$e&&$e.then?$e.then(Ye):Ye(),as=($e,Ye)=>{},Je=($e,Ye,tt)=>{if(Ye.$members$){$e.watchers&&(Ye.$watchers$=$e.watchers);const dt=Object.entries(Ye.$members$),Mt=$e.prototype;dt.map(([Dt,[xt]])=>{(31&xt||32&xt)&&Object.defineProperty(Mt,Dt,{get(){return(($e,Ye)=>Yn(this).$instanceValues$.get(Ye))(0,Dt)},set(Wt){(($e,Ye,tt,dt)=>{const Mt=Yn($e),Dt=$e,xt=Mt.$instanceValues$.get(Ye),Wt=Mt.$flags$,Bt=Dt;tt=(($e,Ye)=>null==$e||ee($e)?$e:4&Ye?"false"!==$e&&(""===$e||!!$e):2&Ye?parseFloat($e):1&Ye?String($e):$e)(tt,dt.$members$[Ye][0]);const Ht=Number.isNaN(xt)&&Number.isNaN(tt);if(tt!==xt&&!Ht&&(Mt.$instanceValues$.set(Ye,tt),1)){if(dt.$watchers$&&128&Wt){const Dn=dt.$watchers$[Ye];Dn&&Dn.map(Wn=>{try{Bt[Wn](tt,xt,Ye)}catch(ls){ci(ls,Dt)}})}if(2==(18&Wt)){if(Bt.componentShouldUpdate&&!1===Bt.componentShouldUpdate(tt,xt,Ye))return;vn(Mt,!1)}}})(this,Dt,Wt,Ye)},configurable:!0,enumerable:!0})});{const Dt=new Map;Mt.attributeChangedCallback=function(xt,Wt,Bt){bn.jmp(()=>{const Ht=Dt.get(xt);if(this.hasOwnProperty(Ht))Bt=this[Ht],delete this[Ht];else if(Mt.hasOwnProperty(Ht)&&"number"==typeof this[Ht]&&this[Ht]==Bt)return;this[Ht]=(null!==Bt||"boolean"!=typeof this[Ht])&&Bt})},$e.observedAttributes=dt.filter(([xt,Wt])=>15&Wt[0]).map(([xt,Wt])=>{const Bt=Wt[1]||xt;return Dt.set(Bt,xt),512&Wt[0]&&Ye.$attrsToReflect$.push([xt,Bt]),Bt})}}return $e},Qe=function(){var $e=(0,C.Z)(function*(Ye,tt,dt,Mt,Dt){if(!(32&tt.$flags$)&&(Dt=Ye.constructor,tt.$flags$|=32,customElements.whenDefined(dt.$tagName$).then(()=>tt.$flags$|=128),Dt.style)){let Bt=Dt.style;"string"!=typeof Bt&&(Bt=Bt[tt.$modeName$=($e=>il.map(Ye=>Ye($e)).find(Ye=>!!Ye))(Ye)]);const Ht=Ae(dt,tt.$modeName$);if(!ma.has(Ht)){const pn=()=>{};(($e,Ye,tt)=>{let dt=ma.get($e);Zo&&tt?(dt=dt||new CSSStyleSheet,"string"==typeof dt?dt=Ye:dt.replaceSync(Ye)):dt=Ye,ma.set($e,dt)})(Ht,Bt,!!(1&dt.$flags$)),pn()}}const Wt=()=>vn(tt,!0);Wt()});return function(tt,dt,Mt,Dt,xt){return $e.apply(this,arguments)}}(),bt=$e=>{},Ie=$e=>{const Ye=$e["s-cr"]=Cr.createComment("");Ye["s-cn"]=!0,$e.insertBefore(Ye,$e.firstChild)},et=($e,Ye)=>{const tt={$flags$:Ye[0],$tagName$:Ye[1]};tt.$members$=Ye[2],tt.$listeners$=Ye[3],tt.$watchers$=$e.$watchers$,tt.$attrsToReflect$=[],!Ps&&1&tt.$flags$&&(tt.$flags$|=8);const dt=$e.prototype.connectedCallback,Mt=$e.prototype.disconnectedCallback;return Object.assign($e.prototype,{__registerHost(){jl(this,tt)},connectedCallback(){($e=>{if(!(1&bn.$flags$)){const Ye=Yn($e),tt=Ye.$cmpMeta$,dt=()=>{};if(1&Ye.$flags$)ir($e,Ye,tt.$listeners$,!1),bt(Ye.$lazyInstance$);else{let Mt;Ye.$flags$|=1,!Mt&&12&tt.$flags$&&Ie($e),tt.$members$&&Object.entries(tt.$members$).map(([Dt,[xt]])=>{if(31&xt&&$e.hasOwnProperty(Dt)){const Wt=$e[Dt];delete $e[Dt],$e[Dt]=Wt}}),Qe($e,Ye,tt)}dt()}})(this),dt&&dt.call(this)},disconnectedCallback(){($e=>{if(!(1&bn.$flags$)){const Ye=Yn($e);Ye.$rmListeners$&&(Ye.$rmListeners$.map(dt=>dt()),Ye.$rmListeners$=void 0)}})(this),Mt&&Mt.call(this)},__attachShadow(){Ps?this.attachShadow({mode:"open",delegatesFocus:!!(16&tt.$flags$)}):this.shadowRoot=this}}),$e.is=tt.$tagName$,Je($e,tt)},En=($e,Ye)=>Ye,ir=($e,Ye,tt,dt)=>{tt&&tt.map(([Mt,Dt,xt])=>{const Wt=ui($e,Mt),Bt=vo(Ye,xt),Ht=Wo(Mt);bn.ael(Wt,Dt,Bt,Ht),(Ye.$rmListeners$=Ye.$rmListeners$||[]).push(()=>bn.rel(Wt,Dt,Bt,Ht))})},vo=($e,Ye)=>tt=>{try{$e.$hostElement$[Ye](tt)}catch(dt){ci(dt)}},ui=($e,Ye)=>4&Ye?Cr:8&Ye?Dr:16&Ye?Cr.body:$e,Wo=$e=>bo?{passive:0!=(1&$e),capture:0!=(2&$e)}:0!=(2&$e),Vo=new WeakMap,Yn=$e=>Vo.get($e),jl=($e,Ye)=>{const tt={$flags$:0,$hostElement$:$e,$cmpMeta$:Ye,$instanceValues$:new Map};return ir($e,tt,Ye.$listeners$,!1),Vo.set($e,tt)},bi=($e,Ye)=>Ye in $e,ci=($e,Ye)=>(0,console.error)($e,Ye),ma=new Map,il=[],Dr=typeof window<"u"?window:{},Cr=Dr.document||{head:{}},ya=Dr.HTMLElement||class{},bn={$flags$:0,$resourcesUrl$:"",jmp:$e=>$e(),raf:$e=>requestAnimationFrame($e),ael:($e,Ye,tt,dt)=>$e.addEventListener(Ye,tt,dt),rel:($e,Ye,tt,dt)=>$e.removeEventListener(Ye,tt,dt),ce:($e,Ye)=>new CustomEvent($e,Ye)},Ps=!0,bo=(()=>{let $e=!1;try{Cr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){$e=!0}}))}catch{}return $e})(),Zo=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ji=[],pt=[],Ft=($e,Ye)=>tt=>{$e.push(tt),P||(P=!0,Ye&&4&bn.$flags$?ys(Fn):bn.raf(Fn))},Un=$e=>{for(let Ye=0;Ye<$e.length;Ye++)try{$e[Ye](performance.now())}catch(tt){ci(tt)}$e.length=0},Fn=()=>{Un(Ji),Un(pt),(P=Ji.length>0)&&bn.raf(Fn)},ys=$e=>Promise.resolve(void 0).then($e),ga=Ft(Ji,!1),Tr=Ft(pt,!0)},41993:Ke=>{function Ee(E){return Promise.resolve().then(()=>{var C=new Error("Cannot find module '"+E+"'");throw C.code="MODULE_NOT_FOUND",C})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=41993,Ke.exports=Ee},7624:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{default:()=>te});var C=E(15861),D=E(50484),Z=E(66476),j=E(83944),U=E(18626),Y=E(89317),V=E(34222),$=E(67016),L=E(30352),x=E(4703),B=E(51172),k=E(79412),R=E(6785),H=E(80543),P=(E(1535),E(10141)),w=E(7547),O=E(43814),I=E(61018),T=E(27835),W=E(72380),z=E(73514),J=(E(57678),E(14007),E(55829));const oe=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let se=class extends z.Z{constructor(ae){super(ae),this.id=null,this.language=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;const ae=(0,J.Kd)().toLowerCase();switch(ae){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const ee=(0,J.G3)(ae);return"pt"===ee?"pt-BR":ee&&oe.has(ee)?ee:"global"}};(0,D._)([(0,H.Cb)()],se.prototype,"id",void 0),(0,D._)([(0,H.Cb)()],se.prototype,"language",void 0),(0,D._)([(0,H.Cb)()],se.prototype,"serviceUrl",void 0),se=(0,D._)([(0,P.j)("esri.support.BasemapStyle")],se);const ue=se;var G,he=E(5538);let le=0,fe=G=class extends((0,Y.eC)($.Z)){constructor(ae){super(ae),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+le++,this.baseLayers=new j.Z,this.referenceLayers=new j.Z;const ee=ie=>{ie.parent&&ie.parent!==this&&"remove"in ie.parent&&ie.parent.remove(ie),ie.parent=this,"elevation"===ie.type&&x.Z.getLogger(this).error(`Layer '${ie.title}, id:${ie.id}' of type '${ie.type}' is not supported as a basemap layer and will therefore be ignored.`)},ce=ie=>{ie.parent=null};this.addHandles([this.baseLayers.on("after-add",ie=>ee(ie.item)),this.referenceLayers.on("after-add",ie=>ee(ie.item)),this.baseLayers.on("after-remove",ie=>ce(ie.item)),this.referenceLayers.on("after-remove",ie=>ce(ie.item))])}initialize(){this.when().catch(ae=>{x.Z.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,ae)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const ae=this.baseLayers.toArray();for(const ce of ae)ce.destroy();const ee=this.referenceLayers.toArray();for(const ce of ee)ce.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,B.SC)(this.portalItem)}normalizeCtorArgs(ae){return ae&&"resourceInfo"in ae&&(this._set("resourceInfo",ae.resourceInfo),delete(ae={...ae}).resourceInfo),ae}set baseLayers(ae){this._set("baseLayers",(0,U.Z)(ae,this._get("baseLayers")))}_writeBaseLayers(ae,ee,ce){const ie=[];ae&&(ce={...ce,layerContainerType:"basemap"},this.baseLayers.forEach(ne=>{const pe=(0,he.Nw)(ne,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(ne):null,ce);null!=pe&&ie.push(pe)}),this.referenceLayers.forEach(ne=>{const pe=(0,he.Nw)(ne,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(ne):null,ce);null!=pe&&("scene"!==ne.type&&(pe.isReference=!0),ie.push(pe))})),ee.baseMapLayers=ie}set referenceLayers(ae){this._set("referenceLayers",(0,U.Z)(ae,this._get("referenceLayers")))}writeTitle(ae,ee){ee.title=ae||"Basemap"}load(ae){return this.addResolvingPromise(this._loadFromSource(ae)),Promise.resolve(this)}loadAll(){return(0,L.G)(this,ae=>{ae(this.baseLayers,this.referenceLayers)})}clone(){const ae={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(ee=>(0,V.tZ)(ee)?ee.clone():ee),referenceLayers:this.referenceLayers.map(ee=>(0,V.tZ)(ee)?ee.clone():ee)};return this.loaded&&(ae.loadStatus="loaded"),new G({resourceInfo:this.resourceInfo}).set(ae)}read(ae,ee){this.resourceInfo||this._set("resourceInfo",{data:ae,context:ee}),super.read(ae,ee)}write(ae,ee){return ae=ae||{},ee?.origin||(ee={origin:"web-map",...ee}),super.write(ae,ee),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(ae.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ce=>{const ie=(0,V.d9)(ce);return ie.url&&(0,R.oC)(ie.url)&&(ie.url=`https:${ie.url}`),ie.templateUrl&&(0,R.oC)(ie.templateUrl)&&(ie.templateUrl=`https:${ie.templateUrl}`),ie})),ae}_loadFromSource(ae){var ee=this;return(0,C.Z)(function*(){const{resourceInfo:ce,portalItem:ie,style:ne}=ee;(0,k.k_)(ae);const pe=[];ce?(pe.push(ee._loadLayersFromJSON(ce.data,ce.context?ce.context.url:null,ae)),ce.data.id&&!ce.data.title&&pe.push((0,W.g)(ce.data.id).then(ve=>{ve&&ee.read({title:ve},ce.context)}))):ie?pe.push(ee._loadFromItem(ie,ae)):ne&&pe.push(ee._loadFromStylesService(ne,ae)),yield Promise.all(pe)})()}_loadLayersFromJSON(ae,ee,ce){var ie=this;return(0,C.Z)(function*(){const ne=ie.resourceInfo?.context,pe=ie.portalItem?.portal||ne?.portal||null,ye=me[ne?.origin||""]??"web-map",{populateOperationalLayers:re}=yield Promise.all([E.e(2772),E.e(8592)]).then(E.bind(E,4906)),ve=[];if((0,k.k_)(ce),ae.baseMapLayers&&Array.isArray(ae.baseMapLayers)){const Oe={context:{...ne,origin:ye,url:ee,portal:pe,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},Me=xe=>"web-scene"===ye&&"ArcGISSceneServiceLayer"===xe.layerType||xe.isReference,Se=re(ie.baseLayers,ae.baseMapLayers.filter(xe=>!Me(xe)),Oe);ve.push(Se);const ke=re(ie.referenceLayers,ae.baseMapLayers.filter(Me),Oe);ve.push(ke)}yield Promise.allSettled(ve)})()}_loadFromItem(ae,ee){var ce=this;return(0,C.Z)(function*(){const ie=yield ae.load(ee),ne=yield ie.fetchData("json",ee),pe=(0,R.mN)(ae.itemUrl??"");return ce._set("resourceInfo",{data:ne.baseMap??{},context:{origin:ge[ae.type||""]??"web-map",portal:ae.portal||I.Z.getDefault(),url:pe}}),ce.read(ce.resourceInfo.data,ce.resourceInfo.context),ce.read({spatialReference:ne.spatialReference},ce.resourceInfo.context),ce.read({title:ae.title,thumbnailUrl:ae.thumbnailUrl},{origin:"portal-item",portal:ae.portal||I.Z.getDefault(),url:pe}),ce._loadLayersFromJSON(ce.resourceInfo.data,pe,ee)})()}_loadFromStylesService(ae,ee){var ce=this;return(0,C.Z)(function*(){const ie=`${ae.serviceUrl}/${ae.id}`,ne=(yield(0,Z.Z)(ie,{query:{language:ae.getLanguageParamValue()},signal:ee?.signal})).data;if(ne.baseMap&&Array.isArray(ne.baseMap.baseMapLayers))for(const ye of ne.baseMap.baseMapLayers)if(!ye.customParameters&&ye.styleUrl?.includes("?")){const re=(0,R.mN)(ye.styleUrl);re.query&&(ye.styleUrl=re.path,ye.customParameters=re.query)}const pe=(0,R.mN)(ie);return ce._set("resourceInfo",{data:ne.baseMap??{},context:{origin:"web-map",url:pe}}),ce.read(ce.resourceInfo.data,ce.resourceInfo.context),ce.read({spatialReference:ne.spatialReference},ce.resourceInfo.context),ce._loadLayersFromJSON(ce.resourceInfo.data,pe,ee)})()}static fromId(ae){const ee=W.s[ae];return ee?ee.itemId?new G({portalItem:{id:ee.itemId,portal:{url:"https://www.arcgis.com"}}}):G.fromJSON(ee,{origin:ee.is3d?"web-scene":"web-map"}):null}};(0,D._)([(0,H.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(ae,ee,ce,ie){this._writeBaseLayers(ae,ee,ie)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:j.Z}},writer(ae,ee,ce,ie){this._writeBaseLayers(ae,ee,ie)}}}}}})],fe.prototype,"baseLayers",null),(0,D._)([(0,H.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],fe.prototype,"id",void 0),(0,D._)([(0,H.Cb)({type:T.default})],fe.prototype,"portalItem",void 0),(0,D._)([(0,H.Cb)()],fe.prototype,"referenceLayers",null),(0,D._)([(0,H.Cb)({readOnly:!0})],fe.prototype,"resourceInfo",void 0),(0,D._)([(0,H.Cb)({type:O.Z})],fe.prototype,"spatialReference",void 0),(0,D._)([(0,H.Cb)({type:ue})],fe.prototype,"style",void 0),(0,D._)([(0,H.Cb)()],fe.prototype,"thumbnailUrl",void 0),(0,D._)([(0,H.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],fe.prototype,"title",void 0),(0,D._)([(0,w.c)("title")],fe.prototype,"writeTitle",null),fe=G=(0,D._)([(0,P.j)("esri.Basemap")],fe);const ge={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},me={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},te=fe},66599:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>$});var L,x,C=E(16343),D=E(55117),Z=E(1535);function j(L){return(0,D.uZ)((0,Z.vU)(L),0,255)}function U(L,x,B){return L=Number(L),isNaN(L)?B:L<x?x:L>B?B:L}function Y(L,x){const B=L.toString(16).padStart(2,"0");return x?B.substring(0,1):B}class V{static blendColors(x,B,k,R=new V){return R.r=Math.round(x.r+(B.r-x.r)*k),R.g=Math.round(x.g+(B.g-x.g)*k),R.b=Math.round(x.b+(B.b-x.b)*k),R.a=x.a+(B.a-x.a)*k,R._sanitize()}static fromRgb(x,B){const k=x.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(k){const R=k[2].split(/\s*,\s*/),H=k[1];if("rgb"===H&&3===R.length||"rgba"===H&&4===R.length){const N=R[0];if("%"===N.charAt(N.length-1)){const P=R.map(w=>2.56*parseFloat(w));return 4===R.length&&(P[3]=parseFloat(R[3])),V.fromArray(P,B)}return V.fromArray(R.map(P=>parseFloat(P)),B)}if("hsl"===H&&3===R.length||"hsla"===H&&4===R.length)return V.fromArray((0,C.B7)(parseFloat(R[0]),parseFloat(R[1])/100,parseFloat(R[2])/100,parseFloat(R[3])),B)}return null}static fromHex(x,B=new V){if("#"!==x[0]||isNaN(+`0x${x.substring(1)}`))return null;switch(x.length){case 4:case 5:{const k=parseInt(x.substring(1,2),16),R=parseInt(x.substring(2,3),16),H=parseInt(x.substring(3,4),16),N=5===x.length?15:parseInt(x.substring(4),16);return V.fromArray([k+16*k,R+16*R,H+16*H,(N+16*N)/255],B)}case 7:case 9:{const k=parseInt(x.substring(1,3),16),R=parseInt(x.substring(3,5),16),H=parseInt(x.substring(5,7),16),N=7===x.length?255:parseInt(x.substring(7),16);return V.fromArray([k,R,H,N/255],B)}default:return null}}static fromArray(x,B=new V){return B._set(Number(x[0]),Number(x[1]),Number(x[2]),Number(x[3])),isNaN(B.a)&&(B.a=1),B._sanitize()}static fromString(x,B){const k=(0,C.St)(x)?(0,C.h$)(x):null;return k&&V.fromArray(k,B)||V.fromRgb(x,B)||V.fromHex(x,B)}static fromJSON(x){return null!=x?new V([x[0],x[1],x[2],(x[3]??255)/255]):void 0}static toUnitRGB(x){return null!=x?[x.r/255,x.g/255,x.b/255]:null}static toUnitRGBA(x){return null!=x?[x.r/255,x.g/255,x.b/255,null!=x.a?x.a:1]:null}constructor(x){this.r=255,this.g=255,this.b=255,this.a=1,x&&this.setColor(x)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(x){return"string"==typeof x?V.fromString(x,this):Array.isArray(x)?V.fromArray(x,this):(this._set(x.r??0,x.g??0,x.b??0,x.a??1),x instanceof V||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(x){const B=x?.capitalize??!1,k=x?.digits??6,R=3===k||4===k,H=4===k||8===k,N=`#${Y(this.r,R)}${Y(this.g,R)}${Y(this.b,R)}${H?Y(Math.round(255*this.a),R):""}`;return B?N.toUpperCase():N}toCss(x=!1){const B=this.r+", "+this.g+", "+this.b;return x?`rgba(${B}, ${this.a})`:`rgb(${B})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(x=V.AlphaMode.ALWAYS){const B=j(this.r),k=j(this.g),R=j(this.b);return x===V.AlphaMode.ALWAYS||1!==this.a?[B,k,R,j(255*this.a)]:[B,k,R]}clone(){return new V(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(x){return null!=x&&x.r===this.r&&x.g===this.g&&x.b===this.b&&x.a===this.a}_sanitize(){return this.r=Math.round(U(this.r,0,255)),this.g=Math.round(U(this.g,0,255)),this.b=Math.round(U(this.b,0,255)),this.a=U(this.a,0,1),this}_set(x,B,k,R){this.r=x,this.g=B,this.b=k,this.a=R}}V.prototype.declaredClass="esri.Color",(x=(L=V||(V={})).AlphaMode||(L.AlphaMode={}))[x.ALWAYS=0]="ALWAYS",x[x.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const $=V},35458:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>O});var H,C=E(50484),D=E(2189),Z=E(62691),j=E(71950),U=E(25387),Y=E(89317),V=E(68160),$=E(80543),k=(E(1535),E(57678),E(14007),E(10141)),R=E(40637);function P(I){if(null==I)return null;const T={};for(const W in I){const z=I[W];z&&(T[W]=z.toJSON())}return 0!==Object.keys(T).length?T:null}let w=H=class extends((0,U.J)(Y.wq)){constructor(...I){super(...I),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,V.D)(),configurable:!0})}normalizeCtorArgs(I,T,W,z){return I&&!I.declaredClass?I:{geometry:I,symbol:T,attributes:W,popupTemplate:z}}set aggregateGeometries(I){const T=this._get("aggregateGeometries");JSON.stringify(T)!==JSON.stringify(I)&&this._set("aggregateGeometries",I)}set attributes(I){const T=this._get("attributes");T!==I&&(this._set("attributes",I),this._notifyLayer("attributes",T,I))}set geometry(I){const T=this._get("geometry");T!==I&&(this._set("geometry",I),this._notifyLayer("geometry",T,I))}set symbol(I){const T=this._get("symbol");T!==I&&(this._set("symbol",I),this._notifyLayer("symbol",T,I))}set visible(I){const T=this._get("visible");T!==I&&(this._set("visible",I),this._notifyLayer("visible",T,I))}cloneShallow(){return new H({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(I=!1){if(this.popupTemplate)return this.popupTemplate;for(const T of[this.sourceLayer,this.layer])if(T){if("popupTemplate"in T&&T.popupTemplate)return T.popupTemplate;if(I&&"defaultPopupTemplate"in T&&null!=T.defaultPopupTemplate)return T.defaultPopupTemplate}return null}getAttribute(I){return this.attributes?.[I]}setAttribute(I,T){if(this.attributes){const W=this.getAttribute(I);this.attributes[I]=T,this._notifyLayer("attributes",W,T,I)}else this.attributes={[I]:T},this._notifyLayer("attributes",void 0,T,I)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:P(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,Y.AK)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(I={}){const{geometry:T}=this;if("mesh"===T?.type){const W={origin:T.origin,transform:T.transform};this._notifyLayer("origin-transform",W,W,I.action)}}_notifyLayer(I,T,W,z){if(!this.layer||!("graphicChanged"in this.layer))return;const F={graphic:this,property:I,oldValue:T,newValue:W};"origin-transform"===I&&(F.action=z),"attributes"===I&&(F.attributeName=z),this.layer.graphicChanged(F)}};(0,C._)([(0,$.Cb)({value:null,json:{read:function N(I){if(!I)return null;const T={};for(const W in I){const z=(0,R.im)(I[W]);z&&(T[W]=z)}return 0!==Object.keys(T).length?T:null}}})],w.prototype,"aggregateGeometries",null),(0,C._)([(0,$.Cb)({value:null})],w.prototype,"attributes",null),(0,C._)([(0,$.Cb)({value:null,types:D.qM,json:{read:R.im}})],w.prototype,"geometry",null),(0,C._)([(0,$.Cb)({type:Boolean})],w.prototype,"isAggregate",void 0),(0,C._)([(0,$.Cb)({clonable:"reference"})],w.prototype,"layer",void 0),(0,C._)([(0,$.Cb)({type:Z.Z})],w.prototype,"popupTemplate",void 0),(0,C._)([(0,$.Cb)({clonable:"reference"})],w.prototype,"sourceLayer",void 0),(0,C._)([(0,$.Cb)({value:null,types:j.LB})],w.prototype,"symbol",null),(0,C._)([(0,$.Cb)({type:Boolean,value:!0})],w.prototype,"visible",null),w=H=(0,C._)([(0,k.j)("esri.Graphic")],w),(w||(w={})).generateUID=V.D;const O=w},62691:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ke});var C=E(15861),D=E(50484),Z=E(25387),j=E(83944),U=E(89317),Y=E(34222),V=E(4703),$=E(79412),L=E(80543),x=E(73018),B=E(62185),k=E(10141),R=E(7547),H=E(1535),N=E(85295),P=E(20004),w=E(37462),O=E(52225),I=E(49497),T=E(90629),W=E(57229),z=E(98522),F=E(23002);const J={base:null,key:"type",typeMap:{attachment:P.Z,media:W.Z,text:F.Z,expression:I.Z,field:T.Z,relationship:z.Z}};var G,oe=E(59869),se=E(42271);E(57678),E(14007);let le=G=class extends U.wq{constructor(xe){super(xe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new G({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,D._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],le.prototype,"returnTopmostRaster",void 0),(0,D._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],le.prototype,"showNoDataRecords",void 0),le=G=(0,D._)([(0,k.j)("esri.popup.LayerOptions")],le);const q=le;var ge,fe=E(78496);let me=ge=class extends U.wq{constructor(xe){super(xe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ge({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,Y.d9)(this.orderByFields):null})}};(0,D._)([(0,L.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"showRelatedRecords",void 0),(0,D._)([(0,L.Cb)({type:[fe.Z],json:{write:!0}})],me.prototype,"orderByFields",void 0),me=ge=(0,D._)([(0,k.j)("esri.popup.RelatedRecordsInfo")],me);const te=me;var ae=E(12670),ee=E(72031),ce=E(99002),ie=E(25917);const pe=V.Z.getLogger("esri.PopupTemplate"),ye="relationships/",re="expression/",ve=j.Z.ofType({key:"type",defaultKeyValue:"button",base:ee.Z,typeMap:{button:ce.Z,toggle:ie.Z}}),Oe={base:w.Z,key:"type",typeMap:{media:W.Z,custom:O.Z,text:F.Z,attachments:P.Z,fields:T.Z,expression:I.Z,relationship:z.Z}},Me=new Set(["attachments","fields","media","text","expression","relationship"]);let Se=class extends((0,Z.J)(U.wq)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(xe){return Array.isArray(xe)?xe.map(Ge=>(0,H.N7)(Oe,Ge)):"string"==typeof xe||"function"==typeof xe||xe instanceof HTMLElement||(0,$.y8)(xe)?xe:(pe.error("content error","unsupported content value",{value:xe}),null)}readContent(xe,Ge){const{popupElements:X}=Ge;return Array.isArray(X)&&X.length>0?this._readPopupInfoElements(Ge.description,Ge.mediaInfos,X):this._readPopupInfo(Ge)}writeContent(xe,Ge,X,be){"string"!=typeof xe?Array.isArray(xe)&&(Ge.popupElements=xe.filter(Re=>Me.has(Re.type)).map(Re=>Re?.toJSON(be)),Ge.popupElements.forEach(Re=>{"attachments"===Re.type?this._writeAttachmentContent(Ge):"media"===Re.type?this._writeMediaContent(Re,Ge):"text"===Re.type?this._writeTextContent(Re,Ge):"relationship"===Re.type&&this._writeRelationshipContent(Re,Ge)})):Ge.description=xe}writeFieldInfos(xe,Ge,X,be){const{content:Re}=this,Fe=Array.isArray(Re)?Re:null;if(xe){const qe=Fe?Fe.filter(He=>"fields"===He.type):[],We=qe.length&&qe.every(He=>He.fieldInfos?.length);Ge.fieldInfos=xe.filter(Boolean).map(He=>{const Ne=He.toJSON(be);return We&&(Ne.visible=!1),Ne})}if(Fe)for(const qe of Fe)"fields"===qe.type&&this._writeFieldsContent(qe,Ge)}writeLayerOptions(xe,Ge,X,be){Ge[X]=!xe||null===xe.showNoDataRecords&&null===xe.returnTopmostRaster?null:xe.toJSON(be)}writeTitle(xe,Ge){Ge.title=xe||""}collectRequiredFields(xe,Ge){var X=this;return(0,C.Z)(function*(){const be=X.expressionInfos||[];yield X._collectExpressionInfoFields(xe,Ge,[...be,...X._getContentExpressionInfos(X.content,be)]),(0,N.gd)(xe,Ge,[...X.outFields||[],...X._getActionsFields(X.actions),...X._getTitleFields(X.title),...X._getContentFields(X.content)])})()}getRequiredFields(xe){var Ge=this;return(0,C.Z)(function*(){const X=new Set;return yield Ge.collectRequiredFields(X,xe),[...X].sort()})()}_writeFieldsContent(xe,Ge){if(!Array.isArray(xe.fieldInfos)||!xe.fieldInfos.length)return;const X=(0,Y.d9)(xe.fieldInfos);Array.isArray(Ge.fieldInfos)?X.forEach(be=>{const Re=Ge.fieldInfos.find(Fe=>Fe.fieldName.toLowerCase()===be.fieldName.toLowerCase());Re?Re.visible=!0:Ge.fieldInfos.push(be)}):Ge.fieldInfos=X}_writeAttachmentContent(xe){xe.showAttachments||(xe.showAttachments=!0)}_writeRelationshipContent(xe,Ge){const X=xe.orderByFields?.map(Re=>this._toFieldOrderJSON(Re,xe.relationshipId))||[],be=[...Ge.relatedRecordsInfo?.orderByFields||[],...X];Ge.relatedRecordsInfo={showRelatedRecords:!0,...be?.length&&{orderByFields:be}}}_writeTextContent(xe,Ge){!Ge.description&&xe.text&&(Ge.description=xe.text)}_writeMediaContent(xe,Ge){if(!Array.isArray(xe.mediaInfos)||!xe.mediaInfos.length)return;const X=(0,Y.d9)(xe.mediaInfos);Ge.mediaInfos=Array.isArray(Ge.mediaInfos)?[...Ge.mediaInfos,...X]:X}_readPopupInfoElements(xe,Ge,X){const be={description:!1,mediaInfos:!1};return X.map(Re=>"media"===Re.type?(Re.mediaInfos||!Ge||be.mediaInfos||(Re.mediaInfos=Ge,be.mediaInfos=!0),W.Z.fromJSON(Re)):"text"===Re.type?(Re.text||!xe||be.description||(Re.text=xe,be.description=!0),F.Z.fromJSON(Re)):"attachments"===Re.type?P.Z.fromJSON(Re):"fields"===Re.type?T.Z.fromJSON(Re):"expression"===Re.type?I.Z.fromJSON(Re):"relationship"===Re.type?z.Z.fromJSON(Re):void 0).filter(Boolean)}_toRelationshipContent(xe){const{field:Ge,order:X}=xe;if(!Ge?.startsWith(ye))return null;const be=Ge.replace(ye,"").split("/");if(2!==be.length)return null;const Re=parseInt(be[0],10),Fe=be[1];return"number"==typeof Re&&Fe?z.Z.fromJSON({relationshipId:Re,orderByFields:[{field:Fe,order:X}]}):null}_toFieldOrderJSON(xe,Ge){const{order:X,field:be}=xe;return{field:`${ye}${Ge}/${be}`,order:X}}_readPopupInfo({description:xe,mediaInfos:Ge,showAttachments:X,relatedRecordsInfo:be={showRelatedRecords:!1}}){const Re=[];Re.push(xe?new F.Z({text:xe}):new T.Z),Array.isArray(Ge)&&Ge.length&&Re.push(W.Z.fromJSON({mediaInfos:Ge})),X&&Re.push(P.Z.fromJSON({displayType:"auto"}));const{showRelatedRecords:Fe,orderByFields:qe}=be;return Fe&&qe?.length&&qe.forEach(We=>{const He=this._toRelationshipContent(We);He&&Re.push(He)}),Re.length?Re:xe}_getContentElementFields(xe){const Ge=xe?.type;if("attachments"===Ge)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description)];if("custom"===Ge)return xe.outFields||[];if("fields"===Ge)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...this._getFieldInfoFields(xe.fieldInfos??this.fieldInfos)];if("media"===Ge){const X=xe.mediaInfos||[];return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...X.reduce((be,Re)=>[...be,...this._getMediaInfoFields(Re)],[])]}return"text"===Ge?this._extractFieldNames(xe.text):[]}_getMediaInfoFields(xe){const{caption:Ge,title:X,value:be}=xe,Re=be||{},{fields:Fe,normalizeField:qe,tooltipField:We,sourceURL:He,linkURL:Ne}=Re,Ce=[...this._extractFieldNames(X),...this._extractFieldNames(Ge),...this._extractFieldNames(He),...this._extractFieldNames(Ne),...Fe??[]];return qe&&Ce.push(qe),We&&Ce.push(We),Ce}_getContentExpressionInfos(xe,Ge){return Array.isArray(xe)?xe.reduce((X,be)=>[...X,..."expression"===be.type&&be.expressionInfo?[be.expressionInfo]:[]],Ge):[]}_getContentFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):Array.isArray(xe)?xe.reduce((Ge,X)=>[...Ge,...this._getContentElementFields(X)],[]):[]}_collectExpressionInfoFields(xe,Ge,X){return(0,C.Z)(function*(){X&&(yield Promise.all(X.map(be=>(0,N.io)(xe,Ge,be.expression))))})()}_getFieldInfoFields(xe){return xe?xe.filter(Ge=>void 0===Ge.visible||!!Ge.visible).map(Ge=>Ge.fieldName).filter(Ge=>!Ge.startsWith(ye)&&!Ge.startsWith(re)):[]}_getActionsFields(xe){return xe?xe.toArray().reduce((Ge,X)=>[...Ge,...this._getActionFields(X)],[]):[]}_getActionFields(xe){const{className:Ge,title:X,type:be}=xe,Re="button"===be||"toggle"===be?xe.image:"";return[...this._extractFieldNames(X),...this._extractFieldNames(Ge),...this._extractFieldNames(Re)]}_getTitleFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):[]}_extractFieldNames(xe){if(!xe||"string"!=typeof xe)return[];const X=xe.match(/{[^}]*}/g);if(!X)return[];const be=/\{(\w+):.+\}/,Re=X.filter(Fe=>!(0===Fe.indexOf(`{${ye}`)||0===Fe.indexOf(`{${re}`))).map(Fe=>Fe.replace(be,"{$1}"));return Re?Re.map(Fe=>Fe.slice(1,-1)):[]}};(0,D._)([(0,L.Cb)({type:ve})],Se.prototype,"actions",void 0),(0,D._)([(0,L.Cb)()],Se.prototype,"content",void 0),(0,D._)([(0,x.p)("content")],Se.prototype,"castContent",null),(0,D._)([(0,B.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Se.prototype,"readContent",null),(0,D._)([(0,R.c)("content",{popupElements:{type:j.Z.ofType(J)},showAttachments:{type:Boolean},mediaInfos:{type:j.Z.ofType(ae.V)},description:{type:String},relatedRecordsInfo:{type:te}})],Se.prototype,"writeContent",null),(0,D._)([(0,L.Cb)({type:[oe.Z],json:{write:!0}})],Se.prototype,"expressionInfos",void 0),(0,D._)([(0,L.Cb)({type:[se.Z]})],Se.prototype,"fieldInfos",void 0),(0,D._)([(0,R.c)("fieldInfos")],Se.prototype,"writeFieldInfos",null),(0,D._)([(0,L.Cb)({type:q})],Se.prototype,"layerOptions",void 0),(0,D._)([(0,R.c)("layerOptions")],Se.prototype,"writeLayerOptions",null),(0,D._)([(0,L.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Se.prototype,"lastEditInfoEnabled",void 0),(0,D._)([(0,L.Cb)()],Se.prototype,"outFields",void 0),(0,D._)([(0,L.Cb)()],Se.prototype,"overwriteActions",void 0),(0,D._)([(0,L.Cb)()],Se.prototype,"returnGeometry",void 0),(0,D._)([(0,L.Cb)({json:{type:String}})],Se.prototype,"title",void 0),(0,D._)([(0,R.c)("title")],Se.prototype,"writeTitle",null),Se=(0,D._)([(0,k.j)("esri.PopupTemplate")],Se);const ke=Se},34411:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var k,C=E(50484),D=E(89317),Z=E(51431),j=E(80543),$=(E(1535),E(57678),E(14007),E(62185)),L=E(10141),x=E(7547),B=E(764);let R=k=class extends D.wq{static get allTime(){return H}static get empty(){return N}constructor(w){super(w),this.end=null,this.start=null}readEnd(w,O){return null!=O.end?new Date(O.end):null}writeEnd(w,O){O.end=w?.getTime()??null}get isAllTime(){return this.equals(k.allTime)}get isEmpty(){return this.equals(k.empty)}readStart(w,O){return null!=O.start?new Date(O.start):null}writeStart(w,O){O.start=w?.getTime()??null}clone(){return new k({end:this.end,start:this.start})}equals(w){if(!w)return!1;const O=this.start?.getTime()??this.start,I=this.end?.getTime()??this.end,T=w.start?.getTime()??w.start,W=w.end?.getTime()??w.end;return O===T&&I===W}expandTo(w,O=B.By){if(this.isEmpty||this.isAllTime)return this.clone();let I=this.start;I&&(I=(0,Z.JE)(I,w,O));let T=this.end;if(T){const W=(0,Z.JE)(T,w,O);T=T.getTime()===W.getTime()?W:(0,Z.Nm)(W,1,w,O)}return new k({start:I,end:T})}intersection(w){if(!w)return this.clone();if(this.isEmpty||w.isEmpty)return k.empty;if(this.isAllTime)return w.clone();if(w.isAllTime)return this.clone();const O=this.start?.getTime()??-1/0,I=this.end?.getTime()??1/0,T=w.start?.getTime()??-1/0,W=w.end?.getTime()??1/0;let z,F;if(T>=O&&T<=I?z=T:O>=T&&O<=W&&(z=O),I>=T&&I<=W?F=I:W>=O&&W<=I&&(F=W),null!=z&&null!=F&&!isNaN(z)&&!isNaN(F)){const Q=new k;return Q.start=z===-1/0?null:new Date(z),Q.end=F===1/0?null:new Date(F),Q}return k.empty}offset(w,O,I=B.By){if(this.isEmpty||this.isAllTime)return this.clone();const T=new k,{start:W,end:z}=this;return null!=W&&(T.start=(0,Z.Nm)(W,w,O,I)),null!=z&&(T.end=(0,Z.Nm)(z,w,O,I)),T}union(w){if(!w||w.isEmpty)return this.clone();if(this.isEmpty)return w.clone();if(this.isAllTime||w.isAllTime)return H.clone();const O=null!=this.start&&null!=w.start?new Date(Math.min(this.start.getTime(),w.start.getTime())):null,I=null!=this.end&&null!=w.end?new Date(Math.max(this.end.getTime(),w.end.getTime())):null;return new k({start:O,end:I})}};(0,C._)([(0,j.Cb)({type:Date,json:{write:{allowNull:!0}}})],R.prototype,"end",void 0),(0,C._)([(0,$.r)("end")],R.prototype,"readEnd",null),(0,C._)([(0,x.c)("end")],R.prototype,"writeEnd",null),(0,C._)([(0,j.Cb)({readOnly:!0,json:{read:!1}})],R.prototype,"isAllTime",null),(0,C._)([(0,j.Cb)({readOnly:!0,json:{read:!1}})],R.prototype,"isEmpty",null),(0,C._)([(0,j.Cb)({type:Date,json:{write:{allowNull:!0}}})],R.prototype,"start",void 0),(0,C._)([(0,$.r)("start")],R.prototype,"readStart",null),(0,C._)([(0,x.c)("start")],R.prototype,"writeStart",null),R=k=(0,C._)([(0,L.j)("esri.TimeExtent")],R);const H=new R,N=new R({start:void 0,end:void 0}),P=R},95539:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var C=E(50484),D=E(25387),Z=E(89317),j=E(51431),U=E(80543),L=(E(1535),E(57678),E(14007),E(21070)),x=E(10141),B=E(81238);let k=class extends((0,D.J)(Z.wq)){constructor(H){super(H),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,j.rJ)(this.value,this.unit,"milliseconds")}};(0,C._)([(0,L.J)(B.v,{nonNullable:!0})],k.prototype,"unit",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0},nonNullable:!0})],k.prototype,"value",void 0),k=(0,C._)([(0,x.j)("esri.TimeInterval")],k);const R=k},78570:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var C=E(50484),D=E(25387),Z=E(32017),j=E(89317),U=E(55117),Y=E(80543),V=E(73018),x=(E(57678),E(14007),E(62185)),B=E(10141),k=E(7547),R=E(1535),H=E(85039);let N=class extends((0,D.J)(j.wq)){constructor(...F){super(...F),this.position=new H.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(F,Q,J,oe){if(F&&"object"==typeof F&&("x"in F||Array.isArray(F))){const se={position:F};return null!=Q&&(se.heading=Q),null!=J&&(se.tilt=J),null!=oe&&(se.fov=oe),se}return F}writePosition(F,Q,J,oe){const se=F.clone();se.x=(0,R.q9)(F.x||0),se.y=(0,R.q9)(F.y||0),se.z=F.hasZ?(0,R.q9)(F.z||0):F.z,Q[J]=se.write({},oe)}readPosition(F,Q){const J=new H.Z;return J.read(F,Q),J.x=(0,R.q9)(J.x||0),J.y=(0,R.q9)(J.y||0),J.z=J.hasZ?(0,R.q9)(J.z||0):J.z,J}equals(F){return null!=F&&this.tilt===F.tilt&&this.heading===F.heading&&this.fov===F.fov&&this.position.equals(F.position)}};(0,C._)([(0,Y.Cb)({type:H.Z,json:{write:{isRequired:!0}}})],N.prototype,"position",void 0),(0,C._)([(0,k.c)("position")],N.prototype,"writePosition",null),(0,C._)([(0,x.r)("position")],N.prototype,"readPosition",null),(0,C._)([(0,Y.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,V.p)(F=>Z.BV.normalize((0,R.q9)(F)))],N.prototype,"heading",void 0),(0,C._)([(0,Y.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,V.p)(F=>(0,U.uZ)((0,R.q9)(F),-180,180))],N.prototype,"tilt",void 0),(0,C._)([(0,Y.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],N.prototype,"fov",void 0),N=(0,C._)([(0,B.j)("esri.Camera")],N);const P=N;var I,w=E(2189),O=E(40637);let T=I=class extends j.wq{constructor(F){super(F),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(F){return(F%=360)<0&&(F+=360),F}clone(){return new I({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};function W(){return{enabled:!this.camera}}(0,C._)([(0,Y.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:W}}}}})],T.prototype,"rotation",void 0),(0,C._)([(0,V.p)("rotation")],T.prototype,"castRotation",null),(0,C._)([(0,Y.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:W}}}}})],T.prototype,"scale",void 0),(0,C._)([(0,Y.Cb)({types:w.qM,json:{read:O.im,write:!0,origins:{"web-scene":{read:O.im,write:{overridePolicy:W}}}}})],T.prototype,"targetGeometry",void 0),(0,C._)([(0,Y.Cb)({type:P,json:{write:!0}})],T.prototype,"camera",void 0),T=I=(0,C._)([(0,B.j)("esri.Viewpoint")],T);const z=T},98930:(Ke,Ee,E)=>{"use strict";E.d(Ee,{V:()=>$});var C=E(11931),Z=(E(66476),E(57964)),j=E(4703),U=E(6785);const Y=j.Z.getLogger("esri.assets");function $(L){if(!C.default.assetsPath)throw Y.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Z.Z("assets:path-not-set","config.assetsPath is not set");return(0,U.v_)(C.default.assetsPath,L)}},90104:(Ke,Ee,E)=>{"use strict";E.d(Ee,{c:()=>C,g:()=>D});var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}},52593:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>j,a:()=>$,g:()=>D,t:()=>V});let C=1e-6;function D(){return C}const j=Math.random,U=Math.PI/180,Y=180/Math.PI;function V(B){return B*U}function $(B){return B*Y}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:j,equals:function L(B,k){return Math.abs(B-k)<=C*Math.max(1,Math.abs(B),Math.abs(k))},getEpsilon:D,setEpsilon:function Z(B){C=B},toDegree:$,toRadian:V},Symbol.toStringTag,{value:"Module"}))},86662:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>R,b:()=>B,c:()=>Z,d:()=>j,f:()=>k,i:()=>U,m:()=>V,r:()=>$,s:()=>L,t:()=>x});var C=E(52593);function Z(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=1,J[4]=0,J[5]=0,J}function j(J,oe,se,ue,he,G,le){return J[0]=oe,J[1]=se,J[2]=ue,J[3]=he,J[4]=G,J[5]=le,J}function U(J,oe){const se=oe[0],ue=oe[1],he=oe[2],G=oe[3],le=oe[4],q=oe[5];let fe=se*G-ue*he;return fe?(fe=1/fe,J[0]=G*fe,J[1]=-ue*fe,J[2]=-he*fe,J[3]=se*fe,J[4]=(he*q-G*le)*fe,J[5]=(ue*le-se*q)*fe,J):null}function V(J,oe,se){const ue=oe[0],he=oe[1],G=oe[2],le=oe[3],q=oe[4],fe=oe[5],ge=se[0],me=se[1],te=se[2],ae=se[3],ee=se[4],ce=se[5];return J[0]=ue*ge+G*me,J[1]=he*ge+le*me,J[2]=ue*te+G*ae,J[3]=he*te+le*ae,J[4]=ue*ee+G*ce+q,J[5]=he*ee+le*ce+fe,J}function $(J,oe,se){const ue=oe[0],he=oe[1],G=oe[2],le=oe[3],q=oe[4],fe=oe[5],ge=Math.sin(se),me=Math.cos(se);return J[0]=ue*me+G*ge,J[1]=he*me+le*ge,J[2]=ue*-ge+G*me,J[3]=he*-ge+le*me,J[4]=q,J[5]=fe,J}function L(J,oe,se){const he=oe[1],G=oe[2],le=oe[3],q=oe[4],fe=oe[5],ge=se[0],me=se[1];return J[0]=oe[0]*ge,J[1]=he*ge,J[2]=G*me,J[3]=le*me,J[4]=q,J[5]=fe,J}function x(J,oe,se){const ue=oe[0],he=oe[1],G=oe[2],le=oe[3],q=oe[4],fe=oe[5],ge=se[0],me=se[1];return J[0]=ue,J[1]=he,J[2]=G,J[3]=le,J[4]=ue*ge+G*me+q,J[5]=he*ge+le*me+fe,J}function B(J,oe){const se=Math.sin(oe),ue=Math.cos(oe);return J[0]=ue,J[1]=se,J[2]=-se,J[3]=ue,J[4]=0,J[5]=0,J}function k(J,oe){return J[0]=oe[0],J[1]=0,J[2]=0,J[3]=oe[1],J[4]=0,J[5]=0,J}function R(J,oe){return J[0]=1,J[1]=0,J[2]=0,J[3]=1,J[4]=oe[0],J[5]=oe[1],J}function w(J,oe,se){return J[0]=oe[0]-se[0],J[1]=oe[1]-se[1],J[2]=oe[2]-se[2],J[3]=oe[3]-se[3],J[4]=oe[4]-se[4],J[5]=oe[5]-se[5],J}Object.freeze(Object.defineProperty({__proto__:null,add:function P(J,oe,se){return J[0]=oe[0]+se[0],J[1]=oe[1]+se[1],J[2]=oe[2]+se[2],J[3]=oe[3]+se[3],J[4]=oe[4]+se[4],J[5]=oe[5]+se[5],J},copy:function D(J,oe){return J[0]=oe[0],J[1]=oe[1],J[2]=oe[2],J[3]=oe[3],J[4]=oe[4],J[5]=oe[5],J},determinant:function Y(J){return J[0]*J[3]-J[1]*J[2]},equals:function W(J,oe){const se=J[0],ue=J[1],he=J[2],G=J[3],le=J[4],q=J[5],fe=oe[0],ge=oe[1],me=oe[2],te=oe[3],ae=oe[4],ee=oe[5],ce=(0,C.g)();return Math.abs(se-fe)<=ce*Math.max(1,Math.abs(se),Math.abs(fe))&&Math.abs(ue-ge)<=ce*Math.max(1,Math.abs(ue),Math.abs(ge))&&Math.abs(he-me)<=ce*Math.max(1,Math.abs(he),Math.abs(me))&&Math.abs(G-te)<=ce*Math.max(1,Math.abs(G),Math.abs(te))&&Math.abs(le-ae)<=ce*Math.max(1,Math.abs(le),Math.abs(ae))&&Math.abs(q-ee)<=ce*Math.max(1,Math.abs(q),Math.abs(ee))},exactEquals:function T(J,oe){return J[0]===oe[0]&&J[1]===oe[1]&&J[2]===oe[2]&&J[3]===oe[3]&&J[4]===oe[4]&&J[5]===oe[5]},frob:function N(J){return Math.sqrt(J[0]**2+J[1]**2+J[2]**2+J[3]**2+J[4]**2+J[5]**2+1)},fromRotation:B,fromScaling:k,fromTranslation:R,identity:Z,invert:U,mul:V,multiply:V,multiplyScalar:function O(J,oe,se){return J[0]=oe[0]*se,J[1]=oe[1]*se,J[2]=oe[2]*se,J[3]=oe[3]*se,J[4]=oe[4]*se,J[5]=oe[5]*se,J},multiplyScalarAndAdd:function I(J,oe,se,ue){return J[0]=oe[0]+se[0]*ue,J[1]=oe[1]+se[1]*ue,J[2]=oe[2]+se[2]*ue,J[3]=oe[3]+se[3]*ue,J[4]=oe[4]+se[4]*ue,J[5]=oe[5]+se[5]*ue,J},rotate:$,scale:L,set:j,str:function H(J){return"mat2d("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+", "+J[4]+", "+J[5]+")"},sub:w,subtract:w,translate:x},Symbol.toStringTag,{value:"Module"}))},89921:(Ke,Ee,E)=>{"use strict";function C(){const $=new Float32Array(6);return $[0]=1,$[3]=1,$}function U($,L,x,B){const k=L[B],R=L[B+1];$[B]=x[0]*k+x[2]*R+x[4],$[B+1]=x[1]*k+x[3]*R+x[5]}function Y($,L,x,B=0,k=0,R=2){const H=k||L.length/R;for(let N=B;N<H;N++)U($,L,x,N*R)}E.d(Ee,{c:()=>C,t:()=>Y}),Object.freeze(Object.defineProperty({__proto__:null,clone:function D($){const L=new Float32Array(6);return L[0]=$[0],L[1]=$[1],L[2]=$[2],L[3]=$[3],L[4]=$[4],L[5]=$[5],L},create:C,createView:function j($,L){return new Float32Array($,L,6)},fromValues:function Z($,L,x,B,k,R){const H=new Float32Array(6);return H[0]=$,H[1]=L,H[2]=x,H[3]=B,H[4]=k,H[5]=R,H},transform:U,transformMany:Y},Symbol.toStringTag,{value:"Module"}))},18755:(Ke,Ee,E)=>{"use strict";function C(){return[1,0,0,1,0,0]}E.d(Ee,{c:()=>C}),Object.freeze(Object.defineProperty({__proto__:null,clone:function D(Y){return[Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]]},create:C,createView:function j(Y,V){return new Float64Array(Y,V,6)},fromValues:function Z(Y,V,$,L,x,B){return[Y,V,$,L,x,B]}},Symbol.toStringTag,{value:"Module"}))},51006:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>$,c:()=>R,d:()=>V,f:()=>D,g:()=>U,h:()=>B,i:()=>le,k:()=>N,l:()=>H,m:()=>x,n:()=>W,r:()=>k,s:()=>j,t:()=>Y});var C=E(52593);function D(me,te){return me[0]=te[0],me[1]=te[1],me[2]=te[2],me[3]=te[4],me[4]=te[5],me[5]=te[6],me[6]=te[8],me[7]=te[9],me[8]=te[10],me}function j(me,te,ae,ee,ce,ie,ne,pe,ye,re){return me[0]=te,me[1]=ae,me[2]=ee,me[3]=ce,me[4]=ie,me[5]=ne,me[6]=pe,me[7]=ye,me[8]=re,me}function U(me){return me[0]=1,me[1]=0,me[2]=0,me[3]=0,me[4]=1,me[5]=0,me[6]=0,me[7]=0,me[8]=1,me}function Y(me,te){if(me===te){const ae=te[1],ee=te[2],ce=te[5];me[1]=te[3],me[2]=te[6],me[3]=ae,me[5]=te[7],me[6]=ee,me[7]=ce}else me[0]=te[0],me[1]=te[3],me[2]=te[6],me[3]=te[1],me[4]=te[4],me[5]=te[7],me[6]=te[2],me[7]=te[5],me[8]=te[8];return me}function V(me,te){const ae=te[0],ee=te[1],ce=te[2],ie=te[3],ne=te[4],pe=te[5],ye=te[6],re=te[7],ve=te[8],Oe=ve*ne-pe*re,Me=-ve*ie+pe*ye,Se=re*ie-ne*ye;let ke=ae*Oe+ee*Me+ce*Se;return ke?(ke=1/ke,me[0]=Oe*ke,me[1]=(-ve*ee+ce*re)*ke,me[2]=(pe*ee-ce*ne)*ke,me[3]=Me*ke,me[4]=(ve*ae-ce*ye)*ke,me[5]=(-pe*ae+ce*ie)*ke,me[6]=Se*ke,me[7]=(-re*ae+ee*ye)*ke,me[8]=(ne*ae-ee*ie)*ke,me):null}function $(me,te){const ae=te[0],ee=te[1],ce=te[2],ie=te[3],ne=te[4],pe=te[5],ye=te[6],re=te[7],ve=te[8];return me[0]=ne*ve-pe*re,me[1]=ce*re-ee*ve,me[2]=ee*pe-ce*ne,me[3]=pe*ye-ie*ve,me[4]=ae*ve-ce*ye,me[5]=ce*ie-ae*pe,me[6]=ie*re-ne*ye,me[7]=ee*ye-ae*re,me[8]=ae*ne-ee*ie,me}function x(me,te,ae){const ee=te[0],ce=te[1],ie=te[2],ne=te[3],pe=te[4],ye=te[5],re=te[6],ve=te[7],Oe=te[8],Me=ae[0],Se=ae[1],ke=ae[2],xe=ae[3],Ge=ae[4],X=ae[5],be=ae[6],Re=ae[7],Fe=ae[8];return me[0]=Me*ee+Se*ne+ke*re,me[1]=Me*ce+Se*pe+ke*ve,me[2]=Me*ie+Se*ye+ke*Oe,me[3]=xe*ee+Ge*ne+X*re,me[4]=xe*ce+Ge*pe+X*ve,me[5]=xe*ie+Ge*ye+X*Oe,me[6]=be*ee+Re*ne+Fe*re,me[7]=be*ce+Re*pe+Fe*ve,me[8]=be*ie+Re*ye+Fe*Oe,me}function B(me,te,ae){const ee=te[0],ce=te[1],ie=te[2],ne=te[3],pe=te[4],ye=te[5],re=te[6],ve=te[7],Oe=te[8],Me=ae[0],Se=ae[1];return me[0]=ee,me[1]=ce,me[2]=ie,me[3]=ne,me[4]=pe,me[5]=ye,me[6]=Me*ee+Se*ne+re,me[7]=Me*ce+Se*pe+ve,me[8]=Me*ie+Se*ye+Oe,me}function k(me,te,ae){const ee=te[0],ce=te[1],ie=te[2],ne=te[3],pe=te[4],ye=te[5],re=te[6],ve=te[7],Oe=te[8],Me=Math.sin(ae),Se=Math.cos(ae);return me[0]=Se*ee+Me*ne,me[1]=Se*ce+Me*pe,me[2]=Se*ie+Me*ye,me[3]=Se*ne-Me*ee,me[4]=Se*pe-Me*ce,me[5]=Se*ye-Me*ie,me[6]=re,me[7]=ve,me[8]=Oe,me}function R(me,te,ae){const ee=ae[0],ce=ae[1],ie=ae[2];return me[0]=ee*te[0],me[1]=ee*te[1],me[2]=ee*te[2],me[3]=ce*te[3],me[4]=ce*te[4],me[5]=ce*te[5],me[6]=ie*te[6],me[7]=ie*te[7],me[8]=ie*te[8],me}function H(me,te,ae){const ee=ae[0],ce=ae[1];return me[0]=ee*te[0],me[1]=ee*te[1],me[2]=ee*te[2],me[3]=ce*te[3],me[4]=ce*te[4],me[5]=ce*te[5],me}function N(me,te){return me[0]=1,me[1]=0,me[2]=0,me[3]=0,me[4]=1,me[5]=0,me[6]=te[0],me[7]=te[1],me[8]=1,me}function W(me,te){const ae=te[0],ee=te[1],ce=te[2],ie=te[3],ne=te[4],pe=te[5],ye=te[6],re=te[7],ve=te[8],Oe=te[9],Me=te[10],Se=te[11],ke=te[12],xe=te[13],Ge=te[14],X=te[15],be=ae*pe-ee*ne,Re=ae*ye-ce*ne,Fe=ae*re-ie*ne,qe=ee*ye-ce*pe,We=ee*re-ie*pe,He=ce*re-ie*ye,Ne=ve*xe-Oe*ke,Ce=ve*Ge-Me*ke,Pe=ve*X-Se*ke,Ae=Oe*Ge-Me*xe,Be=Oe*X-Se*xe,ze=Me*X-Se*Ge;let st=be*ze-Re*Be+Fe*Ae+qe*Pe-We*Ce+He*Ne;return st?(st=1/st,me[0]=(pe*ze-ye*Be+re*Ae)*st,me[1]=(ye*Pe-ne*ze-re*Ce)*st,me[2]=(ne*Be-pe*Pe+re*Ne)*st,me[3]=(ce*Be-ee*ze-ie*Ae)*st,me[4]=(ae*ze-ce*Pe+ie*Ce)*st,me[5]=(ee*Pe-ae*Be-ie*Ne)*st,me[6]=(xe*He-Ge*We+X*qe)*st,me[7]=(Ge*Fe-ke*He-X*Re)*st,me[8]=(ke*We-xe*Fe+X*be)*st,me):null}function oe(me,te,ae){return me[0]=te[0]-ae[0],me[1]=te[1]-ae[1],me[2]=te[2]-ae[2],me[3]=te[3]-ae[3],me[4]=te[4]-ae[4],me[5]=te[5]-ae[5],me[6]=te[6]-ae[6],me[7]=te[7]-ae[7],me[8]=te[8]-ae[8],me}function le(me){const te=(0,C.g)(),ae=me[0],ee=me[1],ce=me[2],ie=me[3],ne=me[4],pe=me[5],ye=me[6],re=me[7],ve=me[8];return Math.abs(1-(ae*ae+ie*ie+ye*ye))<=te&&Math.abs(1-(ee*ee+ne*ne+re*re))<=te&&Math.abs(1-(ce*ce+pe*pe+ve*ve))<=te}Object.freeze(Object.defineProperty({__proto__:null,add:function J(me,te,ae){return me[0]=te[0]+ae[0],me[1]=te[1]+ae[1],me[2]=te[2]+ae[2],me[3]=te[3]+ae[3],me[4]=te[4]+ae[4],me[5]=te[5]+ae[5],me[6]=te[6]+ae[6],me[7]=te[7]+ae[7],me[8]=te[8]+ae[8],me},adjoint:$,copy:function Z(me,te){return me[0]=te[0],me[1]=te[1],me[2]=te[2],me[3]=te[3],me[4]=te[4],me[5]=te[5],me[6]=te[6],me[7]=te[7],me[8]=te[8],me},determinant:function L(me){const ce=me[3],ie=me[4],ne=me[5],pe=me[6],ye=me[7],re=me[8];return me[0]*(re*ie-ne*ye)+me[1]*(-re*ce+ne*pe)+me[2]*(ye*ce-ie*pe)},equals:function G(me,te){const ae=me[0],ee=me[1],ce=me[2],ie=me[3],ne=me[4],pe=me[5],ye=me[6],re=me[7],ve=me[8],Oe=te[0],Me=te[1],Se=te[2],ke=te[3],xe=te[4],Ge=te[5],X=te[6],be=te[7],Re=te[8],Fe=(0,C.g)();return Math.abs(ae-Oe)<=Fe*Math.max(1,Math.abs(ae),Math.abs(Oe))&&Math.abs(ee-Me)<=Fe*Math.max(1,Math.abs(ee),Math.abs(Me))&&Math.abs(ce-Se)<=Fe*Math.max(1,Math.abs(ce),Math.abs(Se))&&Math.abs(ie-ke)<=Fe*Math.max(1,Math.abs(ie),Math.abs(ke))&&Math.abs(ne-xe)<=Fe*Math.max(1,Math.abs(ne),Math.abs(xe))&&Math.abs(pe-Ge)<=Fe*Math.max(1,Math.abs(pe),Math.abs(Ge))&&Math.abs(ye-X)<=Fe*Math.max(1,Math.abs(ye),Math.abs(X))&&Math.abs(re-be)<=Fe*Math.max(1,Math.abs(re),Math.abs(be))&&Math.abs(ve-Re)<=Fe*Math.max(1,Math.abs(ve),Math.abs(Re))},exactEquals:function he(me,te){return me[0]===te[0]&&me[1]===te[1]&&me[2]===te[2]&&me[3]===te[3]&&me[4]===te[4]&&me[5]===te[5]&&me[6]===te[6]&&me[7]===te[7]&&me[8]===te[8]},frob:function Q(me){return Math.sqrt(me[0]**2+me[1]**2+me[2]**2+me[3]**2+me[4]**2+me[5]**2+me[6]**2+me[7]**2+me[8]**2)},fromMat2d:function O(me,te){return me[0]=te[0],me[1]=te[1],me[2]=0,me[3]=te[2],me[4]=te[3],me[5]=0,me[6]=te[4],me[7]=te[5],me[8]=1,me},fromMat4:D,fromQuat:function I(me,te){const ae=te[0],ee=te[1],ce=te[2],ie=te[3],ne=ae+ae,pe=ee+ee,ye=ce+ce,re=ae*ne,ve=ee*ne,Oe=ee*pe,Me=ce*ne,Se=ce*pe,ke=ce*ye,xe=ie*ne,Ge=ie*pe,X=ie*ye;return me[0]=1-Oe-ke,me[3]=ve-X,me[6]=Me+Ge,me[1]=ve+X,me[4]=1-re-ke,me[7]=Se-xe,me[2]=Me-Ge,me[5]=Se+xe,me[8]=1-re-Oe,me},fromRotation:function P(me,te){const ae=Math.sin(te),ee=Math.cos(te);return me[0]=ee,me[1]=ae,me[2]=0,me[3]=-ae,me[4]=ee,me[5]=0,me[6]=0,me[7]=0,me[8]=1,me},fromScaling:function w(me,te){return me[0]=te[0],me[1]=0,me[2]=0,me[3]=0,me[4]=te[1],me[5]=0,me[6]=0,me[7]=0,me[8]=1,me},fromTranslation:N,identity:U,invert:V,isOrthoNormal:le,mul:x,multiply:x,multiplyScalar:function se(me,te,ae){return me[0]=te[0]*ae,me[1]=te[1]*ae,me[2]=te[2]*ae,me[3]=te[3]*ae,me[4]=te[4]*ae,me[5]=te[5]*ae,me[6]=te[6]*ae,me[7]=te[7]*ae,me[8]=te[8]*ae,me},multiplyScalarAndAdd:function ue(me,te,ae,ee){return me[0]=te[0]+ae[0]*ee,me[1]=te[1]+ae[1]*ee,me[2]=te[2]+ae[2]*ee,me[3]=te[3]+ae[3]*ee,me[4]=te[4]+ae[4]*ee,me[5]=te[5]+ae[5]*ee,me[6]=te[6]+ae[6]*ee,me[7]=te[7]+ae[7]*ee,me[8]=te[8]+ae[8]*ee,me},normalFromMat4:W,normalFromMat4Legacy:function T(me,te){const ae=te[0],ee=te[1],ce=te[2],ie=te[4],ne=te[5],pe=te[6],ye=te[8],re=te[9],ve=te[10],Oe=ve*ne-pe*re,Me=-ve*ie+pe*ye,Se=re*ie-ne*ye,ke=ae*Oe+ee*Me+ce*Se;if(!ke)return null;const xe=1/ke;return me[0]=Oe*xe,me[1]=(-ve*ee+ce*re)*xe,me[2]=(pe*ee-ce*ne)*xe,me[3]=Me*xe,me[4]=(ve*ae-ce*ye)*xe,me[5]=(-pe*ae+ce*ie)*xe,me[6]=Se*xe,me[7]=(-re*ae+ee*ye)*xe,me[8]=(ne*ae-ee*ie)*xe,me},projection:function z(me,te,ae){return me[0]=2/te,me[1]=0,me[2]=0,me[3]=0,me[4]=-2/ae,me[5]=0,me[6]=-1,me[7]=1,me[8]=1,me},rotate:k,scale:R,scaleByVec2:H,set:j,str:function F(me){return"mat3("+me[0]+", "+me[1]+", "+me[2]+", "+me[3]+", "+me[4]+", "+me[5]+", "+me[6]+", "+me[7]+", "+me[8]+")"},sub:oe,subtract:oe,translate:B,transpose:Y},Symbol.toStringTag,{value:"Module"}))},71602:(Ke,Ee,E)=>{"use strict";function C(){const Y=new Float32Array(9);return Y[0]=1,Y[4]=1,Y[8]=1,Y}function D(Y){const V=new Float32Array(9);return V[0]=Y[0],V[1]=Y[1],V[2]=Y[2],V[3]=Y[3],V[4]=Y[4],V[5]=Y[5],V[6]=Y[6],V[7]=Y[7],V[8]=Y[8],V}function Z(Y,V,$,L,x,B,k,R,H){const N=new Float32Array(9);return N[0]=Y,N[1]=V,N[2]=$,N[3]=L,N[4]=x,N[5]=B,N[6]=k,N[7]=R,N[8]=H,N}E.d(Ee,{a:()=>D,c:()=>C,f:()=>Z}),Object.freeze(Object.defineProperty({__proto__:null,clone:D,create:C,createView:function j(Y,V){return new Float32Array(Y,V,9)},fromValues:Z},Symbol.toStringTag,{value:"Module"}))},60838:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>W,a:()=>Oe,b:()=>R,c:()=>T,d:()=>O,e:()=>ve,f:()=>G,g:()=>U,i:()=>$,k:()=>H,m:()=>B,s:()=>j,t:()=>Y,w:()=>k,y:()=>Se,z:()=>Me});var C=E(8554),D=E(52593);function j(X,be,Re,Fe,qe,We,He,Ne,Ce,Pe,Ae,Be,ze,st,Xe,ot,ut){return X[0]=be,X[1]=Re,X[2]=Fe,X[3]=qe,X[4]=We,X[5]=He,X[6]=Ne,X[7]=Ce,X[8]=Pe,X[9]=Ae,X[10]=Be,X[11]=ze,X[12]=st,X[13]=Xe,X[14]=ot,X[15]=ut,X}function U(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Y(X,be){if(X===be){const Re=be[1],Fe=be[2],qe=be[3],We=be[6],He=be[7],Ne=be[11];X[1]=be[4],X[2]=be[8],X[3]=be[12],X[4]=Re,X[6]=be[9],X[7]=be[13],X[8]=Fe,X[9]=We,X[11]=be[14],X[12]=qe,X[13]=He,X[14]=Ne}else X[0]=be[0],X[1]=be[4],X[2]=be[8],X[3]=be[12],X[4]=be[1],X[5]=be[5],X[6]=be[9],X[7]=be[13],X[8]=be[2],X[9]=be[6],X[10]=be[10],X[11]=be[14],X[12]=be[3],X[13]=be[7],X[14]=be[11],X[15]=be[15];return X}function $(X,be){const Re=be[0],Fe=be[1],qe=be[2],We=be[3],He=be[4],Ne=be[5],Ce=be[6],Pe=be[7],Ae=be[8],Be=be[9],ze=be[10],st=be[11],Xe=be[12],ot=be[13],ut=be[14],Et=be[15],Lt=Re*Ne-Fe*He,Ut=Re*Ce-qe*He,kt=Re*Pe-We*He,Xt=Fe*Ce-qe*Ne,qt=Fe*Pe-We*Ne,un=qe*Pe-We*Ce,yt=Ae*ot-Be*Xe,ft=Ae*ut-ze*Xe,Ot=Ae*Et-st*Xe,Tt=Be*ut-ze*ot,Vt=Be*Et-st*ot,ln=ze*Et-st*ut;let nn=Lt*ln-Ut*Vt+kt*Tt+Xt*Ot-qt*ft+un*yt;return nn?(nn=1/nn,X[0]=(Ne*ln-Ce*Vt+Pe*Tt)*nn,X[1]=(qe*Vt-Fe*ln-We*Tt)*nn,X[2]=(ot*un-ut*qt+Et*Xt)*nn,X[3]=(ze*qt-Be*un-st*Xt)*nn,X[4]=(Ce*Ot-He*ln-Pe*ft)*nn,X[5]=(Re*ln-qe*Ot+We*ft)*nn,X[6]=(ut*kt-Xe*un-Et*Ut)*nn,X[7]=(Ae*un-ze*kt+st*Ut)*nn,X[8]=(He*Vt-Ne*Ot+Pe*yt)*nn,X[9]=(Fe*Ot-Re*Vt-We*yt)*nn,X[10]=(Xe*qt-ot*kt+Et*Lt)*nn,X[11]=(Be*kt-Ae*qt-st*Lt)*nn,X[12]=(Ne*ft-He*Tt-Ce*yt)*nn,X[13]=(Re*Tt-Fe*ft+qe*yt)*nn,X[14]=(ot*Ut-Xe*Xt-ut*Lt)*nn,X[15]=(Ae*Xt-Be*Ut+ze*Lt)*nn,X):null}function B(X,be,Re){const Fe=be[0],qe=be[1],We=be[2],He=be[3],Ne=be[4],Ce=be[5],Pe=be[6],Ae=be[7],Be=be[8],ze=be[9],st=be[10],Xe=be[11],ot=be[12],ut=be[13],Et=be[14],Lt=be[15];let Ut=Re[0],kt=Re[1],Xt=Re[2],qt=Re[3];return X[0]=Ut*Fe+kt*Ne+Xt*Be+qt*ot,X[1]=Ut*qe+kt*Ce+Xt*ze+qt*ut,X[2]=Ut*We+kt*Pe+Xt*st+qt*Et,X[3]=Ut*He+kt*Ae+Xt*Xe+qt*Lt,Ut=Re[4],kt=Re[5],Xt=Re[6],qt=Re[7],X[4]=Ut*Fe+kt*Ne+Xt*Be+qt*ot,X[5]=Ut*qe+kt*Ce+Xt*ze+qt*ut,X[6]=Ut*We+kt*Pe+Xt*st+qt*Et,X[7]=Ut*He+kt*Ae+Xt*Xe+qt*Lt,Ut=Re[8],kt=Re[9],Xt=Re[10],qt=Re[11],X[8]=Ut*Fe+kt*Ne+Xt*Be+qt*ot,X[9]=Ut*qe+kt*Ce+Xt*ze+qt*ut,X[10]=Ut*We+kt*Pe+Xt*st+qt*Et,X[11]=Ut*He+kt*Ae+Xt*Xe+qt*Lt,Ut=Re[12],kt=Re[13],Xt=Re[14],qt=Re[15],X[12]=Ut*Fe+kt*Ne+Xt*Be+qt*ot,X[13]=Ut*qe+kt*Ce+Xt*ze+qt*ut,X[14]=Ut*We+kt*Pe+Xt*st+qt*Et,X[15]=Ut*He+kt*Ae+Xt*Xe+qt*Lt,X}function k(X,be,Re){const Fe=Re[0],qe=Re[1],We=Re[2];if(be===X)X[12]=be[0]*Fe+be[4]*qe+be[8]*We+be[12],X[13]=be[1]*Fe+be[5]*qe+be[9]*We+be[13],X[14]=be[2]*Fe+be[6]*qe+be[10]*We+be[14],X[15]=be[3]*Fe+be[7]*qe+be[11]*We+be[15];else{const He=be[0],Ne=be[1],Ce=be[2],Pe=be[3],Ae=be[4],Be=be[5],ze=be[6],st=be[7],Xe=be[8],ot=be[9],ut=be[10],Et=be[11];X[0]=He,X[1]=Ne,X[2]=Ce,X[3]=Pe,X[4]=Ae,X[5]=Be,X[6]=ze,X[7]=st,X[8]=Xe,X[9]=ot,X[10]=ut,X[11]=Et,X[12]=He*Fe+Ae*qe+Xe*We+be[12],X[13]=Ne*Fe+Be*qe+ot*We+be[13],X[14]=Ce*Fe+ze*qe+ut*We+be[14],X[15]=Pe*Fe+st*qe+Et*We+be[15]}return X}function R(X,be,Re){const Fe=Re[0],qe=Re[1],We=Re[2];return X[0]=be[0]*Fe,X[1]=be[1]*Fe,X[2]=be[2]*Fe,X[3]=be[3]*Fe,X[4]=be[4]*qe,X[5]=be[5]*qe,X[6]=be[6]*qe,X[7]=be[7]*qe,X[8]=be[8]*We,X[9]=be[9]*We,X[10]=be[10]*We,X[11]=be[11]*We,X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15],X}function H(X,be,Re,Fe){let qe,We,He,Ne,Ce,Pe,Ae,Be,ze,st,Xe,ot,ut,Et,Lt,Ut,kt,Xt,qt,un,yt,ft,Ot,Tt,Vt=Fe[0],ln=Fe[1],nn=Fe[2],an=Math.sqrt(Vt*Vt+ln*ln+nn*nn);return an<(0,D.g)()?null:(an=1/an,Vt*=an,ln*=an,nn*=an,qe=Math.sin(Re),We=Math.cos(Re),He=1-We,Ne=be[0],Ce=be[1],Pe=be[2],Ae=be[3],Be=be[4],ze=be[5],st=be[6],Xe=be[7],ot=be[8],ut=be[9],Et=be[10],Lt=be[11],Ut=Vt*Vt*He+We,kt=ln*Vt*He+nn*qe,Xt=nn*Vt*He-ln*qe,qt=Vt*ln*He-nn*qe,un=ln*ln*He+We,yt=nn*ln*He+Vt*qe,ft=Vt*nn*He+ln*qe,Ot=ln*nn*He-Vt*qe,Tt=nn*nn*He+We,X[0]=Ne*Ut+Be*kt+ot*Xt,X[1]=Ce*Ut+ze*kt+ut*Xt,X[2]=Pe*Ut+st*kt+Et*Xt,X[3]=Ae*Ut+Xe*kt+Lt*Xt,X[4]=Ne*qt+Be*un+ot*yt,X[5]=Ce*qt+ze*un+ut*yt,X[6]=Pe*qt+st*un+Et*yt,X[7]=Ae*qt+Xe*un+Lt*yt,X[8]=Ne*ft+Be*Ot+ot*Tt,X[9]=Ce*ft+ze*Ot+ut*Tt,X[10]=Pe*ft+st*Ot+Et*Tt,X[11]=Ae*ft+Xe*Ot+Lt*Tt,be!==X&&(X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15]),X)}function O(X,be){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=be[0],X[13]=be[1],X[14]=be[2],X[15]=1,X}function T(X,be,Re){if(0===be)return U(X);let Fe,qe,We,He=Re[0],Ne=Re[1],Ce=Re[2],Pe=Math.sqrt(He*He+Ne*Ne+Ce*Ce);return Pe<(0,D.g)()?null:(Pe=1/Pe,He*=Pe,Ne*=Pe,Ce*=Pe,Fe=Math.sin(be),qe=Math.cos(be),We=1-qe,X[0]=He*He*We+qe,X[1]=Ne*He*We+Ce*Fe,X[2]=Ce*He*We-Ne*Fe,X[3]=0,X[4]=He*Ne*We-Ce*Fe,X[5]=Ne*Ne*We+qe,X[6]=Ce*Ne*We+He*Fe,X[7]=0,X[8]=He*Ce*We+Ne*Fe,X[9]=Ne*Ce*We-He*Fe,X[10]=Ce*Ce*We+qe,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X)}function W(X,be){const Re=Math.sin(be),Fe=Math.cos(be);return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=Fe,X[6]=Re,X[7]=0,X[8]=0,X[9]=-Re,X[10]=Fe,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}function Q(X,be,Re){const Fe=be[0],qe=be[1],We=be[2],He=be[3],Ne=Fe+Fe,Ce=qe+qe,Pe=We+We,Ae=Fe*Ne,Be=Fe*Ce,ze=Fe*Pe,st=qe*Ce,Xe=qe*Pe,ot=We*Pe,ut=He*Ne,Et=He*Ce,Lt=He*Pe;return X[0]=1-(st+ot),X[1]=Be+Lt,X[2]=ze-Et,X[3]=0,X[4]=Be-Lt,X[5]=1-(Ae+ot),X[6]=Xe+ut,X[7]=0,X[8]=ze+Et,X[9]=Xe-ut,X[10]=1-(Ae+st),X[11]=0,X[12]=Re[0],X[13]=Re[1],X[14]=Re[2],X[15]=1,X}const oe=(0,C.c)();function G(X,be,Re,Fe){const qe=be[0],We=be[1],He=be[2],Ne=be[3],Ce=qe+qe,Pe=We+We,Ae=He+He,Be=qe*Ce,ze=qe*Pe,st=qe*Ae,Xe=We*Pe,ot=We*Ae,ut=He*Ae,Et=Ne*Ce,Lt=Ne*Pe,Ut=Ne*Ae,kt=Fe[0],Xt=Fe[1],qt=Fe[2];return X[0]=(1-(Xe+ut))*kt,X[1]=(ze+Ut)*kt,X[2]=(st-Lt)*kt,X[3]=0,X[4]=(ze-Ut)*Xt,X[5]=(1-(Be+ut))*Xt,X[6]=(ot+Et)*Xt,X[7]=0,X[8]=(st+Lt)*qt,X[9]=(ot-Et)*qt,X[10]=(1-(Be+Xe))*qt,X[11]=0,X[12]=Re[0],X[13]=Re[1],X[14]=Re[2],X[15]=1,X}function pe(X,be,Re){return X[0]=be[0]-Re[0],X[1]=be[1]-Re[1],X[2]=be[2]-Re[2],X[3]=be[3]-Re[3],X[4]=be[4]-Re[4],X[5]=be[5]-Re[5],X[6]=be[6]-Re[6],X[7]=be[7]-Re[7],X[8]=be[8]-Re[8],X[9]=be[9]-Re[9],X[10]=be[10]-Re[10],X[11]=be[11]-Re[11],X[12]=be[12]-Re[12],X[13]=be[13]-Re[13],X[14]=be[14]-Re[14],X[15]=be[15]-Re[15],X}function ve(X,be){return X[0]===be[0]&&X[1]===be[1]&&X[2]===be[2]&&X[3]===be[3]&&X[4]===be[4]&&X[5]===be[5]&&X[6]===be[6]&&X[7]===be[7]&&X[8]===be[8]&&X[9]===be[9]&&X[10]===be[10]&&X[11]===be[11]&&X[12]===be[12]&&X[13]===be[13]&&X[14]===be[14]&&X[15]===be[15]}function Oe(X,be){if(X===be)return!0;const Re=X[0],Fe=X[1],qe=X[2],We=X[3],He=X[4],Ne=X[5],Ce=X[6],Pe=X[7],Ae=X[8],Be=X[9],ze=X[10],st=X[11],Xe=X[12],ot=X[13],ut=X[14],Et=X[15],Lt=be[0],Ut=be[1],kt=be[2],Xt=be[3],qt=be[4],un=be[5],yt=be[6],ft=be[7],Ot=be[8],Tt=be[9],Vt=be[10],ln=be[11],nn=be[12],an=be[13],mn=be[14],Cn=be[15],vn=(0,D.g)();return Math.abs(Re-Lt)<=vn*Math.max(1,Math.abs(Re),Math.abs(Lt))&&Math.abs(Fe-Ut)<=vn*Math.max(1,Math.abs(Fe),Math.abs(Ut))&&Math.abs(qe-kt)<=vn*Math.max(1,Math.abs(qe),Math.abs(kt))&&Math.abs(We-Xt)<=vn*Math.max(1,Math.abs(We),Math.abs(Xt))&&Math.abs(He-qt)<=vn*Math.max(1,Math.abs(He),Math.abs(qt))&&Math.abs(Ne-un)<=vn*Math.max(1,Math.abs(Ne),Math.abs(un))&&Math.abs(Ce-yt)<=vn*Math.max(1,Math.abs(Ce),Math.abs(yt))&&Math.abs(Pe-ft)<=vn*Math.max(1,Math.abs(Pe),Math.abs(ft))&&Math.abs(Ae-Ot)<=vn*Math.max(1,Math.abs(Ae),Math.abs(Ot))&&Math.abs(Be-Tt)<=vn*Math.max(1,Math.abs(Be),Math.abs(Tt))&&Math.abs(ze-Vt)<=vn*Math.max(1,Math.abs(ze),Math.abs(Vt))&&Math.abs(st-ln)<=vn*Math.max(1,Math.abs(st),Math.abs(ln))&&Math.abs(Xe-nn)<=vn*Math.max(1,Math.abs(Xe),Math.abs(nn))&&Math.abs(ot-an)<=vn*Math.max(1,Math.abs(ot),Math.abs(an))&&Math.abs(ut-mn)<=vn*Math.max(1,Math.abs(ut),Math.abs(mn))&&Math.abs(Et-Cn)<=vn*Math.max(1,Math.abs(Et),Math.abs(Cn))}function Me(X){const be=(0,D.g)(),Re=X[0],Fe=X[1],qe=X[2],We=X[4],He=X[5],Ne=X[6],Ce=X[8],Pe=X[9],Ae=X[10];return Math.abs(1-(Re*Re+We*We+Ce*Ce))<=be&&Math.abs(1-(Fe*Fe+He*He+Pe*Pe))<=be&&Math.abs(1-(qe*qe+Ne*Ne+Ae*Ae))<=be}function Se(X){return 1===X[0]&&0===X[1]&&0===X[2]&&0===X[4]&&1===X[5]&&0===X[6]&&0===X[8]&&0===X[9]&&1===X[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function ne(X,be,Re){return X[0]=be[0]+Re[0],X[1]=be[1]+Re[1],X[2]=be[2]+Re[2],X[3]=be[3]+Re[3],X[4]=be[4]+Re[4],X[5]=be[5]+Re[5],X[6]=be[6]+Re[6],X[7]=be[7]+Re[7],X[8]=be[8]+Re[8],X[9]=be[9]+Re[9],X[10]=be[10]+Re[10],X[11]=be[11]+Re[11],X[12]=be[12]+Re[12],X[13]=be[13]+Re[13],X[14]=be[14]+Re[14],X[15]=be[15]+Re[15],X},adjoint:function L(X,be){const Re=be[0],Fe=be[1],qe=be[2],We=be[3],He=be[4],Ne=be[5],Ce=be[6],Pe=be[7],Ae=be[8],Be=be[9],ze=be[10],st=be[11],Xe=be[12],ot=be[13],ut=be[14],Et=be[15];return X[0]=Ne*(ze*Et-st*ut)-Be*(Ce*Et-Pe*ut)+ot*(Ce*st-Pe*ze),X[1]=-(Fe*(ze*Et-st*ut)-Be*(qe*Et-We*ut)+ot*(qe*st-We*ze)),X[2]=Fe*(Ce*Et-Pe*ut)-Ne*(qe*Et-We*ut)+ot*(qe*Pe-We*Ce),X[3]=-(Fe*(Ce*st-Pe*ze)-Ne*(qe*st-We*ze)+Be*(qe*Pe-We*Ce)),X[4]=-(He*(ze*Et-st*ut)-Ae*(Ce*Et-Pe*ut)+Xe*(Ce*st-Pe*ze)),X[5]=Re*(ze*Et-st*ut)-Ae*(qe*Et-We*ut)+Xe*(qe*st-We*ze),X[6]=-(Re*(Ce*Et-Pe*ut)-He*(qe*Et-We*ut)+Xe*(qe*Pe-We*Ce)),X[7]=Re*(Ce*st-Pe*ze)-He*(qe*st-We*ze)+Ae*(qe*Pe-We*Ce),X[8]=He*(Be*Et-st*ot)-Ae*(Ne*Et-Pe*ot)+Xe*(Ne*st-Pe*Be),X[9]=-(Re*(Be*Et-st*ot)-Ae*(Fe*Et-We*ot)+Xe*(Fe*st-We*Be)),X[10]=Re*(Ne*Et-Pe*ot)-He*(Fe*Et-We*ot)+Xe*(Fe*Pe-We*Ne),X[11]=-(Re*(Ne*st-Pe*Be)-He*(Fe*st-We*Be)+Ae*(Fe*Pe-We*Ne)),X[12]=-(He*(Be*ut-ze*ot)-Ae*(Ne*ut-Ce*ot)+Xe*(Ne*ze-Ce*Be)),X[13]=Re*(Be*ut-ze*ot)-Ae*(Fe*ut-qe*ot)+Xe*(Fe*ze-qe*Be),X[14]=-(Re*(Ne*ut-Ce*ot)-He*(Fe*ut-qe*ot)+Xe*(Fe*Ce-qe*Ne)),X[15]=Re*(Ne*ze-Ce*Be)-He*(Fe*ze-qe*Be)+Ae*(Fe*Ce-qe*Ne),X},copy:function Z(X,be){return X[0]=be[0],X[1]=be[1],X[2]=be[2],X[3]=be[3],X[4]=be[4],X[5]=be[5],X[6]=be[6],X[7]=be[7],X[8]=be[8],X[9]=be[9],X[10]=be[10],X[11]=be[11],X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15],X},determinant:function x(X){const be=X[0],Re=X[1],Fe=X[2],qe=X[3],We=X[4],He=X[5],Ne=X[6],Ce=X[7],Pe=X[8],Ae=X[9],Be=X[10],ze=X[11],st=X[12],Xe=X[13],ot=X[14],ut=X[15];return(be*He-Re*We)*(Be*ut-ze*ot)-(be*Ne-Fe*We)*(Ae*ut-ze*Xe)+(be*Ce-qe*We)*(Ae*ot-Be*Xe)+(Re*Ne-Fe*He)*(Pe*ut-ze*st)-(Re*Ce-qe*He)*(Pe*ot-Be*st)+(Fe*Ce-qe*Ne)*(Pe*Xe-Ae*st)},equals:Oe,exactEquals:ve,frob:function ie(X){return Math.sqrt(X[0]**2+X[1]**2+X[2]**2+X[3]**2+X[4]**2+X[5]**2+X[6]**2+X[7]**2+X[8]**2+X[9]**2+X[10]**2+X[11]**2+X[12]**2+X[13]**2+X[14]**2+X[15]**2)},fromQuat:function q(X,be){const Re=be[0],Fe=be[1],qe=be[2],We=be[3],He=Re+Re,Ne=Fe+Fe,Ce=qe+qe,Pe=Re*He,Ae=Fe*He,Be=Fe*Ne,ze=qe*He,st=qe*Ne,Xe=qe*Ce,ot=We*He,ut=We*Ne,Et=We*Ce;return X[0]=1-Be-Xe,X[1]=Ae+Et,X[2]=ze-ut,X[3]=0,X[4]=Ae-Et,X[5]=1-Pe-Xe,X[6]=st+ot,X[7]=0,X[8]=ze+ut,X[9]=st-ot,X[10]=1-Pe-Be,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X},fromQuat2:function J(X,be){const Re=oe,Fe=-be[0],qe=-be[1],We=-be[2],He=be[3],Ne=be[4],Ce=be[5],Pe=be[6],Ae=be[7],Be=Fe*Fe+qe*qe+We*We+He*He;return Be>0?(Re[0]=2*(Ne*He+Ae*Fe+Ce*We-Pe*qe)/Be,Re[1]=2*(Ce*He+Ae*qe+Pe*Fe-Ne*We)/Be,Re[2]=2*(Pe*He+Ae*We+Ne*qe-Ce*Fe)/Be):(Re[0]=2*(Ne*He+Ae*Fe+Ce*We-Pe*qe),Re[1]=2*(Ce*He+Ae*qe+Pe*Fe-Ne*We),Re[2]=2*(Pe*He+Ae*We+Ne*qe-Ce*Fe)),Q(X,be,Re),X},fromRotation:T,fromRotationTranslation:Q,fromRotationTranslationScale:G,fromRotationTranslationScaleOrigin:function le(X,be,Re,Fe,qe){const We=be[0],He=be[1],Ne=be[2],Ce=be[3],Pe=We+We,Ae=He+He,Be=Ne+Ne,ze=We*Pe,st=We*Ae,Xe=We*Be,ot=He*Ae,ut=He*Be,Et=Ne*Be,Lt=Ce*Pe,Ut=Ce*Ae,kt=Ce*Be,Xt=Fe[0],qt=Fe[1],un=Fe[2],yt=qe[0],ft=qe[1],Ot=qe[2],Tt=(1-(ot+Et))*Xt,Vt=(st+kt)*Xt,ln=(Xe-Ut)*Xt,nn=(st-kt)*qt,an=(1-(ze+Et))*qt,mn=(ut+Lt)*qt,Cn=(Xe+Ut)*un,vn=(ut-Lt)*un,hr=(1-(ze+ot))*un;return X[0]=Tt,X[1]=Vt,X[2]=ln,X[3]=0,X[4]=nn,X[5]=an,X[6]=mn,X[7]=0,X[8]=Cn,X[9]=vn,X[10]=hr,X[11]=0,X[12]=Re[0]+yt-(Tt*yt+nn*ft+Cn*Ot),X[13]=Re[1]+ft-(Vt*yt+an*ft+vn*Ot),X[14]=Re[2]+Ot-(ln*yt+mn*ft+hr*Ot),X[15]=1,X},fromScaling:function I(X,be){return X[0]=be[0],X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=be[1],X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=be[2],X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X},fromTranslation:O,fromXRotation:W,fromYRotation:function z(X,be){const Re=Math.sin(be),Fe=Math.cos(be);return X[0]=Fe,X[1]=0,X[2]=-Re,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=Re,X[9]=0,X[10]=Fe,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X},fromZRotation:function F(X,be){const Re=Math.sin(be),Fe=Math.cos(be);return X[0]=Fe,X[1]=Re,X[2]=0,X[3]=0,X[4]=-Re,X[5]=Fe,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X},frustum:function fe(X,be,Re,Fe,qe,We,He){const Ne=1/(Re-be),Ce=1/(qe-Fe),Pe=1/(We-He);return X[0]=2*We*Ne,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=2*We*Ce,X[6]=0,X[7]=0,X[8]=(Re+be)*Ne,X[9]=(qe+Fe)*Ce,X[10]=(He+We)*Pe,X[11]=-1,X[12]=0,X[13]=0,X[14]=He*We*2*Pe,X[15]=0,X},getRotation:function he(X,be){const Re=be[0]+be[5]+be[10];let Fe=0;return Re>0?(Fe=2*Math.sqrt(Re+1),X[3]=.25*Fe,X[0]=(be[6]-be[9])/Fe,X[1]=(be[8]-be[2])/Fe,X[2]=(be[1]-be[4])/Fe):be[0]>be[5]&&be[0]>be[10]?(Fe=2*Math.sqrt(1+be[0]-be[5]-be[10]),X[3]=(be[6]-be[9])/Fe,X[0]=.25*Fe,X[1]=(be[1]+be[4])/Fe,X[2]=(be[8]+be[2])/Fe):be[5]>be[10]?(Fe=2*Math.sqrt(1+be[5]-be[0]-be[10]),X[3]=(be[8]-be[2])/Fe,X[0]=(be[1]+be[4])/Fe,X[1]=.25*Fe,X[2]=(be[6]+be[9])/Fe):(Fe=2*Math.sqrt(1+be[10]-be[0]-be[5]),X[3]=(be[1]-be[4])/Fe,X[0]=(be[8]+be[2])/Fe,X[1]=(be[6]+be[9])/Fe,X[2]=.25*Fe),X},getScaling:function ue(X,be){const Re=be[0],Fe=be[1],qe=be[2],We=be[4],He=be[5],Ne=be[6],Ce=be[8],Pe=be[9],Ae=be[10];return X[0]=Math.sqrt(Re*Re+Fe*Fe+qe*qe),X[1]=Math.sqrt(We*We+He*He+Ne*Ne),X[2]=Math.sqrt(Ce*Ce+Pe*Pe+Ae*Ae),X},getTranslation:function se(X,be){return X[0]=be[12],X[1]=be[13],X[2]=be[14],X},hasIdentityRotation:Se,identity:U,invert:$,invertOrIdentity:function V(X,be){return $(X,be)||U(X),X},isOrthoNormal:Me,lookAt:function ae(X,be,Re,Fe){const qe=be[0],We=be[1],He=be[2];let Ne=qe-Re[0],Ce=We-Re[1],Pe=He-Re[2];const Ae=(0,D.g)();if(Math.abs(Ne)<Ae&&Math.abs(Ce)<Ae&&Math.abs(Pe)<Ae)return void U(X);let Be=1/Math.sqrt(Ne*Ne+Ce*Ce+Pe*Pe);Ne*=Be,Ce*=Be,Pe*=Be;const ze=Fe[0],st=Fe[1],Xe=Fe[2];let ot=st*Pe-Xe*Ce,ut=Xe*Ne-ze*Pe,Et=ze*Ce-st*Ne;Be=Math.sqrt(ot*ot+ut*ut+Et*Et),Be?(Be=1/Be,ot*=Be,ut*=Be,Et*=Be):(ot=0,ut=0,Et=0);let Lt=Ce*Et-Pe*ut,Ut=Pe*ot-Ne*Et,kt=Ne*ut-Ce*ot;Be=Math.sqrt(Lt*Lt+Ut*Ut+kt*kt),Be?(Be=1/Be,Lt*=Be,Ut*=Be,kt*=Be):(Lt=0,Ut=0,kt=0),X[0]=ot,X[1]=Lt,X[2]=Ne,X[3]=0,X[4]=ut,X[5]=Ut,X[6]=Ce,X[7]=0,X[8]=Et,X[9]=kt,X[10]=Pe,X[11]=0,X[12]=-(ot*qe+ut*We+Et*He),X[13]=-(Lt*qe+Ut*We+kt*He),X[14]=-(Ne*qe+Ce*We+Pe*He),X[15]=1},mul:B,multiply:B,multiplyScalar:function ye(X,be,Re){return X[0]=be[0]*Re,X[1]=be[1]*Re,X[2]=be[2]*Re,X[3]=be[3]*Re,X[4]=be[4]*Re,X[5]=be[5]*Re,X[6]=be[6]*Re,X[7]=be[7]*Re,X[8]=be[8]*Re,X[9]=be[9]*Re,X[10]=be[10]*Re,X[11]=be[11]*Re,X[12]=be[12]*Re,X[13]=be[13]*Re,X[14]=be[14]*Re,X[15]=be[15]*Re,X},multiplyScalarAndAdd:function re(X,be,Re,Fe){return X[0]=be[0]+Re[0]*Fe,X[1]=be[1]+Re[1]*Fe,X[2]=be[2]+Re[2]*Fe,X[3]=be[3]+Re[3]*Fe,X[4]=be[4]+Re[4]*Fe,X[5]=be[5]+Re[5]*Fe,X[6]=be[6]+Re[6]*Fe,X[7]=be[7]+Re[7]*Fe,X[8]=be[8]+Re[8]*Fe,X[9]=be[9]+Re[9]*Fe,X[10]=be[10]+Re[10]*Fe,X[11]=be[11]+Re[11]*Fe,X[12]=be[12]+Re[12]*Fe,X[13]=be[13]+Re[13]*Fe,X[14]=be[14]+Re[14]*Fe,X[15]=be[15]+Re[15]*Fe,X},ortho:function te(X,be,Re,Fe,qe,We,He){const Ne=1/(be-Re),Ce=1/(Fe-qe),Pe=1/(We-He);return X[0]=-2*Ne,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=-2*Ce,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=2*Pe,X[11]=0,X[12]=(be+Re)*Ne,X[13]=(qe+Fe)*Ce,X[14]=(He+We)*Pe,X[15]=1,X},perspective:function ge(X,be,Re,Fe,qe){const We=1/Math.tan(be/2);let He;return X[0]=We/Re,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=We,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=-1,X[12]=0,X[13]=0,X[15]=0,null!=qe&&qe!==1/0?(He=1/(Fe-qe),X[10]=(qe+Fe)*He,X[14]=2*qe*Fe*He):(X[10]=-1,X[14]=-2*Fe),X},perspectiveFromFieldOfView:function me(X,be,Re,Fe){const qe=Math.tan(be.upDegrees*Math.PI/180),We=Math.tan(be.downDegrees*Math.PI/180),He=Math.tan(be.leftDegrees*Math.PI/180),Ne=Math.tan(be.rightDegrees*Math.PI/180),Ce=2/(He+Ne),Pe=2/(qe+We);return X[0]=Ce,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=Pe,X[6]=0,X[7]=0,X[8]=-(He-Ne)*Ce*.5,X[9]=(qe-We)*Pe*.5,X[10]=Fe/(Re-Fe),X[11]=-1,X[12]=0,X[13]=0,X[14]=Fe*Re/(Re-Fe),X[15]=0,X},rotate:H,rotateX:function N(X,be,Re){const Fe=Math.sin(Re),qe=Math.cos(Re),We=be[4],He=be[5],Ne=be[6],Ce=be[7],Pe=be[8],Ae=be[9],Be=be[10],ze=be[11];return be!==X&&(X[0]=be[0],X[1]=be[1],X[2]=be[2],X[3]=be[3],X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15]),X[4]=We*qe+Pe*Fe,X[5]=He*qe+Ae*Fe,X[6]=Ne*qe+Be*Fe,X[7]=Ce*qe+ze*Fe,X[8]=Pe*qe-We*Fe,X[9]=Ae*qe-He*Fe,X[10]=Be*qe-Ne*Fe,X[11]=ze*qe-Ce*Fe,X},rotateY:function P(X,be,Re){const Fe=Math.sin(Re),qe=Math.cos(Re),We=be[0],He=be[1],Ne=be[2],Ce=be[3],Pe=be[8],Ae=be[9],Be=be[10],ze=be[11];return be!==X&&(X[4]=be[4],X[5]=be[5],X[6]=be[6],X[7]=be[7],X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15]),X[0]=We*qe-Pe*Fe,X[1]=He*qe-Ae*Fe,X[2]=Ne*qe-Be*Fe,X[3]=Ce*qe-ze*Fe,X[8]=We*Fe+Pe*qe,X[9]=He*Fe+Ae*qe,X[10]=Ne*Fe+Be*qe,X[11]=Ce*Fe+ze*qe,X},rotateZ:function w(X,be,Re){const Fe=Math.sin(Re),qe=Math.cos(Re),We=be[0],He=be[1],Ne=be[2],Ce=be[3],Pe=be[4],Ae=be[5],Be=be[6],ze=be[7];return be!==X&&(X[8]=be[8],X[9]=be[9],X[10]=be[10],X[11]=be[11],X[12]=be[12],X[13]=be[13],X[14]=be[14],X[15]=be[15]),X[0]=We*qe+Pe*Fe,X[1]=He*qe+Ae*Fe,X[2]=Ne*qe+Be*Fe,X[3]=Ce*qe+ze*Fe,X[4]=Pe*qe-We*Fe,X[5]=Ae*qe-He*Fe,X[6]=Be*qe-Ne*Fe,X[7]=ze*qe-Ce*Fe,X},scale:R,set:j,str:function ce(X){return"mat4("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+", "+X[9]+", "+X[10]+", "+X[11]+", "+X[12]+", "+X[13]+", "+X[14]+", "+X[15]+")"},sub:pe,subtract:pe,targetTo:function ee(X,be,Re,Fe){const qe=be[0],We=be[1],He=be[2],Ne=Fe[0],Ce=Fe[1],Pe=Fe[2];let Ae=qe-Re[0],Be=We-Re[1],ze=He-Re[2],st=Ae*Ae+Be*Be+ze*ze;st>0&&(st=1/Math.sqrt(st),Ae*=st,Be*=st,ze*=st);let Xe=Ce*ze-Pe*Be,ot=Pe*Ae-Ne*ze,ut=Ne*Be-Ce*Ae;return st=Xe*Xe+ot*ot+ut*ut,st>0&&(st=1/Math.sqrt(st),Xe*=st,ot*=st,ut*=st),X[0]=Xe,X[1]=ot,X[2]=ut,X[3]=0,X[4]=Be*ut-ze*ot,X[5]=ze*Xe-Ae*ut,X[6]=Ae*ot-Be*Xe,X[7]=0,X[8]=Ae,X[9]=Be,X[10]=ze,X[11]=0,X[12]=qe,X[13]=We,X[14]=He,X[15]=1,X},translate:k,transpose:Y},Symbol.toStringTag,{value:"Module"}))},39392:(Ke,Ee,E)=>{"use strict";E.d(Ee,{P:()=>x,a:()=>L,g:()=>$,h:()=>H,i:()=>U,j:()=>I,l:()=>V,p:()=>oe});var C=E(98930),D=E(14007);let Z,j=null;function U(){return!!j}function V(){return Z||(Z=E.e(1587).then(E.bind(E,31587)).then(se=>se.p).then(({default:se})=>se({locateFile:ue=>(0,C.V)(`esri/geometry/support/${ue}`)})).then(se=>{W(se)}),Z)}var $,L,x,se;(function(se){function ue(q,fe,ge){j.ensureCache.prepare();const me=Q(ge),te=ge===me,ae=j.ensureFloat64(me),ee=j._pe_geog_to_proj(j.getPointer(q),fe,ae);return ee&&J(ge,fe,ae,te),ee}function G(q,fe,ge){return le(q,fe,ge,0)}function le(q,fe,ge,me){j.ensureCache.prepare();const te=Q(ge),ae=ge===te,ee=j.ensureFloat64(te),ce=j._pe_proj_to_geog_center(j.getPointer(q),fe,ee,me);return ce&&J(ge,fe,ee,ae),ce}se.geogToProj=ue,se.projGeog=function he(q,fe,ge,me){switch(me){case L.PE_TRANSFORM_P_TO_G:return G(q,fe,ge);case L.PE_TRANSFORM_G_TO_P:return ue(q,fe,ge)}return 0},se.projToGeog=G,se.projToGeogCenter=le})($||($={})),(se=L||(L={})).init=function ue(){se.PE_BUFFER_MAX=j.PeDefs.prototype.PE_BUFFER_MAX,se.PE_NAME_MAX=j.PeDefs.prototype.PE_NAME_MAX,se.PE_MGRS_MAX=j.PeDefs.prototype.PE_MGRS_MAX,se.PE_USNG_MAX=j.PeDefs.prototype.PE_USNG_MAX,se.PE_DD_MAX=j.PeDefs.prototype.PE_DD_MAX,se.PE_DDM_MAX=j.PeDefs.prototype.PE_DDM_MAX,se.PE_DMS_MAX=j.PeDefs.prototype.PE_DMS_MAX,se.PE_UTM_MAX=j.PeDefs.prototype.PE_UTM_MAX,se.PE_PARM_MAX=j.PeDefs.prototype.PE_PARM_MAX,se.PE_TYPE_NONE=j.PeDefs.prototype.PE_TYPE_NONE,se.PE_TYPE_GEOGCS=j.PeDefs.prototype.PE_TYPE_GEOGCS,se.PE_TYPE_PROJCS=j.PeDefs.prototype.PE_TYPE_PROJCS,se.PE_TYPE_GEOGTRAN=j.PeDefs.prototype.PE_TYPE_GEOGTRAN,se.PE_TYPE_COORDSYS=j.PeDefs.prototype.PE_TYPE_COORDSYS,se.PE_TYPE_UNIT=j.PeDefs.prototype.PE_TYPE_UNIT,se.PE_TYPE_LINUNIT=j.PeDefs.prototype.PE_TYPE_LINUNIT,se.PE_STR_OPTS_NONE=j.PeDefs.prototype.PE_STR_OPTS_NONE,se.PE_STR_AUTH_NONE=j.PeDefs.prototype.PE_STR_AUTH_NONE,se.PE_STR_AUTH_TOP=j.PeDefs.prototype.PE_STR_AUTH_TOP,se.PE_STR_NAME_CANON=j.PeDefs.prototype.PE_STR_NAME_CANON,se.PE_STR_FMT_WKT=j.PeDefs.prototype.PE_STR_FMT_WKT,se.PE_STR_FMT_WKT2=j.PeDefs.prototype.PE_STR_FMT_WKT2,se.PE_PARM_X0=j.PeDefs.prototype.PE_PARM_X0,se.PE_PARM_ND=j.PeDefs.prototype.PE_PARM_ND,se.PE_TRANSFORM_1_TO_2=j.PeDefs.prototype.PE_TRANSFORM_1_TO_2,se.PE_TRANSFORM_2_TO_1=j.PeDefs.prototype.PE_TRANSFORM_2_TO_1,se.PE_TRANSFORM_P_TO_G=j.PeDefs.prototype.PE_TRANSFORM_P_TO_G,se.PE_TRANSFORM_G_TO_P=j.PeDefs.prototype.PE_TRANSFORM_G_TO_P,se.PE_HORIZON_RECT=j.PeDefs.prototype.PE_HORIZON_RECT,se.PE_HORIZON_POLY=j.PeDefs.prototype.PE_HORIZON_POLY,se.PE_HORIZON_LINE=j.PeDefs.prototype.PE_HORIZON_LINE,se.PE_HORIZON_DELTA=j.PeDefs.prototype.PE_HORIZON_DELTA},function(se){const ue={},he={},G=ie=>{if(ie){const ne=ie.getType();switch(ne){case L.PE_TYPE_GEOGCS:ie=j.castObject(ie,j.PeGeogcs);break;case L.PE_TYPE_PROJCS:ie=j.castObject(ie,j.PeProjcs);break;case L.PE_TYPE_GEOGTRAN:ie=j.castObject(ie,j.PeGeogtran);break;default:ne&L.PE_TYPE_UNIT&&(ie=j.castObject(ie,j.PeUnit))}}return ie};function fe(ie,ne){let pe=null,ye=ue[ie];if(ye||(ye={},ue[ie]=ye),ye.hasOwnProperty(String(ne)))pe=ye[ne];else{const re=j.PeFactory.prototype.factoryByType(ie,ne);j.compare(re,j.NULL)||(pe=re,ye[ne]=pe)}return pe=G(pe),pe}se.initialize=function le(){j.PeFactory.prototype.initialize(null)},se.coordsys=function q(ie){return fe(L.PE_TYPE_COORDSYS,ie)},se.factoryByType=fe,se.fromString=function ge(ie,ne){let pe=null,ye=he[ie];if(ye||(ye={},he[ie]=ye),ye.hasOwnProperty(ne))pe=ye[ne];else{const re=j.PeFactory.prototype.fromString(ie,ne);j.compare(re,j.NULL)||(pe=re,ye[ne]=pe)}return pe=G(pe),pe},se.geogcs=function me(ie){return fe(L.PE_TYPE_GEOGCS,ie)},se.geogtran=function te(ie){return fe(L.PE_TYPE_GEOGTRAN,ie)},se.getCode=function ae(ie){return j.PeFactory.prototype.getCode(ie)},se.projcs=function ee(ie){return fe(L.PE_TYPE_PROJCS,ie)},se.unit=function ce(ie){return fe(L.PE_TYPE_UNIT,ie)}}(x||(x={}));let B=null;var k,R,H,N,P,w,O,I,T;function W(se){function ue(q,fe,ge){q[fe]=ge(q[fe])}j=se,L.init(),k.init(),P.init(),O.init(),I.init(),B=class extends j.PeGCSExtent{destroy(){j.destroy(this)}};const he=[j.PeDatum,j.PeGeogcs,j.PeGeogtran,j.PeObject,j.PeParameter,j.PePrimem,j.PeProjcs,j.PeSpheroid,j.PeUnit];for(const q of he)ue(q.prototype,"getName",fe=>function(){return fe.call(this,new Array(L.PE_NAME_MAX))});for(const q of[j.PeGeogtran,j.PeProjcs])ue(q.prototype,"getParameters",fe=>function(){const ge=new Array(L.PE_PARM_MAX);let me=fe.call(this);for(let te=0;te<ge.length;te++){const ae=j.getValue(me,"*");ge[te]=ae?j.wrapPointer(ae,j.PeParameter):null,me+=Int32Array.BYTES_PER_ELEMENT}return ge});ue(j.PeHorizon.prototype,"getCoord",q=>function(){const fe=this.getSize();if(!fe)return null;const ge=[];return J(ge,fe,q.call(this)),ge}),ue(j.PeGTlistExtendedEntry.prototype,"getEntries",q=>{const fe=j._pe_getPeGTlistExtendedGTsSize();return function(){let ge=null;const me=q.call(this);if(!j.compare(me,j.NULL)){ge=[me];const te=this.getSteps();if(te>1){const ae=j.getPointer(me);for(let ee=1;ee<te;ee++)ge.push(j.wrapPointer(ae+fe*ee,j.PeGTlistExtendedGTs))}}return ge}});const G=j._pe_getPeHorizonSize(),le=q=>function(){let fe=this._cache;if(fe||(fe=new Map,this._cache=fe),fe.has(q))return fe.get(q);let ge=null;const me=q.call(this);if(!j.compare(me,j.NULL)){ge=[me];const te=me.getNump();if(te>1){const ae=j.getPointer(me);for(let ee=1;ee<te;ee++)ge.push(j.wrapPointer(ae+G*ee,j.PeHorizon))}}return fe.set(q,ge),ge};ue(j.PeProjcs.prototype,"horizonGcsGenerate",le),ue(j.PeProjcs.prototype,"horizonPcsGenerate",le),j.PeObject.prototype.toString=function(q=L.PE_STR_OPTS_NONE){j.ensureCache.prepare();const fe=j.getPointer(this),ge=j.ensureInt8(new Array(L.PE_BUFFER_MAX));return j.UTF8ToString(j._pe_object_to_string_ext(fe,q,ge))}}function z(se){if(!se)return;const ue=j.getClass(se);if(!ue)return;const he=j.getCache(ue);if(!he)return;const G=j.getPointer(se);G&&delete he[G]}function F(se,ue){const he=[],G=new Array(ue);for(let le=0;le<se;le++)he.push(j.ensureInt8(G));return he}function Q(se){let ue;return Array.isArray(se[0])?(ue=[],se.forEach(he=>{ue.push(he[0],he[1])})):ue=se,ue}function J(se,ue,he,G=!1){if(G)for(let le=0;le<2*ue;le++)se[le]=j.getValue(he+le*Float64Array.BYTES_PER_ELEMENT,"double");else{const le=0===se.length;for(let q=0;q<ue;q++)le&&(se[q]=new Array(2)),se[q][0]=j.getValue(he,"double"),se[q][1]=j.getValue(he+Float64Array.BYTES_PER_ELEMENT,"double"),he+=2*Float64Array.BYTES_PER_ELEMENT}}(function(se){let ue;se.init=function he(){se.PE_GTLIST_OPTS_COMMON=j.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,ue=j._pe_getPeGTlistExtendedEntrySize()},se.getGTlist=function G(le,q,fe,ge,me,te){let ae=null;const ee=new j.PeInteger(te);try{const ce=j.PeGTlistExtended.prototype.getGTlist(le,q,fe,ge,me,ee);if((te=ee.val)&&(ae=[ce],te>1)){const ie=j.getPointer(ce);for(let ne=1;ne<te;ne++)ae.push(j.wrapPointer(ie+ue*ne,j.PeGTlistExtendedEntry))}}finally{j.destroy(ee)}return ae}})(k||(k={})),function(se){se.destroy=function ue(he){if(he?.length){for(const G of he)z(G),G.getEntries().forEach(le=>{z(le);const q=le.getGeogtran();z(q),q.getParameters().forEach(z),[q.getGeogcs1(),q.getGeogcs2()].forEach(fe=>{z(fe);const ge=fe.getDatum();z(ge),z(ge.getSpheroid()),z(fe.getPrimem()),z(fe.getUnit())})});j.PeGTlistExtendedEntry.prototype.Delete(he[0])}}}(R||(R={})),function(se){se.geogToGeog=function ue(he,G,le,q,fe){j.ensureCache.prepare();const ge=Q(le),me=le===ge,te=j.ensureFloat64(ge);let ae=0;q&&(ae=j.ensureFloat64(q));const ee=j._pe_geog_to_geog(j.getPointer(he),G,te,ae,fe);return ee&&J(le,G,te,me),ee}}(H||(H={})),function(se){const ue=(te,ae,ee,ce,ie,ne)=>{let pe,ye;switch(j.ensureCache.prepare(),te){case"dd":pe=j._pe_geog_to_dd,ye=L.PE_DD_MAX;break;case"ddm":pe=j._pe_geog_to_ddm,ye=L.PE_DDM_MAX;break;case"dms":pe=j._pe_geog_to_dms,ye=L.PE_DMS_MAX}let re=0;ae&&(re=j.getPointer(ae));const ve=Q(ce),Oe=j.ensureFloat64(ve),Me=F(ee,ye),Se=pe(re,ee,Oe,ie,j.ensureInt32(Me));if(Se)for(let ke=0;ke<ee;ke++)ne[ke]=j.UTF8ToString(Me[ke]);return Se},he=(te,ae,ee,ce,ie)=>{let ne;switch(j.ensureCache.prepare(),te){case"dd":ne=j._pe_dd_to_geog;break;case"ddm":ne=j._pe_ddm_to_geog;break;case"dms":ne=j._pe_dms_to_geog}let pe=0;ae&&(pe=j.getPointer(ae));const ye=ce.map(Me=>j.ensureString(Me)),re=j.ensureInt32(ye),ve=j.ensureFloat64(new Array(2*ee)),Oe=ne(pe,ee,re,ve);return Oe&&J(ie,ee,ve),Oe};se.geogToDms=function G(te,ae,ee,ce,ie){return ue("dms",te,ae,ee,ce,ie)},se.dmsToGeog=function le(te,ae,ee,ce){return he("dms",te,ae,ee,ce)},se.geogToDdm=function q(te,ae,ee,ce,ie){return ue("ddm",te,ae,ee,ce,ie)},se.ddmToGeog=function fe(te,ae,ee,ce){return he("ddm",te,ae,ee,ce)},se.geogToDd=function ge(te,ae,ee,ce,ie){return ue("dd",te,ae,ee,ce,ie)},se.ddToGeog=function me(te,ae,ee,ce){return he("dd",te,ae,ee,ce)}}(N||(N={})),function(se){se.init=function ue(){se.PE_MGRS_STYLE_NEW=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,se.PE_MGRS_STYLE_OLD=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,se.PE_MGRS_STYLE_AUTO=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,se.PE_MGRS_180_ZONE_1_PLUS=j.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,se.PE_MGRS_ADD_SPACES=j.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},se.geogToMgrsExtended=function he(le,q,fe,ge,me,te,ae){j.ensureCache.prepare();let ee=0;le&&(ee=j.getPointer(le));const ce=Q(fe),ie=j.ensureFloat64(ce),ne=F(q,L.PE_MGRS_MAX),pe=j.ensureInt32(ne),ye=j._pe_geog_to_mgrs_extended(ee,q,ie,ge,me,te,pe);if(ye)for(let re=0;re<q;re++)ae[re]=j.UTF8ToString(ne[re]);return ye},se.mgrsToGeogExtended=function G(le,q,fe,ge,me){j.ensureCache.prepare();let te=0;le&&(te=j.getPointer(le));const ae=fe.map(ne=>j.ensureString(ne)),ee=j.ensureInt32(ae),ce=j.ensureFloat64(new Array(2*q)),ie=j._pe_mgrs_to_geog_extended(te,q,ee,ge,ce);return ie&&J(me,q,ce),ie}}(P||(P={})),function(se){se.geogToUsng=function ue(G,le,q,fe,ge,me,te){j.ensureCache.prepare();let ae=0;G&&(ae=j.getPointer(G));const ee=Q(q),ce=j.ensureFloat64(ee),ie=F(le,L.PE_MGRS_MAX),ne=j.ensureInt32(ie),pe=j._pe_geog_to_usng(ae,le,ce,fe,ge,me,ne);if(pe)for(let ye=0;ye<le;ye++)te[ye]=j.UTF8ToString(ie[ye]);return pe},se.usngToGeog=function he(G,le,q,fe){j.ensureCache.prepare();let ge=0;G&&(ge=j.getPointer(G));const me=q.map(ce=>j.ensureString(ce)),te=j.ensureInt32(me),ae=j.ensureFloat64(new Array(2*le)),ee=j._pe_usng_to_geog(ge,le,te,ae);return ee&&J(fe,le,ae),ee}}(w||(w={})),function(se){se.init=function ue(){se.PE_UTM_OPTS_NONE=j.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,se.PE_UTM_OPTS_ADD_SPACES=j.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,se.PE_UTM_OPTS_NS=j.PeNotationUtm.prototype.PE_UTM_OPTS_NS},se.geogToUtm=function he(le,q,fe,ge,me){j.ensureCache.prepare();let te=0;le&&(te=j.getPointer(le));const ae=Q(fe),ee=j.ensureFloat64(ae),ce=F(q,L.PE_UTM_MAX),ie=j.ensureInt32(ce),ne=j._pe_geog_to_utm(te,q,ee,ge,ie);if(ne)for(let pe=0;pe<q;pe++)me[pe]=j.UTF8ToString(ce[pe]);return ne},se.utmToGeog=function G(le,q,fe,ge,me){j.ensureCache.prepare();let te=0;le&&(te=j.getPointer(le));const ae=fe.map(ne=>j.ensureString(ne)),ee=j.ensureInt32(ae),ce=j.ensureFloat64(new Array(2*q)),ie=j._pe_utm_to_geog(te,q,ee,ge,ce);return ie&&J(me,q,ce),ie}}(O||(O={})),function(se){const ue=new Map;se.init=function he(){se.PE_PCSINFO_OPTION_NONE=j.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,se.PE_PCSINFO_OPTION_DOMAIN=j.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,se.PE_POLE_OUTSIDE_BOUNDARY=j.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,se.PE_POLE_POINT=j.PePCSInfo.prototype.PE_POLE_POINT},se.generate=function G(le,q=se.PE_PCSINFO_OPTION_DOMAIN){let fe=null,ge=null;return ue.has(le)&&(ge=ue.get(le),ge[q]&&(fe=ge[q])),fe||(fe=j.PePCSInfo.prototype.generate(le,q),ge||(ge=[],ue.set(le,ge)),ge[q]=fe),fe}}(I||(I={})),function(se){se.versionString=function ue(){return j.PeVersion.prototype.version_string()}}(T||(T={}));const oe=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return $},get PeDefs(){return L},get PeFactory(){return x},get PeGCSExtent(){return B},get PeGTTransformations(){return H},get PeGTlistExtended(){return k},get PeGTlistExtendedEntry(){return R},get PeNotationDms(){return N},get PeNotationMgrs(){return P},get PeNotationUsng(){return w},get PeNotationUtm(){return O},get PePCSInfo(){return I},get PeVersion(){return T},_init:W,get _pe(){return j},isLoaded:U,isSupported:function Y(){return!!(0,D.Z)("esri-wasm")},load:V},Symbol.toStringTag,{value:"Module"}))},19677:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>k,a:()=>R,e:()=>x,f:()=>D,i:()=>$,p:()=>L,r:()=>j,t:()=>Z,w:()=>U});var C=E(6785);function D(H,N){const P=N?.url?.path;if(H&&P&&(H=(0,C.hF)(H,P,{preserveProtocolRelative:!0}),N.portalItem&&N.readResourcePaths)){const w=(0,C.PF)(H,N.portalItem.itemUrl);null!=w&&V.test(w)&&N.readResourcePaths.push(N.portalItem.resourceFromPath(w).path)}return B(H,N?.portal)}function Z(H,N,P=k.YES){if(null==H)return H;!(0,C.YP)(H)&&N?.blockedRelativeUrls&&N.blockedRelativeUrls.push(H);let w=(0,C.hF)(H);if(N){const O=N.verifyItemRelativeUrls?.rootPath||N.url?.path;if(O){const I=B(O,N.portal),T=B(w,N.portal);w=(0,C.PF)(T,I,I),null!=w&&w!==T&&w!==H&&N.verifyItemRelativeUrls&&N.verifyItemRelativeUrls.writtenUrls.push(w)}}return w=x(w,N?.portal),(0,C.YP)(w)&&(w=(0,C.Fv)(w)),N?.resources&&N?.portalItem&&!(0,C.YP)(w)&&!(0,C.HK)(w)&&P===k.YES&&N.resources.toKeep.push({resource:N.portalItem.resourceFromPath(w),compress:!1}),w}function j(H,N,P){return D(H,P)}function U(H,N,P,w){const O=Z(H,w);void 0!==O&&(N[P]=O)}const Y=/\/items\/([^\/]+)\/resources\/(.*)/,V=/^\.\/resources\//;function $(H){return(H?.match(Y)??null)?.[1]??null}function L(H){const N=H?.match(Y)??null;if(null==N)return null;const P=N[2],w=P.lastIndexOf("/");if(-1===w){const{path:T,extension:W}=(0,C.fZ)(P);return{prefix:null,filename:T,extension:W}}const{path:O,extension:I}=(0,C.fZ)(P.slice(w+1));return{prefix:P.slice(0,w),filename:O,extension:I}}function x(H,N){return N&&!N.isPortal&&N.urlKey&&N.customBaseUrl?(0,C.Ie)(H,`${N.urlKey}.${N.customBaseUrl}`,N.portalHostname):H}function B(H,N){if(!N||N.isPortal||!N.urlKey||!N.customBaseUrl)return H;const P=`${N.urlKey}.${N.customBaseUrl}`,w=(0,C.TI)();return(0,C.D6)(w,`${w.scheme}://${P}`)?(0,C.Ie)(H,N.portalHostname,P):(0,C.Ie)(H,P,N.portalHostname)}var k,H;(H=k||(k={}))[H.YES=0]="YES",H[H.NO=1]="NO";const R=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return k},ensureMainOnlineDomain:x,fromJSON:D,itemIdFromResourceUrl:$,prefixAndFilenameFromResourceUrl:L,read:j,toJSON:Z,write:U},Symbol.toStringTag,{value:"Module"}))},4758:(Ke,Ee,E)=>{"use strict";E.d(Ee,{q:()=>Y});var D,j,C=E(90104),U={exports:{}};D=U,void 0!==(j=function(){function $(B,k,R,H,N){for(;H>R;){if(H-R>600){var P=H-R+1,w=k-R+1,O=Math.log(P),I=.5*Math.exp(2*O/3),T=.5*Math.sqrt(O*I*(P-I)/P)*(w-P/2<0?-1:1);$(B,k,Math.max(R,Math.floor(k-w*I/P+T)),Math.min(H,Math.floor(k+(P-w)*I/P+T)),N)}var W=B[k],z=R,F=H;for(L(B,R,k),N(B[H],W)>0&&L(B,R,H);z<F;){for(L(B,z,F),z++,F--;N(B[z],W)<0;)z++;for(;N(B[F],W)>0;)F--}0===N(B[R],W)?L(B,R,F):L(B,++F,H),F<=k&&(R=F+1),k<=F&&(H=F-1)}}function L(B,k,R){var H=B[k];B[k]=B[R],B[R]=H}function x(B,k){return B<k?-1:B>k?1:0}return function V(B,k,R,H,N){$(B,k,R||0,H||B.length-1,N||x)}}())&&(D.exports=j);const Y=(0,C.g)(U.exports)},62168:(Ke,Ee,E)=>{"use strict";E.d(Ee,{r:()=>D});var C=E(4758);function D(w,O){if(!(this instanceof D))return new D(w,O);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),O&&("function"==typeof O?this.toBBox=O:this._initFormat(O)),this.clear()}function Z(w,O,I){if(!I)return O.indexOf(w);for(var T=0;T<O.length;T++)if(I(w,O[T]))return T;return-1}function j(w,O){U(w,0,w.children.length,O,w)}function U(w,O,I,T,W){W||(W=N(null)),W.minX=1/0,W.minY=1/0,W.maxX=-1/0,W.maxY=-1/0;for(var z,F=O;F<I;F++)z=w.children[F],Y(W,w.leaf?T(z):z);return W}function Y(w,O){return w.minX=Math.min(w.minX,O.minX),w.minY=Math.min(w.minY,O.minY),w.maxX=Math.max(w.maxX,O.maxX),w.maxY=Math.max(w.maxY,O.maxY),w}function V(w,O){return w.minX-O.minX}function $(w,O){return w.minY-O.minY}function L(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function x(w){return w.maxX-w.minX+(w.maxY-w.minY)}function B(w,O){return(Math.max(O.maxX,w.maxX)-Math.min(O.minX,w.minX))*(Math.max(O.maxY,w.maxY)-Math.min(O.minY,w.minY))}function k(w,O){var I=Math.max(w.minX,O.minX),T=Math.max(w.minY,O.minY),W=Math.min(w.maxX,O.maxX),z=Math.min(w.maxY,O.maxY);return Math.max(0,W-I)*Math.max(0,z-T)}function R(w,O){return w.minX<=O.minX&&w.minY<=O.minY&&O.maxX<=w.maxX&&O.maxY<=w.maxY}function H(w,O){return O.minX<=w.maxX&&O.minY<=w.maxY&&O.maxX>=w.minX&&O.maxY>=w.minY}function N(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(w,O,I,T,W){for(var z,F=[O,I];F.length;)(I=F.pop())-(O=F.pop())<=T||(z=O+Math.ceil((I-O)/T/2)*T,(0,C.q)(w,z,O,I,W),F.push(O,z,z,I))}D.prototype={all:function(){return this._all(this.data,[])},search:function(w){var O=this.data,I=[],T=this.toBBox;if(!H(w,O))return I;for(var W,z,F,Q,J=[];O;){for(W=0,z=O.children.length;W<z;W++)F=O.children[W],H(w,Q=O.leaf?T(F):F)&&(O.leaf?I.push(F):R(w,Q)?this._all(F,I):J.push(F));O=J.pop()}return I},collides:function(w){var O=this.data,I=this.toBBox;if(!H(w,O))return!1;for(var T,W,z,F,Q=[];O;){for(T=0,W=O.children.length;T<W;T++)if(z=O.children[T],H(w,F=O.leaf?I(z):z)){if(O.leaf||R(w,F))return!0;Q.push(z)}O=Q.pop()}return!1},load:function(w){if(!w||!w.length)return this;if(w.length<this._minEntries){for(var O=0,I=w.length;O<I;O++)this.insert(w[O]);return this}var T=this._build(w.slice(),0,w.length-1,0);if(this.data.children.length)if(this.data.height===T.height)this._splitRoot(this.data,T);else{if(this.data.height<T.height){var W=this.data;this.data=T,T=W}this._insert(T,this.data.height-T.height-1,!0)}else this.data=T;return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=N([]),this},remove:function(w,O){if(!w)return this;for(var I,T,W,z,F=this.data,Q=this.toBBox(w),J=[],oe=[];F||J.length;){if(F||(F=J.pop(),T=J[J.length-1],I=oe.pop(),z=!0),F.leaf&&-1!==(W=Z(w,F.children,O)))return F.children.splice(W,1),J.push(F),this._condense(J),this;z||F.leaf||!R(F,Q)?T?(I++,F=T.children[I],z=!1):F=null:(J.push(F),oe.push(I),I=0,T=F,F=F.children[0])}return this},toBBox:function(w){return w},compareMinX:V,compareMinY:$,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,O){for(var I=[];w;)w.leaf?O.push.apply(O,w.children):I.push.apply(I,w.children),w=I.pop();return O},_build:function(w,O,I,T){var W,z=I-O+1,F=this._maxEntries;if(z<=F)return j(W=N(w.slice(O,I+1)),this.toBBox),W;T||(T=Math.ceil(Math.log(z)/Math.log(F)),F=Math.ceil(z/Math.pow(F,T-1))),(W=N([])).leaf=!1,W.height=T;var Q,J,oe,se,ue=Math.ceil(z/F),he=ue*Math.ceil(Math.sqrt(F));for(P(w,O,I,he,this.compareMinX),Q=O;Q<=I;Q+=he)for(P(w,Q,oe=Math.min(Q+he-1,I),ue,this.compareMinY),J=Q;J<=oe;J+=ue)se=Math.min(J+ue-1,oe),W.children.push(this._build(w,J,se,T-1));return j(W,this.toBBox),W},_chooseSubtree:function(w,O,I,T){for(var W,z,F,Q,J,oe,se,ue;T.push(O),!O.leaf&&T.length-1!==I;){for(se=ue=1/0,W=0,z=O.children.length;W<z;W++)J=L(F=O.children[W]),(oe=B(w,F)-J)<ue?(ue=oe,se=J<se?J:se,Q=F):oe===ue&&J<se&&(se=J,Q=F);O=Q||O.children[0]}return O},_insert:function(w,O,I){var W=I?w:(0,this.toBBox)(w),z=[],F=this._chooseSubtree(W,this.data,O,z);for(F.children.push(w),Y(F,W);O>=0&&z[O].children.length>this._maxEntries;)this._split(z,O),O--;this._adjustParentBBoxes(W,z,O)},_split:function(w,O){var I=w[O],T=I.children.length,W=this._minEntries;this._chooseSplitAxis(I,W,T);var z=this._chooseSplitIndex(I,W,T),F=N(I.children.splice(z,I.children.length-z));F.height=I.height,F.leaf=I.leaf,j(I,this.toBBox),j(F,this.toBBox),O?w[O-1].children.push(F):this._splitRoot(I,F)},_splitRoot:function(w,O){this.data=N([w,O]),this.data.height=w.height+1,this.data.leaf=!1,j(this.data,this.toBBox)},_chooseSplitIndex:function(w,O,I){var T,W,z,F,Q,J,oe,se;for(J=oe=1/0,T=O;T<=I-O;T++)F=k(W=U(w,0,T,this.toBBox),z=U(w,T,I,this.toBBox)),Q=L(W)+L(z),F<J?(J=F,se=T,oe=Q<oe?Q:oe):F===J&&Q<oe&&(oe=Q,se=T);return se},_chooseSplitAxis:function(w,O,I){var T=w.leaf?this.compareMinX:V,W=w.leaf?this.compareMinY:$;this._allDistMargin(w,O,I,T)<this._allDistMargin(w,O,I,W)&&w.children.sort(T)},_allDistMargin:function(w,O,I,T){w.children.sort(T);var W,z,F=this.toBBox,Q=U(w,0,O,F),J=U(w,I-O,I,F),oe=x(Q)+x(J);for(W=O;W<I-O;W++)z=w.children[W],Y(Q,w.leaf?F(z):z),oe+=x(Q);for(W=I-O-1;W>=O;W--)z=w.children[W],Y(J,w.leaf?F(z):z),oe+=x(J);return oe},_adjustParentBBoxes:function(w,O,I){for(var T=I;T>=0;T--)Y(O[T],w)},_condense:function(w){for(var O,I=w.length-1;I>=0;I--)0===w[I].children.length?I>0?(O=w[I-1].children).splice(O.indexOf(w[I]),1):this.clear():j(w[I],this.toBBox)},_initFormat:function(w){var O=["return a"," - b",";"];this.compareMinX=new Function("a","b",O.join(w[0])),this.compareMinY=new Function("a","b",O.join(w[1])),this.toBBox=new Function("a","return {minX: a"+w[0]+", minY: a"+w[1]+", maxX: a"+w[2]+", maxY: a"+w[3]+"};")}}},50484:(Ke,Ee,E)=>{"use strict";function C(Z,j,U,Y){var V,$=arguments.length,L=$<3?j:null===Y?Y=Object.getOwnPropertyDescriptor(j,U):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(Z,j,U,Y);else for(var x=Z.length-1;x>=0;x--)(V=Z[x])&&(L=($<3?V(L):$>3?V(j,U,L):V(j,U))||L);return $>3&&L&&Object.defineProperty(j,U,L),L}function D(Z,j,U,Y){return new(U||(U=Promise))(function($,L){function x(R){try{k(Y.next(R))}catch(H){L(H)}}function B(R){try{k(Y.throw(R))}catch(H){L(H)}}function k(R){R.done?$(R.value):function V($){return $ instanceof U?$:new U(function(L){L($)})}(R.value).then(x,B)}k((Y=Y.apply(Z,j||[])).next())})}E.d(Ee,{_:()=>C,a:()=>D}),"function"==typeof SuppressedError&&SuppressedError},46033:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>R,b:()=>ae,c:()=>U,d:()=>N,e:()=>W,f:()=>F,g:()=>z,h:()=>w,i:()=>j,j:()=>D,k:()=>P,l:()=>Q,n:()=>I,r:()=>G,s:()=>Z,t:()=>se});var C=E(52593);function D(re,ve){return re[0]=ve[0],re[1]=ve[1],re}function Z(re,ve,Oe){return re[0]=ve,re[1]=Oe,re}function j(re,ve,Oe){return re[0]=ve[0]+Oe[0],re[1]=ve[1]+Oe[1],re}function U(re,ve,Oe){return re[0]=ve[0]-Oe[0],re[1]=ve[1]-Oe[1],re}function Y(re,ve,Oe){return re[0]=ve[0]*Oe[0],re[1]=ve[1]*Oe[1],re}function V(re,ve,Oe){return re[0]=ve[0]/Oe[0],re[1]=ve[1]/Oe[1],re}function R(re,ve,Oe){return re[0]=ve[0]*Oe,re[1]=ve[1]*Oe,re}function N(re,ve){const Oe=ve[0]-re[0],Me=ve[1]-re[1];return Math.sqrt(Oe*Oe+Me*Me)}function P(re,ve){const Oe=ve[0]-re[0],Me=ve[1]-re[1];return Oe*Oe+Me*Me}function w(re){const ve=re[0],Oe=re[1];return Math.sqrt(ve*ve+Oe*Oe)}function O(re){const ve=re[0],Oe=re[1];return ve*ve+Oe*Oe}function I(re,ve){return re[0]=-ve[0],re[1]=-ve[1],re}function W(re,ve){const Oe=ve[0],Me=ve[1];let Se=Oe*Oe+Me*Me;return Se>0&&(Se=1/Math.sqrt(Se),re[0]=ve[0]*Se,re[1]=ve[1]*Se),re}function z(re,ve){return re[0]*ve[0]+re[1]*ve[1]}function F(re,ve,Oe){const Me=ve[0]*Oe[1]-ve[1]*Oe[0];return re[0]=re[1]=0,re[2]=Me,re}function Q(re,ve,Oe,Me){const Se=ve[0],ke=ve[1];return re[0]=Se+Me*(Oe[0]-Se),re[1]=ke+Me*(Oe[1]-ke),re}function se(re,ve,Oe){const Me=ve[0],Se=ve[1];return re[0]=Oe[0]*Me+Oe[2]*Se+Oe[4],re[1]=Oe[1]*Me+Oe[3]*Se+Oe[5],re}function G(re,ve,Oe,Me){const Se=ve[0]-Oe[0],ke=ve[1]-Oe[1],xe=Math.sin(Me),Ge=Math.cos(Me);return re[0]=Se*Ge-ke*xe+Oe[0],re[1]=Se*xe+ke*Ge+Oe[1],re}const ae=U;Object.freeze(Object.defineProperty({__proto__:null,add:j,angle:function le(re,ve){const Oe=re[0],Me=re[1],Se=ve[0],ke=ve[1];let xe=Oe*Oe+Me*Me;xe>0&&(xe=1/Math.sqrt(xe));let Ge=Se*Se+ke*ke;Ge>0&&(Ge=1/Math.sqrt(Ge));const X=(Oe*Se+Me*ke)*xe*Ge;return X>1?0:X<-1?Math.PI:Math.acos(X)},ceil:function $(re,ve){return re[0]=Math.ceil(ve[0]),re[1]=Math.ceil(ve[1]),re},copy:D,cross:F,dist:N,distance:N,div:V,divide:V,dot:z,equals:function ge(re,ve){const Oe=re[0],Me=re[1],Se=ve[0],ke=ve[1],xe=(0,C.g)();return Math.abs(Oe-Se)<=xe*Math.max(1,Math.abs(Oe),Math.abs(Se))&&Math.abs(Me-ke)<=xe*Math.max(1,Math.abs(Me),Math.abs(ke))},exactEquals:function fe(re,ve){return re[0]===ve[0]&&re[1]===ve[1]},floor:function L(re,ve){return re[0]=Math.floor(ve[0]),re[1]=Math.floor(ve[1]),re},inverse:function T(re,ve){return re[0]=1/ve[0],re[1]=1/ve[1],re},len:w,length:w,lerp:Q,max:function B(re,ve,Oe){return re[0]=Math.max(ve[0],Oe[0]),re[1]=Math.max(ve[1],Oe[1]),re},min:function x(re,ve,Oe){return re[0]=Math.min(ve[0],Oe[0]),re[1]=Math.min(ve[1],Oe[1]),re},mul:Y,multiply:Y,negate:I,normalize:W,projectAndScale:function me(re,ve,Oe,Me,Se){let ke=ve[0]-Oe[0],xe=ve[1]-Oe[1];const Ge=(Me[0]*ke+Me[1]*xe)*(Se-1);return ke=Me[0]*Ge,xe=Me[1]*Ge,re[0]=ve[0]+ke,re[1]=ve[1]+xe,re},random:function J(re,ve){ve=ve||1;const Oe=2*(0,C.R)()*Math.PI;return re[0]=Math.cos(Oe)*ve,re[1]=Math.sin(Oe)*ve,re},rotate:G,round:function k(re,ve){return re[0]=Math.round(ve[0]),re[1]=Math.round(ve[1]),re},scale:R,scaleAndAdd:function H(re,ve,Oe,Me){return re[0]=ve[0]+Oe[0]*Me,re[1]=ve[1]+Oe[1]*Me,re},set:Z,sqrDist:P,sqrLen:O,squaredDistance:P,squaredLength:O,str:function q(re){return"vec2("+re[0]+", "+re[1]+")"},sub:ae,subtract:U,transformMat2:function oe(re,ve,Oe){const Me=ve[0],Se=ve[1];return re[0]=Oe[0]*Me+Oe[2]*Se,re[1]=Oe[1]*Me+Oe[3]*Se,re},transformMat2d:se,transformMat3:function ue(re,ve,Oe){const Me=ve[0],Se=ve[1];return re[0]=Oe[0]*Me+Oe[3]*Se+Oe[6],re[1]=Oe[1]*Me+Oe[4]*Se+Oe[7],re},transformMat4:function he(re,ve,Oe){const Me=ve[0],Se=ve[1];return re[0]=Oe[0]*Me+Oe[4]*Se+Oe[12],re[1]=Oe[1]*Me+Oe[5]*Se+Oe[13],re}},Symbol.toStringTag,{value:"Module"}))},7077:(Ke,Ee,E)=>{"use strict";function C(){return new Float32Array(2)}function Z(H,N){const P=new Float32Array(2);return P[0]=H,P[1]=N,P}function U(){return C()}function Y(){return Z(1,1)}function V(){return Z(1,0)}function $(){return Z(0,1)}E.d(Ee,{O:()=>x,Z:()=>L,c:()=>C,f:()=>Z});const L=U(),x=Y(),B=V(),k=$();Object.freeze(Object.defineProperty({__proto__:null,ONES:x,UNIT_X:B,UNIT_Y:k,ZEROS:L,clone:function D(H){const N=new Float32Array(2);return N[0]=H[0],N[1]=H[1],N},create:C,createView:function j(H,N){return new Float32Array(H,N,2)},fromValues:Z,ones:Y,unitX:V,unitY:$,zeros:U},Symbol.toStringTag,{value:"Module"}))},51675:(Ke,Ee,E)=>{"use strict";function C(){return[0,0]}function Z(N,P){return[N,P]}function U(N,P){return new Float64Array(N,P,2)}function V(){return Z(1,1)}function $(){return Z(1,0)}function L(){return Z(0,1)}E.d(Ee,{Z:()=>x,a:()=>C,c:()=>U,f:()=>Z});const x=[0,0],B=V(),k=$(),R=L();Object.freeze(Object.defineProperty({__proto__:null,ONES:B,UNIT_X:k,UNIT_Y:R,ZEROS:x,clone:function D(N){return[N[0],N[1]]},create:C,createView:U,fromArray:function j(N,P=[0,0]){const w=Math.min(2,N.length);for(let O=0;O<w;++O)P[O]=N[O];return P},fromValues:Z,ones:V,unitX:$,unitY:L,zeros:function Y(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},43589:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>$,B:()=>L,C:()=>ye,D:()=>N,a:()=>T,b:()=>oe,c:()=>j,e:()=>le,f:()=>V,g:()=>Y,h:()=>ne,i:()=>w,j:()=>J,k:()=>ke,l:()=>Z,m:()=>W,n:()=>Q,o:()=>I,p:()=>se,q:()=>O,r:()=>Me,s:()=>U,t:()=>q,u:()=>re,v:()=>fe,w:()=>k,x:()=>H,z:()=>R});var C=E(8554),D=E(52593);function Z(X){const be=X[0],Re=X[1],Fe=X[2];return Math.sqrt(be*be+Re*Re+Fe*Fe)}function j(X,be){return X[0]=be[0],X[1]=be[1],X[2]=be[2],X}function U(X,be,Re,Fe){return X[0]=be,X[1]=Re,X[2]=Fe,X}function Y(X,be,Re){return X[0]=be[0]+Re[0],X[1]=be[1]+Re[1],X[2]=be[2]+Re[2],X}function V(X,be,Re){return X[0]=be[0]-Re[0],X[1]=be[1]-Re[1],X[2]=be[2]-Re[2],X}function $(X,be,Re){return X[0]=be[0]*Re[0],X[1]=be[1]*Re[1],X[2]=be[2]*Re[2],X}function L(X,be,Re){return X[0]=be[0]/Re[0],X[1]=be[1]/Re[1],X[2]=be[2]/Re[2],X}function k(X,be){return X[0]=Math.abs(be[0]),X[1]=Math.abs(be[1]),X[2]=Math.abs(be[2]),X}function R(X,be){return X[0]=Math.sign(be[0]),X[1]=Math.sign(be[1]),X[2]=Math.sign(be[2]),X}function H(X,be,Re){return X[0]=Math.min(be[0],Re[0]),X[1]=Math.min(be[1],Re[1]),X[2]=Math.min(be[2],Re[2]),X}function N(X,be,Re){return X[0]=Math.max(be[0],Re[0]),X[1]=Math.max(be[1],Re[1]),X[2]=Math.max(be[2],Re[2]),X}function w(X,be,Re){return X[0]=be[0]*Re,X[1]=be[1]*Re,X[2]=be[2]*Re,X}function O(X,be,Re,Fe){return X[0]=be[0]+Re[0]*Fe,X[1]=be[1]+Re[1]*Fe,X[2]=be[2]+Re[2]*Fe,X}function I(X,be){const Re=be[0]-X[0],Fe=be[1]-X[1],qe=be[2]-X[2];return Math.sqrt(Re*Re+Fe*Fe+qe*qe)}function T(X,be){const Re=be[0]-X[0],Fe=be[1]-X[1],qe=be[2]-X[2];return Re*Re+Fe*Fe+qe*qe}function W(X){const be=X[0],Re=X[1],Fe=X[2];return be*be+Re*Re+Fe*Fe}function Q(X,be){const Re=be[0],Fe=be[1],qe=be[2];let We=Re*Re+Fe*Fe+qe*qe;return We>0&&(We=1/Math.sqrt(We),X[0]=be[0]*We,X[1]=be[1]*We,X[2]=be[2]*We),X}function J(X,be){return X[0]*be[0]+X[1]*be[1]+X[2]*be[2]}function oe(X,be,Re){const Fe=be[0],qe=be[1],We=be[2],He=Re[0],Ne=Re[1],Ce=Re[2];return X[0]=qe*Ce-We*Ne,X[1]=We*He-Fe*Ce,X[2]=Fe*Ne-qe*He,X}function se(X,be,Re,Fe){const qe=be[0],We=be[1],He=be[2];return X[0]=qe+Fe*(Re[0]-qe),X[1]=We+Fe*(Re[1]-We),X[2]=He+Fe*(Re[2]-He),X}function le(X,be,Re){const Fe=be[0],qe=be[1],We=be[2];return X[0]=Re[0]*Fe+Re[4]*qe+Re[8]*We+Re[12],X[1]=Re[1]*Fe+Re[5]*qe+Re[9]*We+Re[13],X[2]=Re[2]*Fe+Re[6]*qe+Re[10]*We+Re[14],X}function q(X,be,Re){const Fe=be[0],qe=be[1],We=be[2];return X[0]=Fe*Re[0]+qe*Re[3]+We*Re[6],X[1]=Fe*Re[1]+qe*Re[4]+We*Re[7],X[2]=Fe*Re[2]+qe*Re[5]+We*Re[8],X}function fe(X,be,Re){const Fe=Re[0],qe=Re[1],We=Re[2],Ne=be[0],Ce=be[1],Pe=be[2];let Ae=qe*Pe-We*Ce,Be=We*Ne-Fe*Pe,ze=Fe*Ce-qe*Ne,st=qe*ze-We*Be,Xe=We*Ae-Fe*ze,ot=Fe*Be-qe*Ae;const ut=2*Re[3];return Ae*=ut,Be*=ut,ze*=ut,st*=2,Xe*=2,ot*=2,X[0]=Ne+Ae+st,X[1]=Ce+Be+Xe,X[2]=Pe+ze+ot,X}const ee=(0,C.c)(),ce=(0,C.c)();function ne(X,be){return X[0]===be[0]&&X[1]===be[1]&&X[2]===be[2]}function ye(X,be,Re){const Fe=Re[0]-be[0],qe=Re[1]-be[1],We=Re[2]-be[2];let He=Fe*Fe+qe*qe+We*We;return He>0?(He=1/Math.sqrt(He),X[0]=Fe*He,X[1]=qe*He,X[2]=We*He,X):(X[0]=0,X[1]=0,X[2]=0,X)}const re=V,Me=I,ke=Z;Object.freeze(Object.defineProperty({__proto__:null,abs:k,add:Y,angle:function ae(X,be){j(ee,X),j(ce,be),Q(ee,ee),Q(ce,ce);const Re=J(ee,ce);return Re>1?0:Re<-1?Math.PI:Math.acos(Re)},bezier:function he(X,be,Re,Fe,qe,We){const He=1-We,Ne=He*He,Ce=We*We,Pe=Ne*He,Ae=3*We*Ne,Be=3*Ce*He,ze=Ce*We;return X[0]=be[0]*Pe+Re[0]*Ae+Fe[0]*Be+qe[0]*ze,X[1]=be[1]*Pe+Re[1]*Ae+Fe[1]*Be+qe[1]*ze,X[2]=be[2]*Pe+Re[2]*Ae+Fe[2]*Be+qe[2]*ze,X},ceil:function x(X,be){return X[0]=Math.ceil(be[0]),X[1]=Math.ceil(be[1]),X[2]=Math.ceil(be[2]),X},copy:j,cross:oe,direction:ye,dist:Me,distance:I,div:L,divide:L,dot:J,equals:function pe(X,be){if(X===be)return!0;const Re=X[0],Fe=X[1],qe=X[2],We=be[0],He=be[1],Ne=be[2],Ce=(0,D.g)();return Math.abs(Re-We)<=Ce*Math.max(1,Math.abs(Re),Math.abs(We))&&Math.abs(Fe-He)<=Ce*Math.max(1,Math.abs(Fe),Math.abs(He))&&Math.abs(qe-Ne)<=Ce*Math.max(1,Math.abs(qe),Math.abs(Ne))},exactEquals:ne,floor:function B(X,be){return X[0]=Math.floor(be[0]),X[1]=Math.floor(be[1]),X[2]=Math.floor(be[2]),X},hermite:function ue(X,be,Re,Fe,qe,We){const He=We*We,Ne=He*(2*We-3)+1,Ce=He*(We-2)+We,Pe=He*(We-1),Ae=He*(3-2*We);return X[0]=be[0]*Ne+Re[0]*Ce+Fe[0]*Pe+qe[0]*Ae,X[1]=be[1]*Ne+Re[1]*Ce+Fe[1]*Pe+qe[1]*Ae,X[2]=be[2]*Ne+Re[2]*Ce+Fe[2]*Pe+qe[2]*Ae,X},inverse:function F(X,be){return X[0]=1/be[0],X[1]=1/be[1],X[2]=1/be[2],X},len:ke,length:Z,lerp:se,max:N,min:H,mul:$,multiply:$,negate:function z(X,be){return X[0]=-be[0],X[1]=-be[1],X[2]=-be[2],X},normalize:Q,random:function G(X,be){be=be||1;const Re=D.R,Fe=2*Re()*Math.PI,qe=2*Re()-1,We=Math.sqrt(1-qe*qe)*be;return X[0]=Math.cos(Fe)*We,X[1]=Math.sin(Fe)*We,X[2]=qe*be,X},rotateX:function ge(X,be,Re,Fe){const qe=[],We=[];return qe[0]=be[0]-Re[0],qe[1]=be[1]-Re[1],qe[2]=be[2]-Re[2],We[0]=qe[0],We[1]=qe[1]*Math.cos(Fe)-qe[2]*Math.sin(Fe),We[2]=qe[1]*Math.sin(Fe)+qe[2]*Math.cos(Fe),X[0]=We[0]+Re[0],X[1]=We[1]+Re[1],X[2]=We[2]+Re[2],X},rotateY:function me(X,be,Re,Fe){const qe=[],We=[];return qe[0]=be[0]-Re[0],qe[1]=be[1]-Re[1],qe[2]=be[2]-Re[2],We[0]=qe[2]*Math.sin(Fe)+qe[0]*Math.cos(Fe),We[1]=qe[1],We[2]=qe[2]*Math.cos(Fe)-qe[0]*Math.sin(Fe),X[0]=We[0]+Re[0],X[1]=We[1]+Re[1],X[2]=We[2]+Re[2],X},rotateZ:function te(X,be,Re,Fe){const qe=[],We=[];return qe[0]=be[0]-Re[0],qe[1]=be[1]-Re[1],qe[2]=be[2]-Re[2],We[0]=qe[0]*Math.cos(Fe)-qe[1]*Math.sin(Fe),We[1]=qe[0]*Math.sin(Fe)+qe[1]*Math.cos(Fe),We[2]=qe[2],X[0]=We[0]+Re[0],X[1]=We[1]+Re[1],X[2]=We[2]+Re[2],X},round:function P(X,be){return X[0]=Math.round(be[0]),X[1]=Math.round(be[1]),X[2]=Math.round(be[2]),X},scale:w,scaleAndAdd:O,set:U,sign:R,sqrDist:T,sqrLen:W,squaredDistance:T,squaredLength:W,str:function ie(X){return"vec3("+X[0]+", "+X[1]+", "+X[2]+")"},sub:re,subtract:V,transformMat3:q,transformMat4:le,transformQuat:fe},Symbol.toStringTag,{value:"Module"}))},8554:(Ke,Ee,E)=>{"use strict";function C(){return[0,0,0]}function D(w){return[w[0],w[1],w[2]]}function Z(w,O,I){return[w,O,I]}function j(w,O=[0,0,0]){const I=Math.min(3,w.length);for(let T=0;T<I;++T)O[T]=w[T];return O}function U(w,O){return new Float64Array(w,O,3)}function V(){return Z(1,1,1)}function $(){return Z(1,0,0)}function L(){return Z(0,1,0)}function x(){return Z(0,0,1)}E.d(Ee,{O:()=>k,U:()=>R,Z:()=>B,a:()=>U,b:()=>H,c:()=>C,d:()=>N,e:()=>j,f:()=>Z,g:()=>D});const B=[0,0,0],k=V(),R=$(),H=L(),N=x();Object.freeze(Object.defineProperty({__proto__:null,ONES:k,UNIT_X:R,UNIT_Y:H,UNIT_Z:N,ZEROS:B,clone:D,create:C,createView:U,fromArray:j,fromValues:Z,ones:V,unitX:$,unitY:L,unitZ:x,zeros:function Y(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},70993:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>j,b:()=>R,c:()=>D,d:()=>z,e:()=>he,f:()=>w,g:()=>O,h:()=>ue,l:()=>F,n:()=>W,s:()=>Z});var C=E(52593);function D(ee,ce){return ee[0]=ce[0],ee[1]=ce[1],ee[2]=ce[2],ee[3]=ce[3],ee}function Z(ee,ce,ie,ne,pe){return ee[0]=ce,ee[1]=ie,ee[2]=ne,ee[3]=pe,ee}function j(ee,ce,ie){return ee[0]=ce[0]+ie[0],ee[1]=ce[1]+ie[1],ee[2]=ce[2]+ie[2],ee[3]=ce[3]+ie[3],ee}function U(ee,ce,ie){return ee[0]=ce[0]-ie[0],ee[1]=ce[1]-ie[1],ee[2]=ce[2]-ie[2],ee[3]=ce[3]-ie[3],ee}function Y(ee,ce,ie){return ee[0]=ce[0]*ie[0],ee[1]=ce[1]*ie[1],ee[2]=ce[2]*ie[2],ee[3]=ce[3]*ie[3],ee}function V(ee,ce,ie){return ee[0]=ce[0]/ie[0],ee[1]=ce[1]/ie[1],ee[2]=ce[2]/ie[2],ee[3]=ce[3]/ie[3],ee}function R(ee,ce,ie){return ee[0]=ce[0]*ie,ee[1]=ce[1]*ie,ee[2]=ce[2]*ie,ee[3]=ce[3]*ie,ee}function N(ee,ce){const ie=ce[0]-ee[0],ne=ce[1]-ee[1],pe=ce[2]-ee[2],ye=ce[3]-ee[3];return Math.sqrt(ie*ie+ne*ne+pe*pe+ye*ye)}function P(ee,ce){const ie=ce[0]-ee[0],ne=ce[1]-ee[1],pe=ce[2]-ee[2],ye=ce[3]-ee[3];return ie*ie+ne*ne+pe*pe+ye*ye}function w(ee){const ce=ee[0],ie=ee[1],ne=ee[2],pe=ee[3];return Math.sqrt(ce*ce+ie*ie+ne*ne+pe*pe)}function O(ee){const ce=ee[0],ie=ee[1],ne=ee[2],pe=ee[3];return ce*ce+ie*ie+ne*ne+pe*pe}function W(ee,ce){const ie=ce[0],ne=ce[1],pe=ce[2],ye=ce[3];let re=ie*ie+ne*ne+pe*pe+ye*ye;return re>0&&(re=1/Math.sqrt(re),ee[0]=ie*re,ee[1]=ne*re,ee[2]=pe*re,ee[3]=ye*re),ee}function z(ee,ce){return ee[0]*ce[0]+ee[1]*ce[1]+ee[2]*ce[2]+ee[3]*ce[3]}function F(ee,ce,ie,ne){const pe=ce[0],ye=ce[1],re=ce[2],ve=ce[3];return ee[0]=pe+ne*(ie[0]-pe),ee[1]=ye+ne*(ie[1]-ye),ee[2]=re+ne*(ie[2]-re),ee[3]=ve+ne*(ie[3]-ve),ee}function ue(ee,ce){return ee[0]===ce[0]&&ee[1]===ce[1]&&ee[2]===ce[2]&&ee[3]===ce[3]}function he(ee,ce){const ie=ee[0],ne=ee[1],pe=ee[2],ye=ee[3],re=ce[0],ve=ce[1],Oe=ce[2],Me=ce[3],Se=(0,C.g)();return Math.abs(ie-re)<=Se*Math.max(1,Math.abs(ie),Math.abs(re))&&Math.abs(ne-ve)<=Se*Math.max(1,Math.abs(ne),Math.abs(ve))&&Math.abs(pe-Oe)<=Se*Math.max(1,Math.abs(pe),Math.abs(Oe))&&Math.abs(ye-Me)<=Se*Math.max(1,Math.abs(ye),Math.abs(Me))}Object.freeze(Object.defineProperty({__proto__:null,add:j,ceil:function $(ee,ce){return ee[0]=Math.ceil(ce[0]),ee[1]=Math.ceil(ce[1]),ee[2]=Math.ceil(ce[2]),ee[3]=Math.ceil(ce[3]),ee},copy:D,dist:N,distance:N,div:V,divide:V,dot:z,equals:he,exactEquals:ue,floor:function L(ee,ce){return ee[0]=Math.floor(ce[0]),ee[1]=Math.floor(ce[1]),ee[2]=Math.floor(ce[2]),ee[3]=Math.floor(ce[3]),ee},inverse:function T(ee,ce){return ee[0]=1/ce[0],ee[1]=1/ce[1],ee[2]=1/ce[2],ee[3]=1/ce[3],ee},len:w,length:w,lerp:F,max:function B(ee,ce,ie){return ee[0]=Math.max(ce[0],ie[0]),ee[1]=Math.max(ce[1],ie[1]),ee[2]=Math.max(ce[2],ie[2]),ee[3]=Math.max(ce[3],ie[3]),ee},min:function x(ee,ce,ie){return ee[0]=Math.min(ce[0],ie[0]),ee[1]=Math.min(ce[1],ie[1]),ee[2]=Math.min(ce[2],ie[2]),ee[3]=Math.min(ce[3],ie[3]),ee},mul:Y,multiply:Y,negate:function I(ee,ce){return ee[0]=-ce[0],ee[1]=-ce[1],ee[2]=-ce[2],ee[3]=-ce[3],ee},normalize:W,random:function Q(ee,ce){const ie=C.R;let ne,pe,ye,re,ve,Oe;ce=ce||1;do{ne=2*ie()-1,pe=2*ie()-1,ve=ne*ne+pe*pe}while(ve>=1);do{ye=2*ie()-1,re=2*ie()-1,Oe=ye*ye+re*re}while(Oe>=1);const Me=Math.sqrt((1-ve)/Oe);return ee[0]=ce*ne,ee[1]=ce*pe,ee[2]=ce*ye*Me,ee[3]=ce*re*Me,ee},round:function k(ee,ce){return ee[0]=Math.round(ce[0]),ee[1]=Math.round(ce[1]),ee[2]=Math.round(ce[2]),ee[3]=Math.round(ce[3]),ee},scale:R,scaleAndAdd:function H(ee,ce,ie,ne){return ee[0]=ce[0]+ie[0]*ne,ee[1]=ce[1]+ie[1]*ne,ee[2]=ce[2]+ie[2]*ne,ee[3]=ce[3]+ie[3]*ne,ee},set:Z,sqrDist:P,sqrLen:O,squaredDistance:P,squaredLength:O,str:function se(ee){return"vec4("+ee[0]+", "+ee[1]+", "+ee[2]+", "+ee[3]+")"},sub:U,subtract:U,transformMat4:function J(ee,ce,ie){const ne=ce[0],pe=ce[1],ye=ce[2],re=ce[3];return ee[0]=ie[0]*ne+ie[4]*pe+ie[8]*ye+ie[12]*re,ee[1]=ie[1]*ne+ie[5]*pe+ie[9]*ye+ie[13]*re,ee[2]=ie[2]*ne+ie[6]*pe+ie[10]*ye+ie[14]*re,ee[3]=ie[3]*ne+ie[7]*pe+ie[11]*ye+ie[15]*re,ee},transformQuat:function oe(ee,ce,ie){const ne=ce[0],pe=ce[1],ye=ce[2],re=ie[0],ve=ie[1],Oe=ie[2],Me=ie[3],Se=Me*ne+ve*ye-Oe*pe,ke=Me*pe+Oe*ne-re*ye,xe=Me*ye+re*pe-ve*ne,Ge=-re*ne-ve*pe-Oe*ye;return ee[0]=Se*Me+Ge*-re+ke*-Oe-xe*-ve,ee[1]=ke*Me+Ge*-ve+xe*-re-Se*-Oe,ee[2]=xe*Me+Ge*-Oe+Se*-ve-ke*-re,ee[3]=ce[3],ee}},Symbol.toStringTag,{value:"Module"}))},79516:(Ke,Ee,E)=>{"use strict";function C(){return[0,0,0,0]}function Z(I,T,W,z){return[I,T,W,z]}function U(I,T){return new Float64Array(I,T,4)}function V(){return Z(1,1,1,1)}function $(){return Z(1,0,0,0)}function L(){return Z(0,1,0,0)}function x(){return Z(0,0,1,0)}function B(){return Z(0,0,0,1)}E.d(Ee,{a:()=>U,c:()=>C,f:()=>Z});const R=V(),H=$(),N=L(),P=x(),w=B();Object.freeze(Object.defineProperty({__proto__:null,ONES:R,UNIT_W:w,UNIT_X:H,UNIT_Y:N,UNIT_Z:P,ZEROS:[0,0,0,0],clone:function D(I){return[I[0],I[1],I[2],I[3]]},create:C,createView:U,fromArray:function j(I,T=[0,0,0,0]){const W=Math.min(4,I.length);for(let z=0;z<W;++z)T[z]=I[z];return T},fromValues:Z,ones:V,unitW:B,unitX:$,unitY:L,unitZ:x,zeros:function Y(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},16343:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B7:()=>Y,St:()=>D,VL:()=>j,h$:()=>Z,rW:()=>V});const C={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function D($){return!!C[$]||!!C[$.toLowerCase()]}function Z($){return C[$]??C[$.toLowerCase()]}function j($){return[...Z($)]}function U($,L,x){x<0&&++x,x>1&&--x;const B=6*x;return B<1?$+(L-$)*B:2*x<1?L:3*x<2?$+(L-$)*(2/3-x)*6:$}function Y($,L,x,B=1){const k=($%360+360)%360/360,R=x<=.5?x*(L+1):x+L-x*L,H=2*x-R;return[Math.round(255*U(H,R,k+1/3)),Math.round(255*U(H,R,k)),Math.round(255*U(H,R,k-1/3)),B]}function V($){const L=$.length>5,x=L?8:4,B=(1<<x)-1,k=L?1:17,R=L?9===$.length:5===$.length;let H=+("0x"+$.substr(1));if(isNaN(H))return null;const N=[0,0,0,1];let P;return R&&(P=H&B,H>>=x,N[3]=k*P/255),P=H&B,H>>=x,N[2]=k*P,P=H&B,H>>=x,N[1]=k*P,P=H&B,H>>=x,N[0]=k*P,N}},11931:(Ke,Ee,E)=>{"use strict";E.d(Ee,{default:()=>Z}),E(14007);var D=E(71763);const Z={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,D.RH)(Z,globalThis.esriConfig,!0),delete Z.has),Z.assetsPath||(Z.assetsPath="https://js.arcgis.com/4.28/@arcgis/core/assets",Z.defaultAssetsPath=Z.assetsPath)},73514:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ae});var C=E(93300),D=E(50433),Z=E(4703),j=E(51172),U=E(18178),Y=E(37718),V=E(9203),L=(E(14007),E(34222)),x=E(51479),B=E(33761),k=E(64198),R=E(60301),H=E(56295),N=E(6210);class P extends k.s{constructor(ce,ie){super(),this.propertyName=ce,this.metadata=ie,this._accessed=null,this._handles=null,this.flags=0,this.flags=N.v.Dirty|(ie.nonNullable?N.v.NonNullable:0)|(ie.hasOwnProperty("value")?N.v.HasDefaultValue:0)|(void 0===ie.get?N.v.DepTrackingInitialized:0)|(void 0===ie.dependsOn?N.v.AutoTracked:0)}destroy(){this.flags&N.v.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(ce){(0,H.it)(this);const ie=ce.store,ne=this.propertyName,pe=this.flags,ye=ie.get(ne);if(pe&N.v.Computing||~pe&N.v.Dirty&&ie.has(ne))return ye;this.flags|=N.v.Computing;const re=ce.host;let ve;pe&N.v.AutoTracked?ve=(0,H.LJ)(this,this.metadata.get,re):((0,H.GF)(re,this),ve=this.metadata.get.call(re)),ie.set(ne,ve,R.s3.COMPUTED);const Oe=ie.get(ne);return Oe===ye?this.flags&=~N.v.Dirty:(0,H.gb)(this.commit,this),this.flags&=~N.v.Computing,Oe}onObservableAccessed(ce){if(ce===this)return;let ie=this._accessed;if(null==ie)ie=[],this._accessed=ie;else if(ie.includes(ce))return;ie.push(ce)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=N.v.DepTrackingInitialized;const ce=this._accessed;if(null==ce||0===ce.length)return;let ie=this._handles;null==ie&&(ie=[],this._handles=ie);for(let ne=0;ne<ce.length;++ne)ie.push(ce[ne].observe(this));ce.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~N.v.Dirty,this.onCommitted()}_clearObservationHandles(){const ce=this._handles;if(null!==ce){for(let ie=0;ie<ce.length;++ie)ce[ie].remove();ce.length=0}}onInvalidated(){~this.flags&N.v.Overriden&&(this.flags|=N.v.Dirty);const ce=this._observers;if(ce&&ce.length>0)for(const ie of ce)ie.onInvalidated()}onCommitted(){const ce=this._observers;if(ce&&ce.length>0){const ie=ce.slice();for(const ne of ie)ne.onCommitted()}}}class w{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(ce){const ie=new w;return this._values.forEach((ne,pe)=>{ce&&ce.has(pe)||ie.set(pe,(0,L.d9)(ne))}),ie}get(ce){return this._values.get(ce)}originOf(){return R.s3.USER}keys(){return[...this._values.keys()]}set(ce,ie){this._values.set(ce,ie)}delete(ce){this._values.delete(ce)}has(ce){return this._values.has(ce)}forEach(ce){this._values.forEach(ce)}}function O(ee,ce,ie){return void 0!==ee}function I(ee,ce,ie,ne){return!(void 0===ee||null==ie&&ee.flags&N.v.NonNullable)}Z.Z.getLogger("esri.core.accessorSupport.Properties");class W{constructor(ce){this.host=ce,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=B.F.INITIALIZING,this.store=new w,this._origin=R.s3.USER;const ie=this.host.constructor.__accessorMetadata__;for(const ne in ie){const pe=new P(ne,ie[ne]);this.propertiesByName.set(ne,pe)}this.metadatas=ie}initialize(){this.lifecycle=B.F.CONSTRUCTING}constructed(){this.lifecycle=B.F.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[ce,ie]of this.propertiesByName){if(ie.metadata.autoDestroy){const ne=this.internalGet(ce);ne&&(ee=ne)&&"function"==typeof ee.destroy&&(ne.destroy(),~ie.flags&N.v.NonNullable&&this._internalSet(ie,null))}ie.destroy()}var ee}get initialized(){return this.lifecycle!==B.F.INITIALIZING}get(ce){const ie=this.propertiesByName.get(ce);if(ie.metadata.get)return ie.getComputed(this);(0,H.it)(ie);const ne=this.store;return ne.has(ce)?ne.get(ce):ie.metadata.value}originOf(ce){const ie=this.store.originOf(ce);if(void 0===ie){const ne=this.propertiesByName.get(ce);if(void 0!==ne&&ne.flags&N.v.HasDefaultValue)return"defaults"}return(0,R.x3)(ie)}has(ce){return!!this.propertiesByName.has(ce)&&this.store.has(ce)}keys(){return[...this.propertiesByName.keys()]}internalGet(ce){const ie=this.propertiesByName.get(ce);if(O(ie))return this.store.has(ce)?this.store.get(ce):ie.metadata.value}internalSet(ce,ie){const ne=this.propertiesByName.get(ce);O(ne)&&this._internalSet(ne,ie)}getDependsInfo(ce,ie,ne){const pe=this.propertiesByName.get(ie);if(!O(pe))return"";const ye=new Set,re=(0,H.LJ)({onObservableAccessed:Oe=>ye.add(Oe),onTrackingEnd:()=>{}},()=>pe.metadata.get?.call(ce));let ve=`${ne}${ce.declaredClass.split(".").pop()}.${ie}: ${re}\n`;if(0===ye.size)return ve;ne+="  ";for(const Oe of ye)Oe instanceof P&&(ve+=`${ne}${Oe.propertyName}: undefined\n`);return ve}setAtOrigin(ce,ie,ne){const pe=this.propertiesByName.get(ce);if(O(pe))return this._setAtOrigin(pe,ie,ne)}isOverridden(ce){const ie=this.propertiesByName.get(ce);return void 0!==ie&&!!(ie.flags&N.v.Overriden)}clearOverride(ce){const ie=this.propertiesByName.get(ce);ie&&ie.flags&N.v.Overriden&&(ie.flags&=~N.v.Overriden,ie.notifyChange())}override(ce,ie){const ne=this.propertiesByName.get(ce);if(!I(ne,0,ie))return;const pe=ne.metadata.cast;if(pe){const ye=this._cast(pe,ie),{valid:re,value:ve}=ye;if(F.release(ye),!re)return;ie=ve}ne.flags|=N.v.Overriden,this._internalSet(ne,ie)}set(ce,ie){const ne=this.propertiesByName.get(ce);if(!I(ne,0,ie))return;const pe=ne.metadata.cast;if(pe){const re=this._cast(pe,ie),{valid:ve,value:Oe}=re;if(F.release(re),!ve)return;ie=Oe}const ye=ne.metadata.set;ye?ye.call(this.host,ie):this._internalSet(ne,ie)}setDefaultOrigin(ce){this._origin=(0,R.M9)(ce)}getDefaultOrigin(){return(0,R.x3)(this._origin)}notifyChange(ce){const ie=this.propertiesByName.get(ce);void 0!==ie&&ie.notifyChange()}invalidate(ce){const ie=this.propertiesByName.get(ce);void 0!==ie&&ie.invalidate()}commit(ce){const ie=this.propertiesByName.get(ce);void 0!==ie&&ie.commit()}_internalSet(ce,ie){this._setAtOrigin(ce,ie,this.lifecycle!==B.F.INITIALIZING?this._origin:R.s3.DEFAULTS)}_setAtOrigin(ce,ie,ne){const pe=this.store,ye=ce.propertyName;pe.has(ye,ne)&&(0,L.fS)(ie,pe.get(ye))&&~ce.flags&N.v.Overriden&&ne===pe.originOf(ye)||(ce.invalidate(),pe.set(ye,ie,ne),ce.commit(),(0,H.mS)(this.host,ce))}_cast(ce,ie){const ne=F.acquire();return ne.valid=!0,ne.value=ie,ce&&(ne.value=ce.call(this.host,ie,ne)),ne}}const F=new x.Z(class z{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var Q=E(39189);var ue,ee;(ee=ue||(ue={}))[ee.Ignore=0]="Ignore",ee[ee.Destroy=1]="Destroy",ee[ee.ThrowError=2]="ThrowError";var q,fe,he=E(12926),G=E(80543),le=E(10141);function ge(ee){if(null==ee)return{value:ee};if(Array.isArray(ee))return{type:[ee[0]],value:null};switch(typeof ee){case"object":return ee.constructor?.__accessorMetadata__||ee instanceof Date?{type:ee.constructor,value:ee}:ee;case"boolean":return{type:Boolean,value:ee};case"string":return{type:String,value:ee};case"number":return{type:Number,value:ee};case"function":return{type:ee,value:null};default:return}}const me=Symbol("Accessor-Handles"),te=Symbol("Accessor-Initialized");class ae{static createSubclass(ce={}){if(Array.isArray(ce))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:ie,declaredClass:ne,constructor:pe}=ce;delete ce.declaredClass,delete ce.properties,delete ce.constructor;const ye=this;class re extends ye{constructor(...Oe){super(...Oe),this.inherited=null,pe&&pe.apply(this,Oe)}}(0,V.fp)(re.prototype);for(const ve in ce){const Oe=ce[ve];re.prototype[ve]="function"==typeof Oe?function(...Me){const Se=this.inherited;let ke;this.inherited=function(...xe){if(ye.prototype[ve])return ye.prototype[ve].apply(this,xe)};try{ke=Oe.apply(this,Me)}catch(xe){throw this.inherited=Se,xe}return this.inherited=Se,ke}:ce[ve]}for(const ve in ie){const Oe=ge(ie[ve]);(0,G.Cb)(Oe)(re.prototype,ve)}return(0,le.j)(ne)(re)}constructor(...ce){if(this[q]=null,this[fe]=!1,this.constructor===ae)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const ie=new W(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:ie}),ce.length>0&&this.normalizeCtorArgs&&(ie.ctorArgs=this.normalizeCtorArgs.apply(this,ce))}postscript(ce){const ie=this.__accessor__,ne=ie.ctorArgs||ce;ie.initialize(),ne&&(this.set(ne),ie.ctorArgs=null),ie.constructed(),this.initialize(),this[te]=!0}initialize(){}[U.l](){this[me]=(0,j.SC)(this[me])}destroy(){this.destroyed||((0,he.BT)(this),this.__accessor__.destroy())}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[te]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(ce){(0,Y.U2)(this,ce)}get(ce){return(0,C.XV)(Z.Z.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),(0,Y.U2)(this,ce)}hasOwnProperty(ce){return this.__accessor__?this.__accessor__.has(ce):Object.prototype.hasOwnProperty.call(this,ce)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(ce,ie){return(0,Q.t)(this,ce,ie),this}watch(ce,ie,ne){return(0,he.YP)(this,ce,ie,ne)}addHandles(ce,ie){if(this.destroyed){const pe=Array.isArray(ce)?ce:[ce];for(const ye of pe)ye.remove();return}let ne=this[me];null==ne&&(ne=this[me]=new D.Z),ne.add(ce,ie)}removeHandles(ce){const ie=this[me];ie?.remove(ce)}removeAllHandles(){const ce=this[me];ce?.removeAll()}hasHandles(ce){const ie=this[me];return null!=ie&&ie.has(ce)}_override(ce,ie){void 0===ie?this.__accessor__.clearOverride(ce):this.__accessor__.override(ce,ie)}_clearOverride(ce){return this.__accessor__.clearOverride(ce)}_overrideIfSome(ce,ie){null==ie?this.__accessor__.clearOverride(ce):this.__accessor__.override(ce,ie)}_isOverridden(ce){return this.__accessor__.isOverridden(ce)}notifyChange(ce){this.__accessor__.notifyChange(ce)}_get(ce){return this.__accessor__.internalGet(ce)}_set(ce,ie){return this.__accessor__.internalSet(ce,ie),this}}q=me,fe=te},11667:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Z});var C=E(51479);function D(U){U.length=0}class Z{constructor(Y=50,V=50){this._pool=new C.Z(Array,void 0,D,V,Y)}acquire(){return this._pool.acquire()}release(Y){this._pool.release(Y)}prune(){this._pool.prune(0)}static acquire(){return j.acquire()}static release(Y){return j.release(Y)}static prune(){j.prune()}}const j=new Z(100)},25387:(Ke,Ee,E)=>{"use strict";E.d(Ee,{J:()=>x,j:()=>B});var C=E(50484),D=E(73514),j=(E(14007),E(34222)),Y=(E(4703),E(51172)),V=E(60301),$=E(49301),L=E(10141);const x=k=>{let R=class extends k{clone(){const H=(0,$.vw)(this);(0,Y.O3)(H,"unable to clone instance of non-accessor class");const N=H.metadatas,P=H.store,w={},O=new Map;for(const T in N){const W=N[T],z=P?.originOf(T),F=W.clonable;if(W.readOnly||!1===F||z!==V.s3.USER&&z!==V.s3.DEFAULTS&&z!==V.s3.WEB_MAP&&z!==V.s3.WEB_SCENE)continue;const Q=this[T];let J=null;J="function"==typeof F?F(Q):"reference"===F?Q:(0,j.Vo)(Q),null!=Q&&null==J||(z===V.s3.DEFAULTS?O.set(T,J):w[T]=J)}const I=new(Object.getPrototypeOf(this).constructor)(w);if(O.size){const T=(0,$.vw)(I)?.store;if(T)for(const[W,z]of O)T.set(W,z,V.s3.DEFAULTS)}return I}};return R=(0,C._)([(0,L.j)("esri.core.Clonable")],R),R};let B=class extends(x(D.Z)){};B=(0,C._)([(0,L.j)("esri.core.Clonable")],B)},83944:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>he});var V,G,C=E(50484),D=E(11667),Z=E(88278),j=E(1258),U=E(34222),Y=E(51479);(G=V||(V={}))[G.ADD=1]="ADD",G[G.REMOVE=2]="REMOVE",G[G.MOVE=4]="MOVE";var N,$=E(66679),L=E(1535),x=E(56295),B=E(80543),k=E(63788),R=E(10141),H=E(19994);class w{constructor(le,q,fe,ge,me){this.target=le,this.added=q,this.removed=fe,this.start=ge,this.deleteCount=me}}const O=new Y.Z(class P{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(le){this.defaultPrevented=!1,this.item=le}},void 0,G=>{G.item=null,G.target=null,G.defaultPrevented=!1,G.cancellable=!1});function I(G){return G?G instanceof ue?G.toArray():G.length?Array.prototype.slice.apply(G):[]:[]}function T(G){if(G?.length)return G[0]}function W(G,le,q,fe){const ge=Math.min(G.length-q,le.length-fe);let me=0;for(;me<ge&&G[q+me]===le[fe+me];)me++;return me}function z(G,le,q,fe){le&&le.forEach((ge,me,te)=>{G.push(ge),z(G,q.call(fe,ge,me,te),q,fe)})}const F=new Set,Q=new Set,J=new Set,oe=new Map;let se=0,ue=N=class extends Z.Z.EventedAccessor{static isCollection(G){return null!=G&&G instanceof N}constructor(G){super(G),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new H.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:se++})}normalizeCtorArgs(G){return G?Array.isArray(G)||G instanceof N?{items:G}:G:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return(0,x.it)(this._observable),this._items}set items(G){this._emitBeforeChanges(V.ADD)||(this._splice(0,this.length,I(G)),this._emitAfterChanges(V.ADD))}hasEventListener(G){return"change"===G?this._chgListeners.length>0:this._emitter.hasEventListener(G)}on(G,le){if("change"===G){const q=this._chgListeners,fe={removed:!1,callback:le};return q.push(fe),this._notifications&&this._notifications.push({listeners:q.slice(),items:this._items.slice(),changes:[]}),(0,j.kB)(()=>{fe.removed=!0,q.splice(q.indexOf(fe),1)})}return this._emitter.on(G,le)}once(G,le){const q="deref"in le?()=>le.deref():()=>le,fe=this.on(G,ge=>{q()?.call(null,ge),fe.remove()});return fe}add(G,le){if((0,x.it)(this._observable),this._emitBeforeChanges(V.ADD))return this;const q=this.getNextIndex(le??null);return this._splice(q,0,[G]),this._emitAfterChanges(V.ADD),this}addMany(G,le=this._items.length){if((0,x.it)(this._observable),!G?.length)return this;if(this._emitBeforeChanges(V.ADD))return this;const q=this.getNextIndex(le);return this._splice(q,0,I(G)),this._emitAfterChanges(V.ADD),this}at(G){if((0,x.it)(this._observable),(G=Math.trunc(G)||0)<0&&(G+=this.length),!(G<0||G>=this.length))return this._items[G]}removeAll(){if((0,x.it)(this._observable),!this.length||this._emitBeforeChanges(V.REMOVE))return[];const G=this._removeAllRaw();return this._emitAfterChanges(V.REMOVE),G}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,x.it)(this._observable),this._createNewInstance({items:this._items.map(U.d9)})}concat(...G){(0,x.it)(this._observable);const le=G.map(I);return this._createNewInstance({items:this._items.concat(...le)})}drain(G,le){if((0,x.it)(this._observable),!this.length||this._emitBeforeChanges(V.REMOVE))return;const q=this._splice(0,this.length),fe=q.length;for(let ge=0;ge<fe;ge++)G.call(le,q[ge],ge,q);this._emitAfterChanges(V.REMOVE)}every(G,le){return(0,x.it)(this._observable),this._items.every(G,le)}filter(G,le){let q;return(0,x.it)(this._observable),q=2===arguments.length?this._items.filter(G,le):this._items.filter(G),this._createNewInstance({items:q})}find(G,le){return(0,x.it)(this._observable),this._items.find(G,le)}findIndex(G,le){return(0,x.it)(this._observable),this._items.findIndex(G,le)}flatten(G,le){(0,x.it)(this._observable);const q=[];return z(q,this,G,le),new N(q)}forEach(G,le){return(0,x.it)(this._observable),this._items.forEach(G,le)}getItemAt(G){return(0,x.it)(this._observable),this._items[G]}getNextIndex(G){(0,x.it)(this._observable);const le=this.length;return(G=G??le)<0?G=0:G>le&&(G=le),G}includes(G,le=0){return(0,x.it)(this._observable),this._items.includes(G,le)}indexOf(G,le=0){return(0,x.it)(this._observable),this._items.indexOf(G,le)}join(G=","){return(0,x.it)(this._observable),this._items.join(G)}lastIndexOf(G,le=this.length-1){return(0,x.it)(this._observable),this._items.lastIndexOf(G,le)}map(G,le){(0,x.it)(this._observable);const q=this._items.map(G,le);return new N({items:q})}reorder(G,le=this.length-1){(0,x.it)(this._observable);const q=this.indexOf(G);if(-1!==q){if(le<0?le=0:le>=this.length&&(le=this.length-1),q!==le){if(this._emitBeforeChanges(V.MOVE))return G;this._splice(q,1),this._splice(le,0,[G]),this._emitAfterChanges(V.MOVE)}return G}}pop(){if((0,x.it)(this._observable),!this.length||this._emitBeforeChanges(V.REMOVE))return;const G=T(this._splice(this.length-1,1));return this._emitAfterChanges(V.REMOVE),G}push(...G){return(0,x.it)(this._observable),this._emitBeforeChanges(V.ADD)||(this._splice(this.length,0,G),this._emitAfterChanges(V.ADD)),this.length}reduce(G,le){(0,x.it)(this._observable);const q=this._items;return 2===arguments.length?q.reduce(G,le):q.reduce(G)}reduceRight(G,le){(0,x.it)(this._observable);const q=this._items;return 2===arguments.length?q.reduceRight(G,le):q.reduceRight(G)}remove(G){return(0,x.it)(this._observable),this.removeAt(this.indexOf(G))}removeAt(G){if((0,x.it)(this._observable),G<0||G>=this.length||this._emitBeforeChanges(V.REMOVE))return;const le=T(this._splice(G,1));return this._emitAfterChanges(V.REMOVE),le}removeMany(G){if((0,x.it)(this._observable),!G?.length||this._emitBeforeChanges(V.REMOVE))return[];const le=G instanceof N?G.toArray():G,q=this._items,fe=[],ge=le.length;for(let me=0;me<ge;me++){const ae=q.indexOf(le[me]);if(ae>-1){const ee=1+W(le,q,me+1,ae+1),ce=this._splice(ae,ee);ce&&ce.length>0&&fe.push.apply(fe,ce),me+=ee-1}}return this._emitAfterChanges(V.REMOVE),fe}reverse(){if((0,x.it)(this._observable),this._emitBeforeChanges(V.MOVE))return this;const G=this._splice(0,this.length);return G&&(G.reverse(),this._splice(0,0,G)),this._emitAfterChanges(V.MOVE),this}shift(){if((0,x.it)(this._observable),!this.length||this._emitBeforeChanges(V.REMOVE))return;const G=T(this._splice(0,1));return this._emitAfterChanges(V.REMOVE),G}slice(G=0,le=this.length){return(0,x.it)(this._observable),this._createNewInstance({items:this._items.slice(G,le)})}some(G,le){return(0,x.it)(this._observable),this._items.some(G,le)}sort(G){if((0,x.it)(this._observable),!this.length||this._emitBeforeChanges(V.MOVE))return this;const le=this._splice(0,this.length);return arguments.length?le.sort(G):le.sort(),this._splice(0,0,le),this._emitAfterChanges(V.MOVE),this}splice(G,le,...q){(0,x.it)(this._observable);const fe=(le?V.REMOVE:0)|(q.length?V.ADD:0);if(this._emitBeforeChanges(fe))return[];const ge=this._splice(G,le,q)||[];return this._emitAfterChanges(fe),ge}toArray(){return(0,x.it)(this._observable),this._items.slice()}toJSON(){return(0,x.it)(this._observable),this.toArray()}toLocaleString(){return(0,x.it)(this._observable),this._items.toLocaleString()}toString(){return(0,x.it)(this._observable),this._items.toString()}unshift(...G){return(0,x.it)(this._observable),!G.length||this._emitBeforeChanges(V.ADD)||(this._splice(0,0,G),this._emitAfterChanges(V.ADD)),this.length}_createNewInstance(G){return new this.constructor(G)}_splice(G,le,q){const fe=this._items,ge=this.itemType;let me,te;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,$.Os)(()=>this._dispatchChange())),G<0&&(G+=this.length),le){if(te=fe.splice(G,le),this.hasEventListener("before-remove")){const ae=O.acquire();ae.target=this,ae.cancellable=!0;for(let ee=0,ce=te.length;ee<ce;ee++)me=te[ee],ae.reset(me),this.emit("before-remove",ae),ae.defaultPrevented&&(te.splice(ee,1),fe.splice(G,0,me),G+=1,ee-=1,ce-=1);O.release(ae)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const ae=O.acquire();ae.target=this,ae.cancellable=!1;const ee=te.length;for(let ce=0;ce<ee;ce++)ae.reset(te[ce]),this.emit("after-remove",ae);O.release(ae)}}if(q?.length){if(ge){const ie=[];for(const ne of q){const pe=ge.ensureType(ne);null==pe&&null!=ne||ie.push(pe)}q=ie}const ae=this.hasEventListener("before-add"),ee=this.hasEventListener("after-add"),ce=G===this.length;if(ae||ee){const ie=O.acquire();ie.target=this,ie.cancellable=!0;const ne=O.acquire();ne.target=this,ne.cancellable=!1;for(const pe of q)ae?(ie.reset(pe),this.emit("before-add",ie),ie.defaultPrevented||(ce?fe.push(pe):fe.splice(G++,0,pe),this._set("length",fe.length),ee&&(ne.reset(pe),this.emit("after-add",ne)))):(ce?fe.push(pe):fe.splice(G++,0,pe),this._set("length",fe.length),ne.reset(pe),this.emit("after-add",ne));O.release(ne),O.release(ie)}else{if(ce)for(const ie of q)fe.push(ie);else fe.splice(G,0,...q);this._set("length",fe.length)}}if((q?.length||te?.length)&&this._notifyChangeEvent(q,te),this.hasEventListener("after-splice")){const ae=new w(this,q,te,G,le);this.emit("after-splice",ae)}return te}_emitBeforeChanges(G){let le=!1;if(this.hasEventListener("before-changes")){const q=O.acquire();q.target=this,q.cancellable=!0,q.type=G,this.emit("before-changes",q),le=q.defaultPrevented,O.release(q)}return le}_emitAfterChanges(G){if(this.hasEventListener("after-changes")){const le=O.acquire();le.target=this,le.cancellable=!1,le.type=G,this.emit("after-changes",le),O.release(le)}this._observable.notify()}_notifyChangeEvent(G,le){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:G,removed:le})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const G=this._notifications;this._notifications=null;for(const le of G){const q=le.changes;F.clear(),Q.clear(),J.clear();for(const{added:ee,removed:ce}of q){if(ee)if(0===J.size&&0===Q.size)for(const ie of ee)F.add(ie);else for(const ie of ee)Q.has(ie)?(J.add(ie),Q.delete(ie)):J.has(ie)||F.add(ie);if(ce)if(0===J.size&&0===F.size)for(const ie of ce)Q.add(ie);else for(const ie of ce)F.has(ie)?F.delete(ie):(J.delete(ie),Q.add(ie))}const fe=D.Z.acquire();F.forEach(ee=>{fe.push(ee)});const ge=D.Z.acquire();Q.forEach(ee=>{ge.push(ee)});const me=this._items,te=le.items,ae=D.Z.acquire();if(J.forEach(ee=>{te.indexOf(ee)!==me.indexOf(ee)&&ae.push(ee)}),le.listeners&&(fe.length||ge.length||ae.length)){const ee={target:this,added:fe,removed:ge,moved:ae},ce=le.listeners.length;for(let ie=0;ie<ce;ie++){const ne=le.listeners[ie];ne.removed||ne.callback.call(this,ee)}}D.Z.release(fe),D.Z.release(ge),D.Z.release(ae)}F.clear(),Q.clear(),J.clear()}};ue.ofType=G=>{if(!G)return N;if(oe.has(G))return oe.get(G);let le=null;if("function"==typeof G)le=G.prototype.declaredClass;else if(G.base)le=G.base.prototype.declaredClass;else for(const fe in G.typeMap){const ge=G.typeMap[fe].prototype.declaredClass;le?le+=` | ${ge}`:le=ge}let q=class extends N{};return(0,C._)([(0,k.c)({Type:G,ensureType:"function"==typeof G?(0,L.se)(G):(0,L.N7)(G)})],q.prototype,"itemType",void 0),q=(0,C._)([(0,R.j)(`esri.core.Collection<${le}>`)],q),oe.set(G,q),q},(0,C._)([(0,B.Cb)()],ue.prototype,"length",void 0),(0,C._)([(0,B.Cb)()],ue.prototype,"items",null),ue=N=(0,C._)([(0,R.j)("esri.core.Collection")],ue);const he=ue},5603:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var C=E(50484),D=E(83944),V=(E(37636),E(57964),E(4703),E(12926),E(43571)),$=E(80543),L=E(10141);let x=class extends D.Z{constructor(k){super(k),this.getCollections=null}initialize(){this.addHandles((0,V.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const k=null!=this.getCollections?this.getCollections():null;if(null==k)return void this.removeAll();let R=0;for(const H of k)null!=H&&(R=this._processCollection(R,H));this.splice(R,this.length)}_createNewInstance(k){return new D.Z(k)}_processCollection(k,R){if(!R)return k;const H=this.itemFilterFunction??(N=>!!N);for(const N of R)if(N){if(H(N)){const P=this.indexOf(N,k);P>=0?P!==k&&this.reorder(N,k):this.add(N,k),++k}if(this.getChildrenFunction){const P=this.getChildrenFunction(N);if(Array.isArray(P))for(const w of P)k=this._processCollection(k,w);else k=this._processCollection(k,P)}}return k}};(0,C._)([(0,$.Cb)()],x.prototype,"getCollections",void 0),(0,C._)([(0,$.Cb)()],x.prototype,"getChildrenFunction",void 0),(0,C._)([(0,$.Cb)()],x.prototype,"itemFilterFunction",void 0),x=(0,C._)([(0,L.j)("esri.core.CollectionFlattener")],x);const B=x},32017:(Ke,Ee,E)=>{"use strict";E.d(Ee,{BV:()=>Y});var C=E(55117);class D{constructor($,L){this.min=$,this.max=L,this.range=L-$}ndiff($,L=0){return Math.ceil(($-L)/this.range)*this.range+L}_normalize($,L,x,B=0,k=!1){return(x-=B)<$?x+=this.ndiff($-x):x>L&&(x-=this.ndiff(x-L)),k&&x===L&&(x=$),x+B}normalize($,L=0,x=!1){return this._normalize(this.min,this.max,$,L,x)}clamp($,L=0){return(0,C.uZ)($-L,this.min,this.max)+L}monotonic($,L,x){return $<L?L:L+this.ndiff($-L,x)}minimalMonotonic($,L,x){return this._normalize($,$+this.range,L,x)}center($,L,x){return L=this.monotonic($,L,x),this.normalize(($+L)/2,x)}diff($,L,x){return this.monotonic($,L,x)-$}shortestSignedDiff($,L){$=this.normalize($);const x=(L=this.normalize(L))-$,B=L<$?this.minimalMonotonic($,L)-$:L-this.minimalMonotonic(L,$);return Math.abs(x)<Math.abs(B)?x:B}contains($,L,x){return L=this.minimalMonotonic($,L),(x=this.minimalMonotonic($,x))>$&&x<L}}function Z(V){for(const $ in V){const L=V[$];L instanceof Function&&(V[$]=L.bind(V))}return V}Z(new D(0,2*Math.PI)),Z(new D(-Math.PI,Math.PI));const Y=Z(new D(0,360))},57964:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>j});var C=E(34222),D=E(4703),Z=E(25764);class j extends Z.Z{constructor(Y,V,$){super(Y,V,$)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(Y,V)=>{if(V&&"object"==typeof V&&"function"==typeof V.toJSON)return V;try{return(0,C.d9)(V)}catch{return"[object]"}}))}}catch(Y){throw D.Z.getLogger("esri.core.Error").error(Y),Y}return{name:this.name,message:this.message,details:this.details}}static fromJSON(Y){return new j(Y.name,Y.message,Y.details)}}j.prototype.type="error"},88278:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Y});var C=E(50484),D=E(73514),Z=E(1258),j=E(10141);class U{constructor(){this._emitter=new U.EventEmitter(this)}emit($,L){return this._emitter.emit($,L)}on($,L){return this._emitter.on($,L)}once($,L){return this._emitter.once($,L)}hasEventListener($){return this._emitter.hasEventListener($)}}!function(V){class ${constructor(B=null){this._target=B,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(B,k){let R=this._listenersMap?.get(B);if(!R)return!1;const H=this._target||this;let N=!1;for(const P of R.slice()){const w="deref"in P?P.deref():P;w?w?.call(H,k):N=!0}return N&&(R=R.filter(P=>!("deref"in P)||null!=P.deref()),this._listenersMap.set(B,R)),R.length>0}on(B,k){if(Array.isArray(B)){const H=B.map(N=>this.on(N,k));return(0,Z.AL)(H)}if(B.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const R=this._listenersMap.get(B)||[];return R.push(k),this._listenersMap.set(B,R),(0,Z.kB)(()=>{const H=this._listenersMap?.get(B),N=H?.indexOf(k)??-1;N>=0&&H.splice(N,1)})}once(B,k){const R=this.on(B,H=>{R.remove(),("deref"in k?k.deref():k)?.call(null,H)});return R}hasEventListener(B){const k=this._listenersMap?.get(B);return null!=k&&k.length>0}}V.EventEmitter=$,V.EventedMixin=x=>{let B=class extends x{constructor(){super(...arguments),this._emitter=new $}destroy(){this._emitter.clear()}emit(k,R){return this._emitter.emit(k,R)}on(k,R){return this._emitter.on(k,R)}once(k,R){return this._emitter.once(k,R)}hasEventListener(k){return this._emitter.hasEventListener(k)}};return B=(0,C._)([(0,j.j)("esri.core.Evented")],B),B};let L=class extends D.Z{constructor(){super(...arguments),this._emitter=new U.EventEmitter(this)}destroy(){this._emitter.clear()}emit(x,B){return this._emitter.emit(x,B)}on(x,B){return this._emitter.on(x,B)}once(x,B){return this._emitter.once(x,B)}hasEventListener(x){return this._emitter.hasEventListener(x)}};L=(0,C._)([(0,j.j)("esri.core.Evented")],L),V.EventedAccessor=L}(U||(U={}));const Y=U},50433:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>D});var C=E(44242);class D{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let j=0;return this._groups.forEach(U=>{j+=U.length}),j}add(j,U){if((0,C.TW)(j)){const Y=this._getOrCreateGroup(U);for(const V of j)this._isHandle(V)&&Y.push(V)}else this._isHandle(j)&&this._getOrCreateGroup(U).push(j);return this}forEach(j,U){if("function"==typeof j)this._groups.forEach(Y=>Y.forEach(j));else{const Y=this._getGroup(j);Y&&U&&Y.forEach(U)}}has(j){return this._groups.has(this._ensureGroupKey(j))}remove(j){if("string"!=typeof j&&(0,C.TW)(j)){for(const U of j)this.remove(U);return this}return this.has(j)?(this._removeAllFromGroup(this._getGroup(j)),this._groups.delete(this._ensureGroupKey(j)),this):this}removeAll(){return this._groups.forEach(j=>this._removeAllFromGroup(j)),this._groups.clear(),this}_isHandle(j){return j&&(!!j.remove||j instanceof D)}_getOrCreateGroup(j){if(this.has(j))return this._getGroup(j);const U=[];return this._groups.set(this._ensureGroupKey(j),U),U}_getGroup(j){return this._groups.get(this._ensureGroupKey(j))}_ensureGroupKey(j){return j||"_default_"}_removeAllFromGroup(j){for(const U of j)U instanceof D?U.removeAll():U.remove()}}},84373:(Ke,Ee,E)=>{"use strict";E.d(Ee,{IG:()=>j,iv:()=>U});var C=E(50484),D=E(10141);let Z=0;const j=V=>{let $=class extends V{constructor(...L){super(...L),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Z++})}};return $=(0,C._)([(0,D.j)("esri.core.Identifiable")],$),$},U=V=>{let $=class extends V{constructor(...L){super(...L),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Z++})}};return $=(0,C._)([(0,D.j)("esri.core.NumericIdentifiable")],$),$};let Y=class extends(j(class{})){};Y=(0,C._)([(0,D.j)("esri.core.Identifiable")],Y)},89317:(Ke,Ee,E)=>{"use strict";E.d(Ee,{wq:()=>N,eC:()=>k,AK:()=>H});var C=E(50484),D=E(73514),Z=E(34222),j=E(60301);class U{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(w){const O=new U;return this._values.forEach((I,T)=>{w&&w.has(T)||O.set(T,(0,Z.d9)(I.value),I.origin)}),O}get(w,O){O=this._normalizeOrigin(O);const I=this._values.get(w);return null==O||I?.origin===O?I?.value:void 0}originOf(w){return this._values.get(w)?.origin??j.s3.USER}keys(w){w=this._normalizeOrigin(w);const O=[...this._values.keys()];return null==w?O:O.filter(I=>this._values.get(I)?.origin===w)}set(w,O,I){if((I=this._normalizeOrigin(I))===j.s3.DEFAULTS){const T=this._values.get(w);if(null!=T?.origin&&T.origin>I)return}this._values.set(w,new Y(O,I))}delete(w,O){null!=(O=this._normalizeOrigin(O))&&this._values.get(w)?.origin!==O||this._values.delete(w)}has(w,O){return null!=(O=this._normalizeOrigin(O))?this._values.get(w)?.origin===O:this._values.has(w)}forEach(w){this._values.forEach(({value:O},I)=>w(O,I))}_normalizeOrigin(w){if(null!=w)return w===j.s3.DEFAULTS?w:j.s3.USER}}class Y{constructor(w,O){this.value=w,this.origin=O}}var V=E(44469),$=E(68090),L=E(49301),x=E(82206),B=E(10141);const k=P=>{let w=class extends P{constructor(...O){super(...O);const I=(0,L.vw)(this),T=I.store,W=new U;I.store=W,(0,V.M)(I,T,W)}read(O,I){(0,$.i)(this,O,I)}write(O,I){return(0,x.c)(this,O??{},I)}toJSON(O){return this.write({},O)}static fromJSON(O,I){return R.call(this,O,I)}};return w=(0,C._)([(0,B.j)("esri.core.JSONSupport")],w),w.prototype.toJSON.isDefaultToJSON=!0,w};function R(P,w){if(!P)return null;if(P.declaredClass)throw new Error("JSON object is already hydrated");const O=new this;return O.read(P,w),O}function H(P){return P&&"object"==typeof P&&"toJSON"in P&&"function"==typeof P.toJSON}let N=class extends(k(D.Z)){};N=(0,C._)([(0,B.j)("esri.core.JSONSupport")],N)},52540:(Ke,Ee,E)=>{"use strict";E.d(Ee,{z:()=>D});var C=E(39921);class D{constructor(j,U){this._storage=new C.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=j,this._storage.register(this),U&&this._storage.registerRemoveFunc("",U)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(j,U,Y=1){this._storage.put(this,j,U,Y,1)}pop(j){return this._storage.pop(this,j)}get(j){return this._storage.get(this,j)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(j){this._storage.maxSize=j}resetHitRate(){}}},67016:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var C=E(50484),D=E(57964),Z=E(51172),j=E(47868),U=E(79412),Y=E(23206),V=E(80543),$=E(10141);const k="loaded",R=P=>{let w=class extends P{constructor(...O){super(...O),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(I=>{const T=this.load.bind(this);this.load=W=>{const z=new Promise((F,Q)=>{const J=(0,U.$F)(W,Q);this.destroyed&&Q(new D.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(F,Q).finally(()=>{J&&J.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const F=this._loadController=new AbortController;T({signal:F.signal})}return I(),z}})),this.when(()=>{this._set("loadStatus",k),this._loadController=null},I=>{this._set("loadStatus","failed"),this._set("loadError",I),this._loadController=null})}destroy(){this._loadController&&(this._loadController=(0,Z.IM)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===k}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new D.Z("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,C._)([(0,V.Cb)({readOnly:!0})],w.prototype,"loaded",null),(0,C._)([(0,V.Cb)({readOnly:!0})],w.prototype,"loadError",void 0),(0,C._)([(0,V.Cb)({clonable:!1})],w.prototype,"loadStatus",void 0),(0,C._)([(0,V.Cb)({type:[Y.Z],readOnly:!0})],w.prototype,"loadWarnings",null),w=(0,C._)([(0,$.j)("esri.core.Loadable")],w),w};let H=class extends(R(j.D)){};var P;H=(0,C._)([(0,$.j)("esri.core.Loadable")],H),(P=H||(H={})).LoadableMixin=R,P.isLoadable=function w(O){return!(!O||!O.load)};const N=H},4703:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>U});var C=E(11931),Z=(E(14007),E(72578));const j={info:0,warn:1,error:2,none:3};class U{constructor(V){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=V.level&&(this.level=V.level),null!=V.writer&&(this.writer=V.writer),this._module=V.module,U._loggers.set(this.module,this);const $=this.module.lastIndexOf(".");-1!==$&&(this._parent=U.getLogger(this.module.slice(0,$)))}get module(){return this._module}get parent(){return this._parent}error(...V){this._log("error","always",...V)}warn(...V){this._log("warn","always",...V)}info(...V){this._log("info","always",...V)}errorOnce(...V){this._log("error","once",...V)}warnOnce(...V){this._log("warn","once",...V)}infoOnce(...V){this._log("info","once",...V)}errorOncePerTick(...V){this._log("error","oncePerTick",...V)}warnOncePerTick(...V){this._log("warn","oncePerTick",...V)}infoOncePerTick(...V){this._log("info","oncePerTick",...V)}get test(){const V=this;return{loggedMessages:V._loggedMessages,clearLoggedWarnings:()=>V._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(V=new Map){const $=U._loggers;return U._loggers=V,$},set throttlingDisabled(V){U._throttlingDisabled=V}}}static getLogger(V){return U._loggers.get(V="string"!=typeof V?V.declaredClass:V)||new U({module:V})}_log(V,$,...L){if(this._matchLevel(V)){if("always"!==$&&!U._throttlingDisabled){const x=this._argsToKey(L),B=this._loggedMessages[V].get(x);if("once"===$&&null!=B||"oncePerTick"===$&&B&&B>=U._tickCounter)return;this._loggedMessages[V].set(x,U._tickCounter),U._scheduleTickCounterIncrement()}for(const x of C.default.log.interceptors)if(x(V,this.module,...L))return;this._inheritedWriter()(V,this.module,...L)}}_parentWithMember(V,$){let L=this;for(;null!=L;){const x=L[V];if(null!=x)return x;L=L.parent}return $}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(V,$,...L){console[V](`[${$}]`,...L)}_matchLevel(V){return j[this._parentWithMember("level",C.default.log.level||"warn")]<=j[V]}_argsToKey(...V){return(0,Z.hP)(JSON.stringify(V,(L,x)=>"object"!=typeof x||Array.isArray(x)?x:"[Object]"))}static _scheduleTickCounterIncrement(){U._tickCounterScheduled||(U._tickCounterScheduled=!0,Promise.resolve().then(()=>{U._tickCounter++,U._tickCounterScheduled=!1}))}}U._loggers=new Map,U._tickCounter=0,U._tickCounterScheduled=!1,U._throttlingDisabled=!1},19799:(Ke,Ee,E)=>{"use strict";E.d(Ee,{F:()=>P,M:()=>C});const C={Base64:0,Hex:1,String:2,Raw:3},D=8,Z=(1<<D)-1;function j(w,O){const I=(65535&w)+(65535&O);return(w>>16)+(O>>16)+(I>>16)<<16|65535&I}function x(w,O,I,T,W,z){return j(function L(w,O){return w<<O|w>>>32-O}(j(j(O,w),j(T,z)),W),I)}function B(w,O,I,T,W,z,F){return x(O&I|~O&T,w,O,W,z,F)}function k(w,O,I,T,W,z,F){return x(O&T|I&~T,w,O,W,z,F)}function R(w,O,I,T,W,z,F){return x(O^I^T,w,O,W,z,F)}function H(w,O,I,T,W,z,F){return x(I^(O|~T),w,O,W,z,F)}function P(w,O=C.Hex){const I=O||C.Base64,T=function N(w,O){w[O>>5]|=128<<O%32,w[14+(O+64>>>9<<4)]=O;let I=1732584193,T=-271733879,W=-1732584194,z=271733878;for(let F=0;F<w.length;F+=16){const Q=I,J=T,oe=W,se=z;I=B(I,T,W,z,w[F],7,-680876936),z=B(z,I,T,W,w[F+1],12,-389564586),W=B(W,z,I,T,w[F+2],17,606105819),T=B(T,W,z,I,w[F+3],22,-1044525330),I=B(I,T,W,z,w[F+4],7,-176418897),z=B(z,I,T,W,w[F+5],12,1200080426),W=B(W,z,I,T,w[F+6],17,-1473231341),T=B(T,W,z,I,w[F+7],22,-45705983),I=B(I,T,W,z,w[F+8],7,1770035416),z=B(z,I,T,W,w[F+9],12,-1958414417),W=B(W,z,I,T,w[F+10],17,-42063),T=B(T,W,z,I,w[F+11],22,-1990404162),I=B(I,T,W,z,w[F+12],7,1804603682),z=B(z,I,T,W,w[F+13],12,-40341101),W=B(W,z,I,T,w[F+14],17,-1502002290),T=B(T,W,z,I,w[F+15],22,1236535329),I=k(I,T,W,z,w[F+1],5,-165796510),z=k(z,I,T,W,w[F+6],9,-1069501632),W=k(W,z,I,T,w[F+11],14,643717713),T=k(T,W,z,I,w[F],20,-373897302),I=k(I,T,W,z,w[F+5],5,-701558691),z=k(z,I,T,W,w[F+10],9,38016083),W=k(W,z,I,T,w[F+15],14,-660478335),T=k(T,W,z,I,w[F+4],20,-405537848),I=k(I,T,W,z,w[F+9],5,568446438),z=k(z,I,T,W,w[F+14],9,-1019803690),W=k(W,z,I,T,w[F+3],14,-187363961),T=k(T,W,z,I,w[F+8],20,1163531501),I=k(I,T,W,z,w[F+13],5,-1444681467),z=k(z,I,T,W,w[F+2],9,-51403784),W=k(W,z,I,T,w[F+7],14,1735328473),T=k(T,W,z,I,w[F+12],20,-1926607734),I=R(I,T,W,z,w[F+5],4,-378558),z=R(z,I,T,W,w[F+8],11,-2022574463),W=R(W,z,I,T,w[F+11],16,1839030562),T=R(T,W,z,I,w[F+14],23,-35309556),I=R(I,T,W,z,w[F+1],4,-1530992060),z=R(z,I,T,W,w[F+4],11,1272893353),W=R(W,z,I,T,w[F+7],16,-155497632),T=R(T,W,z,I,w[F+10],23,-1094730640),I=R(I,T,W,z,w[F+13],4,681279174),z=R(z,I,T,W,w[F],11,-358537222),W=R(W,z,I,T,w[F+3],16,-722521979),T=R(T,W,z,I,w[F+6],23,76029189),I=R(I,T,W,z,w[F+9],4,-640364487),z=R(z,I,T,W,w[F+12],11,-421815835),W=R(W,z,I,T,w[F+15],16,530742520),T=R(T,W,z,I,w[F+2],23,-995338651),I=H(I,T,W,z,w[F],6,-198630844),z=H(z,I,T,W,w[F+7],10,1126891415),W=H(W,z,I,T,w[F+14],15,-1416354905),T=H(T,W,z,I,w[F+5],21,-57434055),I=H(I,T,W,z,w[F+12],6,1700485571),z=H(z,I,T,W,w[F+3],10,-1894986606),W=H(W,z,I,T,w[F+10],15,-1051523),T=H(T,W,z,I,w[F+1],21,-2054922799),I=H(I,T,W,z,w[F+8],6,1873313359),z=H(z,I,T,W,w[F+15],10,-30611744),W=H(W,z,I,T,w[F+6],15,-1560198380),T=H(T,W,z,I,w[F+13],21,1309151649),I=H(I,T,W,z,w[F+4],6,-145523070),z=H(z,I,T,W,w[F+11],10,-1120210379),W=H(W,z,I,T,w[F+2],15,718787259),T=H(T,W,z,I,w[F+9],21,-343485551),I=j(I,Q),T=j(T,J),W=j(W,oe),z=j(z,se)}return[I,T,W,z]}(function U(w){const O=[];for(let I=0,T=w.length*D;I<T;I+=D)O[I>>5]|=(w.charCodeAt(I/D)&Z)<<I%32;return O}(w),w.length*D);switch(I){case C.Raw:return T;case C.Hex:return function V(w){const O="0123456789abcdef",I=[];for(let T=0,W=4*w.length;T<W;T++)I.push(O.charAt(w[T>>2]>>T%4*8+4&15)+O.charAt(w[T>>2]>>T%4*8&15));return I.join("")}(T);case C.String:return function Y(w){const O=[];for(let I=0,T=32*w.length;I<T;I+=D)O.push(String.fromCharCode(w[I>>5]>>>I%32&Z));return O.join("")}(T);case C.Base64:return function $(w){const T=[];for(let W=0,z=4*w.length;W<z;W+=3){const F=(w[W>>2]>>W%4*8&255)<<16|(w[W+1>>2]>>(W+1)%4*8&255)<<8|w[W+2>>2]>>(W+2)%4*8&255;for(let Q=0;Q<4;Q++)T.push(8*W+6*Q>32*w.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(F>>6*(3-Q)&63))}return T.join("")}(T)}}},8611:(Ke,Ee,E)=>{"use strict";function C(U,Y){for(const[V,$]of U)if(Y($,V))return!0;return!1}function Z(U,Y,V){const $=U.get(Y);if(void 0!==$)return $;const L=V();return U.set(Y,L),L}E.d(Ee,{oE:()=>C,s1:()=>Z})},39921:(Ke,Ee,E)=>{"use strict";E.d(Ee,{WJ:()=>U,Xq:()=>j});var Z,V,C=E(43029);(V=Z||(Z={}))[V.ALL=0]="ALL",V[V.SOME=1]="SOME";class j{constructor($,L,x){this.name=$,this._storage=L,this.id=Y+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),x&&(this._storage.registerRemoveFunc(this.id,x),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put($,L,x,B=0){this._storage.put(this,$,L,x,B)}get($){const L=this._storage.get(this,$);return void 0===L?++this._miss:++this._hit,L}peek($){return this._storage.peek(this,$)}pop($){const L=this._storage.pop(this,$);return void 0===L?++this._miss:++this._hit,L}updateSize($,L,x){this._storage.updateSize(this,$,L,x)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class U{get size(){return this._size}constructor($=10485760){this._maxSize=$,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new C.Z,this._users=new C.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register($){this._users.push($)}deregister($){this._users.removeUnordered($)}registerRemoveFunc($,L){this._removeFuncs.push([$,L])}deregisterRemoveFunc($){this._removeFuncs.filterInPlace(L=>L[0]!==$)}get maxSize(){return this._maxSize}set maxSize($){this._maxSize=Math.max($,0),this._checkSizeLimits()}put($,L,x,B,k){const R=this._db.get(L=$.id+L);if(R&&(this._size-=R.size,$.size-=R.size,this._db.delete(L),R.entry!==x&&this._notifyRemove(L,R.entry,Z.ALL)),B>this._maxSize)return void this._notifyRemove(L,x,Z.ALL);if(void 0===x)return void console.warn("Refusing to cache undefined entry ");if(!B||B<0)return console.warn(`Refusing to cache entry with size ${B} for key ${L}`),void this._notifyRemove(L,x,Z.ALL);const H=1+Math.max(k,-3)- -3;this._db.set(L,{entry:x,size:B,lifetime:H,lives:H}),this._size+=B,$.size+=B,this._checkSizeLimits()}updateSize($,L,x,B){const k=this._db.get(L=$.id+L);if(k&&k.entry===x){for(this._size-=k.size,$.size-=k.size;B>this._maxSize;){const R=this._notifyRemove(L,x,Z.SOME);if(!(null!=R&&R>0))return void this._db.delete(L);B=R}k.size=B,this._size+=B,$.size+=B,this._checkSizeLimits()}}pop($,L){const x=this._db.get(L=$.id+L);if(x)return this._size-=x.size,$.size-=x.size,this._db.delete(L),++this._hit,x.entry;++this._miss}get($,L){const x=this._db.get(L=$.id+L);if(void 0!==x)return this._db.delete(L),x.lives=x.lifetime,this._db.set(L,x),++this._hit,x.entry;++this._miss}peek($,L){const x=this._db.get($.id+L);return x?++this._hit:++this._miss,x?.entry}get performanceInfo(){const $={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},L={},x=new Array;this._db.forEach((R,H)=>{const N=R.lifetime;x[N]=(x[N]||0)+R.size,this._users.forAll(P=>{const{id:w,name:O}=P;H.startsWith(w)&&(L[O]=(L[O]||0)+R.size)})});const B={};this._users.forAll(R=>{const H=R.name;"hitRate"in R&&"number"==typeof R.hitRate&&!isNaN(R.hitRate)&&R.hitRate>0?(L[H]=L[H]||0,B[H]=Math.round(100*R.hitRate)+"%"):B[H]="0%"});const k=Object.keys(L);k.sort((R,H)=>L[H]-L[R]),k.forEach(R=>$[R]=Math.round(L[R]/2**20)+"MB / "+B[R]);for(let R=x.length-1;R>=0;--R){const H=x[R];H&&($["Priority "+(R+-3-1)]=Math.round(H/this._size*100)+"%")}return $}resetStats(){this._hit=this._miss=0,this._users.forAll($=>$.resetHitRate())}clear($){const L=$.id;this._db.forEach((x,B)=>{B.startsWith(L)&&(this._size-=x.size,this._db.delete(B),this._notifyRemove(B,x.entry,Z.ALL))}),$.size=0}clearAll(){this._db.forEach(($,L)=>this._notifyRemove(L,$.entry,Z.ALL)),this._users.forEach($=>$.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove($,L,x){let B;return this._removeFuncs.some(k=>{if($.startsWith(k[0])){const R=k[1](L,x);return"number"==typeof R&&(B=R),!0}return!1}),B}_checkSizeLimits(){if(this._size>this._maxSize)for(const[$,L]of this._db)if(this._purgeItem($,L),this._size<=.9*this.maxSize)return;this._users.forEach($=>{if($.maxSize>0&&$.size>$.maxSize)for(const[L,x]of this._db)if(L.startsWith($.id)&&(this._purgeItem(L,x,$),$.size<=.9*$.maxSize))return})}_purgeItem($,L,x=this._users.find(B=>$.startsWith(B.id))){if(this._db.delete($),L.lives<=1){this._size-=L.size,x&&(x.size-=L.size);const B=this._notifyRemove($,L.entry,Z.SOME);null!=B&&B>0&&(this._size+=B,x&&(x.size+=B),L.lives=L.lifetime,L.size=B,this._db.set($,L))}else--L.lives,this._db.set($,L)}}let Y=0},25764:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Z});var C=E(71763);class Z{constructor(U,Y,V){this.name=U,this.details=V,this.message=(Y&&function D(j,U){return j.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(Y,V)=>""===V?"$":((0,C.hS)(V,U)??"").toString())}(Y,V))??""}toString(){return"["+this.name+"]: "+this.message}}},3233:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>w,w:()=>O});var C=E(50484),D=E(73514),Z=E(44469),j=E(34222),U=E(60301);class Y{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(U.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(T){const W=new Y,z=this._originStores[U.s3.DEFAULTS];z&&z.forEach((F,Q)=>{W.set(Q,(0,j.d9)(F),U.s3.DEFAULTS)});for(let F=U.s3.SERVICE;F<U.kk;F++){const Q=this._originStores[F];Q&&Q.forEach((J,oe)=>{T&&T.has(oe)||W.set(oe,(0,j.d9)(J),F)})}return W}get(T,W){const z=void 0===W?this._values:this._originStores[W];return z?z.get(T):void 0}keys(T){const W=null==T?this._values:this._originStores[T];return W?[...W.keys()]:[]}set(T,W,z=U.s3.USER){let F=this._originStores[z];if(F||(F=new Map,this._originStores[z]=F),F.set(T,W),!this._values.has(T)||this._propertyOriginMap.get(T)<=z){const Q=this._values.get(T);return this._values.set(T,W),this._propertyOriginMap.set(T,z),Q!==W}return!1}delete(T,W=U.s3.USER){const z=this._originStores[W];if(!z)return;const F=z.get(T);if(z.delete(T),this._values.has(T)&&this._propertyOriginMap.get(T)===W){this._values.delete(T);for(let Q=W-1;Q>=0;Q--){const J=this._originStores[Q];if(J&&J.has(T)){this._values.set(T,J.get(T)),this._propertyOriginMap.set(T,Q);break}}}return F}has(T,W){const z=void 0===W?this._values:this._originStores[W];return!!z&&z.has(T)}revert(T,W){for(;W>0&&!this.has(T,W);)--W;const z=this._originStores[W],F=z?.get(T),Q=this._values.get(T);return this._values.set(T,F),this._propertyOriginMap.set(T,W),Q!==F}originOf(T){return this._propertyOriginMap.get(T)||U.s3.DEFAULTS}forEach(T){this._values.forEach(T)}}var V=E(68090),$=E(49301),L=E(10141);const x=I=>{let T=class extends I{constructor(...W){super(...W);const z=(0,$.vw)(this),F=z.store,Q=new Y;z.store=Q,(0,Z.M)(z,F,Q)}read(W,z){(0,V.i)(this,W,z)}getAtOrigin(W,z){const F=B(this),Q=(0,U.M9)(z);if("string"==typeof W)return F.get(W,Q);const J={};return W.forEach(oe=>{J[oe]=F.get(oe,Q)}),J}originOf(W){return(0,U.x3)(this.originIdOf(W))}originIdOf(W){return B(this).originOf(W)}revert(W,z){const F=B(this),Q=(0,U.M9)(z),J=(0,$.vw)(this);let oe;oe="string"==typeof W?"*"===W?F.keys(Q):[W]:W,oe.forEach(se=>{J.invalidate(se),F.revert(se,Q),J.commit(se)})}};return T=(0,C._)([(0,L.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],T),T};function B(I){return(0,$.vw)(I).store}let k=class extends(x(D.Z)){};k=(0,C._)([(0,L.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],k);var R=E(37718),H=E(82206);const N=I=>{let T=class extends I{constructor(...W){super(...W)}clear(W,z="user"){return P(this).delete(W,(0,U.M9)(z))}write(W,z){return(0,H.c)(this,W=W||{},z),W}setAtOrigin(W,z,F){(0,$.vw)(this).setAtOrigin(W,z,(0,U.M9)(F))}removeOrigin(W){const z=P(this),F=(0,U.M9)(W),Q=z.keys(F);for(const J of Q)z.originOf(J)===F&&z.set(J,z.get(J,F),U.s3.USER)}updateOrigin(W,z){const F=P(this),Q=(0,U.M9)(z),J=(0,R.U2)(this,W);for(let oe=Q+1;oe<U.kk;++oe)F.delete(W,oe);F.set(W,J,Q)}toJSON(W){return this.write({},W)}};return T=(0,C._)([(0,L.j)("esri.core.WriteableMultiOriginJSONSupport")],T),T.prototype.toJSON.isDefaultToJSON=!0,T};function P(I){return(0,$.vw)(I).store}const w=I=>{let T=class extends(N(x(I))){constructor(...W){super(...W)}};return T=(0,C._)([(0,L.j)("esri.core.MultiOriginJSONSupport")],T),T};let O=class extends(w(D.Z)){};O=(0,C._)([(0,L.j)("esri.core.MultiOriginJSONSupport")],O)},51479:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Z});let Z=(()=>{class j{constructor(Y,V,$,L=1,x=0){if(this._ctor=Y,this._acquireFunction=V,this._releaseFunction=$,this.allocationSize=L,this._pool=new Array(x),this._initialSize=x,this._ctor)for(let B=0;B<x;B++)this._pool[B]=new this._ctor;this.allocationSize=Math.max(L,1)}destroy(){this.prune(0)}acquire(...Y){let V;if(j.test.disabled)V=new this._ctor;else{if(0===this._pool.length){const $=this.allocationSize;for(let L=0;L<$;L++)this._pool[L]=new this._ctor}V=this._pool.pop()}return this._acquireFunction?this._acquireFunction(V,...Y):function D(j){return j?.acquire&&"function"==typeof j.acquire}(V)&&V.acquire(...Y),V}release(Y){Y&&!j.test.disabled&&(this._releaseFunction?this._releaseFunction(Y):function C(j){return j?.release&&"function"==typeof j.release}(Y)&&Y.release(),this._pool.push(Y))}prune(Y=this._initialSize){if(!(Y>=this._pool.length)){for(let V=Y;V<this._pool.length;++V)this._dispose(this._pool[V]);this._pool.length=Y}}_dispose(Y){Y.dispose&&"function"==typeof Y.dispose&&Y.dispose()}}return j.test={disabled:!1},j})()},44169:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>C});class C{constructor(Z,j=30){this.name=Z,this._counter=0,this._samples=new Array(j)}record(Z){null!=Z&&(this._samples[++this._counter%this._samples.length]=Z)}get median(){return this._samples.slice().sort((Z,j)=>Z-j)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((Z,j)=>Z+j,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},43029:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Y});var D,C=E(57678);!function($){const L=(R,H,N,P)=>{let w=H,O=H;const I=N>>>1,T=R[w-1];for(;O<=I;){O=w<<1,O<N&&P(R[O-1],R[O])<0&&++O;const W=R[O-1];if(P(W,T)<=0)break;R[w-1]=W,w=O}R[w-1]=T},x=(R,H)=>R<H?-1:R>H?1:0;$.sort=function B(R,H,N,P){void 0===H&&(H=0),void 0===N&&(N=R.length),void 0===P&&(P=x);for(let O=N>>>1;O>H;O--)L(R,O,N,P);const w=H+1;for(let O=N-1;O>H;O--){const I=R[H];R[H]=R[O],R[O]=I,L(R,w,O,P)}},$.iterableSort=function*k(R,H,N,P){void 0===H&&(H=0),void 0===N&&(N=R.length),void 0===P&&(P=x);for(let O=N>>>1;O>H;O--)L(R,O,N,P),yield;const w=H+1;for(let O=N-1;O>H;O--){const I=R[H];R[H]=R[O],R[O]=I,L(R,w,O,P),yield}}}(D||(D={}));const Z=D;class Y{constructor(L){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new C.SO,L&&(L.initialSize&&(this.data=new Array(L.initialSize)),L.allocator&&(this._allocator=L.allocator),void 0!==L.deallocator&&(this._deallocator=L.deallocator),L.shrink&&(this._shrink=()=>V(this)))}toArray(){return this.data.slice(0,this.length)}filter(L){const x=new Array;for(let B=0;B<this._length;B++){const k=this.data[B];L(k)&&x.push(k)}return x}at(L){if((L=Math.trunc(L)||0)<0&&(L+=this._length),!(L<0||L>=this._length))return this.data[L]}includes(L,x){const B=this.data.indexOf(L,x);return-1!==B&&B<this.length}get length(){return this._length}set length(L){if(L>this._length){if(this._allocator){for(;this._length<L;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=L}else{if(this._deallocator)for(let x=L;x<this._length;++x)this.data[x]=this._deallocator(this.data[x]);this._length=L,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(L){this.data[this._length++]=L}pushArray(L,x=L.length){for(let B=0;B<x;B++)this.data[this._length++]=L[B]}fill(L,x){for(let B=0;B<x;B++)this.data[this._length++]=L}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const L=this.data[this._length];return++this._length,L}unshift(L){this.data.unshift(L),this._length++,V(this)}pop(){if(0===this.length)return;const L=this.data[this.length-1];return this.length=this.length-1,this._shrink(),L}remove(L){const x=(0,C.cq)(this.data,L,this.length,this._hint);if(-1!==x)return this.data.splice(x,1),this.length=this.length-1,L}removeUnordered(L){return this.removeUnorderedIndex((0,C.cq)(this.data,L,this.length,this._hint))}removeUnorderedIndex(L){if(!(L>=this.length||L<0))return this.swapElements(L,this.length-1),this.pop()}removeUnorderedMany(L,x=L.length,B){this.length=(0,C.FY)(this.data,L,this.length,x,this._hint,B),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(L,x){if(L>=this.length||x>=this.length||L===x)return;const B=this.data[L];this.data[L]=this.data[x],this.data[x]=B}sort(L){Z.sort(this.data,0,this.length,L)}iterableSort(L){return Z.iterableSort(this.data,0,this.length,L)}some(L,x){for(let B=0;B<this.length;++B)if(L.call(x,this.data[B],B,this.data))return!0;return!1}find(L,x){for(let B=0;B<this.length;++B){const k=this.data[B];if(L.call(x,k,B))return k}}filterInPlace(L,x){let B=0;for(let k=0;k<this._length;++k){const R=this.data[k];L.call(x,R,k,this.data)&&(this.data[k]=this.data[B],this.data[B]=R,B++)}if(this._deallocator)for(let k=B;k<this._length;k++)this.data[k]=this._deallocator(this.data[k]);return this._length=B,this._shrink(),this}forAll(L,x){const B=this.length,k=this.data;for(let R=0;R<B;++R)L.call(x,k[R],R,k)}forEach(L,x){for(let B=0;B<this.length;++B)L.call(x,this.data[B],B,this.data)}map(L,x){const B=new Array(this.length);for(let k=0;k<this.length;++k)B[k]=L.call(x,this.data[k],k,this.data);return B}reduce(L,x){let B=x;for(let k=0;k<this.length;++k)B=L(B,this.data[k],k,this.data);return B}has(L){const x=this.length,B=this.data;for(let k=0;k<x;++k)if(B[k]===L)return!0;return!1}}function V($){$.data.length>1.5*$.length&&($.data.length=Math.floor(1.1*$.length))}},47868:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D:()=>$,v:()=>V});var U,L,C=E(50484),D=E(73514),Z=E(79412),j=E(10141);(L=U||(U={}))[L.PENDING=0]="PENDING",L[L.RESOLVED=1]="RESOLVED",L[L.REJECTED=2]="REJECTED";class Y{constructor(){this._resolver=(0,Z.hh)(),this._status=U.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=U.RESOLVED,this._cleanUp()},()=>{this._status=U.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(x){this._resolvingPromises.push(x),this._tryResolve()}isResolved(){return this._status===U.RESOLVED}isRejected(){return this._status===U.REJECTED}isFulfilled(){return this._status!==U.PENDING}abort(){this._resolver.reject((0,Z.zE)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const x=(0,Z.hh)(),B=[...this._resolvingPromises,x.promise],k=this._allPromise=Promise.all(B);k.then(()=>{this.isFulfilled()||this._allPromise!==k||this._resolver.resolve()},R=>{this.isFulfilled()||this._allPromise!==k||(0,Z.D_)(R)||this._resolver.reject(R)}),x.resolve()}}const V=L=>{let x=class extends L{constructor(...B){super(...B),this._promiseProps=new Y,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(B,k){return this._promiseProps.promise.then(()=>this).then(B,k)}catch(B){return this.when(null,B)}addResolvingPromise(B){B&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in B?B.when():B)}};return x=(0,C._)([(0,j.j)("esri.core.Promise")],x),x};let $=class extends(V(D.Z)){};$=(0,C._)([(0,j.j)("esri.core.Promise")],$)},65430:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Z});var C=E(56295),D=E(19994);class Z{constructor(U=(Y=>Y.values().next().value)){this._peeker=U,this._observable=new D.s,this._items=new Set}get length(){return(0,C.it)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let U;for(U of this._items);return U}peek(){if(0!==this.length)return this._peeker(this._items)}push(U){this.contains(U)||(this._items.add(U),this._observable.notify())}contains(U){return(0,C.it)(this._observable),this._items.has(U)}pop(){if(0===this.length)return;const U=this.peek();return this._items.delete(U),this._observable.notify(),U}popLast(){if(0===this.length)return;const U=this.last();return this._items.delete(U),this._observable.notify(),U}remove(U){this.contains(U)&&(this._items.delete(U),this._observable.notify())}filter(U){const Y=this.length;return this._items.forEach(V=>{U(V)||this._items.delete(V)}),Y!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,C.it)(this._observable),yield*this._items}}},65311:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>C});class C{constructor(Z=1){this._seed=Z}set seed(Z){this._seed=Z??Math.random()*C._m}getInt(){return this._seed=(C._a*this._seed+C._c)%C._m,this._seed}getFloat(){return this.getInt()/(C._m-1)}getIntRange(Z,j){return Math.round(this.getFloatRange(Z,j))}getFloatRange(Z,j){const U=j-Z;return Z+this.getInt()/C._m*U}}C._m=2147483647,C._a=48271,C._c=0},14467:(Ke,Ee,E)=>{"use strict";E.d(Ee,{e:()=>D});var C=E(51479);class D extends C.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...j){const U=super.acquire(...j);return this._set.delete(U),U}release(j){j&&!this._set.has(j)&&(super.release(j),this._set.add(j))}_dispose(j){this._set.delete(j),super._dispose(j)}}},79876:(Ke,Ee,E)=>{"use strict";function C(x,B){for(const k of x.entries())if(B(k[0]))return!0;return!1}function D(x,B){if(!B)return x;for(const k of B)x.add(k);return x}function Z(x,B){const k=new Set;return D(k,x),D(k,B),k}function j(x,B){const k=new Set;for(const R of B)x.has(R)&&k.add(R);return k}function U(x,B){if(!x||!B)return!1;if(x===B)return!0;for(const k of x)if(!B.has(k))return!1;return!0}function Y(x,B){if(null==x&&null==B)return!0;if(null==x||null==B||x.size!==B.size)return!1;for(const k of x)if(!B.has(k))return!1;return!0}function V(x,B){const k=new Set(x);for(const R of B)k.delete(R);return k}E.d(Ee,{G0:()=>Z,e5:()=>V,fS:()=>Y,fn:()=>C,ik:()=>U,jV:()=>j})},93960:(Ke,Ee,E)=>{"use strict";E.d(Ee,{G:()=>D});var C=E(57964);let D=class{constructor(Z,j,U=""){this.major=Z,this.minor=j,this._context=U}lessThan(Z,j){return this.major<Z||Z===this.major&&this.minor<j}since(Z,j){return!this.lessThan(Z,j)}validate(Z){if(this.major!==Z.major)throw new C.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:Z})}clone(){return new D(this.major,this.minor,this._context)}static parse(Z,j=""){const[U,Y]=Z.split("."),V=/^\s*\d+\s*$/;if(!U?.match||!V.test(U))throw new C.Z((j&&j+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:Z});if(!Y?.match||!V.test(Y))throw new C.Z((j&&j+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:Z});const $=parseInt(U,10),L=parseInt(Y,10);return new D($,L,j)}}},23206:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>D});var C=E(25764);class D extends C.Z{constructor(j,U,Y){super(j,U,Y)}}D.prototype.type="warning"},64198:(Ke,Ee,E)=>{"use strict";E.d(Ee,{s:()=>j});var C=E(1258),D=E(57678);class Z{constructor(V,$){this._observers=V,this._observer=$}remove(){(0,D.Od)(this._observers,this._observer)}}class j{constructor(){this._observers=null,this.destroyed=!1}observe(V){if(this.destroyed||V.destroyed)return U;null==this._observers&&(this._observers=[]);const $=this._observers;let L=!1,x=!1;const B=$.length;for(let k=0;k<B;++k){const R=$[k];if(R.destroyed)x=!0;else if(R===V){L=!0;break}}return L||($.push(V),x&&this._removeDestroyedObservers()),new Z($,V)}_removeDestroyedObservers(){const V=this._observers;if(!V||0===V.length)return;const $=V.length;let L=0;for(let x=0;x<$;++x){for(;x+L<$&&V[x+L].destroyed;)++L;if(L>0){if(!(x+L<$))break;V[x]=V[x+L]}}V.length=$-L}destroy(){if(this.destroyed)return;this.destroyed=!0;const V=this._observers;if(null!=V){for(const $ of V)$.onCommitted();this._observers=null}}}const U=(0,C.kB)()},60301:(Ke,Ee,E)=>{"use strict";var C,L;E.d(Ee,{M9:()=>Z,Wm:()=>Y,kk:()=>D,s3:()=>C,x3:()=>j}),(L=C||(C={}))[L.DEFAULTS=0]="DEFAULTS",L[L.COMPUTED=1]="COMPUTED",L[L.SERVICE=2]="SERVICE",L[L.PORTAL_ITEM=3]="PORTAL_ITEM",L[L.WEB_SCENE=4]="WEB_SCENE",L[L.WEB_MAP=5]="WEB_MAP",L[L.LINK_CHART=6]="LINK_CHART",L[L.USER=7]="USER";const D=C.USER+1;function Z(L){switch(L){case"defaults":return C.DEFAULTS;case"service":return C.SERVICE;case"portal-item":return C.PORTAL_ITEM;case"web-scene":return C.WEB_SCENE;case"web-map":return C.WEB_MAP;case"link-chart":return C.LINK_CHART;case"user":return C.USER;default:return null}}function j(L){switch(L){case C.DEFAULTS:return"defaults";case C.SERVICE:return"service";case C.PORTAL_ITEM:return"portal-item";case C.WEB_SCENE:return"web-scene";case C.WEB_MAP:return"web-map";case C.LINK_CHART:return"link-chart";case C.USER:return"user"}}function Y(L){return j(L)}},18178:(Ke,Ee,E)=>{"use strict";E.d(Ee,{l:()=>C});const C=Symbol("Accessor-beforeDestroy")},73018:(Ke,Ee,E)=>{"use strict";E.d(Ee,{p:()=>V});var C=E(1535),D=E(9203);const Z=Object.prototype.toString;function j($){const L="__accessorMetadata__"in $?(0,C.se)($):$;return function(...x){if(x.push(L),"number"==typeof x[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return U.apply(this,x)}}function U($,L,x,B){(0,D.Oe)($,L).cast=B}function V(...$){if(3!==$.length||"string"!=typeof $[1])return 1===$.length&&"[object Function]"===Z.call($[0])?j($[0]):1===$.length&&"string"==typeof $[0]?function Y($){return(L,x)=>{(0,D.Oe)(L,$).cast=L[x]}}($[0]):void 0}},21070:(Ke,Ee,E)=>{"use strict";E.d(Ee,{J:()=>Z});var C=E(84303),D=E(80543);function Z(j,U={}){const Y=j instanceof C.X?j:new C.X(j,U),V={type:U?.ignoreUnknown??1?Y.apiValues:String,json:{type:Y.jsonValues,read:!U?.readOnly&&{reader:Y.read},write:{writer:Y.write}}};return void 0!==U?.readOnly&&(V.readOnly=!!U.readOnly),void 0!==U?.default&&(V.json.default=U.default),void 0!==U?.name&&(V.json.name=U.name),void 0!==U?.nonNullable&&(V.nonNullable=U.nonNullable),(0,D.Cb)(V)}},80543:(Ke,Ee,E)=>{"use strict";E.d(Ee,{CJ:()=>V,Cb:()=>Y,Eg:()=>L});var C=E(4703),D=E(1535),Z=E(37718),j=E(9203),U=E(39189);function Y(x={}){return(B,k)=>{if(B===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${B.name}.${k}. Accessor does not support static properties.`);const R=Object.getOwnPropertyDescriptor(B,k),H=(0,j.Oe)(B,k);R&&(R.get||R.set?(H.get=R.get||H.get,H.set=R.set||H.set):"value"in R&&("value"in x&&C.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${k}" on "${B.constructor.name}" already defined in the metadata`,x),H.value=x.value=R.value)),null!=x.readOnly&&(H.readOnly=x.readOnly);const N=x.aliasOf;if(N){const O="string"==typeof N?N:N.source,I="string"==typeof N?null:!0===N.overridable;let T;H.dependsOn=[O],H.get=function(){let W=(0,Z.U2)(this,O);if("function"==typeof W){T||(T=O.split(".").slice(0,-1).join("."));const z=(0,Z.U2)(this,T);z&&(W=W.bind(z))}return W},H.readOnly||(H.set=I?function(W){this._override(k,W)}:function(W){(0,U.t)(this,O,W)})}const P=x.type,w=x.types;H.cast||(P?H.cast=function $(x){let B=0,k=x;if((0,D.AY)(x))return(0,D.sY)(x);for(;Array.isArray(k)&&1===k.length&&"string"!=typeof k[0]&&"number"!=typeof k[0];)k=k[0],B++;const R=k;if((0,D.gB)(R))return 0===B?(0,D.i$)(R):(0,D.Iu)((0,D.i$)(R),B);if(1===B)return(0,D.rY)(R);if(B>1)return(0,D.di)(R,B);return x.from?x.from:(0,D.se)(x)}(P):w&&(H.cast=Array.isArray(w)?(0,D.Ls)((0,D.N7)(w[0])):(0,D.N7)(w))),(0,j.tz)(H,x),x.range&&(H.cast=L(H.cast,x.range))}}function V(x,B,k){const R=(0,j.Oe)(x,k);R.json||(R.json={});let H=R.json;return void 0!==B&&(H.origins||(H.origins={}),H.origins[B]||(H.origins[B]={}),H=H.origins[B]),H}function L(x,B){return k=>{let R=+x(k);return null!=B.step&&(R=Math.round(R/B.step)*B.step),null!=B.min&&(R=Math.max(B.min,R)),null!=B.max&&(R=Math.min(B.max,R)),R}}},62185:(Ke,Ee,E)=>{"use strict";E.d(Ee,{r:()=>D});var C=E(80543);function D(Z,j,U){let Y,V;return void 0===j||Array.isArray(j)?(V=Z,U=j,Y=[void 0]):(V=j,Y=Array.isArray(Z)?Z:[Z]),($,L)=>{const x=$.constructor.prototype;Y.forEach(B=>{const k=(0,C.CJ)($,B,V);k.read&&"object"==typeof k.read||(k.read={}),k.read.reader=x[L],U&&(k.read.source=(k.read.source||[]).concat(U))})}}},63788:(Ke,Ee,E)=>{"use strict";function C(D){return(Z,j)=>{Z[j]=D}}E.d(Ee,{c:()=>C})},10141:(Ke,Ee,E)=>{"use strict";E.d(Ee,{j:()=>L}),E(14007);var D=E(18178),Z=E(33761),j=E(9203),U=E(56295),Y=E(80535);const V=new Set,$=new Set;function L(k){return R=>{k??="esri.core.Accessor",R.prototype.declaredClass=k,function B(k){const H=(0,j.fp)(k.prototype),N={};for(const P of Object.getOwnPropertyNames(H)){const w=H[P];(0,Y.OM)(w),N[P]={enumerable:!0,configurable:!0,get:x(P,w),set(O){const I=this.__accessor__;if(void 0!==I){if(!Object.isFrozen(this)){if(I.initialized&&w.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${P}' of ${this.declaredClass}`);if(I.lifecycle===Z.F.CONSTRUCTED&&w.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${P}' of ${this.declaredClass}`);I.set(P,O)}}else Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:O})}}}Object.defineProperties(k.prototype,N)}(R);const H=[],N=[];let P=R.prototype;for(;P;)P.hasOwnProperty("initialize")&&!V.has(P.initialize)&&(V.add(P.initialize),H.push(P.initialize)),P.hasOwnProperty("destroy")&&!$.has(P.destroy)&&($.add(P.destroy),N.push(P.destroy)),P=Object.getPrototypeOf(P);V.clear(),$.clear();const w=class extends R{constructor(...I){if(super(...I),this.constructor===w&&"function"==typeof this.postscript){if(H.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let T=H.length-1;T>=0;T--)H[T].call(this)}}),N.length){let T=!1;const W=this[D.l];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!T){T=!0,W.call(this);for(let z=0;z<N.length;z++)N[z].call(this)}}})}this.postscript(...I)}}};w.__accessorMetadata__=(0,j.fp)(R.prototype),w.prototype.declaredClass=k;const O=(k||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(w,"name",{value:O,configurable:!0}),w}}function x(k,R){return null==R.get?function(){const H=this.__accessor__,N=H.propertiesByName.get(k);if(void 0===N)return;(0,U.it)(N);const P=H.store;return P.has(k)?P.get(k):N.metadata.value}:function(){const H=this.__accessor__,N=H.propertiesByName.get(k);if(void 0!==N)return N.getComputed(H)}}},7547:(Ke,Ee,E)=>{"use strict";E.d(Ee,{c:()=>D});var C=E(80543);function D(Z,j,U){let Y,V;return void 0===j?(V=Z,Y=[void 0]):"string"!=typeof j?(V=Z,Y=[void 0],U=j):(V=j,Y=Array.isArray(Z)?Z:[Z]),($,L)=>{const x=$.constructor.prototype;for(const B of Y){const k=(0,C.CJ)($,B,V);k.write&&"object"==typeof k.write||(k.write={}),U&&(k.write.target=U),k.write.writer=x[L]}}}},44469:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>D});var C=E(60301);function D(Z,j,U){j.keys().forEach(V=>{U.set(V,j.get(V),C.s3.DEFAULTS)}),Object.keys(Z.metadatas).forEach(V=>{Z.internalGet(V)&&U.set(V,Z.internalGet(V),C.s3.DEFAULTS)})}},657:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Hg:()=>R,V7:()=>k,uD:()=>B});var C=E(73514),D=E(83944),Z=E(49301);const j=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function U(N){return N instanceof C.Z}function Y(N){return N instanceof D.Z?Object.keys(N.items):U(N)?(0,Z.vw)(N).keys():N?Object.keys(N):[]}function V(N,P){return N instanceof D.Z?N.items[P]:N[P]}function L(N){return N?N.declaredClass:null}function x(N,P){const w=N.diff;if(w&&"function"==typeof w)return w(N,P);const O=Y(N),I=Y(P);if(0===O.length&&0===I.length)return;if(!O.length||!I.length||function $(N,P){return!(!Array.isArray(N)||!Array.isArray(P))&&N.length!==P.length}(N,P))return{type:"complete",oldValue:N,newValue:P};const T=I.filter(oe=>!O.includes(oe)),W=O.filter(oe=>!I.includes(oe)),z=O.filter(oe=>I.includes(oe)&&V(N,oe)!==V(P,oe)).concat(T,W).sort(),F=L(N);if(F&&j.has(F)&&z.length)return{type:"complete",oldValue:N,newValue:P};let Q;const J=U(N)&&U(P);for(const oe of z){const se=V(N,oe),ue=V(P,oe);let he;if((J||"function"!=typeof se&&"function"!=typeof ue)&&se!==ue&&(null!=se||null!=ue)){if(w&&w[oe]&&"function"==typeof w[oe])he=w[oe]?.(se,ue);else if(se instanceof Date&&ue instanceof Date){if(se.getTime()===ue.getTime())continue;he={type:"complete",oldValue:se,newValue:ue}}else he="object"==typeof se&&"object"==typeof ue&&L(se)===L(ue)?x(se,ue):{type:"complete",oldValue:se,newValue:ue};null!=he&&(null!=Q?Q.diff[oe]=he:Q={type:"partial",diff:{[oe]:he}})}}return Q}function B(N,P){if(null==N)return!1;const w=P.split(".");let O=N;for(const I of w){if("complete"===O.type)return!0;if("partial"!==O.type)return!1;{const T=O.diff[I];if(!T)return!1;O=T}}return!0}function k(N,P){for(const w of P)if(B(N,w))return!0;return!1}function R(N,P){if("function"!=typeof N&&"function"!=typeof P&&(null!=N||null!=P))return null==N||null==P||"object"==typeof N&&"object"==typeof P&&L(N)!==L(P)?{type:"complete",oldValue:N,newValue:P}:x(N,P)}},1535:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AY:()=>le,Iu:()=>Q,Ls:()=>W,N7:()=>ue,TJ:()=>P,V5:()=>G,Zs:()=>V,di:()=>J,gB:()=>oe,i$:()=>se,q9:()=>$,rY:()=>z,sY:()=>q,se:()=>T,vU:()=>L,z8:()=>he}),E(14007);var D=E(4703),Z=E(8611);const j=D.Z.getLogger("esri.core.accessorSupport.ensureTypes");function U(te){return null==te?te:new Date(te)}function Y(te){return null==te?te:!!te}function V(te){return null==te?te:te.toString()}function $(te){return null==te?te:(te=parseFloat(te),isNaN(te)?0:te)}function L(te){return null==te?te:Math.round(parseFloat(te))}function x(te){return te?.constructor&&void 0!==te.constructor.__accessorMetadata__}function B(te,ae){return null!=ae&&te&&!(ae instanceof te)}function k(te){return te&&"isCollection"in te}function R(te){return te?.Type?"function"==typeof te.Type?te.Type:te.Type.base:null}function N(te,ae){return!!x(ae)&&(j.error("Accessor#set","Assigning an instance of '"+(ae.declaredClass||"unknown")+"' which is not a subclass of '"+w(te)+"'"),!0)}function P(te,ae){return null==ae?ae:k(te)?function H(te,ae){if(!ae?.constructor||!k(ae.constructor))return N(te,ae)?ae:new te(ae);const ee=R(te.prototype.itemType),ce=R(ae.constructor.prototype.itemType);return ee?ce?ee===ce?ae:ee.prototype.isPrototypeOf(ce.prototype)?new te(ae):(N(te,ae),ae):new te(ae):ae}(te,ae):B(te,ae)?N(te,ae)?ae:new te(ae):ae}function w(te){return te?.prototype?.declaredClass||"unknown"}const O=new WeakMap;function T(te,ae){const ee=function I(te){switch(te){case Number:return $;case he:return L;case Boolean:return Y;case String:return V;case Date:return U;default:return(0,Z.s1)(O,te,()=>P.bind(null,te))}}(te);return 1===arguments.length?ee:ee(ae)}function W(te,ae,ee){return 1===arguments.length?W.bind(null,te):ae&&(Array.isArray(ae)?ae.map(ce=>te(ce,ee)):[te(ae,ee)])}function z(te,ae){return 1===arguments.length?W(ee=>T(te,ee)):W(ee=>T(te,ee),ae)}function F(te,ae,ee){return 0!==ae&&Array.isArray(ee)?ee.map(ce=>F(te,ae-1,ce)):te(ee)}function Q(te,ae,ee){if(2===arguments.length)return ne=>Q(te,ae,ne);if(!ee)return ee;ee=F(te,ae,ee);let ce=ae,ie=ee;for(;ce>0&&Array.isArray(ie);)ce--,ie=ie[0];if(void 0!==ie)for(let ne=0;ne<ce;ne++)ee=[ee];return ee}function J(te,ae,ee){return 2===arguments.length?Q(ce=>T(te,ce),ae):Q(ce=>T(te,ce),ae,ee)}function oe(te){return!!Array.isArray(te)&&!te.some(ae=>{const ee=typeof ae;return!("string"===ee||"number"===ee||"function"===ee&&te.length>1)})}function se(te,ae){if(2===arguments.length)return se(te).call(null,ae);const ee=new Set,ce=te.filter(ye=>"function"!=typeof ye),ie=te.filter(ye=>"function"==typeof ye);for(const ye of te)"string"!=typeof ye&&"number"!=typeof ye||ee.add(ye);let ne=null,pe=null;return(ye,re)=>{if(null==ye)return ye;const ve=typeof ye,Oe="string"===ve||"number"===ve;return Oe&&(ee.has(ye)||ie.some(Me=>"string"===ve&&Me===String||"number"===ve&&Me===Number))||"object"===ve&&ie.some(Me=>!B(ye,Me))?ye:(Oe&&ce.length?(ne||(ne=ce.map(Me=>"string"==typeof Me?`'${Me}'`:`${Me}`).join(", ")),j.error("Accessor#set",`'${ye}' is not a valid value for this property, only the following values are valid: ${ne}`)):"object"==typeof ye&&ie.length?(pe||(pe=ie.map(Me=>w(Me)).join(", ")),j.error("Accessor#set",`'${ye}' is not a valid value for this property, value must be one of ${pe}`)):j.error("Accessor#set",`'${ye}' is not a valid value for this property`),re&&(re.valid=!1),null)}}function ue(te,ae){if(2===arguments.length)return ue(te).call(null,ae);const ee={},ce=[],ie=[];for(const re in te.typeMap){const ve=te.typeMap[re];ee[re]=T(ve),ce.push(w(ve)),ie.push(re)}const ye="string"==typeof te.key?re=>re[te.key]:te.key;return re=>{if(te.base&&!B(te.base,re)||null==re)return re;const ve=ye(re)||te.defaultKeyValue,Oe=ee[ve];if(!Oe)return j.error("Accessor#set",`Invalid property value, value needs to be one of '${ce.join("', '")}', or a plain object that can autocast (having .type = '${ie.join("', '")}')`),null;if(!B(te.typeMap[ve],re))return re;if("string"==typeof te.key&&!x(re)){const Me={};for(const Se in re)Se!==te.key&&(Me[Se]=re[Se]);return Oe(Me)}return Oe(re)}}class he{}const G={native:te=>({type:"native",value:te}),array:te=>({type:"array",value:te}),oneOf:te=>({type:"one-of",values:te})};function le(te){if(!te||!("type"in te))return!1;switch(te.type){case"native":case"array":case"one-of":return!0}return!1}function q(te){switch(te.type){case"native":return T(te.value);case"array":return W(q(te.value));case"one-of":return function fe(te){let ae=null;return(ee,ce)=>me(ee,te)?ee:(null==ae&&(ae=ge(te)),j.error("Accessor#set",`Invalid property value, value needs to be of type ${ae}`),ce&&(ce.valid=!1),null)}(te);default:return null}}function ge(te){switch(te.type){case"native":switch(te.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case he:return"integer";case Date:return"date";default:return w(te.value)}case"array":return`array of ${ge(te.value)}`;case"one-of":{const ae=te.values.map(ee=>ge(ee));return`one of ${ae.slice(0,-1)} or ${ae[ae.length-1]}`}}return"unknown"}function me(te,ae){if(null==te)return!0;switch(ae.type){case"native":switch(ae.value){case Number:case he:return"number"==typeof te;case Boolean:return"boolean"==typeof te;case String:return"string"==typeof te}return te instanceof ae.value;case"array":return!!Array.isArray(te)&&!te.some(ee=>!me(ee,ae.value));case"one-of":return ae.values.some(ee=>me(te,ee))}}},80535:(Ke,Ee,E)=>{"use strict";E.d(Ee,{hk:()=>L,HS:()=>x,Ah:()=>B,OM:()=>O});var C=E(1535),Z=E(50106);function U(I){I.name&&(I.read&&"object"==typeof I.read?void 0===I.read.source&&(I.read.source=I.name):I.read={source:I.name},I.write&&"object"==typeof I.write?void 0===I.write.target&&(I.write.target=I.name):I.write={target:I.name})}function Y(I){"boolean"==typeof I.read?I.read={enabled:I.read}:"function"==typeof I.read?I.read={enabled:!0,reader:I.read}:I.read&&"object"==typeof I.read&&void 0===I.read.enabled&&(I.read.enabled=!0)}function V(I){"boolean"==typeof I.write?I.write={enabled:I.write}:"function"==typeof I.write?I.write={enabled:!0,writer:I.write}:I.write&&"object"==typeof I.write&&void 0===I.write.enabled&&(I.write.enabled=!0)}var $=E(73710);function L(I,T){return k(I,"any",T?.origin)}function x(I,T){return k(I,"read",T?.origin)}function B(I,T){return k(I,"write",T?.origin)}function k(I,T,W){let z=I?.json;if(z?.origins&&W){let F;F="link-chart"===W?z.origins[W]&&("any"===T||T in z.origins[W])?z.origins[W]:z.origins["web-map"]:z.origins[W],F&&("any"===T||T in F)&&(z=F)}return z}function N(I){return I.type?P(I):w(I)}function P(I){if(!I.type)return;let T=0,W=I.type;for(;Array.isArray(W)&&!(0,C.gB)(W);)W=W[0],T++;return{type:W,ndimArray:T}}function w(I){if(!I.types)return;let T=0,W=I.types;for(;Array.isArray(W);)W=W[0],T++;return{types:W,ndimArray:T}}function O(I){(function j(I){if(I.json||(I.json={}),Y(I.json),V(I.json),U(I.json),I.json.origins)for(const T in I.json.origins)Y(I.json.origins[T]),V(I.json.origins[T]),U(I.json.origins[T]);return!0})(I)&&(function D(I){if(I.json&&I.json.origins){const T=I.json.origins,W={"web-document":["web-scene","web-map"]};for(const z in W)if(T[z]){const F=T[z];W[z].forEach(Q=>{T[Q]=F}),delete T[z]}}}(I),function R(I){const T=function H(I){return I.json.types?w(I.json):I.type?P(I):w(I)}(I);if(I.json.origins)for(const W in I.json.origins){const z=I.json.origins[W],F=z.types?N(z):T;(0,Z.U)(F,z,!1),z.types&&!z.write&&I.json.write&&I.json.write.enabled&&(z.write={...I.json.write}),(0,$.U)(F,z)}(0,Z.U)(T,I.json,!0),(0,$.U)(T,I.json)}(I))}},50106:(Ke,Ee,E)=>{"use strict";E.d(Ee,{U:()=>V,d:()=>$});var C=E(4703),D=E(71763),Z=E(23206),j=E(9203),U=E(16201);const Y=C.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function V(T,W,z){T&&(!z&&!W.read||W.read?.reader||!1===W.read?.enabled||function N(T){return"types"in T?w(T.types):P(T.type)}(T)&&(0,D.RB)("read.reader",$(T),W))}function $(T){const W=T.ndimArray??0;if(W>1)return function k(T){const W=L(T),z=B.bind(null,W),F=T.ndimArray??0;return(Q,J,oe)=>{if(null==Q)return Q;Q=z(Q,oe,F);let se=F,ue=Q;for(;se>0&&Array.isArray(ue);)se--,ue=ue[0];if(void 0!==ue)for(let he=0;he<se;he++)Q=[Q];return Q}}(T);if(1===W)return R(T);if("type"in T&&H(T.type)){const z=T.type.prototype?.itemType?.Type,F=R("function"==typeof z?{type:z}:{types:z});return(Q,J,oe)=>{const se=F(Q,J,oe);return se&&new T.type(se)}}return L(T)}function L(T){return"type"in T?function x(T){return T.prototype.read?(W,z,F)=>{if(null==W)return W;const Q=typeof W;if("object"!==Q)return void Y.error(`Expected JSON value of type 'object' to deserialize type '${T.prototype.declaredClass}', but got '${Q}'`);const J=new T;return J.read(W,F),J}:T.fromJSON}(T.type):function O(T){let W=null;const z=T.errorContext??"type",F=T.validate;return(Q,J,oe)=>{if(null==Q)return Q;const se=typeof Q;if("object"!==se)return void Y.error(`Expected JSON value of type 'object' to deserialize, but got '${se}'`);W||(W=function I(T){const W={};for(const z in T.typeMap){const F=T.typeMap[z],Q=(0,j.fp)(F.prototype);if("function"==typeof T.key)continue;const J=Q[T.key];if(!J)continue;J.json?.type&&Array.isArray(J.json.type)&&1===J.json.type.length&&"string"==typeof J.json.type[0]&&(W[J.json.type[0]]=F);const oe=J.json?.write;if(!oe?.writer){W[z]=F;continue}const se=oe.target,ue="string"==typeof se?se:T.key,he={};oe.writer(z,he,ue),he[ue]&&(W[he[ue]]=F)}return W}(T));const ue=T.key;if("string"!=typeof ue)return;const he=Q[ue],G=he?W[he]:T.defaultKeyValue?T.typeMap[T.defaultKeyValue]:void 0;if(!G){const q=`Type '${he||"unknown"}' is not supported`;return oe?.messages&&Q&&oe.messages.push(new Z.Z(`${z}:unsupported`,q,{definition:Q,context:oe})),void Y.error(q)}const le=new G;return le.read(Q,oe),F?F(le):le}}(T.types)}function B(T,W,z,F){return 0!==F&&Array.isArray(W)?W.map(Q=>B(T,Q,z,F-1)):T(W,void 0,z)}function R(T){const W=L(T);return(z,F,Q)=>{if(null==z)return z;if(Array.isArray(z)){const oe=[];for(const se of z){const ue=W(se,void 0,Q);void 0!==ue&&oe.push(ue)}return oe}const J=W(z,void 0,Q);return void 0!==J?[J]:void 0}}function H(T){if(!(0,U.u)(T))return!1;const W=T.prototype.itemType;return!(!W||!W.Type)&&("function"==typeof W.Type?P(W.Type):w(W.Type))}function P(T){return!Array.isArray(T)&&!!T&&T.prototype&&("read"in T.prototype||"fromJSON"in T||H(T))}function w(T){for(const W in T.typeMap)if(!P(T.typeMap[W]))return!1;return!0}},16201:(Ke,Ee,E)=>{"use strict";function C(D){return!!D&&D.prototype?.declaredClass&&0===D.prototype.declaredClass.indexOf("esri.core.Collection")}E.d(Ee,{u:()=>C})},73710:(Ke,Ee,E)=>{"use strict";E.d(Ee,{U:()=>U,k:()=>B});var C=E(57964),D=E(4703),Z=E(71763),j=E(16201);function U(N,P){if(!P.write||P.write.writer||!1===P.write.enabled&&!P.write.overridePolicy)return;const w=N?.ndimArray??0;P.write.writer=N&&(1===w||"type"in N&&(0,j.u)(N.type))?k:w>1?function H(N){return(P,w,O,I)=>{let T;if(null===P)T=null;else{T=R(P,I,N);let W=N,z=T;for(;W>0&&Array.isArray(z);)W--,z=z[0];if(void 0!==z)for(let F=0;F<W;F++)T=[T]}(0,Z.RB)(O,T,w)}}(w):P.types?Array.isArray(P.types)?function $(N){return(P,w,O,I)=>P&&Array.isArray(P)?L(P.filter(T=>V(T,N,I)),w,O,I):L(P,w,O,I)}(P.types[0]):function Y(N){return(P,w,O,I)=>P?V(P,N,I)?L(P,w,O,I):void 0:L(P,w,O,I)}(P.types):L}function V(N,P,w){for(const O in P.typeMap)if(N instanceof P.typeMap[O])return!0;if(w?.messages){const I=`Values of type '${("function"!=typeof P.key?N[P.key]:N.declaredClass)??"Unknown"}' cannot be written`;w&&w.messages&&N&&w.messages.push(new C.Z(`${P.errorContext??"type"}:unsupported`,I,{definition:N,context:w})),D.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(I)}return!1}function L(N,P,w,O){(0,Z.RB)(w,x(N,O),P)}function x(N,P){return N&&"function"==typeof N.write?N.write({},P):N&&"function"==typeof N.toJSON?N.toJSON():"number"==typeof N?B(N):N}function B(N){return N===-1/0?-Number.MAX_VALUE:N===1/0?Number.MAX_VALUE:isNaN(N)?null:N}function k(N,P,w,O){let I;null===N?I=null:N&&"function"==typeof N.map?(I=N.map(T=>x(T,O)),"function"==typeof I.toArray&&(I=I.toArray())):I=[x(N,O)],(0,Z.RB)(w,I,P)}function R(N,P,w){return 0!==w&&Array.isArray(N)?N.map(O=>R(O,P,w-1)):x(N,P)}},37718:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$z:()=>j,Gg:()=>Y,U2:()=>U});var C=E(49301);function D(V,$){const L="?"===V[V.length-1]?V.slice(0,-1):V;if(null!=$.getItemAt||Array.isArray($)){const B=parseInt(L,10);if(!isNaN(B))return Array.isArray($)?$[B]:$.at(B)}const x=(0,C.vw)($);return(0,C.b6)(x,L)?x.get(L):$[L]}function Z(V,$,L){if(null==V)return V;const x=D($[L],V);return!x&&L<$.length-1?void 0:L===$.length-1?x:Z(x,$,L+1)}function j(V,$,L=0){return"string"!=typeof $||$.includes(".")?Z(V,(0,C.NI)($),L):D($,V)}function U(V,$){return j(V,$)}function Y(V,$){return void 0!==j($,V)}},33761:(Ke,Ee,E)=>{"use strict";var C,D;E.d(Ee,{F:()=>C}),(D=C||(C={}))[D.INITIALIZING=0]="INITIALIZING",D[D.CONSTRUCTING=1]="CONSTRUCTING",D[D.CONSTRUCTED=2]="CONSTRUCTED"},76215:(Ke,Ee,E)=>{"use strict";E.d(Ee,{C:()=>C});const C=(D=>["operational-layers","basemap","ground"])()},9203:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Oe:()=>j,fp:()=>Z,tz:()=>Y});var C=E(34222),D=E(49301);function Z(L){let x=L.constructor.__accessorMetadata__;const B=Object.prototype.hasOwnProperty.call(L.constructor,"__accessorMetadata__");if(x){if(!B){x=Object.create(x);for(const k in x)x[k]=(0,C.d9)(x[k]);Object.defineProperty(L.constructor,"__accessorMetadata__",{value:x,enumerable:!1,configurable:!0,writable:!0})}}else x={},Object.defineProperty(L.constructor,"__accessorMetadata__",{value:x,enumerable:!1,configurable:!0,writable:!0});return L.constructor.__accessorMetadata__}function j(L,x){const B=Z(L);let k=B[x];return k||(k=B[x]={}),k}function Y(L,x){return(0,D.TS)(L,x,$)}const V=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function $(L){return V.test(L)?"replace":"merge"}},68090:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$:()=>x,i:()=>L});var C=E(37718),D=E(49301),Z=E(80535);function j(B,k,R){if(!B?.read||!1===B.read.enabled||!B.read.source)return!1;const H=B.read.source;if("string"==typeof H){if(H===k||H.includes(".")&&0===H.indexOf(k)&&(0,C.Gg)(H,R))return!0}else for(const N of H)if(N===k||N.includes(".")&&0===N.indexOf(k)&&(0,C.Gg)(N,R))return!0;return!1}function Y(B,k,R,H,N){let P=(0,Z.HS)(k[R],N);(function U(B){return B&&(!B.read||!1!==B.read.enabled&&!B.read.source)})(P)&&(B[R]=!0);for(const w of Object.getOwnPropertyNames(k))P=(0,Z.HS)(k[w],N),j(P,R,H)&&(B[w]=!0)}function V(B,k,R,H){const P=(0,Z.hk)(R.metadatas[k],H),w=P?.default;if(void 0===w)return;const O="function"==typeof w?w.call(B,k,H):w;void 0!==O&&R.set(k,O)}const $={origin:"service"};function L(B,k,R=$){if(!k||"object"!=typeof k)return;const H=(0,D.vw)(B),N=H.metadatas,P={};for(const w of Object.getOwnPropertyNames(k))Y(P,N,w,k,R);H.setDefaultOrigin(R.origin);for(const w of Object.getOwnPropertyNames(P)){const O=(0,Z.HS)(N[w],R).read,I=O?.source;let T;T=I&&"string"==typeof I?(0,C.$z)(k,I):k[w],O?.reader&&(T=O.reader.call(B,T,k,R)),void 0!==T&&H.set(w,T)}if(!R||!R.ignoreDefaults){H.setDefaultOrigin("defaults");for(const w of Object.getOwnPropertyNames(N))P[w]||V(B,w,H,R)}H.setDefaultOrigin("user")}function x(B,k,R,H=$){const N={...H,messages:[]};R(N),N.messages?.forEach(P=>{"warning"!==P.type||B.loaded?H?.messages&&H.messages.push(P):B.loadWarnings.push(P)})}},39189:(Ke,Ee,E)=>{"use strict";E.d(Ee,{t:()=>U});var C=E(57964),D=E(14007),j=(E(4703),E(37718));function U(L,x,B){if(L&&x)if("object"==typeof x)for(const k of Object.getOwnPropertyNames(x))U(L,k,x[k]);else{if(x.includes(".")){const R=x.split("."),H=R.splice(-1,1)[0];return void U((0,j.U2)(L,R),H,B)}const k=L.__accessor__;null!=k&&function Y(L,x){if((0,D.Z)("esri-unknown-property-errors")&&!function V(L,x){return null!=x.metadatas[L]}(L,x))throw new C.Z("set:unknown-property",function $(L,x){return"setting unknown property '"+L+"' on instance of "+x.host.declaredClass}(L,x))}(x,k),L[x]=B}}},56295:(Ke,Ee,E)=>{"use strict";E.d(Ee,{GF:()=>O,LJ:()=>B,gb:()=>k,it:()=>$,mS:()=>P}),E(14007);var D=E(4703),Z=E(49301),j=E(6210);const U={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},Y=[];let V=U;function $(T){V.onObservableAccessed(T)}let L=!1,x=!1;function B(T,W,z){if(L)return R(T,W,z);H(T);const F=W.call(z);return N(),F}function k(T,W){return B(U,T,W)}function R(T,W,z){const F=L;L=!0,H(T);let Q=null;try{Q=W.call(z)}catch(J){x&&D.Z.getLogger("esri.core.accessorSupport.tracking").error(J)}return N(),L=F,Q}function H(T){V=T,Y.push(T)}function N(){const T=Y.length;if(T>1){const W=Y.pop();V=Y[T-2],W.onTrackingEnd()}else if(1===T){const W=Y.pop();V=U,W.onTrackingEnd()}else V=U}function P(T,W){if(W.flags&j.v.DepTrackingInitialized)return;const z=x;x=!1,W.flags&j.v.AutoTracked?R(W,W.metadata.get,T):O(T,W),x=z}const w=[];function O(T,W){W.flags&j.v.ExplicitlyTracking||(W.flags|=j.v.ExplicitlyTracking,R(W,()=>{const z=W.metadata.dependsOn||w;for(const F of z)if("string"!=typeof F||F.includes(".")){const Q=(0,Z.NI)(F);for(let J=0,oe=T;J<Q.length&&null!=oe&&"object"==typeof oe;++J)oe=I(oe,Q[J],J!==Q.length-1)}else I(T,F,!1)}),W.flags&=~j.v.ExplicitlyTracking)}function I(T,W,z){const F="?"===W[W.length-1]?W.slice(0,-1):W;if(null!=T.getItemAt||Array.isArray(T)){const J=parseInt(F,10);if(!isNaN(J))return Array.isArray(T)?T[J]:T.at(J)}const Q=(0,Z.vw)(T);if(Q){const J=Q.propertiesByName.get(F);J&&($(J),P(T,J))}return z?T[F]:void 0}},43571:(Ke,Ee,E)=>{"use strict";E.d(Ee,{EH:()=>$,U5:()=>Y,Xz:()=>V});var C=E(1258),D=E(56295),Z=E(714);let j=!1;const U=[];function Y(B,k){let R=new Z.M(function P(){if(!R||N)return;if(j)return void L(P);const O=H;R.clear(),j=!0,N=!0,H=(0,D.LJ)(R,B),N=!1,j=!1,k(H,O),x()}),H=null,N=!1;return N=!0,H=(0,D.LJ)(R,B),N=!1,(0,C.kB)(function w(){R&&(R.destroy(),R=null,H=null)})}function V(B,k){let R=new Z.M(function N(){k(H,w)}),H=null;function w(){return R?(R.clear(),H=(0,D.LJ)(R,B),H):null}return w(),(0,C.kB)(function P(){R&&(R.destroy(),R=null),H=null})}function $(B){let k=new Z.M(function H(){k&&!R&&(j?L(H):(k.clear(),j=!0,R=!0,(0,D.LJ)(k,B),R=!1,j=!1,x()))}),R=!1;return R=!0,(0,D.LJ)(k,B),R=!1,(0,C.kB)(function N(){k&&(k.destroy(),k=null)})}function L(B){U.includes(B)||U.unshift(B)}function x(){for(;U.length;)U.pop()()}},6210:(Ke,Ee,E)=>{"use strict";var C,D;E.d(Ee,{v:()=>C}),(D=C||(C={}))[D.Dirty=1]="Dirty",D[D.Overriden=2]="Overriden",D[D.Computing=4]="Computing",D[D.NonNullable=8]="NonNullable",D[D.HasDefaultValue=16]="HasDefaultValue",D[D.DepTrackingInitialized=32]="DepTrackingInitialized",D[D.AutoTracked=64]="AutoTracked",D[D.ExplicitlyTracking=128]="ExplicitlyTracking"},19994:(Ke,Ee,E)=>{"use strict";E.d(Ee,{s:()=>D});var C=E(64198);class D extends C.s{notify(){const j=this._observers;if(j&&j.length>0){const U=j.slice();for(const Y of U)Y.onInvalidated(),Y.onCommitted()}}}},714:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>C});class C{constructor(Y){this._accessed=[],this._handles=[],this._observerObject=new D(Y),Z.register(this,new WeakRef(this._observerObject),this)}destroy(){Z.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(Y){const V=this._accessed;V.includes(Y)||V.push(Y)}onTrackingEnd(){const Y=this._handles,V=this._accessed,$=this._observerObject;for(let L=0;L<V.length;++L)Y.push(V[L].observe($));V.length=0}clear(){const Y=this._handles;for(let V=0;V<Y.length;++V)Y[V].remove();Y.length=0}}class D{constructor(Y){this._notify=Y,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const Y=this._invalidCount;if(1===Y)return this._invalidCount=0,void this._notify();this._invalidCount=Y>0?Y-1:0}destroy(){this.destroyed=!0,this._notify=j}}const Z=new FinalizationRegistry(U=>{U.deref()?.destroy()});function j(){}},49301:(Ke,Ee,E)=>{"use strict";E.d(Ee,{NI:()=>L,Qc:()=>R,TS:()=>Y,b6:()=>j,vw:()=>Z});var C=E(1258),D=E(34222);function Z(H){return H.__accessor__??null}function j(H,N){return null!=H?.metadatas?.[N]}function Y(H,N,P){return V(H,N,P?{policy:P,path:""}:null)}function V(H,N,P){return N?Object.keys(N).reduce((w,O)=>{const I=O;let T=null,W="merge";if(P&&(T=P.path?`${P.path}.${O}`:O,W=P.policy(T)),"replace"===W||"replace-arrays"===W&&Array.isArray(w[I]))return w[I]=N[I],w;if(void 0===w[I])return w[I]=(0,D.d9)(N[I]),w;let z=w[I],F=N[I];if(z===F)return w;if(Array.isArray(F)||Array.isArray(w))z=w[I]=z?Array.isArray(z)?z.concat():[z]:[],F&&(Array.isArray(F)||(F=[F]),F.forEach(Q=>{z.includes(Q)||z.push(Q)}));else if(F&&"object"==typeof F)if(P){const Q=P.path;P.path=T,w[I]=V(z,F,P),P.path=Q}else w[I]=V(z,F,null);else w.hasOwnProperty(O)&&!N.hasOwnProperty(O)||(w[I]=F);return w},H||{}):H}function L(H){return Array.isArray(H)?H:H.split(".")}function x(H){return H.includes(",")?H.split(",").map(N=>N.trim()):[H.trim()]}function R(H,N,P,w){const O=function B(H){if(Array.isArray(H)){const N=[];for(const P of H)N.push(...x(P));return N}return x(H)}(N);if(1!==O.length){const I=O.map(T=>w(H,T,P));return(0,C.AL)(I)}return w(H,O[0],P)}},12926:(Ke,Ee,E)=>{"use strict";E.d(Ee,{BT:()=>O,Fs:()=>z,NC:()=>he,YP:()=>J,aQ:()=>ue});var B,G,C=E(11667),D=E(1258),Z=E(34222),j=E(14467),U=E(66679),Y=E(79876),V=E(68160),$=E(37718),L=E(43571),x=E(49301);(G=B||(B={}))[G.Untracked=0]="Untracked",G[G.Tracked=1]="Tracked";class k{constructor(){this.uid=(0,V.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(le,q,fe,ge,me){return this.pool.acquire(B.Untracked,le,q,fe,ge,me,Z.fS)}static acquireTracked(le,q,fe,ge){return this.pool.acquire(B.Tracked,le,q,fe,null,null,ge)}notify(le,q){this.type===B.Untracked?this.callback.call(this.target,le,q,this.path,this.target):this.callback.call(null,le,q,void 0,void 0)}acquire(le,q,fe,ge,me,te,ae){this.uid=(0,V.D)(),this.removed=!1,this.type=le,this.oldValue=q,this.callback=fe,this.getValue=ge,this.target=me,this.path=te,this.equals=ae}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,V.D)(),this.removed=!0}}k.pool=new j.e(k);const R=new C.Z,H=new Set;let N;function P(G){H.delete(G),H.add(G),N||(N=(0,U.Os)(I))}function w(G){if(G.removed)return;const le=G.oldValue,q=G.getValue();G.equals(le,q)||(G.oldValue=q,G.notify(q,le))}function O(G){for(const le of H.values())le.target===G&&(le.removed=!0)}function I(){let G=10;for(;N&&G--;){N=null;const le=T(),q=R.acquire();for(const fe of le){const ge=fe.uid;w(fe),ge===fe.uid&&fe.removed&&q.push(fe)}for(const fe of H)fe.removed&&(q.push(fe),H.delete(fe));for(const fe of q)k.pool.release(fe);R.release(q),R.release(le),W.forEach(fe=>fe())}}function T(){const G=R.acquire();G.length=H.size;let le=0;for(const q of H)G[le]=q,++le;return H.clear(),G}const W=new Set;function z(G){return W.add(G),(0,D.kB)(()=>W.delete(G))}function J(G,le,q,fe=!1){return!G.__accessor__||G.__accessor__.destroyed?(0,D.kB)():fe?function Q(G,le,q){const fe=(0,x.Qc)(G,le,q,(ge,me,te)=>{let ae=!1;return(0,L.U5)(()=>(0,$.$z)(ge,me),(ee,ce)=>{ge.__accessor__.destroyed?fe.remove():ae||(ae=!0,(0,Z.fS)(ce,ee)||te.call(ge,ee,ce,me,ge),ae=!1)})});return fe}(G,le,q):function F(G,le,q){let fe=(0,x.Qc)(G,le,q,(ge,me,te)=>{let ae,ee,ce=(0,L.Xz)(()=>(0,$.$z)(ge,me),(ie,ne)=>{ge.__accessor__.destroyed||ae&&ae.uid!==ee?fe.remove():(ae||(ae=k.acquireUntracked(ie,te,ne,ge,me),ee=ae.uid),P(ae))});return(0,D.kB)(()=>{ce.remove(),ae&&(ae.uid!==ee||ae.removed||(ae.removed=!0,P(ae)),ae=null),fe=ce=null})});return fe}(G,le,q)}function ue(G,le,q=!1,fe=Z.y7){return q?function se(G,le,q){let fe=!1;return(0,L.U5)(G,(ge,me)=>{fe||(fe=!0,q(me,ge)||le(ge,me),fe=!1)})}(G,le,fe):function oe(G,le,q){let fe,ge,me=(0,L.Xz)(G,(te,ae)=>{fe&&fe.uid!==ge?me.remove():(fe||(fe=k.acquireTracked(te,le,ae,q),ge=fe.uid),P(fe))});return(0,D.kB)(()=>{me.remove(),fe&&(fe.uid!==ge||fe.removed||(fe.removed=!0,P(fe)),fe=null),me=null})}(G,le,fe)}function he(G){return(0,Y.fn)(H,le=>le.oldValue===G)}},82206:(Ke,Ee,E)=>{"use strict";E.d(Ee,{c:()=>k,d:()=>B});var C=E(57678),D=E(57964),Z=E(4703),j=E(37718),U=E(60301),Y=E(49301),V=E(80535);function $(R,H,N,P,w){const O={};return H.write?.writer?.call(R,P,O,N,w),O}function L(R,H,N,P,w,O){if(!P?.write)return!1;const I=(0,j.U2)(R,N);if(!w&&P.write.overridePolicy){const T=P.write.overridePolicy.call(R,I,N,O??void 0);void 0!==T&&(w=T)}if(w||(w=P.write),!w||!1===w.enabled||w.layerContainerTypes&&O?.layerContainerType&&!w.layerContainerTypes.includes(O.layerContainerType))return!1;if((null===I&&!w.allowNull&&!w.writerEnsuresNonNull||void 0===I)&&w.isRequired){const T=new D.Z("web-document-write:property-required",`Missing value for required property '${N}' on '${R.declaredClass}'`,{propertyName:N,target:R});return T&&O?.messages?O.messages.push(T):T&&!O&&Z.Z.getLogger("esri.core.accessorSupport.write").error(T.name,T.message),!1}return!(void 0===I||null===I&&!w.allowNull&&!w.writerEnsuresNonNull||!w.alwaysWriteDefaults&&(!H.store.multipleOriginsSupported||H.store.originOf(N)===U.s3.DEFAULTS)&&function x(R,H,N,P,w){const O=P.default;if(void 0===O)return!1;if(null!=P.defaultEquals)return P.defaultEquals(w);if("function"==typeof O){if(Array.isArray(w)){const I=O.call(R,H,N??void 0);return(0,C.fS)(I,w)}return!1}return O===w}(R,N,O,P,I)||!w.ignoreOrigin&&O?.origin&&H.store.multipleOriginsSupported&&H.store.originOf(N)<(0,U.M9)(O.origin))}function B(R,H,N,P){const w=(0,Y.vw)(R),I=(0,V.Ah)(w.metadatas[H],P);return!!I&&L(R,w,H,I,N,P)}function k(R,H,N){if(R&&"function"==typeof R.toJSON&&(!R.toJSON.isDefaultToJSON||!R.write))return(0,Y.TS)(H,R.toJSON(N));const P=(0,Y.vw)(R),w=P.metadatas;for(const O in w){const I=(0,V.Ah)(w[O],N);if(!L(R,P,O,I,void 0,N))continue;const T=(0,j.U2)(R,O),W=$(R,I,I.write&&"string"==typeof I.write.target?I.write.target:O,T,N);Object.keys(W).length>0&&(H=(0,Y.TS)(H,W),N?.resources?.pendingOperations?.length&&N.resources.pendingOperations.push(Promise.all(N.resources.pendingOperations).then(()=>(0,Y.TS)(H,W,()=>"replace-arrays"))),N?.writtenProperties&&N.writtenProperties.push({target:R,propName:O,oldOrigin:(0,U.Wm)(P.store.originOf(O)),newOrigin:N.origin}))}return H}},57678:(Ke,Ee,E)=>{"use strict";E.d(Ee,{FY:()=>ue,Od:()=>ge,SO:()=>F,Tw:()=>B,Vx:()=>R,_X:()=>D,a9:()=>I,cq:()=>J,e$:()=>oe,e5:()=>H,fS:()=>k,pC:()=>te,wR:()=>T,zG:()=>P});var C=E(65311);const D=1.5;function B(ee,ce){return ce?ee.filter((ie,ne,pe)=>pe.findIndex(ce.bind(null,ie))===ne):Array.from(new Set(ee))}function k(ee,ce,ie){if(null==ee&&null==ce)return!0;if(null==ee||null==ce||ee.length!==ce.length)return!1;if(ie){for(let ne=0;ne<ee.length;ne++)if(!ie(ee[ne],ce[ne]))return!1}else for(let ne=0;ne<ee.length;ne++)if(ee[ne]!==ce[ne])return!1;return!0}function R(ee,ce){let ie=ee.length!==ce.length;ie&&(ee.length=ce.length);for(let ne=0;ne<ce.length;++ne)ee[ne]!==ce[ne]&&(ee[ne]=ce[ne],ie=!0);return ie}function H(ee,ce,ie){let ne,pe;return ie?(ne=ce.filter(ye=>!ee.some(re=>ie(re,ye))),pe=ee.filter(ye=>!ce.some(re=>ie(re,ye)))):(ne=ce.filter(ye=>!ee.includes(ye)),pe=ee.filter(ye=>!ce.includes(ye))),{added:ne,removed:pe}}function P(ee){return ee&&"number"==typeof ee.length}const O=!!Array.prototype.fill;function I(ee,ce){if(O)return new Array(ee).fill(ce);const ie=new Array(ee);for(let ne=0;ne<ee;ne++)ie[ne]=ce;return ie}function T(ee,ce){void 0===ce&&(ce=ee,ee=0);const ie=new Array(ce-ee);for(let ne=ee;ne<ce;ne++)ie[ne-ee]=ne;return ie}class F{constructor(){this.last=0}}const Q=new F;function J(ee,ce,ie,ne){ne=ne||Q;const pe=Math.max(0,ne.last-10);for(let re=pe;re<ie;++re)if(ee[re]===ce)return ne.last=re,re;const ye=Math.min(pe,ie);for(let re=0;re<ye;++re)if(ee[re]===ce)return ne.last=re,re;return-1}function oe(ee,ce,ie,ne){const pe=ie??ee.length,ye=J(ee,ce,pe,ne);if(-1!==ye)return ee[ye]=ee[pe-1],null==ie&&ee.pop(),ce}const se=new Set;function ue(ee,ce,ie=ee.length,ne=ce.length,pe,ye){if(0===ne||0===ie)return ie;se.clear();for(let ve=0;ve<ne;++ve)se.add(ce[ve]);pe=pe||Q;const re=Math.max(0,pe.last-10);for(let ve=re;ve<ie;++ve)if(se.has(ee[ve])&&(ye?.push(ee[ve]),se.delete(ee[ve]),ee[ve]=ee[ie-1],--ie,--ve,0===se.size||0===ie))return se.clear(),ie;for(let ve=0;ve<re;++ve)if(se.has(ee[ve])&&(ye?.push(ee[ve]),se.delete(ee[ve]),ee[ve]=ee[ie-1],--ie,--ve,0===se.size||0===ie))return se.clear(),ie;return se.clear(),ie}function ge(ee,ce){const ie=ee.indexOf(ce);return-1!==ie?(ee.splice(ie,1),ce):null}function te(ee,ce){return null!=ee}new C.Z},37636:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ed:()=>$,UI:()=>L,mt:()=>w,q6:()=>N,vr:()=>T});var C=E(15861),D=E(50484),Z=E(73514),j=E(51172),U=E(79412),Y=E(80543),V=E(10141);function $(z,F,Q){return(0,U.as)(z.map((J,oe)=>F.apply(Q,[J,oe])))}function L(z,F,Q){return x.apply(this,arguments)}function x(){return(x=(0,C.Z)(function*(z,F,Q){return(yield(0,U.as)(z.map((J,oe)=>F.apply(Q,[J,oe])))).map(J=>J.value)})).apply(this,arguments)}function B(z){return{ok:!0,value:z}}function k(z){return{ok:!1,error:z}}function N(z){return P.apply(this,arguments)}function P(){return(P=(0,C.Z)(function*(z){if(null==z)return{ok:!1,error:new Error("no promise provided")};try{return B(yield z)}catch(F){return k(F)}})).apply(this,arguments)}function w(z){return O.apply(this,arguments)}function O(){return(O=(0,C.Z)(function*(z){try{return B(yield z)}catch(F){return(0,U.r9)(F),k(F)}})).apply(this,arguments)}function T(z,F){return new W(z,F)}let W=class extends Z.Z{get value(){return function R(z){return null!=z&&!0===z.ok?z.value:null}(this._result)}get error(){return function H(z){return null!=z&&!1===z.ok?z.error:null}(this._result)}get finished(){return null!=this._result}constructor(z,F){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,j.IM)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:Q}=this._abortController;this.promise=z(Q),this.promise.then(J=>{this._result=B(J),this._cleanup()},J=>{this._result=k(J),this._cleanup()}),this._abortHandle=(0,U.fu)(F,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,j.hw)(this._abortHandle),this._abortController=null}};(0,D._)([(0,Y.Cb)()],W.prototype,"value",null),(0,D._)([(0,Y.Cb)()],W.prototype,"error",null),(0,D._)([(0,Y.Cb)()],W.prototype,"finished",null),(0,D._)([(0,Y.Cb)()],W.prototype,"promise",void 0),(0,D._)([(0,Y.Cb)()],W.prototype,"_result",void 0),W=(0,D._)([(0,V.j)("esri.core.asyncUtils.ReactiveTask")],W)},91307:(Ke,Ee,E)=>{"use strict";function C(x){return 32+x.length}function D(){return 16}function Z(x){if(!x)return 0;let B=$;for(const k in x)if(x.hasOwnProperty(k)){const R=x[k];switch(typeof R){case"string":B+=C(R);break;case"number":B+=16;break;case"boolean":B+=4}}return B}function j(x){if(!x)return 0;if(Array.isArray(x))return function U(x){const B=x.length;if(0===B||"number"==typeof x[0])return 32+8*B;let k=L;for(let R=0;R<B;R++)k+=Y(x[R]);return k}(x);let B=$;for(const k in x)x.hasOwnProperty(k)&&(B+=Y(x[k]));return B}function Y(x){switch(typeof x){case"object":return j(x);case"string":return C(x);case"number":return 16;case"boolean":return 4;default:return 8}}function V(x,B){return L+x.length*B}E.d(Ee,{G3:()=>D,Ul:()=>j,do:()=>V,f2:()=>Z});const $=32,L=32},8169:(Ke,Ee,E)=>{"use strict";E.d(Ee,{m:()=>Z});var C=E(1258);const Z=function D(j){return{setTimeout:(U,Y)=>{const V=j.setTimeout(U,Y);return(0,C.kB)(()=>j.clearTimeout(V))}}}(globalThis)},18626:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>Z,Z:()=>D});var C=E(83944);function D(U,Y,V=C.Z){return Y||(Y=new V),Y===U||(Y.removeAll(),function j(U){return U&&(Array.isArray(U)||"items"in U&&Array.isArray(U.items))}(U)?Y.addMany(U):U&&Y.add(U)),Y}function Z(U){return U}},70794:(Ke,Ee,E)=>{"use strict";E.d(Ee,{EX:()=>G,Y3:()=>oe,_Y:()=>J,sJ:()=>se,xr:()=>Q});var C=E(66599);function U(ne){return"h"in ne&&"s"in ne&&"v"in ne}function Y(ne){return"l"in ne&&"a"in ne&&"b"in ne}function V(ne){return"l"in ne&&"c"in ne&&"h"in ne}E(70993),E(79516);const L=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],x=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function B(ne,pe){const ye=[];let re,ve;if(ne[0].length!==pe.length)throw new Error("dimensions do not match");const Oe=ne.length,Me=ne[0].length;let Se=0;for(re=0;re<Oe;re++){for(Se=0,ve=0;ve<Me;ve++)Se+=ne[re][ve]*pe[ve];ye.push(Se)}return ye}function k(ne){const pe=[ne.r/255,ne.g/255,ne.b/255].map(re=>re<=.04045?re/12.92:((re+.055)/1.055)**2.4),ye=B(L,pe);return{x:100*ye[0],y:100*ye[1],z:100*ye[2]}}function R(ne){const pe=B(x,[ne.x/100,ne.y/100,ne.z/100]).map(ye=>Math.min(1,Math.max(ye<=.0031308?12.92*ye:1.055*ye**.4166666666666667-.055,0)));return{r:Math.round(255*pe[0]),g:Math.round(255*pe[1]),b:Math.round(255*pe[2])}}function H(ne){const pe=[ne.x/95.047,ne.y/100,ne.z/108.883].map(ye=>ye>.008856451679035631?ye**.3333333333333333:7.787037037037035*ye+.13793103448275862);return{l:116*pe[1]-16,a:500*(pe[0]-pe[1]),b:200*(pe[1]-pe[2])}}function N(ne){const pe=ne.l,ye=[(pe+16)/116+ne.a/500,(pe+16)/116,(pe+16)/116-ne.b/200].map(re=>re>6/29?re**3:3*(6/29)**2*(re-4/29));return{x:95.047*ye[0],y:100*ye[1],z:108.883*ye[2]}}function Q(ne){return function j(ne){return"r"in ne&&"g"in ne&&"b"in ne}(ne)?ne:V(ne)?function W(ne){return R(N(function w(ne){const ye=ne.c,re=ne.h;return{l:ne.l,a:ye*Math.cos(re),b:ye*Math.sin(re)}}(ne)))}(ne):Y(ne)?function I(ne){return R(N(ne))}(ne):function $(ne){return"x"in ne&&"y"in ne&&"z"in ne}(ne)?R(ne):U(ne)?function F(ne){const pe=(ne.h+360)%360/60,re=ne.v/100*255,ve=re*(ne.s/100),Oe=ve*(1-Math.abs(pe%2-1));let Me;switch(Math.floor(pe)){case 0:Me={r:ve,g:Oe,b:0};break;case 1:Me={r:Oe,g:ve,b:0};break;case 2:Me={r:0,g:ve,b:Oe};break;case 3:Me={r:0,g:Oe,b:ve};break;case 4:Me={r:Oe,g:0,b:ve};break;case 5:case 6:Me={r:ve,g:0,b:Oe};break;default:Me={r:0,g:0,b:0}}return Me.r=Math.round(Me.r+re-ve),Me.g=Math.round(Me.g+re-ve),Me.b=Math.round(Me.b+re-ve),Me}(ne):ne}function J(ne){return U(ne)?ne:function z(ne){const pe=ne.r,ye=ne.g,re=ne.b,ve=Math.max(pe,ye,re),Oe=ve-Math.min(pe,ye,re);let Me=ve,Se=0===Oe?0:ve===pe?(ye-re)/Oe%6:ve===ye?(re-pe)/Oe+2:(pe-ye)/Oe+4,ke=0===Oe?0:Oe/Me;return Se<0&&(Se+=6),Se*=60,ke*=100,Me*=100/255,{h:Se,s:ke,v:Me}}(Q(ne))}function oe(ne){return Y(ne)?ne:function O(ne){return H(k(ne))}(Q(ne))}function se(ne){return V(ne)?ne:function T(ne){return function P(ne){const pe=ne.l,ye=ne.a,re=ne.b,ve=Math.sqrt(ye*ye+re*re);let Oe=Math.atan2(re,ye);return Oe=Oe>0?Oe:Oe+2*Math.PI,{l:pe,c:ve,h:Oe}}(H(k(ne)))}(Q(ne))}function G(ne,pe){const{r:ye,g:re,b:ve}=pe?.ignoreAlpha?ne:function he(ne){let{r:pe,g:ye,b:re,a:ve}=ne;return ve<1&&(pe=Math.round(ve*pe+255*(1-ve)),ye=Math.round(ve*ye+255*(1-ve)),re=Math.round(ve*re+255*(1-ve))),new C.Z({r:pe,g:ye,b:re})}(ne);return.2126*ye+.7152*re+.0722*ve}var le,ne;(ne=le||(le={}))[ne.Low=160]="Low",ne[ne.High=225]="High"},480:(Ke,Ee,E)=>{"use strict";function D(U){}function j(U){return()=>U}E.d(Ee,{Bg:()=>D,sM:()=>j}),E(14007)},93300:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Mr:()=>Y,XV:()=>U,x9:()=>V});var C=E(14007);const D=new Set;function U($,L,x={}){if((0,C.Z)("esri-deprecation-warnings")){const{moduleName:B}=x;V($,"Function: "+(B?B+"::":"")+L+"()",x)}}function Y($,L,x={}){if((0,C.Z)("esri-deprecation-warnings")){const{moduleName:B}=x;V($,"Property: "+(B?B+"::":"")+L,x)}}function V($,L,x={}){if((0,C.Z)("esri-deprecation-warnings")){const{replacement:B,version:k,see:R,warnOnce:H}=x;let N=L;B&&(N+=`\n\t\u{1f6e0}\ufe0f Replacement: ${B}`),k&&(N+=`\n\t\u2699\ufe0f Version: ${k}`),R&&(N+=`\n\t\u{1f517} See ${R} for more details.`),function Z($,L,x=!1){x&&D.has(L)||(x&&D.add(L),$.warn(`\u{1f6d1} DEPRECATED - ${L}`))}($,N,H)}}},70751:(Ke,Ee,E)=>{"use strict";function C($){return $=$||globalThis.location.hostname,V.some(L=>null!=$?.match(L))}function D($,L){return $&&(L=L||globalThis.location.hostname)?null!=L.match(Z)||null!=L.match(U)?$.replace("static.arcgis.com","staticdev.arcgis.com"):null!=L.match(j)||null!=L.match(Y)?$.replace("static.arcgis.com","staticqa.arcgis.com"):$:$}E.d(Ee,{XO:()=>C,pJ:()=>D});const Z=/^devext.arcgis.com$/,j=/^qaext.arcgis.com$/,U=/^[\w-]*\.mapsdevext.arcgis.com$/,Y=/^[\w-]*\.mapsqa.arcgis.com$/,V=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,Z,j,/^jsapps.esri.com$/,U,Y]},66081:(Ke,Ee,E)=>{"use strict";function C($){return"string"==typeof $?document.getElementById($):$??null}function D($){for(;$.hasChildNodes();)$.removeChild($.firstChild)}function j($,L){const x=L.parentNode;x&&x.insertBefore($,L)}function U($,L){for(;;){const x=$.firstChild;if(!x)break;L.appendChild(x)}}E.d(Ee,{L7:()=>C,Vt:()=>j,YD:()=>U,cS:()=>D}),Element},90984:(Ke,Ee,E)=>{"use strict";E.d(Ee,{IH:()=>j,kK:()=>V,on:()=>Z,vT:()=>D});var C=E(1258);function D($){return $&&("function"==typeof $.on||"function"==typeof $.addEventListener)}function Z($,L,x){if(!D($))throw new TypeError("target is not a Evented or EventTarget object");if("on"in $)return $.on(L,x);if(Array.isArray(L)){const B=L.slice();for(const k of B)$.addEventListener(k,x);return(0,C.kB)(()=>{for(const k of B)$.removeEventListener(k,x)})}return $.addEventListener(L,x),(0,C.kB)(()=>$.removeEventListener(L,x))}function j($,L,x){if(!D($))throw new TypeError("target is not a Evented or EventTarget object");if("once"in $)return $.once(L,x);const B=Z($,L,k=>{B.remove(),x.call($,k)});return B}const Y={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function V({key:$}){return Y[$]||$}},1258:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AL:()=>j,kB:()=>D});const C={remove:()=>{}};function D(x){return x?{remove(){x&&(x(),x=void 0)}}:C}function j(x){return D(()=>function Z(x){x.forEach(B=>B?.remove())}(x))}},14007:(Ke,Ee,E)=>{"use strict";let C;function D(Z){return"function"==typeof C[Z]?C[Z]=C[Z](globalThis):C[Z]}E.d(Ee,{Z:()=>D}),C=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},D.add=(Z,j,U,Y)=>((Y||void 0===C[Z])&&(C[Z]=j),U&&D(Z)),D.cache=C,D.add("big-integer-warning-enabled",!0),D.add("esri-deprecation-warnings",!0),D.add("esri-tests-disable-screenshots",!1),D.add("esri-tests-use-full-window",!1),D.add("esri-tests-post-to-influx",!0),(()=>{D.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const Z=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(D.add("host-browser",Z),D.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),D.add("dom",Z),D("host-browser")){const j=navigator,U=j.userAgent,Y=j.appVersion,V=parseFloat(Y);if(D.add("wp",parseFloat(U.split("Windows Phone")[1])||void 0),D.add("msapp",parseFloat(U.split("MSAppHost/")[1])||void 0),D.add("khtml",Y.includes("Konqueror")?V:void 0),D.add("edge",parseFloat(U.split("Edge/")[1])||void 0),D.add("opr",parseFloat(U.split("OPR/")[1])||void 0),D.add("webkit",!D("wp")&&!D("edge")&&parseFloat(U.split("WebKit/")[1])||void 0),D.add("chrome",!D("edge")&&!D("opr")&&parseFloat(U.split("Chrome/")[1])||void 0),D.add("android",!D("wp")&&parseFloat(U.split("Android ")[1])||void 0),D.add("safari",!Y.includes("Safari")||D("wp")||D("chrome")||D("android")||D("edge")||D("opr")?void 0:parseFloat(Y.split("Version/")[1])),D.add("mac",Y.includes("Macintosh")),!D("wp")&&/(iPhone|iPod|iPad)/.test(U)){const $=RegExp.$1.replace(/P/,"p"),L=/OS ([\d_]+)/.test(U)?RegExp.$1:"1",x=parseFloat(L.replace(/_/,".").replaceAll("_",""));D.add($,x),D.add("ios",x)}D("webkit")||(!U.includes("Gecko")||D("wp")||D("khtml")||D("edge")||D.add("mozilla",V),D("mozilla")&&D.add("ff",parseFloat(U.split("Firefox/")[1]||U.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const Z=navigator.userAgent,j=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(Z),U=/iPhone/i.test(Z);j&&D.add("esri-mobile",j),U&&D.add("esri-iPhone",U),D.add("esri-geolocation",!!navigator.geolocation)}D.add("esri-wasm","WebAssembly"in globalThis),D.add("esri-performance-mode-frames-between-render",20),D.add("esri-force-performance-mode",!1),D.add("esri-shared-array-buffer",()=>{const Z="SharedArrayBuffer"in globalThis,j=!1===globalThis.crossOriginIsolated;return Z&&!j}),D.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),D.add("esri-atomics","Atomics"in globalThis),D.add("esri-workers","Worker"in globalThis),D.add("web-feat:cache","caches"in globalThis),D.add("esri-workers-arraybuffer-transfer",!D("safari")||Number(D("safari"))>=12),D.add("workers-pool-size",8),D.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),D.add("featurelayer-simplify-payload-size-factors",[1,1,4]),D.add("featurelayer-animation-enabled",!0),D.add("featurelayer-snapshot-enabled",!0),D.add("featurelayer-snapshot-point-min-threshold",8e4),D.add("featurelayer-snapshot-point-max-threshold",4e5),D.add("featurelayer-snapshot-point-coverage",.1),D.add("featurelayer-advanced-symbols",!1),D.add("featurelayer-pbf",!0),D.add("featurelayer-pbf-statistics",!1),D.add("feature-layers-workers",!0),D.add("feature-polyline-generalization-factor",1),D.add("mapview-transitions-duration",200),D.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),D.add("mapserver-pbf-version-support",10.81),D.add("mapservice-popup-identify-max-tolerance",20),D.add("heatmap-allow-raster-fallback",!1),D.add("heatmap-force-raster",!1),D("host-webworker")||D("host-browser")&&(D.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),D.add("esri-image-decode",()=>{if("decode"in new Image){const Z=new Image;return Z.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void Z.decode().then(()=>{D.add("esri-image-decode",!0,!0,!0)}).catch(()=>{D.add("esri-image-decode",!1,!0,!0)})}return!1}),D.add("esri-url-encodes-apostrophe",()=>{const Z=window.document.createElement("a");return Z.href="?'",Z.href.includes("?%27")}))})()},26517:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Jl:()=>x,n$:()=>N,r7:()=>L});var C=E(15861),D=E(66476),Z=E(57964),j=E(79412),U=E(6785),Y=E(20940);let V=null,$=!0;function L(I,T,W){if(!I||!T)throw new Error("Cannot construct image data without dimensions");if($)try{return new ImageData(I,T)}catch{$=!1}return k(I,T,W)}function x(I,T,W,z){if(!T||!W)throw new Error("Cannot construct image data without dimensions");if($)try{return new ImageData(I,T,W)}catch{$=!1}const F=k(T,W,z);return F.data.set(I,0),F}function k(I,T,W){return W||(W=function B(){return V||(V=document.createElement("canvas"),V.width=1,V.height=1),V}()),W.getContext("2d").createImageData(I,T)}function H(){return(H=(0,C.Z)(function*(I,T){const W=window.URL.createObjectURL(I);try{const{data:z}=yield(0,D.Z)(W,{...T,responseType:"image"});return z}catch(z){throw(0,j.D_)(z)?z:new Z.Z("invalid-image",`Could not fetch requested image at ${W}`)}finally{window.URL.revokeObjectURL(W)}})).apply(this,arguments)}function N(I,T){return P.apply(this,arguments)}function P(){return P=(0,C.Z)(function*(I,T){const{arrayBuffer:W,mediaType:z}=yield function w(I,T){return O.apply(this,arguments)}(I,T),F="image/png"===z;if("image/gif"===z){const{isAnimatedGIF:Q,parseGif:J}=yield E.e(3657).then(E.bind(E,13657));if(Q(W))return J(W,T)}if(F){const{isAnimatedPNG:Q,parseApng:J}=yield E.e(4622).then(E.bind(E,64622));if(Q(W))return J(W,T)}return function R(I,T){return H.apply(this,arguments)}(new Blob([W],{type:z}),T)}),P.apply(this,arguments)}function O(){return(O=(0,C.Z)(function*(I,T){const W=(0,U.sJ)(I);if(W?.isBase64)return{arrayBuffer:(0,Y.R)(W.data),mediaType:W.mediaType};const z=yield(0,D.Z)(I,{responseType:"array-buffer",...T});return{arrayBuffer:z.data,mediaType:z.getHeader("Content-Type")}})).apply(this,arguments)}},44242:(Ke,Ee,E)=>{"use strict";function C(j){const U=[];return function*(){yield*U;for(const Y of j)U.push(Y),yield Y}}function D(j,U){for(const Y of j)if(null!=Y&&U(Y))return Y}function Z(j){return null!=j&&"function"==typeof j[Symbol.iterator]}E.d(Ee,{Fs:()=>C,TW:()=>Z,sE:()=>D})},84303:(Ke,Ee,E)=>{"use strict";E.d(Ee,{X:()=>D,w:()=>Z});var C=E(71763);class D{constructor(U,Y={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=U,this._options=Y,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(U),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=V=>this.fromJSON(V),this.write=(V,$,L)=>{const x=this.toJSON(V);void 0!==x&&(0,C.RB)(L,x,$)},this.write.isJSONMapWriter=!0}toJSON(U){if(null==U)return null;if(this._apiToJSON.hasOwnProperty(U)){const Y=this._apiToJSON[U];return this._options.useNumericKeys?+Y:Y}return this._options.ignoreUnknown?void 0:U}fromJSON(U){return null!=U&&this._jsonToAPI.hasOwnProperty(U)?this._jsonToAPI[U]:this._options.ignoreUnknown?void 0:U}_invertMap(U){const Y={};for(const V in U)Y[U[V]]=V;return Y}_getKeysSorted(U){const Y=[];for(const V in U)Y.push(V);return Y.sort(),Y}}function Z(){return function(j,U){return new D(j,{ignoreUnknown:!0,...U})}}},34222:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Vo:()=>U,d9:()=>j,fS:()=>B,tZ:()=>Y,y7:()=>k,yd:()=>Z});var C=E(57678),D=E(40271);function Z(P,w){let O;if(w)for(O in P)P.hasOwnProperty(O)&&(void 0===P[O]?delete P[O]:P[O]instanceof Object&&Z(P[O],!0));else for(O in P)P.hasOwnProperty(O)&&void 0===P[O]&&delete P[O];return P}function j(P){if(!P||"object"!=typeof P||"function"==typeof P)return P;const w=x(P);if(null!=w)return w;if(Y(P))return P.clone();if(V(P))return P.map(j);if($(P))return P.clone();const O={};for(const I of Object.getOwnPropertyNames(P))O[I]=j(P[I]);return O}function U(P){if(!P||"object"!=typeof P||"function"==typeof P||"HTMLElement"in globalThis&&P instanceof HTMLElement)return P;const w=x(P);if(null!=w)return w;if(V(P)){let O=!0;const I=P.map(T=>{const W=U(T);return null!=T&&null==W&&(O=!1),W});return O?I:null}if(Y(P))return P.clone();if(P instanceof File||P instanceof Blob)return P;if(!$(P)){const O=new(Object.getPrototypeOf(P).constructor);for(const I of Object.getOwnPropertyNames(P)){const T=P[I],W=U(T);if(null!=T&&null==W)return null;O[I]=W}return O}return null}function Y(P){return"function"==typeof P.clone}function V(P){return"function"==typeof P.map&&"function"==typeof P.forEach}function $(P){return"function"==typeof P.notifyChange&&"function"==typeof P.watch}function L(P){if("[object Object]"!==Object.prototype.toString.call(P))return!1;const w=Object.getPrototypeOf(P);return null===w||w===Object.prototype}function x(P){if((0,D.W0)(P)||(0,D.lq)(P)||(0,D.KZ)(P)||(0,D.z3)(P)||(0,D.Uc)(P)||(0,D.Hx)(P)||(0,D.ZY)(P)||(0,D.xZ)(P)||(0,D.fS)(P))return P.slice();if(P instanceof Date)return new Date(P.getTime());if(P instanceof ArrayBuffer)return P.slice(0,P.byteLength);if(P instanceof Map){const w=new Map;for(const[O,I]of P)w.set(O,j(I));return w}if(P instanceof Set){const w=new Set;for(const O of P)w.add(j(O));return w}return null}function B(P,w){return P===w||"number"==typeof P&&isNaN(P)&&"number"==typeof w&&isNaN(w)||"function"==typeof P?.getTime&&"function"==typeof w?.getTime&&P.getTime()===w.getTime()||!1}function k(P,w){return P===w||(null==P||"string"==typeof P?P===w:"number"==typeof P?P===w||"number"==typeof w&&isNaN(P)&&isNaN(w):P instanceof Date?w instanceof Date&&P.getTime()===w.getTime():Array.isArray(P)?Array.isArray(w)&&(0,C.fS)(P,w):P instanceof Set?w instanceof Set&&function H(P,w){if(P.size!==w.size)return!1;for(const O of P)if(!w.has(O))return!1;return!0}(P,w):P instanceof Map?w instanceof Map&&function N(P,w){if(P.size!==w.size)return!1;for(const[O,I]of P){const T=w.get(O);if(T!==I||void 0===T&&!w.has(O))return!1}return!0}(P,w):!!L(P)&&L(w)&&function R(P,w){if(null===P||null===w)return!1;const O=Object.keys(P);if(null===w||Object.keys(w).length!==O.length)return!1;for(const I of O)if(P[I]!==w[I]||!Object.prototype.hasOwnProperty.call(w,I))return!1;return!0}(P,w))}},30352:(Ke,Ee,E)=>{"use strict";E.d(Ee,{G:()=>U,w:()=>V});var C=E(15861),D=E(37636),Z=E(83944),j=E(67016);function U(x,B){return Y.apply(this,arguments)}function Y(){return(Y=(0,C.Z)(function*(x,B){return yield x.load(),V(x,B)})).apply(this,arguments)}function V(x,B){return $.apply(this,arguments)}function $(){return $=(0,C.Z)(function*(x,B){const k=[],R=(...N)=>{for(const P of N)null!=P&&(Array.isArray(P)?R(...P):Z.Z.isCollection(P)?P.forEach(w=>R(w)):j.Z.isLoadable(P)&&k.push(P))};B(R);let H=null;if(yield(0,D.UI)(k,function(){var N=(0,C.Z)(function*(P){const w=yield(0,D.q6)(function L(x){return"loadAll"in x&&"function"==typeof x.loadAll}(P)?P.loadAll():P.load());!1!==w.ok||H||(H=w)});return function(P){return N.apply(this,arguments)}}()),H)throw H.error;return x}),$.apply(this,arguments)}},55117:(Ke,Ee,E)=>{"use strict";E.d(Ee,{BV:()=>R,F3:()=>me,Kt:()=>P,Sf:()=>j,Vl:()=>k,W8:()=>w,ZF:()=>N,bA:()=>B,fp:()=>$,jE:()=>G,oK:()=>oe,oc:()=>fe,t7:()=>x,uZ:()=>U,wt:()=>V});var C=E(43589);E(70993);const Z=new Float32Array(1);function j(te){--te;for(let ae=1;ae<32;ae<<=1)te|=te>>ae;return te+1}function U(te,ae,ee){return Math.min(Math.max(te,ae),ee)}function V(te){return 0==(te&te-1)}function $(te){return te--,te|=te>>1,te|=te>>2,te|=te>>4,te|=te>>8,te|=te>>16,++te}function x(te,ae,ee){return te+(ae-te)*ee}function B(te,ae,ee,ce,ie){return x(ce,ie,(te-ae)/(ee-ae))}function k(te){return te*Math.PI/180}function R(te){return 180*te/Math.PI}function N(te){return Math.acos(U(te,-1,1))}function P(te){return Math.asin(U(te,-1,1))}function w(te,ae,ee=1e-6){return te===ae||!(!Number.isFinite(te)||!Number.isFinite(ae))&&(te>ae?te-ae:ae-te)<=ee}const O=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const W=BigInt("1000000");function oe(te){return se(Math.max(-me,Math.min(te,me)))}function se(te){return Z[0]=te,Z[0]}function G(te,ae){const ee=(0,C.l)(te),ce=P(te[2]/ee),ie=Math.atan2(te[1]/ee,te[0]/ee);return(0,C.s)(ae,ee,ce,ie),ae}function fe(te){const ee=te[3]*te[3]+te[4]*te[4]+te[5]*te[5],ce=te[6]*te[6]+te[7]*te[7]+te[8]*te[8];return!(w(te[0]*te[0]+te[1]*te[1]+te[2]*te[2],1)&&w(ee,1)&&w(ce,1))}!function F(te){const ae=function I(te){return O.setFloat64(0,te),O.getBigInt64(0)}(te=Math.abs(te)),ee=function T(te){return O.setBigInt64(0,te),O.getFloat64(0)}(ae<=W?W:ae-W);return Math.abs(te-ee)}(1);const me=se(34028234663852886e22)},51172:(Ke,Ee,E)=>{"use strict";function C(x,B){if(null==x)throw new Error(B??"value is None")}function D(x){return x?.destroy(),null}function Z(x){return x?.dispose(),null}function j(x){return x?.remove(),null}function U(x){return x?.abort(),null}function Y(x){return x?.release(),null}function V(x,B,k){return null!=x&&null!=B?null!=k?k(x,B):x.equals(B):x===B}function L(x,B){let k;return x.some((R,H)=>(k=B(R,H),null!=k)),k??void 0}E.d(Ee,{IM:()=>U,M2:()=>Z,O3:()=>C,RY:()=>Y,SC:()=>D,_W:()=>V,ei:()=>L,hw:()=>j})},38119:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Y:()=>D});const C=[];function D(Z){C.push(Z),1===C.length&&queueMicrotask(()=>{const j=C.slice();C.length=0;for(const U of j)U()})}},71763:(Ke,Ee,E)=>{"use strict";E.d(Ee,{RB:()=>j,RH:()=>D,hS:()=>Z});var C=E(34222);function D(V,$,L=!1){return Y(V,$,L)}function Z(V,$){if(null!=$)return $[V]||U(V.split("."),!1,$)}function j(V,$,L){const x=V.split("."),B=x.pop(),k=U(x,!0,L);k&&B&&(k[B]=$)}function U(V,$,L){let x=L;for(const B of V){if(null==x)return;if(!(B in x)){if(!$)return;x[B]={}}x=x[B]}return x}function Y(V,$,L){return $?Object.keys($).reduce((x,B)=>{let k=x[B],R=$[B];return k===R?x:void 0===k?(x[B]=(0,C.d9)(R),x):(Array.isArray(R)||Array.isArray(x)?(k=x[B]=k?Array.isArray(k)?k.concat():[k]:[],R&&(Array.isArray(R)||(R=[R]),L?R.forEach(H=>{k.includes(H)||k.push(H)}):x[B]=R.concat())):R&&"object"==typeof R?x[B]=Y(k,R,L):x.hasOwnProperty(B)&&!$.hasOwnProperty(B)||(x[B]=R),x)},V||{}):V}},79412:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$F:()=>P,D_:()=>I,Ds:()=>te,H9:()=>H,Hc:()=>k,Hl:()=>w,OT:()=>ue,R8:()=>T,UO:()=>G,WW:()=>oe,Yn:()=>ie,as:()=>Q,e4:()=>q,fu:()=>N,gx:()=>me,hh:()=>ae,k_:()=>x,r9:()=>R,y8:()=>ge,zE:()=>L});var C=E(15861),D=E(8169),Z=E(57964),j=E(90984),Y=(E(4703),E(51172));function L(pe="Aborted"){return new Z.Z("AbortError",pe)}function x(pe,ye="Aborted"){if(k(pe))throw L(ye)}function B(pe){return null!=pe?"aborted"in pe?pe:pe.signal:pe}function k(pe){const ye=B(pe);return null!=ye&&ye.aborted}function R(pe){if(I(pe))throw pe}function H(pe){if(!I(pe))throw pe}function N(pe,ye){const re=B(pe);if(null!=re){if(!re.aborted)return(0,j.IH)(re,"abort",()=>ye());ye()}}function P(pe,ye){const re=B(pe);if(null!=re)return x(re),(0,j.IH)(re,"abort",()=>ye(L()))}function w(pe,ye){return null==B(ye)?pe:new Promise((re,ve)=>{let Oe=N(ye,()=>ve(L()));const Me=()=>{Oe=(0,Y.hw)(Oe)};pe.then(Me,Me),pe.then(re,ve)})}function I(pe){return"AbortError"===pe?.name}function T(pe){return W.apply(this,arguments)}function W(){return(W=(0,C.Z)(function*(pe){try{return yield pe}catch(ye){if(!I(ye))throw ye;return}})).apply(this,arguments)}function Q(pe){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(pe){if(!pe)return;if("function"!=typeof pe.forEach){const re=Object.keys(pe),ve=re.map(Se=>pe[Se]),Oe=yield Q(ve),Me={};return re.map((Se,ke)=>Me[Se]=Oe[ke]),Me}const ye=pe;return Promise.allSettled(ye).then(re=>Array.from(ye,(ve,Oe)=>{const Me=re[Oe];return"fulfilled"===Me.status?{promise:ve,value:Me.value}:{promise:ve,error:Me.reason}}))})).apply(this,arguments)}function oe(pe){return se.apply(this,arguments)}function se(){return(se=(0,C.Z)(function*(pe){return(yield Q(pe)).filter(ye=>!!ye.value).map(ye=>ye.value)})).apply(this,arguments)}function ue(pe){return he.apply(this,arguments)}function he(){return(he=(0,C.Z)(function*(pe){return(yield Promise.allSettled(pe)).filter(ye=>"fulfilled"===ye.status).map(ye=>ye.value)})).apply(this,arguments)}function G(pe){return le.apply(this,arguments)}function le(){return(le=(0,C.Z)(function*(pe){return(yield Promise.allSettled(pe)).filter(ye=>"rejected"===ye.status).map(ye=>ye.reason)})).apply(this,arguments)}function q(pe,ye=void 0,re){const ve=new AbortController;return N(re,()=>ve.abort()),new Promise((Oe,Me)=>{let Se=setTimeout(()=>{Se=0,Oe(ye)},pe);N(ve,()=>{Se&&(clearTimeout(Se),Me(L()))})})}function ge(pe){return pe&&"function"==typeof pe.then}function me(pe){return ge(pe)?pe:Promise.resolve(pe)}function te(pe,ye=-1){let re,ve,Oe,Me,Se=null;const ke=(...xe)=>{if(re){ve=xe,Me&&Me.reject(L()),Me=ae();const Re=Me.promise;if(Se){const Fe=Se;Se=null,Fe.abort()}return Re}if(Oe=Me||ae(),Me=null,ye>0){const Re=new AbortController;re=me(pe(...xe,Re.signal));const Fe=re;q(ye).then(()=>{re===Fe&&(Me?Re.abort():Se=Re)})}else re=1,re=me(pe(...xe));const Ge=()=>{const Re=ve;ve=Oe=re=Se=null,null!=Re&&ke(...Re)},X=re,be=Oe;return X.then(Ge,Ge),X.then(be.resolve,be.reject),be.promise};return ke}function ae(){let pe,ye;const re=new Promise((Oe,Me)=>{pe=Oe,ye=Me}),ve=Oe=>{pe(Oe)};return ve.resolve=Oe=>pe(Oe),ve.reject=Oe=>ye(Oe),ve.timeout=(Oe,Me)=>D.m.setTimeout(()=>ve.reject(Me),Oe),ve.promise=re,ve}function ie(pe){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(pe){yield Promise.resolve(),x(pe)})).apply(this,arguments)}},77675:(Ke,Ee,E)=>{"use strict";E.d(Ee,{N1:()=>H,Wy:()=>O,YP:()=>L,Z_:()=>W,gx:()=>x,nn:()=>z,on:()=>k,tX:()=>F}),E(37636),E(83944);var Z=E(90984),j=E(1258),U=E(51172),Y=E(79412),V=E(12926);function L(Q,J,oe={}){return B(Q,J,oe,P)}function x(Q,J,oe={}){return B(Q,J,oe,w)}function B(Q,J,oe={},se){let ue=null;const he=oe.once?(G,le)=>{se(G)&&((0,U.hw)(ue),J(G,le))}:(G,le)=>{se(G)&&J(G,le)};if(ue=(0,V.aQ)(Q,he,oe.sync,oe.equals),oe.initial){const G=Q();he(G,G)}return ue}function k(Q,J,oe,se={}){let ue=null,he=null,G=null;function le(){ue&&he&&(he.remove(),se.onListenerRemove?.(ue),ue=null,he=null)}function q(ge){se.once&&se.once&&(0,U.hw)(G),oe(ge)}const fe=L(Q,(ge,me)=>{le(),(0,Z.vT)(ge)&&(ue=ge,he=(0,Z.on)(ge,J,q),se.onListenerAdd?.(ge))},{sync:se.sync,initial:!0});return G=(0,j.kB)(()=>{fe.remove(),le()}),G}function H(Q,J){return function N(Q,J,oe){if((0,Y.Hc)(oe))return Promise.reject((0,Y.zE)());const se=Q();if(J?.(se))return Promise.resolve(se);let ue=null;function he(){ue=(0,U.hw)(ue)}return new Promise((G,le)=>{ue=(0,j.AL)([(0,Y.fu)(oe,()=>{he(),le((0,Y.zE)())}),B(Q,q=>{he(),G(q)},{sync:!1,once:!0},J??P)])})}(Q,w,J)}function P(Q){return!0}function w(Q){return!!Q}function O(Q,J,oe={}){let se=!1;const ue=L(Q,(he,G)=>{se||J(he,G)},oe);return{remove(){ue.remove()},pause(){se=!0},resume(){se=!1}}}E(43571);const W={sync:!0},z={initial:!0},F={sync:!0,initial:!0}},66679:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>w,MU:()=>oe,Os:()=>P});var C=E(38119),D=E(44169),Z=E(43029),j=E(79412),U=E(95854);class Y{constructor(le){this.phases=le,this.paused=!1,this.ticks=-1,this.removed=!1}}class V{constructor(le){this.callback=le,this.isActive=!0}remove(){this.isActive=!1}}let $=0;const x={time:(0,U.HA)(0),deltaTime:(0,U.HA)(0),elapsedFrameTime:(0,U.HA)(0),frameDuration:(0,U.HA)(0)},B=["prepare","preRender","render","postRender","update","finish"],k=[],R=new Z.Z;class H{constructor(le){this._task=le}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const N={frameTasks:R,willDispatch:!1,clearFrameTasks:function I(G=!1){R.forAll(le=>{le.removed=!0}),G&&Q()},dispatch:J,executeFrameTasks:function z(G){const le=(0,U.HA)(G-$);$=G;const q=1e3/60,fe=Math.max(0,le-q);x.time=G,x.frameDuration=(0,U.HA)(q-fe);for(let ge=0;ge<B.length;ge++){const me=performance.now(),te=B[ge];R.forAll(ae=>{ae.paused||ae.removed||(0===ge&&ae.ticks++,ae.phases[te]&&(x.elapsedFrameTime=(0,U.HA)(performance.now()-G),x.deltaTime=0===ae.ticks?(0,U.HA)(0):le,ae.phases[te]?.call(ae,x)))}),ue[ge].record(performance.now()-me)}Q(),he.record(performance.now()-G)}};function P(G){const le=new V(G);return k.push(le),N.willDispatch||(N.willDispatch=!0,(0,C.Y)(J)),le}function w(G){const le=new Y(G);return R.push(le),null==O&&($=performance.now(),O=requestAnimationFrame(W)),new H(le)}let O=null;function W(){const G=performance.now();O=null,O=R.length>0?requestAnimationFrame(W):null,N.executeFrameTasks(G)}const F=new Z.Z;function Q(){R.forAll(G=>{G.removed&&F.push(G)}),R.removeUnorderedMany(F.data,F.length),F.clear()}function J(){for(;k.length;){const G=k.shift();G.isActive&&G.callback()}N.willDispatch=!1}function oe(G=1,le){const q=(0,j.hh)(),fe=()=>{(0,j.Hc)(le)?q.reject((0,j.zE)()):0===G?q():(--G,(0,C.Y)(()=>fe()))};return fe(),q.promise}const ue=B.map(G=>new D.Z(G)),he=new D.Z("total")},55768:(Ke,Ee,E)=>{"use strict";E.d(Ee,{F2:()=>j,Wz:()=>U,s1:()=>$,t_:()=>Y,vW:()=>V});const C=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,D="screenUtils.toPt: input not recognized!",Z=96;function j(w){return w?w/72*Z:0}function U(w){return w?72*w/Z:0}function Y(w){if("string"==typeof w){const O=w.match(C);if(O){const I=Number(O[1]),T=O[3]&&O[3].toLowerCase(),W="-"===w.charAt(0),z="px"===T?U(I):I;return W?-z:z}return console.warn(D),null}return w}function V(w=0,O=0){return{x:w,y:O}}function $(w=0,O=0){return[w,O]}},45974:(Ke,Ee,E)=>{"use strict";E.d(Ee,{t:()=>U});var C=E(34222),D=E(56295),Z=E(19994);class j{constructor(V,$){this._observable=new Z.s,this._value=V,this._equalityFunction=$}get value(){return(0,D.it)(this._observable),this._value}set value(V){this._equalityFunction(V,this._value)||(this._value=V,this._observable.notify())}mutate(V){V(this._value),this._observable.notify()}}function U(Y,V=C.y7){return new j(Y,V)}},38955:(Ke,Ee,E)=>{"use strict";E.d(Ee,{E:()=>D,_:()=>j});var C=E(15861);function D(U,Y){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(U,Y){const{WhereClause:V}=yield Promise.all([E.e(3866),E.e(5904)]).then(E.bind(E,85904));return V.create(U,Y)})).apply(this,arguments)}function j(U,Y){return null!=U?null!=Y?`(${U}) AND (${Y})`:U:Y}},15398:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A4:()=>Z,L9:()=>j,yV:()=>D});var C=E(25037);class D{}function Z(Y){return Y instanceof C.ld?Y===D.instance:"unknown"===Y?.toString().toLowerCase()}function j(Y){return Z(Y)?D.instance:Y}D.instance=new C.vF("Etc/UTC")},72578:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Cb:()=>V,Qs:()=>U,gx:()=>j,hP:()=>Y,pZ:()=>$});var C=E(71763);const D=/\{([^\}]+)\}/g;function Z(L){return L??""}function j(L,x){return x?L.replaceAll(D,"object"==typeof x?(B,k)=>Z((0,C.hS)(k,x)):(B,k)=>Z(x(k))):L}function U(L,x){return L.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,B=>x&&x.includes(B)?B:`\\${B}`)}function Y(L){let x=0;for(let B=0;B<L.length;B++)x=(x<<5)-x+L.charCodeAt(B),x|=0;return x}function V(L){return(new DOMParser).parseFromString(L||"","text/html").body.innerText||""}function $(L,x){return new RegExp(`{${x}}`,"ig").test(L)}},18714:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>x,z:()=>B});var C=E(50484),D=E(83944),Z=E(18626),Y=(E(14007),E(4703),E(80543)),L=(E(1535),E(57678),E(10141));let x=class extends D.Z{constructor(k){super(k),this.addHandles([this.on("before-add",R=>{null==R.item&&R.preventDefault()}),this.on("after-add",R=>this._own(R.item)),this.on("after-remove",R=>this._release(R.item))])}get owner(){return this._get("owner")}set owner(k){k!==this._get("owner")&&(this._releaseAll(),this._set("owner",k),this._ownAll())}_ownAll(){for(const k of this.items)this._own(k)}_releaseAll(){for(const k of this.items)this._release(k)}_createNewInstance(k){return this.itemType?new(D.Z.ofType(this.itemType.Type))(k):new D.Z(k)}};function B(k,R){return{type:k,cast:Z.R,set(H){const N=(0,Z.Z)(H,this._get(R),k);N.owner=this,this._set(R,N)}}}(0,C._)([(0,Y.Cb)()],x.prototype,"owner",null),x=(0,C._)([(0,L.j)("esri.core.support.OwningCollection")],x)},90110:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>$});var C=E(50484),D=E(73514),Z=E(1258),j=E(77675),U=E(66679),Y=E(80543),V=E(10141);let $=class extends D.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(x,B,k={}){return this._installWatch(x,B,k,j.YP)}addWhen(x,B,k={}){return this._installWatch(x,B,k,j.gx)}addOnCollectionChange(x,B,{initial:k=!1,final:R=!1}={}){const H=++this._handleId;return this.addHandles([(0,j.on)(x,"after-changes",this._createSyncUpdatingCallback(),j.Z_),(0,j.on)(x,"change",B,{onListenerAdd:k?N=>B({added:N.toArray(),removed:[]}):void 0,onListenerRemove:R?N=>B({added:[],removed:N.toArray()}):void 0})],H),(0,Z.kB)(()=>this.removeHandles(H))}addPromise(x){if(null==x)return x;const B=++this._handleId;this.addHandles((0,Z.kB)(()=>{this._pendingPromises.delete(x)&&(0!==this._pendingPromises.size||this.hasHandles(L)||this._set("updating",!1))}),B),this._pendingPromises.add(x),this._set("updating",!0);const k=()=>this.removeHandles(B);return x.then(k,k),x}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(x,B,k={},R){const H=++this._handleId;k.sync||this._installSyncUpdatingWatch(x,H);const N=R(x,B,k);return this.addHandles(N,H),(0,Z.kB)(()=>this.removeHandles(H))}_installSyncUpdatingWatch(x,B){const k=this._createSyncUpdatingCallback(),R=(0,j.YP)(x,k,{sync:!0,equals:()=>!1});return this.addHandles(R,B),R}_createSyncUpdatingCallback(){return()=>{this.removeHandles(L),++this._scheduleHandleId;const x=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,U.Os)(()=>{x===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(L))}),L)}}};(0,C._)([(0,Y.Cb)({readOnly:!0})],$.prototype,"updating",void 0),$=(0,C._)([(0,V.j)("esri.core.support.UpdatingHandles")],$);const L=-42},95854:(Ke,Ee,E)=>{"use strict";function C(Y){return Y}function D(Y){return 1e3*Y}function Z(Y){return Y}E.d(Ee,{HA:()=>C,_H:()=>Z,up:()=>D})},51431:(Ke,Ee,E)=>{"use strict";E.d(Ee,{JE:()=>V,Nm:()=>U,fM:()=>j,rJ:()=>k});var C=E(94678),D=E(764),Z=E(25037);const j={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function U(P,w,O,I=D.By){const T=new Z.vF((0,C.f1)(I)),W=Z.ou.fromJSDate(P,{zone:T}),z="decades"===O||"centuries"===O?"year":N(O);return"decades"===O&&(w*=10),"centuries"===O&&(w*=100),W.plus({[z]:w}).toJSDate()}function V(P,w,O=D.By){const I=new Z.vF((0,C.f1)(O)),T=Z.ou.fromJSDate(P,{zone:I});if("decades"===w||"centuries"===w){const z=T.startOf("year"),{year:F}=z;return z.set({year:F-F%("decades"===w?10:100)}).toJSDate()}const W=N(w);return T.startOf(W).toJSDate()}function k(P,w,O){return 0===P?0:P*j[w]/j[O]}function N(P){switch(P){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},40271:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B3:()=>w,Hx:()=>L,KZ:()=>Y,Op:()=>I,Q7:()=>O,Uc:()=>$,W0:()=>j,Xw:()=>H,ZY:()=>x,c8:()=>P,eP:()=>Z,fS:()=>k,kJ:()=>R,lq:()=>U,ru:()=>N,xZ:()=>B,z3:()=>V});var C=E(91307);function Z(T){return T instanceof ArrayBuffer}function j(T){return"Int8Array"===T?.constructor?.name}function U(T){return"Uint8Array"===T?.constructor?.name}function Y(T){return"Uint8ClampedArray"===T?.constructor?.name}function V(T){return"Int16Array"===T?.constructor?.name}function $(T){return"Uint16Array"===T?.constructor?.name}function L(T){return"Int32Array"===T?.constructor?.name}function x(T){return"Uint32Array"===T?.constructor?.name}function B(T){return"Float32Array"===T?.constructor?.name}function k(T){return"Float64Array"===T?.constructor?.name}function R(T){return!("buffer"in T)}function H(...T){return T.reduce((W,z)=>W+(z?R(z)?(0,C.do)(z,(0,C.G3)()):z.byteLength+N:0),0)}E(14007);const N=145,P=1024;function w(T){return k(T)||B(T)||L(T)||V(T)||j(T)}function O(T){return k(T)||B(T)}function I(T){return k(T)?179769e303:B(T)?3402823e32:x(T)?4294967295:$(T)?65535:U(T)||Y(T)?255:L(T)?2147483647:V(T)?32767:j(T)?127:256}},68160:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D:()=>Z});let C=0;function Z(){return++C}},49602:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$C:()=>pe,CN:()=>st,En:()=>ue,Jo:()=>ze,UF:()=>Q,_R:()=>re,c9:()=>Oe,cM:()=>ve,gV:()=>Be,hd:()=>V,qE:()=>Ge,r6:()=>Se,ty:()=>ne}),E(14007);var D=E(84303),Z=E(82921),j=E(82301),U=E(33721),Y=E(74359);const V=39.37,$=j.sv.radius*Math.PI/200,L=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,x=Y.Z,B=/UNIT\[([^\]]+)]/i,k=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),R=(0,D.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),H=Xe=>Xe*Xe,N=Xe=>Xe*Xe*Xe,P={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:H(.001)},"square-centimeters":{inBaseUnits:H(.01)},"square-decimeters":{inBaseUnits:H(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:H(1e3)},"square-inches":{inBaseUnits:H(.0254)},"square-feet":{inBaseUnits:H(.3048)},"square-yards":{inBaseUnits:H(.9144)},"square-miles":{inBaseUnits:H(1609.344)},"square-us-feet":{inBaseUnits:H(1200/3937)},acres:{inBaseUnits:.0015625*H(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*N(.001)},"cubic-centimeters":{inBaseUnits:1e3*N(.01)},"cubic-decimeters":{inBaseUnits:1e3*N(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*N(1e3)},"cubic-inches":{inBaseUnits:1e3*N(.0254)},"cubic-feet":{inBaseUnits:1e3*N(.3048)},"cubic-yards":{inBaseUnits:1e3*N(.9144)},"cubic-miles":{inBaseUnits:1e3*N(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=(()=>{const Xe={};for(const ot in P)for(const ut in P[ot].units)Xe[ut]=ot;return Xe})();function Q(Xe){const ot=w[Xe];if(!ot)throw new Error("unknown type");return ot}function se(Xe,ot=null){return ot=ot||Q(Xe),P[ot].baseUnit===Xe}function ue(Xe,ot,ut){if(ot===ut)return Xe;const Et=Q(ot);if(Et!==Q(ut))throw new Error("incompatible units");const Lt=se(ot,Et)?Xe:function O(Xe,ot,ut){return Xe*P[ut].units[ot].inBaseUnits}(Xe,ot,Et);return se(ut,Et)?Lt:function I(Xe,ot,ut){return Xe/P[ut].units[ot].inBaseUnits}(Lt,ut,Et)}function ne(Xe,ot,ut){return ue(Xe,ot,"meters")/(ut*Math.PI/180)}function pe(Xe){return R.fromJSON(Xe.toLowerCase())||null}function re(Xe){if(null!=Xe&&!(0,U.N$)(Xe))return 1;const ot=Oe(Xe);return ot>1e5?1:ot}function ve(Xe){return Oe(Xe)>=(0,Z.Iu)(Xe).metersPerDegree?"meters":Ge(Xe)}function Oe(Xe,ot=j.sv.metersPerDegree){return function Me(Xe,ot=!1){const ut=Xe?.wkid??null,Et=Xe?.wkt2??Xe?.wkt??null;let Lt=null;if(ut){if((0,U.o$)(ut))return j.yr.metersPerDegree;if((0,U.ME)(ut))return j.Z1.metersPerDegree;Lt=x.values[x[ut]],!Lt&&ot&&k.has(ut)&&(Lt=$)}else Et&&(qe(Et)?Lt=ke(L.exec(Et),Lt):Fe(Et)&&(Lt=ke(B.exec(Et),Lt)));return Lt}(Xe,!0)??ot}function Se(Xe){return(0,U.sT)(Xe)?1:Oe(Xe)}function ke(Xe,ot){return Xe?.[1]?xe(Xe[1]):ot}function xe(Xe){return parseFloat(Xe.split(",")[1])}function Ge(Xe){const ot=Xe?.wkid??null,ut=Xe?.wkt2??Xe?.wkt??null;let Et=null;if(ot)Et=x.units[x[ot]];else if(ut){const Lt=qe(ut)?L:Fe(ut)?B:null;if(Lt){const Ut=Lt.exec(ut);Ut?.[1]&&(Et=function He(Xe){let ut=/[\\"']{1}([^\\"']+)/.exec(Xe)?.[1];if(!ut||!x.units.includes(ut)){const Et=xe(Xe);ut=null;const Lt=x.values;for(let Ut=0;Ut<Lt.length;++Ut)if(Math.abs(Et-Lt[Ut])<We){ut=x.units[Ut];break}}return ut}(Ut[1]))}}return null!=Et?pe(Et):null}function Fe(Xe){return/^GEOCCS/i.test(Xe)}function qe(Xe){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(Xe)}const We=1e-7,Be=(0,D.w)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),ze=(0,D.w)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),st=(0,D.w)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},6785:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$U:()=>Lt,AH:()=>qe,B7:()=>q,D6:()=>ve,Fv:()=>xe,HK:()=>Fe,Hu:()=>Xn,IR:()=>Kr,Ie:()=>vn,L:()=>se,Ml:()=>ts,P$:()=>X,PF:()=>ke,Qj:()=>nn,R9:()=>T,TI:()=>oe,YP:()=>be,Yd:()=>Tt,ZN:()=>$t,Zo:()=>ie,_l:()=>Ce,b7:()=>fe,ed:()=>ce,fZ:()=>Qt,fl:()=>rn,fw:()=>Be,gi:()=>Pe,hF:()=>Se,hO:()=>qt,io:()=>st,jc:()=>Re,kl:()=>Oe,mN:()=>G,oC:()=>ut,oh:()=>re,qg:()=>ge,rS:()=>We,sJ:()=>Ne,tD:()=>ee,tm:()=>pe,u0:()=>le,v_:()=>Ge,vt:()=>Vt,xs:()=>ln,zd:()=>xn});var C=E(15861),D=E(11931),Z=E(57678),j=E(57964),U=E(89317),Y=E(4703),V=E(71438),$=E(20940);const L=Y.Z.getLogger("esri.core.urlUtils"),x=D.default.request,B="esri/config: esriConfig.request.proxyUrl is not set.",k=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,R=/^\s*http:/i,H=/^\s*https:/i,N=/^\s*file:/i,P=/:\d+$/,w=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,O=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),I=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class T{constructor(Nt=""){this.uri=Nt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let Je=this.uri.match(O);this.scheme=Je[2]||(Je[1]?"":null),this.authority=Je[4]||(Je[3]?"":null),this.path=Je[5],this.query=Je[7]||(Je[6]?"":null),this.fragment=Je[9]||(Je[8]?"":null),null!=this.authority&&(Je=this.authority.match(I),this.user=Je[3]||null,this.password=Je[4]||null,this.host=Je[6]||Je[7],this.port=Je[9]||null)}toString(){return this.uri}}const W={};let F=new T(D.default.applicationUrl);let J=function ue(){const rt=F.path,Nt=rt.substring(0,rt.lastIndexOf(rt.split("/")[rt.split("/").length-1]));return`${F.scheme}://${F.host}${null!=F.port?`:${F.port}`:""}${Nt}`}();const oe=()=>F,se=()=>J;function G(rt){if(!rt)return null;const Nt={path:null,query:null},Je=new T(rt),Qe=rt.indexOf("?");return null===Je.query?Nt.path=rt:(Nt.path=rt.substring(0,Qe),Nt.query=le(Je.query)),Je.fragment&&(Nt.hash=Je.fragment,null===Je.query&&(Nt.path=Nt.path.substring(0,Nt.path.length-(Je.fragment.length+1)))),Nt}function le(rt){const Nt=rt.split("&"),Je={};for(const Qe of Nt){if(!Qe)continue;const bt=Qe.indexOf("=");let Pt,Ie;bt<0?(Pt=decodeURIComponent(Qe),Ie=""):(Pt=decodeURIComponent(Qe.slice(0,bt)),Ie=decodeURIComponent(Qe.slice(bt+1)));let ct=Je[Pt];"string"==typeof ct&&(ct=Je[Pt]=[ct]),Array.isArray(ct)?ct.push(Ie):Je[Pt]=Ie}return Je}function q(rt,Nt){return rt?Nt&&"function"==typeof Nt?Object.keys(rt).map(Je=>encodeURIComponent(Je)+"="+encodeURIComponent(Nt(Je,rt[Je]))).join("&"):Object.keys(rt).map(Je=>{const Qe=rt[Je];if(null==Qe)return"";const bt=encodeURIComponent(Je)+"=",Pt=Nt?.[Je];return Pt?bt+encodeURIComponent(Pt(Qe)):Array.isArray(Qe)?Qe.map(Ie=>(0,U.AK)(Ie)?bt+encodeURIComponent(JSON.stringify(Ie)):bt+encodeURIComponent(Ie)).join("&"):(0,U.AK)(Qe)?bt+encodeURIComponent(JSON.stringify(Qe)):bt+encodeURIComponent(Qe)}).filter(Je=>Je).join("&"):""}function fe(rt=!1){let Nt,Je=x.proxyUrl;if("string"==typeof rt){Nt=Lt(rt);const Qe=ce(rt);Qe&&(Je=Qe.proxyUrl)}else Nt=!!rt;if(!Je)throw L.warn(B),new j.Z("urlutils:proxy-not-set",B);return Nt&&yt()&&(Je=qt(Je)),G(Je)}function ge(rt){const Nt=ce(rt);let Je,Qe;if(Nt){const bt=te(Nt.proxyUrl);Je=bt.path,Qe=bt.query?le(bt.query):null}if(Je){const bt=G(rt);rt=Je+"?"+bt.path;const Pt=q({...Qe,...bt.query});Pt&&(rt=`${rt}?${Pt}`)}return rt}const me={path:"",query:""};function te(rt){const Nt=rt.indexOf("?");return-1!==Nt?(me.path=rt.slice(0,Nt),me.query=rt.slice(Nt+1)):(me.path=rt,me.query=null),me}function ae(rt){return(rt=ft(rt=ln(rt=te(rt).path),!0)).toLowerCase()}function ee(rt){const Nt={proxyUrl:rt.proxyUrl,urlPrefix:ae(rt.urlPrefix)},Je=x.proxyRules,Qe=Nt.urlPrefix;let bt=Je.length;for(let Pt=0;Pt<Je.length;Pt++){const Ie=Je[Pt].urlPrefix;if(0===Qe.indexOf(Ie)){if(Qe.length===Ie.length)return-1;bt=Pt;break}0===Ie.indexOf(Qe)&&(bt=Pt+1)}return Je.splice(bt,0,Nt),bt}function ce(rt){const Nt=x.proxyRules,Je=ae(rt);for(let Qe=0;Qe<Nt.length;Qe++)if(0===Je.indexOf(Nt[Qe].urlPrefix))return Nt[Qe]}function ie(rt,Nt){if(!rt||!Nt)return!1;rt=ye(rt),Nt=ye(Nt);const Je=(0,V.a)(rt),Qe=(0,V.a)(Nt);return null!=Je&&null!=Qe?Je.portalHostname===Qe.portalHostname:null==Je&&null==Qe&&ve(rt,Nt,!0)}function pe(rt,Nt){return rt=ye(rt),Nt=ye(Nt),ft(rt)===ft(Nt)}function ye(rt){const Nt=(rt=xe(rt)).indexOf("/sharing");return Nt>0?rt.substring(0,Nt):rt.replace(/\/+$/,"")}function re(rt){const Nt=Qe=>null==Qe||Qe instanceof RegExp&&Qe.test(rt)||"string"==typeof Qe&&rt.startsWith(Qe),Je=x.interceptors;if(Je)for(const Qe of Je)if(Array.isArray(Qe.urls)){if(Qe.urls.some(Nt))return Qe}else if(Nt(Qe.urls))return Qe;return null}function ve(rt,Nt,Je=!1){if(!rt||!Nt)return!1;const Qe=hr(rt),bt=hr(Nt);return!(!Je&&Qe.scheme!==bt.scheme)&&null!=Qe.host&&null!=bt.host&&Qe.host.toLowerCase()===bt.host.toLowerCase()&&Qe.port===bt.port}function Oe(rt){if("string"==typeof rt){if(!be(rt))return!0;rt=hr(rt)}if(ve(rt,F))return!0;const Nt=x.trustedServers||[];for(let Je=0;Je<Nt.length;Je++){const Qe=Me(Nt[Je]);for(let bt=0;bt<Qe.length;bt++)if(ve(rt,Qe[bt]))return!0}return!1}function Me(rt){return W[rt]||(W[rt]=Et(rt)||ut(rt)?[new T(Se(rt))]:[new T(`http://${rt}`),new T(`https://${rt}`)]),W[rt]}function Se(rt,Nt=J,Je){return ut(rt)?Je&&Je.preserveProtocolRelative?rt:"http"===F.scheme&&F.authority===X(rt).slice(2)?`http:${rt}`:`https:${rt}`:Et(rt)?rt:Ge("/"===rt[0]?function Ot(rt){const Nt=rt.indexOf("//"),Je=rt.indexOf("/",Nt+2);return-1===Je?rt:rt.slice(0,Je)}(Nt):Nt,rt)}function ke(rt,Nt=J,Je){if(null==rt||!be(rt))return rt;const Qe=xe(rt),bt=Qe.toLowerCase(),Pt=xe(Nt).toLowerCase().replace(/\/+$/,""),Ie=Je?xe(Je).toLowerCase().replace(/\/+$/,""):null;if(Ie&&0!==Pt.indexOf(Ie))return rt;const ct=(_t,It,en)=>-1===(en=_t.indexOf(It,en))?_t.length:en;let ht=ct(bt,"/",bt.indexOf("//")+2),et=-1;for(;bt.slice(0,ht+1)===Pt.slice(0,ht)+"/"&&(et=ht+1,ht!==bt.length);)ht=ct(bt,"/",ht+1);if(-1===et||Ie&&et<Ie.length)return rt;rt=Qe.slice(et);const lt=Pt.slice(et-1).replaceAll(/[^/]+/g,"").length;if(lt>0)for(let _t=0;_t<lt;_t++)rt=`../${rt}`;else rt=`./${rt}`;return rt}function xe(rt){return function Cn(rt){const Nt=x.httpsDomains;if(!function Ut(rt){return null!=rt&&R.test(rt)||"http"===F.scheme&&ut(rt)}(rt))return rt;const Je=rt.indexOf("/",7);let Qe;if(Qe=-1===Je?rt:rt.slice(0,Je),Qe=Qe.toLowerCase().slice(7),P.test(Qe)){if(!Qe.endsWith(":80"))return rt;Qe=Qe.slice(0,-3),rt=rt.replace(":80","")}return function un(){return"http"===F.scheme}()&&Qe===F.authority&&!w.test(rt)||(yt()&&Qe===F.authority||Nt&&Nt.some(bt=>Qe===bt||Qe.endsWith(`.${bt}`))||yt()&&!ce(rt))&&(rt=qt(rt)),rt}(rt=function mn(rt){return rt.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(rt=function an(rt){if(/^https?:\/\//i.test(rt)){const Nt=te(rt);rt=(rt=Nt.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),Nt.query&&(rt+=`?${Nt.query}`)}return rt}(rt=Se(rt=rt.trim()))))}function Ge(...rt){const Nt=rt.filter(Z.pC);if(!Nt?.length)return;const Je=[];if(be(Nt[0])){const bt=Nt[0],Pt=bt.indexOf("//");-1!==Pt&&(Je.push(bt.slice(0,Pt+1)),function kt(rt){return null!=rt&&N.test(rt)}(Nt[0])&&(Je[0]+="/"),Nt[0]=bt.slice(Pt+2))}else"/"===Nt[0][0]&&Je.push("");const Qe=Nt.reduce((bt,Pt)=>Pt?bt.concat(Pt.split("/")):bt,[]);for(let bt=0;bt<Qe.length;bt++){const Pt=Qe[bt];".."===Pt&&Je.length>0&&".."!==Je[Je.length-1]?Je.pop():(!Pt&&bt===Qe.length-1||Pt&&("."!==Pt||0===Je.length))&&Je.push(Pt)}return Je.join("/")}function X(rt,Nt=!1){if(null==rt||Re(rt)||Fe(rt))return null;let Je=rt.indexOf("://");if(-1===Je&&ut(rt))Je=2;else{if(-1===Je)return null;Je+=3}const Qe=rt.indexOf("/",Je);return-1!==Qe&&(rt=rt.slice(0,Qe)),Nt&&(rt=ft(rt,!0)),rt}function be(rt){return ut(rt)||Et(rt)}function Re(rt){return null!=rt&&"blob:"===rt.slice(0,5)}function Fe(rt){return null!=rt&&"data:"===rt.slice(0,5)}function qe(rt){const Nt=Ne(rt);return Nt&&Nt.isBase64?(0,$.R)(Nt.data):null}function We(rt){return(0,$.s)(rt).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const He=/^data:(.*?)(;base64)?,(.*)$/;function Ne(rt){const Nt=rt.match(He);if(!Nt)return null;const[,Je,Qe,bt]=Nt;return{mediaType:Je,isBase64:!!Qe,data:bt}}function Ce(rt){return rt.isBase64?`data:${rt.mediaType};base64,${rt.data}`:`data:${rt.mediaType},${rt.data}`}function Pe(rt){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,C.Z)(function*(rt){return(yield fetch(rt)).blob()})).apply(this,arguments)}function Be(rt){const Nt=qe(rt);if(!Nt)return null;const Je=Ne(rt);return new Blob([Nt],{type:Je.mediaType})}function st(rt,Nt){!function ot(rt,Nt){if(!rt)return!1;const Je=document.createElement("a");if(!("download"in Je))return!1;const Qe=URL.createObjectURL(rt);return Je.download=Nt,Je.href=Qe,Je.style.display="none",document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Qe),!0}(rt,Nt)}function ut(rt){return null!=rt&&"/"===rt[0]&&"/"===rt[1]}function Et(rt){return null!=rt&&k.test(rt)}function Lt(rt){return null!=rt&&H.test(rt)||"https"===F.scheme&&ut(rt)}function qt(rt){return ut(rt)?`https:${rt}`:rt.replace(R,"https:")}function yt(){return"https"===F.scheme}function ft(rt,Nt=!1){return ut(rt)?rt.slice(2):(rt=rt.replace(k,""),Nt&&rt.length>1&&"/"===rt[0]&&"/"===rt[1]&&(rt=rt.slice(2)),rt)}function Tt(rt){let Nt=0;if(be(rt)){const Qe=rt.indexOf("//");-1!==Qe&&(Nt=Qe+2)}const Je=rt.lastIndexOf("/");return Je<Nt?rt:rt.slice(0,Je+1)}function Vt(rt,Nt){if(!rt)return"";const Je=G(rt).path.replace(/\/+$/,""),Qe=Je.substring(Je.lastIndexOf("/")+1);if(!Nt?.length)return Qe;const bt=new RegExp(`.(${Nt.join("|")})$`,"ig");return Qe.replace(bt,"")}function ln(rt){return rt.endsWith("/")?rt:`${rt}/`}function nn(rt){return rt.replace(/\/+$/,"")}function vn(rt,Nt,Je){if(!(Nt&&Je&&rt&&be(rt)))return rt;const Qe=rt.indexOf("//"),bt=rt.indexOf("/",Qe+2),Pt=rt.indexOf(":",Qe+2),Ie=Math.min(bt<0?rt.length:bt,Pt<0?rt.length:Pt);return rt.slice(Qe+2,Ie).toLowerCase()!==Nt.toLowerCase()?rt:`${rt.slice(0,Qe+2)}${Je}${rt.slice(Ie)}`}function hr(rt){return"string"==typeof rt?new T(Se(rt)):(rt.scheme||(rt.scheme=F.scheme),rt)}function xn(rt){return ns.test(rt)}function Xn(rt,Nt){const Je=G(rt),Qe=Object.keys(Je.query||{});return Qe.length>0&&Nt&&Nt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${Qe.join(", ")}.`),Je.path}function $t(rt,Nt,Je){const Qe=G(rt),bt=Qe.query||{};return bt[Nt]=String(Je),`${Qe.path}?${q(bt)}`}function rn(rt,Nt){if(!Nt)return rt;const Je=G(rt),Qe=Je.query||{};for(const[Pt,Ie]of Object.entries(Nt))null!=Ie&&(Qe[Pt]=Ie);const bt=q(Qe);return bt?`${Je.path}?${bt}`:Je.path}function ts(rt){if(null==rt)return null;const Nt=rt.match(Mn);return Nt?Nt[2]:null}function Qt(rt){if(null==rt)return null;const Nt=rt.match(Mn);return Nt?{path:Nt[1],extension:Nt[2]}:{path:rt,extension:null}}function Kr(rt){return as.apply(this,arguments)}function as(){return(as=(0,C.Z)(function*(rt){return"string"==typeof rt?Ne(rt)??{data:rt}:new Promise((Nt,Je)=>{const Qe=new FileReader;Qe.readAsDataURL(rt),Qe.onload=()=>Nt(Ne(Qe.result)),Qe.onerror=bt=>Je(bt)})})).apply(this,arguments)}const Mn=/([^.]*)\.([^\/]*)$/,ns=/(^data:image\/svg|\.svg$)/i},19986:(Ke,Ee,E)=>{"use strict";E.d(Ee,{DO:()=>D,dG:()=>j,zS:()=>Z});const C="randomUUID"in crypto;function D(){if(C)return crypto.randomUUID();const U=crypto.getRandomValues(new Uint16Array(8));U[3]=4095&U[3]|16384,U[4]=16383&U[4]|32768;const Y=V=>U[V].toString(16).padStart(4,"0");return Y(0)+Y(1)+"-"+Y(2)+"-"+Y(3)+"-"+Y(4)+"-"+Y(5)+Y(6)+Y(7)}function Z(){return`{${D().toUpperCase()}}`}function j(){return`{${D()}}`}},94995:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>V});var C=E(1258),D=E(4703),Z=E(79412),j=E(65430),U=E(65540),Y=E(30668);class V{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new j.Z}destroy(){this.close()}get closed(){return!this._clients?.length}open(L,x){return new Promise((B,k)=>{let R=!0;const H=N=>{(0,Z.k_)(x.signal),R&&(R=!1,N())};this._clients.length=L.length,this._clientPromises.length=L.length,this._inUseClients.length=L.length;for(let N=0;N<L.length;++N){const P=L[N];(0,Z.y8)(P)?this._clientPromises[N]=P.then(w=>(this._clients[N]=new Y.Z(w,x,this._ongoingJobsQueue),H(B),this._clients[N]),()=>(H(k),null)):(this._clients[N]=new Y.Z(P,x,this._ongoingJobsQueue),this._clientPromises[N]=Promise.resolve(this._clients[N]),H(B))}})}broadcast(L,x,B){const k=new Array(this._clientPromises.length);for(let R=0;R<this._clientPromises.length;++R)k[R]=this._clientPromises[R].then(N=>N?.invoke(L,x,B));return k}close(){let L;for(;L=this._ongoingJobsQueue.pop();)L.resolver.reject((0,Z.zE)(`Worker closing, aborting job calling '${L.methodName}'`));for(const x of this._clientPromises)x.then(B=>B?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,U.E)(this)}invoke(L,x,B){let k;Array.isArray(B)?(D.Z.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),k={transferList:B}):k=B;const R=(0,Z.hh)();this._ongoingJobsQueue.push({methodName:L,data:x,invokeOptions:k,resolver:R});for(let H=0;H<this._clientPromises.length;H++){const N=this._clients[H];N?N.jobAdded():this._clientPromises[H].then(P=>P?.jobAdded())}return R.promise}on(L,x){return Promise.all(this._clientPromises).then(()=>(0,C.AL)(this._clients.map(B=>B.on(L,x))))}openPorts(){return new Promise(L=>{const x=new Array(this._clientPromises.length);let B=x.length;for(let k=0;k<this._clientPromises.length;++k)this._clientPromises[k].then(R=>{R&&(x[k]=R.openPort()),0==--B&&L(x)})})}get test(){return{numClients:this._clients.length}}}},30668:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>O});var C=E(26152),D=E(57964),Z=E(90984),j=E(1258),U=E(51172),Y=E(79412);const V={statsWorker:()=>Promise.all([E.e(1518),E.e(5626)]).then(E.bind(E,31820)),geometryEngineWorker:()=>Promise.all([E.e(9465),E.e(8592),E.e(9235)]).then(E.bind(E,87567)),CSVSourceWorker:()=>Promise.all([E.e(842),E.e(3866),E.e(5904),E.e(1518),E.e(6518),E.e(2166),E.e(7454)]).then(E.bind(E,97454)),EdgeProcessingWorker:()=>Promise.all([E.e(1716),E.e(4968),E.e(9840)]).then(E.bind(E,6444)),ElevationSamplerWorker:()=>Promise.all([E.e(1716),E.e(2859),E.e(8592),E.e(285)]).then(E.bind(E,63517)),FeatureServiceSnappingSourceWorker:()=>Promise.all([E.e(842),E.e(3866),E.e(5904),E.e(2784),E.e(1518),E.e(6518),E.e(2166),E.e(5414)]).then(E.bind(E,25414)),GeoJSONSourceWorker:()=>Promise.all([E.e(842),E.e(3866),E.e(5904),E.e(1518),E.e(6518),E.e(2166),E.e(8592),E.e(6040)]).then(E.bind(E,56040)),LercWorker:()=>E.e(5190).then(E.bind(E,25190)),MemorySourceWorker:()=>Promise.all([E.e(842),E.e(3866),E.e(5904),E.e(1518),E.e(6518),E.e(2166),E.e(8592),E.e(2713)]).then(E.bind(E,86915)),PBFDecoderWorker:()=>Promise.all([E.e(842),E.e(3800)]).then(E.bind(E,23800)),Pipeline:()=>Promise.all([E.e(842),E.e(3866),E.e(9231),E.e(5904),E.e(4985),E.e(2784),E.e(1518),E.e(6518),E.e(2871),E.e(8592),E.e(4181)]).then(E.bind(E,94096)),PointCloudWorker:()=>Promise.all([E.e(9893),E.e(8592),E.e(9730)]).then(E.bind(E,39093)),RasterWorker:()=>Promise.all([E.e(6062),E.e(9350),E.e(3338),E.e(3287),E.e(9021)]).then(E.bind(E,29021)),SceneLayerSnappingSourceWorker:()=>Promise.all([E.e(1716),E.e(4612),E.e(4968),E.e(4051)]).then(E.bind(E,84051)),SceneLayerWorker:()=>Promise.all([E.e(8592),E.e(9740)]).then(E.bind(E,19740)),WFSSourceWorker:()=>Promise.all([E.e(842),E.e(3866),E.e(5904),E.e(1518),E.e(6518),E.e(2166),E.e(1970),E.e(8592),E.e(2631)]).then(E.bind(E,62631)),WorkerTileHandler:()=>Promise.all([E.e(7917),E.e(9968),E.e(4433),E.e(3445)]).then(E.bind(E,35029))};var $=E(86022),L=E(89610);const{CLOSE:x,ABORT:B,INVOKE:k,RESPONSE:R,OPEN_PORT:H,ON:N}=$.MessageType;class w{constructor(T){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=T,this._timer=null,this._process=this._process.bind(this)}push(T){T.type===$.MessageType.ABORT?this._cancelledJobIds.add(T.jobId):(this._invokeMessages.push(T),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const T of this._invokeMessages)this._cancelledJobIds.has(T.jobId)||this._invoke(T);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class O{static connect(T){const W=new MessageChannel;let z;z="function"==typeof T?new T:"default"in T&&"function"==typeof T.default?new T.default:T;const F=new O(W.port1,{channel:W,client:z});return"object"==typeof z&&"remoteClient"in z&&(z.remoteClient=F),O.clients.set(F,z),W.port2}static loadWorker(T){const W=V[T];return W?W():Promise.resolve(null)}constructor(T,W,z){this._port=T,this._jobQueue=z,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new w(F=>this._onInvokeMessage(F)),this._client=W.client,this._onMessage=this._onMessage.bind(this),this._channel=W.channel,this._schedule=W.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:x}),this._close()}isBusy(){return this._outJobs.size>0}invoke(T,W,z){const F=z?.signal,Q=z?.transferList;if(!this._port)return Promise.reject(new D.Z("worker:port-closed",`Cannot call invoke('${T}'), port is closed`,{methodName:T,data:W}));const J=(0,$.jt)();return new Promise((oe,se)=>{if((0,Y.Hc)(F))return this._processWork(),void se((0,Y.zE)());const ue=(0,Y.fu)(F,()=>{const G=this._outJobs.get(J);G&&(this._outJobs.delete(J),this._processWork(),(0,U.hw)(G.abortHandle),this._post({type:B,jobId:J}),se((0,Y.zE)()))});this._outJobs.set(J,{resolve:oe,reject:se,abortHandle:ue,debugInfo:T}),this._post({type:k,jobId:J,methodName:T,abortable:null!=F},W,Q)})}on(T,W){const z=new MessageChannel;function F(Q){W(Q.data)}return this._port.postMessage({type:$.MessageType.ON,eventType:T,port:z.port2},[z.port2]),z.port1.addEventListener("message",F),z.port1.start(),(0,j.kB)(()=>{z.port1.postMessage({type:$.MessageType.CLOSE}),z.port1.close(),z.port1.removeEventListener("message",F)})}jobAdded(){this._processWork()}openPort(){const T=new MessageChannel;return this._post({type:H,port:T.port2}),T.port1}_processWork(){if(this._outJobs.size>=2)return;const T=this._jobQueue?.pop();if(!T)return;const{methodName:W,data:z,invokeOptions:F,resolver:Q}=T;this.invoke(W,z,F).then(J=>Q.resolve(J)).catch(J=>Q.reject(J))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(T=>{(0,U.hw)(T.abortHandle),T.reject((0,Y.zE)(`Worker closing, aborting job calling '${T.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(T){null!=this._schedule?this._schedule(()=>this._processMessage(T)):this._processMessage(T)}_processMessage(T){const W=(0,$.QM)(T);if(W)switch(W.type){case R:this._onResponseMessage(W);break;case k:this._invokeQueue.push(W);break;case B:this._onAbortMessage(W);break;case x:this._onCloseMessage();break;case H:this._onOpenPortMessage(W);break;case N:this._onOnMessage(W)}}_onAbortMessage(T){const W=this._inJobs,z=T.jobId,F=W.get(z);this._invokeQueue.push(T),F&&(F.controller&&F.controller.abort(),W.delete(z))}_onCloseMessage(){const T=this._client;this._close(),T&&"destroy"in T&&O.clients.get(this)===T&&T.destroy(),O.clients.delete(this),T?.remoteClient&&(T.remoteClient=null)}_onInvokeMessage(T){const{methodName:W,jobId:z,data:F,abortable:Q}=T,J=Q?new AbortController:null,oe=this._inJobs;let se,ue=this._client,he=ue[W];try{if(!he&&W&&W.includes(".")){const G=W.split(".");for(let le=0;le<G.length-1;le++)ue=ue[G[le]],he=ue[G[le+1]]}if("function"!=typeof he)throw new TypeError(`${W} is not a function`);se=he.call(ue,F,{client:this,signal:J?J.signal:null})}catch(G){return void this._post({type:R,jobId:z,error:(0,$.AB)(G)})}(0,Y.y8)(se)?(oe.set(z,{controller:J,promise:se}),se.then(G=>{oe.has(z)&&(oe.delete(z),this._post({type:R,jobId:z},G))},G=>{oe.has(z)&&(oe.delete(z),(0,Y.D_)(G)||this._post({type:R,jobId:z,error:(0,$.AB)(G||{message:`Error encountered at method ${W}`})}))})):this._post({type:R,jobId:z},se)}_onOpenPortMessage(T){new O(T.port,{client:this._client})}_onOnMessage(T){const{port:W}=T,z=this._client.on(T.eventType,Q=>{W.postMessage(Q)}),F=(0,Z.on)(T.port,"message",Q=>{(0,$.QM)(Q)?.type===$.MessageType.CLOSE&&(F.remove(),z.remove(),W.close())})}_onResponseMessage(T){const{jobId:W,error:z,data:F}=T,Q=this._outJobs;if(!Q.has(W))return;const J=Q.get(W);Q.delete(W),this._processWork(),(0,U.hw)(J.abortHandle),z?J.reject(D.Z.fromJSON(JSON.parse(z))):J.resolve(F)}_post(T,W,z){return(0,$.oi)(this._port,T,W,z)}}O.kernelInfo={buildDate:L.r,fullVersion:C.bR,revision:L.$},O.clients=new Map},65540:(Ke,Ee,E)=>{"use strict";E.d(Ee,{E:()=>Z,z:()=>D});const C=new FinalizationRegistry(j=>{j.close()});function D(j,U){C.register(j,U,U)}function Z(j){C.unregister(j)}},86022:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AB:()=>Y,MessageType:()=>D,QM:()=>$,jt:()=>j,oi:()=>V});var D,B,C=E(14007);(B=D||(D={}))[B.HANDSHAKE=0]="HANDSHAKE",B[B.OPEN=1]="OPEN",B[B.OPENED=2]="OPENED",B[B.RESPONSE=3]="RESPONSE",B[B.INVOKE=4]="INVOKE",B[B.ABORT=5]="ABORT",B[B.CLOSE=6]="CLOSE",B[B.OPEN_PORT=7]="OPEN_PORT",B[B.ON=8]="ON";let Z=0;function j(){return Z++}function Y(B){return B?"string"==typeof B?JSON.stringify({name:"message",message:B}):B.toJSON?JSON.stringify(B):JSON.stringify({name:B.name,message:B.message,details:B.details||{stack:B.stack}}):null}function V(B,k,R,H){if(k.type===D.OPEN_PORT)return void B.postMessage(k,[k.port]);if(k.type!==D.INVOKE&&k.type!==D.RESPONSE)return void B.postMessage(k);let N;if(function U(B){return B&&"object"==typeof B&&("result"in B||"transferList"in B)}(R)?(N=L(R.transferList),k.data=R.result):(N=L(H),k.data=R),N){if((0,C.Z)("ff"))for(const P of N)if("byteLength"in P&&P.byteLength>267386880){const w="Worker call with large ArrayBuffer would crash Firefox";switch(k.type){case D.INVOKE:throw w;case D.RESPONSE:return void V(B,{type:D.RESPONSE,jobId:k.jobId,error:Y(w)})}}B.postMessage(k,N)}else B.postMessage(k)}function $(B){if(!B)return null;const k=B.data;return k?"string"==typeof k?JSON.parse(k):k:null}function L(B){if(!B?.length)return null;if((0,C.Z)("esri-workers-arraybuffer-transfer"))return B;const k=B.filter(R=>!function x(B){return B instanceof ArrayBuffer||"ArrayBuffer"===B?.constructor?.name}(R));return k.length?k:null}},36885:(Ke,Ee,E)=>{"use strict";E.d(Ee,{j2:()=>Se,bA:()=>X});var C=E(15861),D=E(57964),Z=E(14007),j=E(79412),U=E(94995),Y=E(65540),V=E(30668),$=E(4703),L=E(51172),x=E(66476),B=E(6785);const k={request:(Ne,Ce)=>(0,C.Z)(function*(){const Pe=Ne.options,Ae=Pe.responseType;Pe.signal=Ce?.signal,Pe.responseType="native"===Ae||"native-request-init"===Ae?"native-request-init":Ae&&["blob","json","text"].includes(Ae)&&(0,B.oh)(Ne.url)?.after?Ae:"array-buffer";const Be=yield(0,x.Z)(Ne.url,Pe),ze={data:Be.data,httpStatus:Be.httpStatus,ssl:Be.ssl};switch(Be.requestOptions?.responseType){case"native-request-init":return delete ze.data.signal,ze;case"blob":ze.data=yield ze.data.arrayBuffer();break;case"json":ze.data=(new TextEncoder).encode(JSON.stringify(ze.data)).buffer;break;case"text":ze.data=(new TextEncoder).encode(ze.data).buffer}return{result:ze,transferList:[ze.data]}})()};var R=E(86022),H=E(98930),N=E(11931),w=(E(91531),E(26152));const I={};var W=E(38119);class z{constructor(){const Ce=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(Pe=>{this[Pe]=(...Ae)=>Ce[Pe](...Ae)})}}class F{constructor(){this._dispatcher=new z,this._workerPostMessage({type:R.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(Ce){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=Ce,Ce&&this.addEventListener("message",Ce)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(Ce){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=Ce,Ce&&this.addEventListener("messageerror",Ce)}get onerror(){return this._onerrorHandler}set onerror(Ce){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=Ce,Ce&&this.addEventListener("error",Ce)}postMessage(Ce){(0,W.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:Ce}))})}dispatchEvent(Ce){return this._dispatcher.dispatchEvent(Ce)}addEventListener(Ce,Pe,Ae){this._dispatcher.addEventListener(Ce,Pe,Ae)}removeEventListener(Ce,Pe,Ae){this._dispatcher.removeEventListener(Ce,Pe,Ae)}_workerPostMessage(Ce){(0,W.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:Ce}))})}_workerMessageHandler(Ce){var Pe=this;return(0,C.Z)(function*(){const Ae=(0,R.QM)(Ce);if(Ae&&Ae.type===R.MessageType.OPEN){const{modulePath:Be,jobId:ze}=Ae;let st=yield V.Z.loadWorker(Be);st||(st=yield import(Be));const Xe=V.Z.connect(st);Pe._workerPostMessage({type:R.MessageType.OPENED,jobId:ze,data:Xe})}})()}}var Q=E(55829),J=E(89610);const oe=$.Z.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:se}=R.MessageType;let he,G;const le="Failed to create Worker. Fallback to execute module in main thread";function fe(){return(fe=(0,C.Z)(function*(){if(!(0,Z.Z)("esri-workers"))return ge(new F);if(!he&&!G)try{const Ce='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split('"{CONFIGURATION}"').join(`'${function te(){let Ne;if(null!=N.default.default){const Be={...N.default};delete Be.default,Ne=JSON.parse(JSON.stringify(Be))}else Ne=JSON.parse(JSON.stringify(N.default));Ne.assetsPath=(0,B.hF)(Ne.assetsPath),Ne.defaultAssetsPath=Ne.defaultAssetsPath?(0,B.hF)(Ne.defaultAssetsPath):void 0,Ne.request.interceptors=[],Ne.log.interceptors=[],Ne.locale=(0,Q.Kd)(),Ne.has={"esri-csp-restrictions":(0,Z.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,Z.Z)("esri-2d-update-debug"),"esri-2d-log-updating":(0,Z.Z)("esri-2d-log-updating"),"featurelayer-pbf":(0,Z.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,Z.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,Z.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,Z.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,Z.Z)("esri-atomics"),"esri-shared-array-buffer":(0,Z.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,Z.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,Z.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,Z.Z)("feature-polyline-generalization-factor"),"host-webworker":1},Ne.workers.loaderUrl&&(Ne.workers.loaderUrl=(0,B.hF)(Ne.workers.loaderUrl)),Ne.workers.workerPath=(0,B.hF)(Ne.workers.workerPath?Ne.workers.workerPath:(0,H.V)("esri/core/workers/RemoteClient.js")),Ne.workers.useDynamicImport=!1;const Ce=N.default.workers.loaderConfig,Pe=function T(Ne){const Ce={async:Ne.async,isDebug:Ne.isDebug,locale:Ne.locale,baseUrl:Ne.baseUrl,has:{...Ne.has},map:{...Ne.map},packages:Ne.packages?.concat()||[],paths:{...Ne.paths}};return Ne.hasOwnProperty("async")||(Ce.async=!0),Ne.hasOwnProperty("isDebug")||(Ce.isDebug=!1),Ne.baseUrl||(Ce.baseUrl=I.baseUrl),Ce}({baseUrl:Ce?.baseUrl,locale:(0,Q.Kd)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...Ce?.has},map:{...Ce?.map},paths:{...Ce?.paths},packages:Ce?.packages||[]});return JSON.stringify({esriConfig:Ne,loaderConfig:Pe,kernelInfo:{buildDate:J.r,fullVersion:w.bR,revision:J.$}})}()}'`);he=URL.createObjectURL(new Blob([Ce],{type:"text/javascript"}))}catch(Ce){G=Ce||{}}let Ne;if(he)try{Ne=new Worker(he,{name:"esri-worker-"+ae++})}catch{oe.warn(le,G),Ne=new F}else oe.warn(le,G),Ne=new F;return ge(Ne)})).apply(this,arguments)}function ge(Ne){return me.apply(this,arguments)}function me(){return(me=(0,C.Z)(function*(Ne){return new Promise(Ce=>{function Pe(Be){const ze=(0,R.QM)(Be);ze&&ze.type===se&&(Ne.removeEventListener("message",Pe),Ne.removeEventListener("error",Ae),Ce(Ne))}function Ae(Be){Be.preventDefault(),Ne.removeEventListener("message",Pe),Ne.removeEventListener("error",Ae),oe.warn("Failed to create Worker. Fallback to execute module in main thread",Be),(Ne=new F).addEventListener("message",Pe),Ne.addEventListener("error",Ae)}Ne.addEventListener("message",Pe),Ne.addEventListener("error",Ae)})})).apply(this,arguments)}let ae=0;const{ABORT:ee,INVOKE:ce,OPEN:ie,OPENED:ne,RESPONSE:pe}=R.MessageType;class ye{static create(Ce){return(0,C.Z)(function*(){const Pe=yield function q(){return fe.apply(this,arguments)}();return new ye(Pe,Ce)})()}constructor(Ce,Pe){this._outJobs=new Map,this._inJobs=new Map,this.worker=Ce,this.id=Pe,Ce.addEventListener("message",this._onMessage.bind(this)),Ce.addEventListener("error",Ae=>{Ae.preventDefault(),$.Z.getLogger("esri.core.workers.WorkerOwner").error(Ae)})}terminate(){this.worker.terminate()}open(Ce,Pe={}){var Ae=this;return(0,C.Z)(function*(){const{signal:Be}=Pe,ze=(0,R.jt)();return new Promise((st,Xe)=>{const ot={resolve:st,reject:Xe,abortHandle:(0,j.$F)(Be,()=>{Ae._outJobs.delete(ze),Ae._post({type:ee,jobId:ze})})};Ae._outJobs.set(ze,ot),Ae._post({type:ie,jobId:ze,modulePath:Ce})})})()}_onMessage(Ce){const Pe=(0,R.QM)(Ce);if(Pe)switch(Pe.type){case ne:this._onOpenedMessage(Pe);break;case pe:this._onResponseMessage(Pe);break;case ee:this._onAbortMessage(Pe);break;case ce:this._onInvokeMessage(Pe)}}_onAbortMessage(Ce){const Pe=this._inJobs,Ae=Ce.jobId,Be=Pe.get(Ae);Be&&(Be.controller&&Be.controller.abort(),Pe.delete(Ae))}_onInvokeMessage(Ce){const{methodName:Pe,jobId:Ae,data:Be,abortable:ze}=Ce,st=ze?new AbortController:null,Xe=this._inJobs,ot=k[Pe];let ut;try{if("function"!=typeof ot)throw new TypeError(`${Pe} is not a function`);ut=ot.call(null,Be,{signal:st?st.signal:null})}catch(Et){return void this._post({type:pe,jobId:Ae,error:(0,R.AB)(Et)})}(0,j.y8)(ut)?(Xe.set(Ae,{controller:st,promise:ut}),ut.then(Et=>{Xe.has(Ae)&&(Xe.delete(Ae),this._post({type:pe,jobId:Ae},Et))},Et=>{Xe.has(Ae)&&(Xe.delete(Ae),Et||(Et={message:"Error encountered at method"+Pe}),(0,j.D_)(Et)||this._post({type:pe,jobId:Ae,error:(0,R.AB)(Et||{message:`Error encountered at method ${Pe}`})}))})):this._post({type:pe,jobId:Ae},ut)}_onOpenedMessage(Ce){const{jobId:Pe,data:Ae}=Ce,Be=this._outJobs.get(Pe);Be&&(this._outJobs.delete(Pe),(0,L.hw)(Be.abortHandle),Be.resolve(Ae))}_onResponseMessage(Ce){const{jobId:Pe,error:Ae,data:Be}=Ce,ze=this._outJobs.get(Pe);ze&&(this._outJobs.delete(Pe),(0,L.hw)(ze.abortHandle),Ae?ze.reject(D.Z.fromJSON(JSON.parse(Ae))):ze.resolve(Be))}_post(Ce,Pe,Ae){return(0,R.oi)(this.worker,Ce,Pe,Ae)}}const re=(0,Z.Z)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,Z.Z)("workers-pool-size")):0;let ve=(0,Z.Z)("esri-mobile")?Math.min(re,3):re;ve||(ve=(0,Z.Z)("safari")&&(0,Z.Z)("mac")?7:2);let Oe=0;const Me=[];function Se(){We()}function xe(Ne,Ce){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,C.Z)(function*(Ne,Ce){const Pe=new U.Z,{registryTarget:Ae,...Be}=Ce;return yield Pe.open(Ne,Be),Ae&&(0,Y.z)(Ae,Pe),Pe})).apply(this,arguments)}function X(Ne){return be.apply(this,arguments)}function be(){return(be=(0,C.Z)(function*(Ne,Ce={}){if("string"!=typeof Ne)throw new D.Z("workers:undefined-module","modulePath is missing");let Pe=Ce.strategy||"distributed";if((0,Z.Z)("host-webworker")&&!(0,Z.Z)("esri-workers")&&(Pe="local"),"local"===Pe){let Ae=yield V.Z.loadWorker(Ne);Ae||(Ae=yield import(Ne)),(0,j.k_)(Ce.signal);const Be=Ce.client||Ae;return xe([V.Z.connect(Ae)],{...Ce,client:Be})}if(yield We(),(0,j.k_)(Ce.signal),"dedicated"===Pe){const Ae=Oe++%ve;return xe([yield Me[Ae].open(Ne,Ce)],Ce)}if(Ce.maxNumWorkers&&Ce.maxNumWorkers>0){const Ae=Math.min(Ce.maxNumWorkers,ve);if(Ae<ve){const Be=new Array(Ae);for(let ze=0;ze<Ae;++ze){const st=Oe++%ve;Be[ze]=Me[st].open(Ne,Ce)}return xe(Be,Ce)}}return xe(Me.map(Ae=>Ae.open(Ne,Ce)),Ce)})).apply(this,arguments)}let Fe,qe=null;function We(){return He.apply(this,arguments)}function He(){return(He=(0,C.Z)(function*(){if(qe)return qe;Fe=new AbortController;const Ne=[];for(let Ce=0;Ce<ve;Ce++){const Pe=ye.create(Ce).then(Ae=>(Me[Ce]=Ae,Ae));Ne.push(Pe)}return qe=Promise.all(Ne),qe})).apply(this,arguments)}},4177:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Xn});var k,C=E(50484),D=E(89317),Z=E(34222),j=E(80543),U=E(73018),Y=E(62185),V=E(10141),$=E(7547),L=E(1535);E(57678),E(14007);let R=k=class extends D.wq{constructor($t){super($t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new k({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],R.prototype,"expression",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],R.prototype,"name",void 0),(0,C._)([(0,j.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],R.prototype,"returnType",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],R.prototype,"title",void 0),R=k=(0,C._)([(0,V.j)("esri.form.ExpressionInfo")],R);const H=R;let N=class extends D.wq{constructor($t){super($t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],N.prototype,"description",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],N.prototype,"label",void 0),(0,C._)([(0,j.Cb)()],N.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],N.prototype,"visibilityExpression",void 0),N=(0,C._)([(0,V.j)("esri.form.elements.Element")],N);const P=N;var w;let O=w=class extends D.wq{constructor($t){super($t),this.type=null}clone(){return new w({type:this.type})}};(0,C._)([(0,j.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],O.prototype,"type",void 0),O=w=(0,C._)([(0,V.j)("esri.form.elements.inputs.AttachmentInput")],O);const I=O;var T;let W=T=class extends P{constructor($t){super($t),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new T({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],W.prototype,"attachmentKeyword",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],W.prototype,"editableExpression",void 0),(0,C._)([(0,j.Cb)({type:I,json:{read:{source:"inputType"},write:{target:"inputType"}}})],W.prototype,"input",void 0),(0,C._)([(0,j.Cb)({type:["attachment"],json:{read:!1,write:!0}})],W.prototype,"type",void 0),W=T=(0,C._)([(0,V.j)("esri.form.elements.AttachmentElement")],W);const z=W;var F=E(93300),Q=E(4703);let J=class extends D.wq{constructor($t){super($t),this.type=null}};(0,C._)([(0,j.Cb)()],J.prototype,"type",void 0),J=(0,C._)([(0,V.j)("esri.form.elements.inputs.Input")],J);const oe=J;let se=class extends oe{constructor($t){super($t),this.maxLength=null,this.minLength=0}};(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],se.prototype,"maxLength",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],se.prototype,"minLength",void 0),se=(0,C._)([(0,V.j)("esri.form.elements.inputs.TextInput")],se);const ue=se;var he;let G=he=class extends ue{constructor($t){super($t),this.type="barcode-scanner"}clone(){return new he({maxLength:this.maxLength,minLength:this.minLength})}};(0,C._)([(0,j.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=he=(0,C._)([(0,V.j)("esri.form.elements.inputs.BarcodeScannerInput")],G);const le=G;var q;let fe=q=class extends oe{constructor($t){super($t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new q({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],fe.prototype,"noValueOptionLabel",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"showNoValueOption",void 0),(0,C._)([(0,j.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],fe.prototype,"type",void 0),fe=q=(0,C._)([(0,V.j)("esri.form.elements.inputs.ComboBoxInput")],fe);const ge=fe;var me;function te($t){return $t??null}function ae($t){return $t??null}let ee=me=class extends oe{constructor($t){super($t),this.max=null,this.min=null,this.type="date-picker"}readMax($t,rn){return te(rn.max)}writeMax($t,rn){rn.max=ae($t)}readMin($t,rn){return te(rn.min)}writeMin($t,rn){rn.min=ae($t)}clone(){return new me({max:this.max,min:this.min})}};(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],ee.prototype,"max",void 0),(0,C._)([(0,Y.r)("max")],ee.prototype,"readMax",null),(0,C._)([(0,$.c)("max")],ee.prototype,"writeMax",null),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],ee.prototype,"min",void 0),(0,C._)([(0,Y.r)("min")],ee.prototype,"readMin",null),(0,C._)([(0,$.c)("min")],ee.prototype,"writeMin",null),(0,C._)([(0,j.Cb)({type:["date-picker"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=me=(0,C._)([(0,V.j)("esri.form.elements.inputs.DatePickerInput")],ee);const ce=ee;var ie;function ne($t){return $t??null}function pe($t){return $t??null}let ye=ie=class extends oe{constructor($t){super($t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax($t,rn){return ne(rn.max)}writeMax($t,rn){rn.max=pe($t)}readMin($t,rn){return ne(rn.min)}writeMin($t,rn){rn.min=pe($t)}readTimeResolution($t,rn){return ne(rn.timeResolution)}writeTimeResolution($t,rn){rn.timeResolution=pe($t)}clone(){return new ie({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],ye.prototype,"includeTimeOffset",void 0),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],ye.prototype,"max",void 0),(0,C._)([(0,Y.r)("max")],ye.prototype,"readMax",null),(0,C._)([(0,$.c)("max")],ye.prototype,"writeMax",null),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],ye.prototype,"min",void 0),(0,C._)([(0,Y.r)("min")],ye.prototype,"readMin",null),(0,C._)([(0,$.c)("min")],ye.prototype,"writeMin",null),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],ye.prototype,"timeResolution",void 0),(0,C._)([(0,Y.r)("timeResolution")],ye.prototype,"readTimeResolution",null),(0,C._)([(0,$.c)("timeResolution")],ye.prototype,"writeTimeResolution",null),(0,C._)([(0,j.Cb)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],ye.prototype,"type",void 0),ye=ie=(0,C._)([(0,V.j)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],ye);const re=ye;var ve;function Oe($t){return null!=$t?new Date($t):null}function Me($t){return $t?$t.getTime():null}let Se=ve=class extends oe{constructor($t){super($t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax($t,rn){return Oe(rn.max)}writeMax($t,rn){rn.max=Me($t)}readMin($t,rn){return Oe(rn.min)}writeMin($t,rn){rn.min=Me($t)}clone(){return new ve({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],Se.prototype,"includeTime",void 0),(0,C._)([(0,j.Cb)({type:Date,json:{type:Number,write:!0}})],Se.prototype,"max",void 0),(0,C._)([(0,Y.r)("max")],Se.prototype,"readMax",null),(0,C._)([(0,$.c)("max")],Se.prototype,"writeMax",null),(0,C._)([(0,j.Cb)({type:Date,json:{type:Number,write:!0}})],Se.prototype,"min",void 0),(0,C._)([(0,Y.r)("min")],Se.prototype,"readMin",null),(0,C._)([(0,$.c)("min")],Se.prototype,"writeMin",null),(0,C._)([(0,j.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Se.prototype,"type",void 0),Se=ve=(0,C._)([(0,V.j)("esri.form.elements.inputs.DateTimePickerInput")],Se);const ke=Se;var xe;let Ge=xe=class extends oe{constructor($t){super($t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new xe({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],Ge.prototype,"noValueOptionLabel",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],Ge.prototype,"showNoValueOption",void 0),(0,C._)([(0,j.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Ge.prototype,"type",void 0),Ge=xe=(0,C._)([(0,V.j)("esri.form.elements.inputs.RadioButtonsInput")],Ge);const X=Ge;var be;let Re=be=class extends oe{constructor($t){super($t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new be({offValue:this.offValue,onValue:this.onValue})}};(0,C._)([(0,j.Cb)({type:[String,Number],json:{write:!0}})],Re.prototype,"offValue",void 0),(0,C._)([(0,j.Cb)({type:[String,Number],json:{write:!0}})],Re.prototype,"onValue",void 0),(0,C._)([(0,j.Cb)({type:["switch"],json:{read:!1,write:!0}})],Re.prototype,"type",void 0),Re=be=(0,C._)([(0,V.j)("esri.form.elements.inputs.SwitchInput")],Re);const Fe=Re;var qe;let We=qe=class extends ue{constructor($t){super($t),this.type="text-area"}clone(){return new qe({maxLength:this.maxLength,minLength:this.minLength})}};(0,C._)([(0,j.Cb)({type:["text-area"],json:{read:!1,write:!0}})],We.prototype,"type",void 0),We=qe=(0,C._)([(0,V.j)("esri.form.elements.inputs.TextAreaInput")],We);const He=We;var Ne;let Ce=Ne=class extends ue{constructor($t){super($t),this.type="text-box"}clone(){return new Ne({maxLength:this.maxLength,minLength:this.minLength})}};(0,C._)([(0,j.Cb)({type:["text-box"],json:{read:!1,write:!0}})],Ce.prototype,"type",void 0),Ce=Ne=(0,C._)([(0,V.j)("esri.form.elements.inputs.TextBoxInput")],Ce);const Pe=Ce;var Ae;function Be($t){return $t??null}function ze($t){return $t??null}let st=Ae=class extends oe{constructor($t){super($t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax($t,rn){return Be(rn.max)}writeMax($t,rn){rn.max=ze($t)}readMin($t,rn){return Be(rn.min)}writeMin($t,rn){rn.min=ze($t)}readTimeResolution($t,rn){return Be(rn.timeResolution)}writeTimeResolution($t,rn){rn.timeResolution=ze($t)}clone(){return new Ae({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],st.prototype,"max",void 0),(0,C._)([(0,Y.r)("max")],st.prototype,"readMax",null),(0,C._)([(0,$.c)("max")],st.prototype,"writeMax",null),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],st.prototype,"min",void 0),(0,C._)([(0,Y.r)("min")],st.prototype,"readMin",null),(0,C._)([(0,$.c)("min")],st.prototype,"writeMin",null),(0,C._)([(0,j.Cb)({type:String,json:{type:String,write:!0}})],st.prototype,"timeResolution",void 0),(0,C._)([(0,Y.r)("timeResolution")],st.prototype,"readTimeResolution",null),(0,C._)([(0,$.c)("timeResolution")],st.prototype,"writeTimeResolution",null),(0,C._)([(0,j.Cb)({type:["time-picker"],json:{read:!1,write:!0}})],st.prototype,"type",void 0),st=Ae=(0,C._)([(0,V.j)("esri.form.elements.inputs.TimePickerInput")],st);const ot={base:oe,key:"type",typeMap:{"barcode-scanner":le,"combo-box":ge,"date-picker":ce,"datetime-picker":ke,"datetimeoffset-picker":re,"radio-buttons":X,switch:Fe,"text-area":He,"text-box":Pe,"time-picker":st}};var Et,ut=E(59300);const Lt="esri.form.elements.FieldElement",Ut=Q.Z.getLogger(Lt);let kt=Et=class extends P{constructor($t){super($t),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return(0,F.Mr)(Ut,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable($t){(0,F.Mr)(Ut,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",$t)}clone(){return new Et({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,C._)([(0,j.Cb)({types:ut.V5,json:{read:{reader:ut.im},write:!0}})],kt.prototype,"domain",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],kt.prototype,"editable",null),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],kt.prototype,"editableExpression",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],kt.prototype,"fieldName",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],kt.prototype,"hint",void 0),(0,C._)([(0,j.Cb)({types:ot,json:{read:{source:"inputType"},write:{target:"inputType"}}})],kt.prototype,"input",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],kt.prototype,"requiredExpression",void 0),(0,C._)([(0,j.Cb)({type:String,json:{read:!1,write:!0}})],kt.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],kt.prototype,"valueExpression",void 0),kt=Et=(0,C._)([(0,V.j)(Lt)],kt);const Xt=kt;var un,qt=E(78496);let yt=un=class extends P{constructor($t){super($t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new un({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,Z.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],yt.prototype,"displayCount",void 0),(0,C._)([(0,j.Cb)({type:["list"],json:{write:!0}})],yt.prototype,"displayType",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],yt.prototype,"editableExpression",void 0),(0,C._)([(0,j.Cb)({type:[qt.Z],json:{write:!0}})],yt.prototype,"orderByFields",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],yt.prototype,"relationshipId",void 0),(0,C._)([(0,j.Cb)({type:["relationship"],json:{read:!1,write:!0}})],yt.prototype,"type",void 0),yt=un=(0,C._)([(0,V.j)("esri.form.elements.RelationshipElement")],yt);const ft=yt;function Ot($t){return{typesWithGroup:{base:P,key:"type",typeMap:{attachment:z,field:Xt,group:$t,relationship:ft}},typesWithoutGroup:{base:P,key:"type",typeMap:{attachment:z,field:Xt,relationship:ft}}}}function Tt($t,rn,ar=!0){if(!$t)return null;const ts=ar?rn.typesWithGroup.typeMap:rn.typesWithoutGroup.typeMap;return $t.filter(Qt=>ts[Qt.type]).map(Qt=>ts[Qt.type].fromJSON(Qt))}function Vt($t,rn,ar=!0){if(!$t)return null;const ts=ar?rn.typesWithGroup.typeMap:rn.typesWithoutGroup.typeMap;return $t.filter(Qt=>ts[Qt.type]).map(Qt=>Qt.toJSON())}function ln($t,rn,ar=!0){return $t?$t.map(ts=>(0,L.N7)(ar?rn.typesWithGroup:rn.typesWithoutGroup,ts)):null}var nn;let an=nn=class extends P{constructor($t){super($t),this.elements=null,this.initialState="expanded",this.type="group"}castElements($t){return ln($t,mn,!1)}readElements($t,rn){return Tt(rn.formElements,mn,!1)}writeElements($t,rn){rn.formElements=Vt($t,mn,!1)}clone(){return new nn({description:this.description,elements:(0,Z.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,C._)([(0,j.Cb)({json:{write:!0}})],an.prototype,"elements",void 0),(0,C._)([(0,U.p)("elements")],an.prototype,"castElements",null),(0,C._)([(0,Y.r)("elements",["formElements"])],an.prototype,"readElements",null),(0,C._)([(0,$.c)("elements")],an.prototype,"writeElements",null),(0,C._)([(0,j.Cb)({type:["collapsed","expanded"],json:{write:!0}})],an.prototype,"initialState",void 0),(0,C._)([(0,j.Cb)({type:String,json:{read:!1,write:!0}})],an.prototype,"type",void 0),an=nn=(0,C._)([(0,V.j)("esri.form.elements.GroupElement")],an);const mn=Ot(an);var vn;const hr=Ot(an);let xn=vn=class extends D.wq{constructor($t){super($t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements($t){return ln($t,hr)}readElements($t,rn){return Tt(rn.formElements,hr)}writeElements($t,rn){rn.formElements=Vt($t,hr)}clone(){return new vn({description:this.description,expressionInfos:(0,Z.d9)(this.expressionInfos),elements:(0,Z.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],xn.prototype,"description",void 0),(0,C._)([(0,j.Cb)({json:{write:!0}})],xn.prototype,"elements",void 0),(0,C._)([(0,U.p)("elements")],xn.prototype,"castElements",null),(0,C._)([(0,Y.r)("elements",["formElements"])],xn.prototype,"readElements",null),(0,C._)([(0,$.c)("elements")],xn.prototype,"writeElements",null),(0,C._)([(0,j.Cb)({type:[H],json:{write:!0}})],xn.prototype,"expressionInfos",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],xn.prototype,"preserveFieldValuesWhenHidden",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],xn.prototype,"title",void 0),xn=vn=(0,C._)([(0,V.j)("esri.form.FormTemplate")],xn);const Xn=xn},2189:(Ke,Ee,E)=>{"use strict";E.d(Ee,{qM:()=>k});var C=E(1535),D=E(26894),Z=E(32184),j=E(12628),U=E(85039),Y=E(5391),V=E(64222);E(43814),E(31709),E(40637);const k={base:Z.Z,key:"type",typeMap:{extent:D.Z,multipoint:j.Z,point:U.Z,polyline:V.Z,polygon:Y.Z}};(0,C.N7)(k)},26894:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>I});var N,C=E(50484),D=E(72578),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(32184),L=E(85039),x=E(43814),B=E(5825),k=E(26230),R=E(33721),H=E(48230);function w(T,W,z){return null==W?z:null==z?W:T(W,z)}let O=N=class extends $.Z{constructor(...T){super(...T),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(T,W,z,F,Q){return function P(T){return T&&("esri.geometry.SpatialReference"===T.declaredClass||null!=T.wkid)}(T)?{spatialReference:T,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof T?(T.spatialReference=null==T.spatialReference?x.Z.WGS84:T.spatialReference,T):{xmin:T,ymin:W,xmax:z,ymax:F,spatialReference:Q??x.Z.WGS84}}static fromBounds(T,W){return new N({xmin:T[0],ymin:T[1],xmax:T[2],ymax:T[3],spatialReference:W})}static fromPoint(T){return new N({xmin:T.x,ymin:T.y,zmin:T.z,xmax:T.x,ymax:T.y,zmax:T.z,spatialReference:T.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const T=new L.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(T.z=.5*(this.zmin+this.zmax)),this.hasM&&(T.m=.5*(this.mmin+this.mmax)),T}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(T){const W=this.center;return null!=T.z&&this.hasZ?this.offset(T.x-W.x,T.y-W.y,T.z-W.z):this.offset(T.x-W.x,T.y-W.y)}clone(){const T=new N;return T.xmin=this.xmin,T.ymin=this.ymin,T.xmax=this.xmax,T.ymax=this.ymax,T.spatialReference=this.spatialReference,null!=this.zmin&&(T.zmin=this.zmin,T.zmax=this.zmax),null!=this.mmin&&(T.mmin=this.mmin,T.mmax=this.mmax),T}contains(T){if(!T)return!1;const W=this.spatialReference,z=T.spatialReference;return W&&z&&!W.equals(z)&&(0,H.Q8)(W,z)&&(T=W.isWebMercator?(0,H.$)(T):(0,H.Sx)(T,!0)),"point"===T.type?(0,B.aV)(this,T):"extent"===T.type&&(0,B.uP)(this,T)}equals(T){if(this===T)return!0;if(null==T)return!1;const W=this.spatialReference,z=T.spatialReference;return W&&z&&!W.equals(z)&&(0,H.Q8)(W,z)&&(T=W.isWebMercator?(0,H.$)(T):(0,H.Sx)(T,!0)),this.xmin===T.xmin&&this.ymin===T.ymin&&this.zmin===T.zmin&&this.mmin===T.mmin&&this.xmax===T.xmax&&this.ymax===T.ymax&&this.zmax===T.zmax&&this.mmax===T.mmax}expand(T){const W=.5*(1-T),z=this.width*W,F=this.height*W;if(this.xmin+=z,this.ymin+=F,this.xmax-=z,this.ymax-=F,this.hasZ){const Q=(this.zmax-this.zmin)*W;this.zmin+=Q,this.zmax-=Q}if(this.hasM){const Q=(this.mmax-this.mmin)*W;this.mmin+=Q,this.mmax-=Q}return this}intersects(T){if(null==T)return!1;"mesh"===T.type&&(T=T.extent);const W=this.spatialReference,z=T.spatialReference;return W&&z&&!(0,R.fS)(W,z)&&(0,H.Q8)(W,z)&&(T=W.isWebMercator?(0,H.$)(T):(0,H.Sx)(T,!0)),(0,k.IY)(T.type)(this,T)}normalize(){const T=this._normalize(!1,!0);return Array.isArray(T)?T:[T]}offset(T,W,z){return this.xmin+=T,this.ymin+=W,this.xmax+=T,this.ymax+=W,null!=z&&(this.zmin+=z,this.zmax+=z),this}shiftCentralMeridian(){return this._normalize(!0)}union(T){return this===T||(this.xmin=Math.min(this.xmin,T.xmin),this.ymin=Math.min(this.ymin,T.ymin),this.xmax=Math.max(this.xmax,T.xmax),this.ymax=Math.max(this.ymax,T.ymax),(this.hasZ||T.hasZ)&&(this.zmin=w(Math.min,this.zmin,T.zmin),this.zmax=w(Math.max,this.zmax,T.zmax)),(this.hasM||T.hasM)&&(this.mmin=w(Math.min,this.mmin,T.mmin),this.mmax=w(Math.max,this.mmax,T.mmax))),this}intersection(T){return this===T?this:null!=T&&this.intersects(T)?(this.xmin=Math.max(this.xmin,T.xmin),this.ymin=Math.max(this.ymin,T.ymin),this.xmax=Math.min(this.xmax,T.xmax),this.ymax=Math.min(this.ymax,T.ymax),(this.hasZ||T.hasZ)&&(this.zmin=w(Math.max,this.zmin,T.zmin),this.zmax=w(Math.min,this.zmax,T.zmax)),(this.hasM||T.hasM)&&(this.mmin=w(Math.max,this.mmin,T.mmin),this.mmax=w(Math.min,this.mmax,T.mmax)),this):null}toJSON(T){return this.write({},T)}_shiftCM(T=(0,R.C5)(this.spatialReference)){if(!T||!this.spatialReference)return this;const W=this.spatialReference,z=this._getCM(T);if(z){const F=W.isWebMercator?(0,H.Sx)(z):z;this.xmin-=z.x,this.xmax-=z.x,W.isWebMercator||(F.x=this._normalizeX(F.x,T).x),this.spatialReference=new x.Z((0,D.gx)((W.isWGS84?T.altTemplate:null)??T.wkTemplate,{Central_Meridian:F.x}))}return this}_getCM(T){let W=null;const[z,F]=T.valid,Q=this.xmin,J=this.xmax;return Q>=z&&Q<=F&&J>=z&&J<=F||(W=this.center),W}_normalize(T,W,z){const F=this.spatialReference;if(!F)return this;const Q=z??(0,R.C5)(F);if(null==Q)return this;const J=this._getParts(Q).map(ue=>ue.extent);if(J.length<2)return J[0]||this;if(J.length>2)return T?this._shiftCM(Q):this.set({xmin:Q.valid[0],xmax:Q.valid[1]});if(T)return this._shiftCM(Q);if(W)return J;let oe=!0,se=!0;return J.forEach(ue=>{ue.hasZ||(oe=!1),ue.hasM||(se=!1)}),{rings:J.map(ue=>{const he=[[ue.xmin,ue.ymin],[ue.xmin,ue.ymax],[ue.xmax,ue.ymax],[ue.xmax,ue.ymin],[ue.xmin,ue.ymin]];if(oe){const G=(ue.zmax-ue.zmin)/2;for(let le=0;le<he.length;le++)he[le].push(G)}if(se){const G=(ue.mmax-ue.mmin)/2;for(let le=0;le<he.length;le++)he[le].push(G)}return he}),hasZ:oe,hasM:se,spatialReference:F}}_getParts(T){let W=this.cache._parts;if(!W){W=[];const{ymin:Q,ymax:J,spatialReference:oe}=this,se=this.width,ue=this.xmin,he=this.xmax;let G;T=T||(0,R.C5)(oe);const[le,q]=T.valid;G=this._normalizeX(this.xmin,T);const fe=G.x,ge=G.frameId;G=this._normalizeX(this.xmax,T);const me=G.x,te=G.frameId,ae=fe===me&&se>0;if(se>2*q){const ee=new N(ue<he?fe:me,Q,q,J,oe),ce=new N(le,Q,ue<he?me:fe,J,oe),ie=new N(0,Q,q,J,oe),ne=new N(le,Q,0,J,oe),pe=[],ye=[];ee.contains(ie)&&pe.push(ge),ee.contains(ne)&&ye.push(ge),ce.contains(ie)&&pe.push(te),ce.contains(ne)&&ye.push(te);for(let re=ge+1;re<te;re++)pe.push(re),ye.push(re);W.push({extent:ee,frameIds:[ge]},{extent:ce,frameIds:[te]},{extent:ie,frameIds:pe},{extent:ne,frameIds:ye})}else fe>me||ae?W.push({extent:new N(fe,Q,q,J,oe),frameIds:[ge]},{extent:new N(le,Q,me,J,oe),frameIds:[te]}):W.push({extent:new N(fe,Q,me,J,oe),frameIds:[ge]});this.cache._parts=W}const z=this.hasZ,F=this.hasM;if(z||F){const Q={};z&&(Q.zmin=this.zmin,Q.zmax=this.zmax),F&&(Q.mmin=this.mmin,Q.mmax=this.mmax);for(let J=0;J<W.length;J++)W[J].extent.set(Q)}return W}_normalizeX(T,W){const[z,F]=W.valid,Q=2*F;let J,oe=0;return T>F?(J=Math.ceil(Math.abs(T-F)/Q),T-=J*Q,oe=J):T<z&&(J=Math.ceil(Math.abs(T-z)/Q),T+=J*Q,oe=-J),{x:T,frameId:oe}}};(0,C._)([(0,Z.Cb)({readOnly:!0})],O.prototype,"cache",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],O.prototype,"center",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],O.prototype,"extent",null),(0,C._)([(0,Z.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasM",null),(0,C._)([(0,Z.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasZ",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],O.prototype,"height",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],O.prototype,"width",null),(0,C._)([(0,Z.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],O.prototype,"xmin",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],O.prototype,"ymin",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],O.prototype,"mmin",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],O.prototype,"zmin",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],O.prototype,"xmax",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],O.prototype,"ymax",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],O.prototype,"mmax",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],O.prototype,"zmax",void 0),O=N=(0,C._)([(0,V.j)("esri.geometry.Extent")],O),O.prototype.toJSON.isDefaultToJSON=!0;const I=O},32184:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(62185)),$=E(10141),L=E(43814);let x=class extends D.wq{constructor(...k){super(...k),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=L.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(k,R){if(k instanceof L.Z)return k;if(null!=k){const H=new L.Z;return H.read(k,R),H}return k}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(k){return this.cache[k]}setCacheValue(k,R){this.cache[k]=R}};(0,C._)([(0,Z.Cb)()],x.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"cache",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"extent",null),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:k=>({enabled:k})}}})],x.prototype,"hasM",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:{overridePolicy:k=>({enabled:k})}}})],x.prototype,"hasZ",void 0),(0,C._)([(0,Z.Cb)({type:L.Z,json:{write:!0},value:L.Z.WGS84})],x.prototype,"spatialReference",void 0),(0,C._)([(0,V.r)("spatialReference")],x.prototype,"readSpatialReference",null),x=(0,C._)([(0,$.j)("esri.geometry.Geometry")],x);const B=x},69063:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>T});var R,C=E(50484),D=E(57678),Z=E(84303),j=E(89317),U=E(49602),Y=E(23206),V=E(80543),x=(E(1535),E(14007),E(62185)),B=E(10141),k=E(7547);const H=(0,Z.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),N=H.jsonValues.slice();(0,D.e$)(N,"orthometric");const P=(0,Z.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let w=R=class extends j.wq{constructor(W){super(W),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(W,z,F){return H.write(W,z,F)}readHeightModel(W,z,F){return H.read(W)||(F?.messages&&F.messages.push(function I(W,z){return new Y.Z("height-model:unsupported",`Height model of value '${W}' is not supported`,z)}(W,{context:F})),null)}readHeightUnit(W,z,F){return P.read(W)||(F?.messages&&F.messages.push(O(W,{context:F})),null)}readHeightUnitService(W,z,F){return(0,U.$C)(W)||P.read(W)||(F?.messages&&F.messages.push(O(W,{context:F})),null)}readVertCRS(W,z){return z.vertCRS||z.ellipsoid||z.geoid}clone(){return new R({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(W){return!!W&&(this===W||this.heightModel===W.heightModel&&this.heightUnit===W.heightUnit&&this.vertCRS===W.vertCRS)}static deriveUnitFromSR(W,z){const F=(0,U.cM)(z);return new R({heightModel:W.heightModel,heightUnit:F,vertCRS:W.vertCRS})}write(W,z){return z={origin:"web-scene",...z},super.write(W,z)}static fromJSON(W){if(!W)return null;const z=new R;return z.read(W,{origin:"web-scene"}),z}};function O(W,z){return new Y.Z("height-unit:unsupported",`Height unit of value '${W}' is not supported`,z)}(0,C._)([(0,V.Cb)({type:H.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:N,default:"ellipsoidal"}}}})],w.prototype,"heightModel",void 0),(0,C._)([(0,k.c)("web-scene","heightModel")],w.prototype,"writeHeightModel",null),(0,C._)([(0,x.r)(["web-scene","service"],"heightModel")],w.prototype,"readHeightModel",null),(0,C._)([(0,V.Cb)({type:P.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:P.jsonValues,write:P.write}}}})],w.prototype,"heightUnit",void 0),(0,C._)([(0,x.r)("web-scene","heightUnit")],w.prototype,"readHeightUnit",null),(0,C._)([(0,x.r)("service","heightUnit")],w.prototype,"readHeightUnitService",null),(0,C._)([(0,V.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],w.prototype,"vertCRS",void 0),(0,C._)([(0,x.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],w.prototype,"readVertCRS",null),w=R=(0,C._)([(0,B.j)("esri.geometry.HeightModelInfo")],w);const T=w},12628:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var B,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(10141)),Y=E(7547),V=E(26894),$=E(32184),L=E(85039),x=E(9740);function k(P){return(w,O)=>null==w?O:null==O?w:P(w,O)}let H=B=class extends $.Z{constructor(...P){super(...P),this.points=[],this.type="multipoint"}normalizeCtorArgs(P,w){if(!P&&!w)return{};const O={};Array.isArray(P)?(O.points=P,O.spatialReference=w):function R(P){return P&&("esri.geometry.SpatialReference"===P.declaredClass||null!=P.wkid)}(P)?O.spatialReference=P:(P.points&&(O.points=P.points),P.spatialReference&&(O.spatialReference=P.spatialReference),P.hasZ&&(O.hasZ=P.hasZ),P.hasM&&(O.hasM=P.hasM));const I=O.points?.[0];return I&&(void 0===O.hasZ&&void 0===O.hasM?(O.hasZ=I.length>2,O.hasM=!1):void 0===O.hasZ?O.hasZ=I.length>3:void 0===O.hasM&&(O.hasM=I.length>3)),O}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const P=this.points;if(!P.length)return null;const w=new V.Z,O=this.hasZ,I=this.hasM,T=O?3:2,W=P[0],z=k(Math.min),F=k(Math.max);let Q,J,oe,se,[ue,he]=W,[G,le]=W;for(let q=0,fe=P.length;q<fe;q++){const ge=P[q],[me,te]=ge;if(ue=z(ue,me),he=z(he,te),G=F(G,me),le=F(le,te),O&&ge.length>2){const ae=ge[2];Q=z(Q,ae),oe=F(oe,ae)}if(I&&ge.length>T){const ae=ge[T];J=z(J,ae),se=F(se,ae)}}return w.xmin=ue,w.ymin=he,w.xmax=G,w.ymax=le,w.spatialReference=this.spatialReference,O?(w.zmin=Q,w.zmax=oe):(w.zmin=void 0,w.zmax=void 0),I?(w.mmin=J,w.mmax=se):(w.mmin=void 0,w.mmax=void 0),w}writePoints(P,w){w.points=(0,D.d9)(this.points)}addPoint(P){return(0,x.l)(this,P),Array.isArray(P)?this.points.push(P):this.points.push(P.toArray()),this.notifyChange("points"),this}clone(){const P={points:(0,D.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(P.hasZ=!0),this.hasM&&(P.hasM=!0),new B(P)}getPoint(P){if(!this._validateInputs(P))return null;const w=this.points[P],O={x:w[0],y:w[1],spatialReference:this.spatialReference};let I=2;return this.hasZ&&(O.z=w[2],I=3),this.hasM&&(O.m=w[I]),new L.Z(O)}removePoint(P){if(!this._validateInputs(P))return null;const w=new L.Z(this.points.splice(P,1)[0],this.spatialReference);return this.notifyChange("points"),w}setPoint(P,w){return this._validateInputs(P)?((0,x.l)(this,w),Array.isArray(w)||(w=w.toArray()),this.points[P]=w,this.notifyChange("points"),this):this}toJSON(P){return this.write({},P)}_validateInputs(P){return null!=P&&P>=0&&P<this.points.length}};(0,C._)([(0,Z.Cb)({readOnly:!0})],H.prototype,"cache",null),(0,C._)([(0,Z.Cb)()],H.prototype,"extent",null),(0,C._)([(0,Z.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],H.prototype,"points",void 0),(0,C._)([(0,Y.c)("points")],H.prototype,"writePoints",null),H=B=(0,C._)([(0,U.j)("esri.geometry.Multipoint")],H),H.prototype.toJSON.isDefaultToJSON=!0;const N=H},85039:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>W});var w,C=E(50484),D=E(4703),Z=E(80543),j=E(73018),V=(E(57678),E(14007),E(62185)),$=E(10141),L=E(7547),x=E(1535),B=E(32184),k=E(43814),N=E(33721),P=E(48230);const O=[0,0];function I(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}let T=w=class extends B.Z{static copy(z,F){F._set("x",z._get("x")),F._set("y",z._get("y")),F._set("z",z._get("z")),F._set("m",z._get("m"));const Q=z._get("spatialReference");F._set("spatialReference",Object.isFrozen(Q)?Q:Q.clone())}constructor(...z){super(...z),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(z,F,Q,J,oe){let se;if(Array.isArray(z))se=z,oe=F,z=se[0],F=se[1],Q=se[2],J=se[3];else if(z&&"object"==typeof z){if(se=z,z=null!=se.x?se.x:se.longitude,F=null!=se.y?se.y:se.latitude,Q=se.z,J=se.m,(oe=se.spatialReference)&&"esri.geometry.SpatialReference"!==oe.declaredClass&&(oe=new k.Z(oe)),null!=se.longitude||null!=se.latitude)if(null==se.longitude)D.Z.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==se.latitude)D.Z.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!se.declaredClass&&oe&&oe.isWebMercator){const he=(0,P.hG)(se.longitude,se.latitude,O);z=he[0],F=he[1]}}else I(Q)?(oe=Q,Q=null):I(J)&&(oe=J,J=null);const ue={x:z,y:F};return null==ue.x&&null!=ue.y?D.Z.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==ue.y&&null!=ue.x&&D.Z.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=oe&&(ue.spatialReference=oe),null!=Q&&(ue.z=Q),null!=J&&(ue.m=J),ue}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(z){z!==(void 0!==this._get("m"))&&(this._set("m",z?0:void 0),this._set("hasM",z))}get hasZ(){return void 0!==this.z}set hasZ(z){z!==(void 0!==this._get("z"))&&(this._set("z",z?0:void 0),this._set("hasZ",z))}get latitude(){const{spatialReference:z,x:F,y:Q}=this;if(z){if(z.isWebMercator)return(0,P.R6)(F,Q,O)[1];if(z.isGeographic)return Q}return null}set latitude(z){const{spatialReference:F,x:Q}=this;null!=z&&F&&(F.isWebMercator?this._set("y",(0,P.hG)(Q,z,O)[1]):F.isGeographic&&this._set("y",z),this._set("latitude",z))}get longitude(){const{x:z,y:F,spatialReference:Q}=this;if(Q){if(Q.isWebMercator)return(0,P.R6)(z,F,O)[0];if(Q.isGeographic)return z}return null}set longitude(z){const{y:F,spatialReference:Q}=this;null!=z&&Q&&(Q.isWebMercator?this._set("x",(0,P.hG)(z,F,O)[0]):Q.isGeographic&&this._set("x",z),this._set("longitude",z))}writeX(z,F,Q){F[Q]=isNaN(z)?"NaN":z}readX(z){return"string"==typeof z?NaN:z}clone(){const z=new w;return z.x=this.x,z.y=this.y,z.z=this.z,z.m=this.m,z.spatialReference=this.spatialReference,z}copy(z){return w.copy(z,this),this}equals(z){if(null==z)return!1;const{x:F,y:Q,z:J,m:oe,spatialReference:se}=this,{z:ue,m:he}=z;let{x:G,y:le,spatialReference:q}=z;if(!se.equals(q))if(se.isWebMercator&&q.isWGS84)[G,le]=(0,P.hG)(G,le),q=se;else{if(!se.isWGS84||!q.isWebMercator)return!1;[G,le]=(0,P.R6)(G,le),q=se}return F===G&&Q===le&&J===ue&&oe===he&&se.wkid===q.wkid}offset(z,F,Q){return this.x+=z,this.y+=F,null!=Q&&(this.z=(this.z??0)+Q),this}normalize(){if(!this.spatialReference)return this;const z=(0,N.C5)(this.spatialReference);if(!z)return this;let F=this.x;const[Q,J]=z.valid,oe=2*J;let se;return F>J?(se=Math.ceil(Math.abs(F-J)/oe),F-=se*oe):F<Q&&(se=Math.ceil(Math.abs(F-Q)/oe),F+=se*oe),this._set("x",F),this}distance(z){return function R(z,F){const Q=z.x-F.x,J=z.y-F.y,oe=z.hasZ&&F.hasZ?z.z-F.z:0;return Math.sqrt(Q*Q+J*J+oe*oe)}(this,z)}toArray(){const z=this.hasZ,F=this.hasM;return z&&F?[this.x,this.y,this.z,this.m]:z?[this.x,this.y,this.z]:F?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(z){return this.write({},z)}};(0,C._)([(0,Z.Cb)({readOnly:!0})],T.prototype,"cache",null),(0,C._)([(0,Z.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],T.prototype,"hasM",null),(0,C._)([(0,Z.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],T.prototype,"hasZ",null),(0,C._)([(0,Z.Cb)({type:Number})],T.prototype,"latitude",null),(0,C._)([(0,Z.Cb)({type:Number})],T.prototype,"longitude",null),(0,C._)([(0,Z.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,j.p)(z=>isNaN(z)?z:(0,x.q9)(z))],T.prototype,"x",void 0),(0,C._)([(0,L.c)("x")],T.prototype,"writeX",null),(0,C._)([(0,V.r)("x")],T.prototype,"readX",null),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],T.prototype,"y",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],T.prototype,"z",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],T.prototype,"m",void 0),T=w=(0,C._)([(0,$.j)("esri.geometry.Point")],T),T.prototype.toJSON.isDefaultToJSON=!0;const W=T},5391:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var I,C=E(50484),D=E(57678),Z=E(34222),j=E(80543),Y=(E(1535),E(10141)),V=E(7547),$=E(26894),L=E(32184),x=E(85039),B=E(43814),k=E(56880),R=E(5825),H=E(54746),N=E(14138),P=E(26230),w=E(48230),O=E(9740);function T(F){return!Array.isArray(F[0])}let W=I=class extends L.Z{static fromExtent(F){const Q=F.clone().normalize(),J=F.spatialReference;let oe=!1,se=!1;for(const he of Q)he.hasZ&&(oe=!0),he.hasM&&(se=!0);const ue={rings:Q.map(he=>{const G=[[he.xmin,he.ymin],[he.xmin,he.ymax],[he.xmax,he.ymax],[he.xmax,he.ymin],[he.xmin,he.ymin]];if(oe&&he.hasZ){const le=he.zmin+.5*(he.zmax-he.zmin);for(let q=0;q<G.length;q++)G[q].push(le)}if(se&&he.hasM){const le=he.mmin+.5*(he.mmax-he.mmin);for(let q=0;q<G.length;q++)G[q].push(le)}return G}),spatialReference:J};return oe&&(ue.hasZ=!0),se&&(ue.hasM=!0),new I(ue)}constructor(...F){super(...F),this.rings=[],this.type="polygon"}normalizeCtorArgs(F,Q){let J,oe,se=null,ue=null;return F&&!Array.isArray(F)?(se=F.rings??null,Q||(F.spatialReference?Q=F.spatialReference:F.rings||(Q=F)),J=F.hasZ,oe=F.hasM):se=F,se=se||[],Q=Q||B.Z.WGS84,se.length&&null!=se[0]?.[0]&&"number"==typeof se[0][0]&&(se=[se]),ue=se[0]?.[0],ue&&(void 0===J&&void 0===oe?(J=ue.length>2,oe=ue.length>3):void 0===J?J=oe?ue.length>3:ue.length>2:void 0===oe&&(oe=J?ue.length>3:ue.length>2)),{rings:se,spatialReference:Q,hasZ:J,hasM:oe}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const F=(0,k.tO)(this);if(!F||isNaN(F[0])||isNaN(F[1])||this.hasZ&&isNaN(F[2]))return null;const Q=new x.Z;return Q.x=F[0],Q.y=F[1],Q.spatialReference=this.spatialReference,this.hasZ&&(Q.z=F[2]),Q}get extent(){const{spatialReference:F}=this,Q=(0,N._w)(this);if(!Q)return null;const J=new $.Z(Q);return J.spatialReference=F,J}get isSelfIntersecting(){return(0,P.Ff)(this.rings)}writeRings(F,Q){Q.rings=(0,Z.d9)(this.rings)}addRing(F){if(!F)return;const Q=this.rings,J=Q.length;if(T(F)){const oe=[];for(let se=0,ue=F.length;se<ue;se++)oe[se]=F[se].toArray();Q[J]=oe}else Q[J]=F.concat();return this.notifyChange("rings"),this}clone(){const F=new I;return F.spatialReference=this.spatialReference,F.rings=(0,Z.d9)(this.rings),F.hasZ=this.hasZ,F.hasM=this.hasM,F}equals(F){if(this===F)return!0;if(null==F)return!1;const Q=this.spatialReference,J=F.spatialReference;if(null!=Q!=(null!=J)||null!=Q&&null!=J&&!Q.equals(J)||this.rings.length!==F.rings.length)return!1;const oe=([se,ue,he,G],[le,q,fe,ge])=>se===le&&ue===q&&(null==he&&null==fe||he===fe)&&(null==G&&null==ge||G===ge);for(let se=0;se<this.rings.length;se++)if(!(0,D.fS)(this.rings[se],F.rings[se],oe))return!1;return!0}contains(F){if(!F)return!1;const Q=(0,w.iV)(F,this.spatialReference);return(0,R.CI)(this,Q??F)}isClockwise(F){let Q;return Q=T(F)?F.map(J=>this.hasZ?this.hasM?[J.x,J.y,J.z,J.m]:[J.x,J.y,J.z]:[J.x,J.y]):F,(0,H.bu)(Q)}getPoint(F,Q){if(!this._validateInputs(F,Q))return null;const J=this.rings[F][Q],oe=this.hasZ,se=this.hasM;return oe&&!se?new x.Z(J[0],J[1],J[2],void 0,this.spatialReference):se&&!oe?new x.Z(J[0],J[1],void 0,J[2],this.spatialReference):oe&&se?new x.Z(J[0],J[1],J[2],J[3],this.spatialReference):new x.Z(J[0],J[1],this.spatialReference)}insertPoint(F,Q,J){return this._validateInputs(F,Q,!0)?((0,O.l)(this,J),Array.isArray(J)||(J=J.toArray()),this.rings[F].splice(Q,0,J),this.notifyChange("rings"),this):this}removePoint(F,Q){if(!this._validateInputs(F,Q))return null;const J=new x.Z(this.rings[F].splice(Q,1)[0],this.spatialReference);return this.notifyChange("rings"),J}removeRing(F){if(!this._validateInputs(F,null))return null;const Q=this.rings.splice(F,1)[0],J=this.spatialReference,oe=Q.map(se=>new x.Z(se,J));return this.notifyChange("rings"),oe}setPoint(F,Q,J){return this._validateInputs(F,Q)?((0,O.l)(this,J),Array.isArray(J)||(J=J.toArray()),this.rings[F][Q]=J,this.notifyChange("rings"),this):this}_validateInputs(F,Q,J=!1){if(null==F||F<0||F>=this.rings.length)return!1;if(null!=Q){const oe=this.rings[F];if(J&&(Q<0||Q>oe.length)||!J&&(Q<0||Q>=oe.length))return!1}return!0}toJSON(F){return this.write({},F)}};(0,C._)([(0,j.Cb)({readOnly:!0})],W.prototype,"cache",null),(0,C._)([(0,j.Cb)({readOnly:!0})],W.prototype,"centroid",null),(0,C._)([(0,j.Cb)({readOnly:!0})],W.prototype,"extent",null),(0,C._)([(0,j.Cb)({readOnly:!0})],W.prototype,"isSelfIntersecting",null),(0,C._)([(0,j.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],W.prototype,"rings",void 0),(0,C._)([(0,V.c)("rings")],W.prototype,"writeRings",null),W=I=(0,C._)([(0,Y.j)("esri.geometry.Polygon")],W),W.prototype.toJSON.isDefaultToJSON=!0;const z=W},64222:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var R,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(10141)),Y=E(7547),V=E(26894),$=E(32184),L=E(85039),x=E(43814),B=E(14138),k=E(9740);let N=R=class extends $.Z{constructor(...w){super(...w),this.paths=[],this.type="polyline"}normalizeCtorArgs(w,O){let I,T,W=null,z=null;return w&&!Array.isArray(w)?(W=w.paths??null,O||(w.spatialReference?O=w.spatialReference:w.paths||(O=w)),I=w.hasZ,T=w.hasM):W=w,W=W||[],O=O||x.Z.WGS84,W.length&&null!=W[0]?.[0]&&"number"==typeof W[0][0]&&(W=[W]),z=W[0]?.[0],z&&(void 0===I&&void 0===T?(I=z.length>2,T=!1):void 0===I?I=!T&&z.length>3:void 0===T&&(T=!I&&z.length>3)),{paths:W,spatialReference:O,hasZ:I,hasM:T}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:w}=this,O=(0,B.Wn)(this);if(!O)return null;const I=new V.Z(O);return I.spatialReference=w,I}writePaths(w,O){O.paths=(0,D.d9)(this.paths)}addPath(w){if(!w)return;const O=this.paths,I=O.length;if(function H(w){return!Array.isArray(w[0])}(w)){const T=[];for(let W=0,z=w.length;W<z;W++)T[W]=w[W].toArray();O[I]=T}else O[I]=w.concat();return this.notifyChange("paths"),this}clone(){const w=new R;return w.spatialReference=this.spatialReference,w.paths=(0,D.d9)(this.paths),w.hasZ=this.hasZ,w.hasM=this.hasM,w}getPoint(w,O){if(!this._validateInputs(w,O))return null;const I=this.paths[w][O],T=this.hasZ,W=this.hasM;return T&&!W?new L.Z(I[0],I[1],I[2],void 0,this.spatialReference):W&&!T?new L.Z(I[0],I[1],void 0,I[2],this.spatialReference):T&&W?new L.Z(I[0],I[1],I[2],I[3],this.spatialReference):new L.Z(I[0],I[1],this.spatialReference)}insertPoint(w,O,I){return this._validateInputs(w,O,!0)?((0,k.l)(this,I),Array.isArray(I)||(I=I.toArray()),this.paths[w].splice(O,0,I),this.notifyChange("paths"),this):this}removePath(w){if(!this._validateInputs(w,null))return null;const O=this.paths.splice(w,1)[0],I=this.spatialReference,T=O.map(W=>new L.Z(W,I));return this.notifyChange("paths"),T}removePoint(w,O){if(!this._validateInputs(w,O))return null;const I=new L.Z(this.paths[w].splice(O,1)[0],this.spatialReference);return this.notifyChange("paths"),I}setPoint(w,O,I){return this._validateInputs(w,O)?((0,k.l)(this,I),Array.isArray(I)||(I=I.toArray()),this.paths[w][O]=I,this.notifyChange("paths"),this):this}_validateInputs(w,O,I=!1){if(null==w||w<0||w>=this.paths.length)return!1;if(null!=O){const T=this.paths[w];if(I&&(O<0||O>T.length)||!I&&(O<0||O>=T.length))return!1}return!0}toJSON(w){return this.write({},w)}};(0,C._)([(0,Z.Cb)({readOnly:!0})],N.prototype,"cache",null),(0,C._)([(0,Z.Cb)({readOnly:!0})],N.prototype,"extent",null),(0,C._)([(0,Z.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],N.prototype,"paths",void 0),(0,C._)([(0,Y.c)("paths")],N.prototype,"writePaths",null),N=R=(0,C._)([(0,U.j)("esri.geometry.Polyline")],N),N.prototype.toJSON.isDefaultToJSON=!0;const P=N},43814:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(89317),Z=E(34222),j=E(49602),U=E(1535),Y=E(80543),V=E(10141),$=E(7547),L=E(33721);let B=x=class extends D.wq{static fromJSON(R){if(!R)return null;if(R.wkid){if(102100===R.wkid)return x.WebMercator;if(4326===R.wkid)return x.WGS84}const H=new x;return H.read(R),H}constructor(R){super(R),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(R){return R&&"object"==typeof R?R:{["string"==typeof R?"wkt":"wkid"]:R}}get isWGS84(){return(0,L.oR)(this)}get isWebMercator(){return(0,L.sS)(this)}get isGeographic(){return(0,L.sT)(this)}get isWrappable(){return(0,L.MP)(this)}get metersPerUnit(){return(0,j.c9)(this)}get unit(){return(0,j.qE)(this)||(this.isGeographic?"degrees":null)}writeWkt(R,H){this.wkid||(H.wkt=R)}clone(){if(this===x.WGS84)return x.WGS84;if(this===x.WebMercator)return x.WebMercator;const R=new x;return null!=this.wkid?(R.wkid=this.wkid,null!=this.latestWkid&&(R.latestWkid=this.latestWkid),null!=this.vcsWkid&&(R.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(R.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(R.wkt=this.wkt),null!=this.wkt2&&(R.wkt2=this.wkt2)),this.imageCoordinateSystem&&(R.imageCoordinateSystem=(0,Z.d9)(this.imageCoordinateSystem)),R}equals(R){if(null==R)return!1;if(this.imageCoordinateSystem||R.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==R.imageCoordinateSystem)return!1;const{id:H,referenceServiceName:N}=R.imageCoordinateSystem,{geodataXform:P}=R.imageCoordinateSystem,w=this.imageCoordinateSystem;return null==H||P?JSON.stringify(w)===JSON.stringify(R.imageCoordinateSystem):N?w.id===H&&w.referenceServiceName===N:w.id===H}return(0,L.fS)(this,R)}toJSON(R){return this.write(void 0,R)}};B.GCS_NAD_1927=null,B.WGS84=null,B.WebMercator=null,B.PlateCarree=null,(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"isWGS84",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"isWebMercator",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"isGeographic",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"isWrappable",null),(0,C._)([(0,Y.Cb)({type:U.z8,json:{write:!0}})],B.prototype,"latestWkid",void 0),(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"metersPerUnit",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],B.prototype,"unit",null),(0,C._)([(0,Y.Cb)({type:U.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],B.prototype,"wkid",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],B.prototype,"wkt",void 0),(0,C._)([(0,$.c)("wkt"),(0,$.c)("web-scene","wkt")],B.prototype,"writeWkt",null),(0,C._)([(0,Y.Cb)({type:String,json:{write:!1}})],B.prototype,"wkt2",void 0),(0,C._)([(0,Y.Cb)({type:U.z8,json:{write:!0}})],B.prototype,"vcsWkid",void 0),(0,C._)([(0,Y.Cb)({type:U.z8,json:{write:!0}})],B.prototype,"latestVcsWkid",void 0),(0,C._)([(0,Y.Cb)()],B.prototype,"imageCoordinateSystem",void 0),B=x=(0,C._)([(0,V.j)("esri.geometry.SpatialReference")],B),B.prototype.toJSON.isDefaultToJSON=!0,B.GCS_NAD_1927=new B({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),B.WGS84=new B(L.Zn),B.WebMercator=new B(L.R_),B.PlateCarree=new B(L.WR),Object.freeze&&(Object.freeze(B.GCS_NAD_1927),Object.freeze(B.WGS84),Object.freeze(B.WebMercator));const k=B},82921:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Iu:()=>$,JL:()=>U,e8:()=>L,fY:()=>x,kU:()=>j,mM:()=>Y,oe:()=>B,pn:()=>V});var C=E(82301),D=E(33721);function Z(k){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${k.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const j=Z(C.sv),U=Z(C.yr),Y=Z(C.Z1),V={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${C.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};function $(k){return null!=k&&((0,D.BZ)(k)||(0,D.fS)(k,U))?C.yr:null!=k&&((0,D.V2)(k)||(0,D.fS)(k,Y))?C.Z1:C.sv}function L(k){return(0,D.o$)(k)?C.yr:(0,D.ME)(k)?C.Z1:C.sv}function x(k){return(0,D.fS)(k,j)}function B(k){return x(k)||(0,D.fS)(k,U)||(0,D.fS)(k,Y)}},93297:(Ke,Ee,E)=>{"use strict";function C(Z){const j=[];for(Z.reset();Z.nextPath();){const U=[];for(;Z.nextPoint();)U.push([Z.x,Z.y]);j.push(U)}return Z.reset(),j}function D(Z){const j=[];for(;Z.nextPoint();)j.push([Z.x,Z.y]);return Z.seekPathStart(),j}E.d(Ee,{M:()=>C,l:()=>D})},83821:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{canProjectToWGS84ComparableLonLat:()=>We,canProjectWithoutEngine:()=>pe,getTransformation:()=>ge,getTransformations:()=>me,initializeProjection:()=>ye,isLoaded:()=>se,isLoadedOrLoad:()=>ue,load:()=>he,project:()=>G,projectExtent:()=>Re,projectMany:()=>le,projectMultipoint:()=>Se,projectOrLoad:()=>q,projectOrLoadMany:()=>fe,projectPoint:()=>Oe,projectPolygon:()=>X,projectPolyline:()=>xe,projectWithZConversion:()=>ie,projectWithoutEngine:()=>ve,test:()=>ee,tryProjectWithZConversion:()=>ce,unload:()=>ae});var C=E(15861),D=E(57964),Z=E(79412),j=E(56295),U=E(19994),Y=E(8554),V=E(82921),$=E(26894),L=E(12628),x=E(39392),B=E(85039),k=E(5391),R=E(64222),H=E(43814),N=E(83639),P=E(83723);function w(Ne,Ce,Pe,Ae,Be,ze){return O[0]=Ne,O[1]=Ce,O[2]=Pe,(0,N.projectBuffer)(O,Ae,0,Be,ze,0,1)}const O=(0,Y.c)();var I=E(12786),T=E(33721),W=E(53456);let z=null,F=null,Q=null,J={};const oe=new U.s;function se(){return!!z&&(0,x.i)()}function ue(){return!!se()||((0,j.it)(oe),he(),!1)}function he(Ne){return null==Q&&(Q=Promise.all([(0,x.l)(),E.e(9465).then(E.bind(E,89465)).then(Ce=>Ce.g),E.e(8592).then(E.bind(E,65601))])),Q.then(([,Ce,{hydratedAdapter:Pe}])=>{(0,Z.k_)(Ne),F=Pe,z=Ce.default,z._enableProjection(x.p),oe.notify()})}function G(Ne,Ce,Pe=null,Ae=null){return Array.isArray(Ne)?0===Ne.length?[]:le(F,Ne,Ne[0].spatialReference,Ce,Pe,Ae):le(F,[Ne],Ne.spatialReference,Ce,Pe,Ae)[0]}function le(Ne,Ce,Pe,Ae,Be=null,ze=null){if(null==Pe||null==Ae)return Ce;if(pe(Pe,Ae,Be))return Ce.map(st=>ve(st,Pe,Ae));if(null==Be&&(0,V.fY)(Pe))return Ce.map(st=>ve(st,Pe,H.Z.WGS84)).map(st=>ce(st,Ae));if(null==Be&&(0,V.fY)(Ae))return Ce.map(st=>ce(st,H.Z.WGS84)).map(st=>ve(st,H.Z.WGS84,Ae));if(null==Be){const st=I.Z.cacheKey(Pe,Ae);void 0!==J[st]?Be=J[st]:(null==(Be=ge(Pe,Ae,void 0))&&(Be=new I.Z),J[st]=Be)}if(null==z||null==Ne)throw new te;return null!=ze?z._project(Ne,Ce,Pe,Ae,Be,ze):z._project(Ne,Ce,Pe,Ae,Be)}function q(Ne,Ce){const Pe=fe([Ne],Ce);return null!=Pe.pending?{pending:Pe.pending,geometry:null}:null!=Pe.geometries?{pending:null,geometry:Pe.geometries[0]}:{pending:null,geometry:null}}function fe(Ne,Ce){if(!se())for(const Pe of Ne)if(null!=Pe&&!(0,T.fS)(Pe.spatialReference,Ce)&&(0,T.JY)(Pe.spatialReference)&&(0,T.JY)(Ce)&&!pe(Pe.spatialReference,Ce))return(0,j.it)(oe),{pending:he(),geometries:null};return{pending:null,geometries:Ne.map(Pe=>null==Pe?null:(0,T.fS)(Pe.spatialReference,Ce)?Pe:(0,T.JY)(Pe.spatialReference)&&(0,T.JY)(Ce)?ce(Pe,Ce):null)}}function ge(Ne,Ce,Pe=null){if(null==Ne||null==Ce)return null;if(null==z||null==F)throw new te;const Ae=z._getTransformation(F,Ne,Ce,Pe,Pe?.spatialReference);return null!==Ae?I.Z.fromGE(Ae):null}function me(Ne,Ce,Pe=null){if(null==z||null==F)throw new te;const Ae=z._getTransformationBySuitability(F,Ne,Ce,Pe,Pe?.spatialReference);if(null!==Ae){const Be=[];for(const ze of Ae)Be.push(I.Z.fromGE(ze));return Be}return[]}class te extends D.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function ae(){z=null,F=null,Q=null,J={}}const ee={get loadPromise(){return Q}};function ce(Ne,Ce){try{const Pe=G(Ne,Ce);if(null==Pe)return null;"xmin"in Ne&&"xmin"in Pe&&(Pe.zmin=Ne.zmin,Pe.zmax=Ne.zmax);const Ae=(0,W.k)(Pe.type,Ne.spatialReference,Ce);return Ae?.(Pe),Pe}catch(Pe){if(!(Pe instanceof te))throw Pe;return null}}function ie(Ne,Ce,Pe){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(Ne,Ce,Pe){const Ae=Ne.spatialReference;return null!=Ae&&null!=Ce&&(yield ye(Ae,Ce,null,Pe)),ce(Ne,Ce)})).apply(this,arguments)}function pe(Ne,Ce,Pe){return!Pe&&(!!(0,T.fS)(Ne,Ce)||(0,T.JY)(Ne)&&(0,T.JY)(Ce)&&!!(0,P.R8)(Ne,Ce,P._U))}function ye(Ne,Ce,Pe,Ae){return re.apply(this,arguments)}function re(){return(re=(0,C.Z)(function*(Ne,Ce,Pe,Ae){if(se())return(0,Z.Yn)(Ae);if(Array.isArray(Ne)){for(const{source:Be,dest:ze,geographicTransformation:st}of Ne)if(!pe(Be,ze,st))return he(Ae)}else if(!pe(Ne,Ce,Pe))return he(Ae);return(0,Z.Yn)(Ae)})).apply(this,arguments)}function ve(Ne,Ce,Pe){return Ne?"x"in Ne?Me(Ne,Ce,new B.Z,Pe,0):"xmin"in Ne?Fe(Ne,Ce,new $.Z,Pe,0):"rings"in Ne?be(Ne,Ce,new k.Z,Pe,0):"paths"in Ne?Ge(Ne,Ce,new R.Z,Pe,0):"points"in Ne?ke(Ne,Ce,new L.Z,Pe,0):null:null}function Oe(Ne,Ce,Pe=Ce.spatialReference,Ae=0){return null!=Pe&&null!=Ne.spatialReference&&null!=Me(Ne,Ne.spatialReference,Ce,Pe,Ae)}function Me(Ne,Ce,Pe,Ae,Be){He[0]=Ne.x,He[1]=Ne.y;const ze=Ne.z;return He[2]=void 0!==ze?ze:Be,(0,N.projectBuffer)(He,Ce,0,He,Ae,0,1)?(Pe.x=He[0],Pe.y=He[1],Pe.spatialReference=Ae,void 0!==ze||(0,V.oe)(Ae)?(Pe.z=He[2],Pe.hasZ=!0):(Pe.z=void 0,Pe.hasZ=!1),void 0===Ne.m?(Pe.m=void 0,Pe.hasM=!1):(Pe.m=Ne.m,Pe.hasM=!0),Pe):null}function Se(Ne,Ce,Pe=Ce.spatialReference,Ae=0){return null!=Ne.spatialReference&&null!=Pe&&null!=ke(Ne,Ne.spatialReference,Ce,Pe,Ae)}function ke(Ne,Ce,Pe,Ae,Be){const{points:ze,hasZ:st,hasM:Xe}=Ne,ot=[],ut=ze.length,Et=[];for(const Ut of ze)Et.push(Ut[0],Ut[1],st?Ut[2]:Be);if(!(0,N.projectBuffer)(Et,Ce,0,Et,Ae,0,ut))return null;const Lt=st||(0,V.oe)(Ae);for(let Ut=0;Ut<ut;++Ut){const kt=3*Ut,Xt=Et[kt],qt=Et[kt+1];ot.push(Lt&&Xe?[Xt,qt,Et[kt+2],ze[Ut][3]]:Lt?[Xt,qt,Et[kt+2]]:Xe?[Xt,qt,ze[Ut][2]]:[Xt,qt])}return Pe.points=ot,Pe.spatialReference=Ae,Pe.hasZ=st,Pe.hasM=Xe,Pe}function xe(Ne,Ce,Pe=Ce.spatialReference,Ae=0){return null!=Ne.spatialReference&&null!=Pe&&null!=Ge(Ne,Ne.spatialReference,Ce,Pe,Ae)}function Ge(Ne,Ce,Pe,Ae,Be){const{paths:ze,hasZ:st,hasM:Xe}=Ne,ot=[];if(!qe(ze,st??!1,Xe??!1,Ce,ot,Ae,Be))return null;const ut=st||(0,V.oe)(Ae);return Pe.paths=ot,Pe.spatialReference=Ae,Pe.hasZ=ut,Pe.hasM=Xe,Pe}function X(Ne,Ce,Pe=Ce.spatialReference,Ae=0){return null!=Ne.spatialReference&&null!=Pe&&null!=be(Ne,Ne.spatialReference,Ce,Pe,Ae)}function be(Ne,Ce,Pe,Ae,Be){const{rings:ze,hasZ:st,hasM:Xe}=Ne,ot=[];if(!qe(ze,st??!1,Xe??!1,Ce,ot,Ae,Be))return null;const ut=st||(0,V.oe)(Ae);return Pe.rings=ot,Pe.spatialReference=Ae,Pe.hasZ=ut,Pe.hasM=Xe,Pe}function Re(Ne,Ce,Pe=Ce.spatialReference,Ae=0){return null!=Ne.spatialReference&&null!=Pe&&null!=Fe(Ne,Ne.spatialReference,Ce,Pe,Ae)}function Fe(Ne,Ce,Pe,Ae,Be){const{xmin:ze,ymin:st,xmax:Xe,ymax:ot,hasZ:ut,hasM:Et}=Ne;if(!w(ze,st,ut?Ne.zmin:Be,Ce,He,Ae))return null;const Ut=ut||(0,V.oe)(Ae);return Pe.xmin=He[0],Pe.ymin=He[1],Ut&&(Pe.zmin=He[2]),w(Xe,ot,ut?Ne.zmax:Be,Ce,He,Ae)?(Pe.xmax=He[0],Pe.ymax=He[1],Ut&&(Pe.zmax=He[2]),Et&&(Pe.mmin=Ne.mmin,Pe.mmax=Ne.mmax),Pe.spatialReference=Ae,Pe):null}function qe(Ne,Ce,Pe,Ae,Be,ze,st=0){const Xe=new Array;for(const Et of Ne)for(const Lt of Et)Xe.push(Lt[0],Lt[1],Ce?Lt[2]:st);if(!(0,N.projectBuffer)(Xe,Ae,0,Xe,ze,0,Xe.length/3))return!1;let ot=0;Be.length=0;const ut=Ce||(0,V.oe)(ze);for(const Et of Ne){const Lt=new Array;for(const Ut of Et)ut&&Pe?Lt.push([Xe[ot++],Xe[ot++],Xe[ot++],Ut[3]]):ut?Lt.push([Xe[ot++],Xe[ot++],Xe[ot++]]):Pe?(Lt.push([Xe[ot++],Xe[ot++],Ut[2]]),ot++):(Lt.push([Xe[ot++],Xe[ot++]]),ot++);Be.push(Lt)}return!0}function We(Ne){return null!=Ne&&null!=(0,P.zl)(Ne)}const He=(0,Y.c)()},83639:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{projectBuffer:()=>D});var C=E(83723);function D(Z,j,U,Y,V,$,L=1){const x=(0,C.R8)(j,V,C._U);if(null==x)return!1;if(x===C.iq){if(Z===Y&&U===$)return!0;const k=U+3*L;for(let R=U,H=$;R<k;R++,H++)Y[H]=Z[R];return!0}const B=U+3*L;for(let k=U,R=$;k<B;k+=3,R+=3)x(Z,k,Y,R);return!0}},83723:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ej:()=>R,eT:()=>O,iq:()=>I,sp:()=>be,R8:()=>P,zl:()=>N,rf:()=>H,_U:()=>Re,Jz:()=>X});var C=E(55117),D=E(49602),Z=E(82921),j=E(82301);Math;const V=j.sv.radius,$=j.sv.eccentricitySquared,L={a1:V*$,a2:V*$*V*$,a3:V*$*$/2,a4:V*$*V*$*2.5,a5:V*$+V*$*$/2,a6:1-$};var R,We,B=E(33721),k=E(24512);(We=R||(R={}))[We.UNKNOWN=0]="UNKNOWN",We[We.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",We[We.WGS84=2]="WGS84",We[We.WEB_MERCATOR=3]="WEB_MERCATOR",We[We.WGS84_ECEF=4]="WGS84_ECEF",We[We.CGCS2000=5]="CGCS2000",We[We.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",We[We.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",We[We.GCSMARS2000=8]="GCSMARS2000",We[We.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",We[We.GCSMOON2000=10]="GCSMOON2000",We[We.LON_LAT=11]="LON_LAT",We[We.PLATE_CARREE=12]="PLATE_CARREE";const H={[R.WGS84]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:I,[R.SPHERICAL_ECEF]:ee,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:Q,[R.PLATE_CARREE]:se,[R.WGS84]:I,[R.WGS84_ECEF]:Oe},[R.CGCS2000]:{[R.CGCS2000]:I,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:I,[R.SPHERICAL_ECEF]:ee,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:se,[R.WGS84]:null,[R.WGS84_ECEF]:Oe},[R.GCSMARS2000]:{[R.CGCS2000]:null,[R.GCSMARS2000]:I,[R.GCSMOON2000]:null,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:null,[R.SPHERICAL_ECEF]:null,[R.SPHERICAL_MARS_PCPF]:ae,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:null,[R.WGS84]:null,[R.WGS84_ECEF]:null},[R.GCSMOON2000]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:I,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:null,[R.SPHERICAL_ECEF]:null,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:te,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:null,[R.WGS84]:null,[R.WGS84_ECEF]:null},[R.WEB_MERCATOR]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:T,[R.WGS84_COMPARABLE_LON_LAT]:T,[R.SPHERICAL_ECEF]:function W(We,He,Ne,Ce){T(We,He,Ne,Ce),ee(Ne,Ce,Ne,Ce)},[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:I,[R.PLATE_CARREE]:function he(We,He,Ne,Ce){T(We,He,Ne,Ce),se(Ne,Ce,Ne,Ce)},[R.WGS84]:T,[R.WGS84_ECEF]:function z(We,He,Ne,Ce){T(We,He,Ne,Ce),Oe(Ne,Ce,Ne,Ce)}},[R.WGS84_ECEF]:{[R.CGCS2000]:Me,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:Me,[R.WGS84_COMPARABLE_LON_LAT]:Me,[R.SPHERICAL_ECEF]:function Se(We,He,Ne,Ce){Me(We,He,Ne,Ce),ee(Ne,Ce,Ne,Ce)},[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:function ke(We,He,Ne,Ce){Me(We,He,Ne,Ce),Q(Ne,Ce,Ne,Ce)},[R.PLATE_CARREE]:function G(We,He,Ne,Ce){Me(We,He,Ne,Ce),se(Ne,Ce,Ne,Ce)},[R.WGS84]:Me,[R.WGS84_ECEF]:I},[R.SPHERICAL_ECEF]:{[R.CGCS2000]:pe,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:pe,[R.WGS84_COMPARABLE_LON_LAT]:pe,[R.SPHERICAL_ECEF]:I,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:function ye(We,He,Ne,Ce){pe(We,He,Ne,Ce),Q(Ne,Ce,Ne,Ce)},[R.PLATE_CARREE]:function le(We,He,Ne,Ce){pe(We,He,Ne,Ce),se(Ne,Ce,Ne,Ce)},[R.WGS84]:pe,[R.WGS84_ECEF]:function re(We,He,Ne,Ce){pe(We,He,Ne,Ce),Oe(Ne,Ce,Ne,Ce)}},[R.SPHERICAL_MARS_PCPF]:{[R.CGCS2000]:null,[R.GCSMARS2000]:ne,[R.GCSMOON2000]:null,[R.LON_LAT]:ne,[R.WGS84_COMPARABLE_LON_LAT]:null,[R.SPHERICAL_ECEF]:null,[R.SPHERICAL_MARS_PCPF]:I,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:null,[R.WGS84]:null,[R.WGS84_ECEF]:null},[R.SPHERICAL_MOON_PCPF]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:ie,[R.LON_LAT]:ie,[R.WGS84_COMPARABLE_LON_LAT]:null,[R.SPHERICAL_ECEF]:null,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:I,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:null,[R.WGS84]:null,[R.WGS84_ECEF]:null},[R.UNKNOWN]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:null,[R.WGS84_COMPARABLE_LON_LAT]:null,[R.SPHERICAL_ECEF]:null,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:I,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:null,[R.WGS84]:null,[R.WGS84_ECEF]:null},[R.LON_LAT]:{[R.CGCS2000]:I,[R.GCSMARS2000]:I,[R.GCSMOON2000]:I,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:I,[R.SPHERICAL_ECEF]:ee,[R.SPHERICAL_MARS_PCPF]:ae,[R.SPHERICAL_MOON_PCPF]:te,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:Q,[R.PLATE_CARREE]:se,[R.WGS84]:I,[R.WGS84_ECEF]:Oe},[R.WGS84_COMPARABLE_LON_LAT]:{[R.CGCS2000]:null,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:I,[R.WGS84_COMPARABLE_LON_LAT]:I,[R.SPHERICAL_ECEF]:ee,[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:null,[R.PLATE_CARREE]:se,[R.WGS84]:I,[R.WGS84_ECEF]:Oe},[R.PLATE_CARREE]:{[R.CGCS2000]:ue,[R.GCSMARS2000]:null,[R.GCSMOON2000]:null,[R.LON_LAT]:ue,[R.WGS84_COMPARABLE_LON_LAT]:ue,[R.SPHERICAL_ECEF]:function q(We,He,Ne,Ce){ue(We,He,Ne,Ce),ee(Ne,Ce,Ne,Ce)},[R.SPHERICAL_MARS_PCPF]:null,[R.SPHERICAL_MOON_PCPF]:null,[R.UNKNOWN]:null,[R.WEB_MERCATOR]:function fe(We,He,Ne,Ce){ue(We,He,Ne,Ce),Q(Ne,Ce,Ne,Ce)},[R.PLATE_CARREE]:I,[R.WGS84]:ue,[R.WGS84_ECEF]:function ge(We,He,Ne,Ce){ue(We,He,Ne,Ce),Oe(Ne,Ce,Ne,Ce)}}};function N(We){const He=O(We,X);return H[He][R.WGS84_COMPARABLE_LON_LAT]}function P(We,He,Ne=Ge()){return null==We||null==He?null:function xe(We,He,Ne){if(null==We||null==He||Ne.source.spatialReference===We&&Ne.dest.spatialReference===He)return Ne;const Ce=O(We,Ne.source),Pe=O(He,Ne.dest);return Ne.projector=Ce===R.UNKNOWN&&Pe===R.UNKNOWN?(0,B.fS)(We,He)?I:null:H[Ce][Pe],Ne}(We,He,Ne).projector}function O(We,He){return We?He.spatialReference===We?He.spatialReferenceId:(He.spatialReference=We,"metersPerUnit"in He&&(He.metersPerUnit=(0,D.c9)(We,1)),He.spatialReferenceId=(0,Z.fY)(We)?R.SPHERICAL_ECEF:(0,B.oR)(We)?R.WGS84:(0,B.sS)(We)?R.WEB_MERCATOR:(0,B.QM)(We)?R.PLATE_CARREE:We.wkt===Z.pn.wkt?R.WGS84_ECEF:We.wkid===k.W.CGCS2000?R.CGCS2000:We.wkt===Z.JL.wkt?R.SPHERICAL_MARS_PCPF:We.wkt===Z.mM.wkt?R.SPHERICAL_MOON_PCPF:(0,B.BZ)(We)?R.GCSMARS2000:(0,B.V2)(We)?R.GCSMOON2000:R.UNKNOWN):R.UNKNOWN}function I(We,He,Ne,Ce){We!==Ne&&(Ne[Ce++]=We[He++],Ne[Ce++]=We[He++],Ne[Ce]=We[He])}function T(We,He,Ne,Ce){Ne[Ce++]=qe*(We[He++]/j.sv.radius),Ne[Ce++]=qe*(Math.PI/2-2*Math.atan(Math.exp(-We[He++]/j.sv.radius))),Ne[Ce]=We[He]}function Q(We,He,Ne,Ce){!function F(We,He,Ne,Ce,Pe){const Ae=.4999999*Math.PI,Be=(0,C.uZ)(Fe*We[He+1],-Ae,Ae),ze=Math.sin(Be);Ne[Ce++]=Fe*We[He]*Pe.radius,Ne[Ce++]=Pe.halfSemiMajorAxis*Math.log((1+ze)/(1-ze)),Ne[Ce]=We[He+2]}(We,He,Ne,Ce,j.sv)}const J=j.sv.radius*Math.PI/180,oe=180/(j.sv.radius*Math.PI);function se(We,He,Ne,Ce){Ne[Ce]=We[He]*J,Ne[Ce+1]=We[He+1]*J,Ne[Ce+2]=We[He+2]}function ue(We,He,Ne,Ce){Ne[Ce]=We[He]*oe,Ne[Ce+1]=We[He+1]*oe,Ne[Ce+2]=We[He+2]}function me(We,He,Ne,Ce,Pe){const Ae=Pe+We[He+2],Be=Fe*We[He+1],ze=Fe*We[He],st=Math.cos(Be);Ne[Ce++]=Math.cos(ze)*st*Ae,Ne[Ce++]=Math.sin(ze)*st*Ae,Ne[Ce]=Math.sin(Be)*Ae}function te(We,He,Ne,Ce){me(We,He,Ne,Ce,j.Z1.radius)}function ae(We,He,Ne,Ce){me(We,He,Ne,Ce,j.yr.radius)}function ee(We,He,Ne,Ce){me(We,He,Ne,Ce,j.sv.radius)}function ce(We,He,Ne,Ce,Pe){const Ae=We[He],Be=We[He+1],ze=We[He+2],st=Math.sqrt(Ae*Ae+Be*Be+ze*ze),Xe=(0,C.Kt)(ze/(0===st?1:st)),ot=Math.atan2(Be,Ae);Ne[Ce++]=qe*ot,Ne[Ce++]=qe*Xe,Ne[Ce]=st-Pe}function ie(We,He,Ne,Ce){ce(We,He,Ne,Ce,j.Z1.radius)}function ne(We,He,Ne,Ce){ce(We,He,Ne,Ce,j.yr.radius)}function pe(We,He,Ne,Ce){ce(We,He,Ne,Ce,j.sv.radius)}function Oe(We,He,Ne,Ce){!function ve(We,He,Ne,Ce,Pe){const Ae=Fe*We[He],Be=Fe*We[He+1],ze=We[He+2],st=Math.sin(Be),Xe=Math.cos(Be),ot=Pe.radius/Math.sqrt(1-Pe.eccentricitySquared*st*st);Ne[Ce++]=(ot+ze)*Xe*Math.cos(Ae),Ne[Ce++]=(ot+ze)*Xe*Math.sin(Ae),Ne[Ce++]=(ot*(1-Pe.eccentricitySquared)+ze)*st}(We,He,Ne,Ce,j.sv)}function Me(We,He,Ne,Ce){const Pe=L,Ae=We[He],Be=We[He+1],ze=We[He+2];let st,Xe,ot,ut,Et,Lt,Ut,kt,Xt,qt,un,yt,ft,Ot,Tt,Vt,ln,nn,an,mn,Cn;st=Math.abs(ze),Xe=Ae*Ae+Be*Be,ot=Math.sqrt(Xe),ut=Xe+ze*ze,Et=Math.sqrt(ut),mn=Math.atan2(Be,Ae),Lt=ze*ze/ut,Ut=Xe/ut,Ot=Pe.a2/Et,Tt=Pe.a3-Pe.a4/Et,Ut>.3?(kt=st/Et*(1+Ut*(Pe.a1+Ot+Lt*Tt)/Et),an=Math.asin(kt),qt=kt*kt,Xt=Math.sqrt(1-qt)):(Xt=ot/Et*(1-Lt*(Pe.a5-Ot-Ut*Tt)/Et),an=Math.acos(Xt),qt=1-Xt*Xt,kt=Math.sqrt(qt)),un=1-j.sv.eccentricitySquared*qt,yt=j.sv.radius/Math.sqrt(un),ft=Pe.a6*yt,Ot=ot-yt*Xt,Tt=st-ft*kt,ln=Xt*Ot+kt*Tt,Vt=Xt*Tt-kt*Ot,nn=Vt/(ft/un+ln),an+=nn,Cn=ln+Vt*nn/2,ze<0&&(an=-an),Ne[Ce++]=qe*mn,Ne[Ce++]=qe*an,Ne[Ce]=Cn}function Ge(){return{source:{spatialReference:null,spatialReferenceId:R.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:R.UNKNOWN,metersPerUnit:1},projector:I}}const X={spatialReference:null,spatialReferenceId:R.UNKNOWN},be={spatialReference:null,spatialReferenceId:R.UNKNOWN},Re=Ge(),Fe=(0,C.Vl)(1),qe=(0,C.BV)(1)},48621:(Ke,Ee,E)=>{"use strict";var C,D;E.d(Ee,{R:()=>C}),(D=C||(C={}))[D.X=0]="X",D[D.Y=1]="Y",D[D.Z=2]="Z"},82301:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z1:()=>j,sv:()=>D,yr:()=>Z});class C{constructor(Y,V,$,L){this.semiMajorAxis=Y,this.flattening=V,this.outerAtmosphereRimWidth=$,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=L||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const D=new C(6378137,1/298.257223563,3e5,.006694379990137799),Z=new C(3396190,1/169.8944472236118,23e4),j=new C(1737400,0,0)},12786:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Z});let C=0;class D{static fromGE(U){const Y=new D;return Y._wkt=U.wkt,Y._wkid=U.wkid,Y._isInverse=U.isInverse,Y}constructor(U){this.uid=C++,U?(this._wkt=null!=U.wkt?U.wkt:null,this._wkid=null!=U.wkid?U.wkid:-1,this._isInverse=null!=U.isInverse&&!0===U.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(U){this._wkt=U,this.uid=C++}get wkid(){return this._wkid}set wkid(U){this._wkid=U,this.uid=C++}get isInverse(){return this._isInverse}set isInverse(U){this._isInverse=U,this.uid=C++}getInverse(){const U=new D;return U._wkt=this.wkt,U._wkid=this._wkid,U._isInverse=!this.isInverse,U}}class Z{static cacheKey(U,Y){return[U.wkid?.toString()??"-1",U.wkt?.toString()??"",U.wkt2?.toString()??"",Y.wkid?.toString()??"-1",Y.wkt?.toString()??"",Y.wkt2?.toString()??""].join()}static fromGE(U){const Y=new Z;let V="";for(const $ of U.steps){const L=D.fromGE($);Y.steps.push(L),V+=L.uid.toString()+","}return Y._cachedProjection={},Y._gtlistentry=null,Y._chain=V,Y}constructor(U){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,U?.steps)for(const Y of U.steps)this.steps.push(Y instanceof D?Y:new D({wkid:Y.wkid,wkt:Y.wkt,isInverse:Y.isInverse}))}getInverse(){const U=new Z;U.steps=[];for(let Y=this.steps.length-1;Y>=0;Y--)U.steps.push(this.steps[Y].getInverse());return U}getGTListEntry(){let U="";for(const Y of this.steps)U+=Y.uid.toString()+",";return U!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=U),this._gtlistentry}assignCachedGe(U,Y,V){this._cachedProjection[Z.cacheKey(U,Y)]=V}getCachedGeTransformation(U,Y){let V="";for(const L of this.steps)V+=L.uid.toString()+",";V!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=V);const $=this._cachedProjection[Z.cacheKey(U,Y)];return void 0===$?null:$}}},24512:(Ke,Ee,E)=>{"use strict";var C,D;E.d(Ee,{W:()=>C}),(D=C||(C={}))[D.CGCS2000=4490]="CGCS2000",D[D.GCSMARS2000=104971]="GCSMARS2000",D[D.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",D[D.GCSMOON2000=104903]="GCSMOON2000"},74359:(Ke,Ee,E)=>{"use strict";let C;E.d(Ee,{Z:()=>D});const D={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(C=2e3;C<=2045;C++)D[C]=0;for(C=2056;C<=2065;C++)D[C]=0;for(C=2067;C<=2135;C++)D[C]=0;for(C=2137;C<=2154;C++)D[C]=0;for(C=2161;C<=2170;C++)D[C]=0;for(C=2172;C<=2193;C++)D[C]=0;for(C=2195;C<=2198;C++)D[C]=0;for(C=2200;C<=2203;C++)D[C]=0;for(C=2205;C<=2217;C++)D[C]=0;for(C=2222;C<=2224;C++)D[C]=1;for(C=2225;C<=2250;C++)D[C]=2;for(C=2251;C<=2253;C++)D[C]=1;for(C=2257;C<=2264;C++)D[C]=2;for(C=2274;C<=2279;C++)D[C]=2;for(C=2280;C<=2282;C++)D[C]=1;for(C=2283;C<=2289;C++)D[C]=2;for(C=2290;C<=2292;C++)D[C]=0;for(C=2308;C<=2313;C++)D[C]=0;for(C=2315;C<=2491;C++)D[C]=0;for(C=2494;C<=2866;C++)D[C]=0;for(C=2867;C<=2869;C++)D[C]=1;for(C=2870;C<=2888;C++)D[C]=2;for(C=2891;C<=2895;C++)D[C]=2;for(C=2896;C<=2898;C++)D[C]=1;for(C=2902;C<=2908;C++)D[C]=2;for(C=2915;C<=2920;C++)D[C]=2;for(C=2921;C<=2923;C++)D[C]=1;for(C=2924;C<=2930;C++)D[C]=2;for(C=2931;C<=2962;C++)D[C]=0;for(C=2964;C<=2968;C++)D[C]=2;for(C=2969;C<=2973;C++)D[C]=0;for(C=2975;C<=2991;C++)D[C]=0;for(C=2995;C<=3051;C++)D[C]=0;for(C=3054;C<=3079;C++)D[C]=0;for(C=3081;C<=3088;C++)D[C]=0;for(C=3092;C<=3101;C++)D[C]=0;for(C=3106;C<=3138;C++)D[C]=0;for(C=3146;C<=3151;C++)D[C]=0;for(C=3153;C<=3166;C++)D[C]=0;for(C=3168;C<=3172;C++)D[C]=0;for(C=3174;C<=3203;C++)D[C]=0;for(C=3294;C<=3358;C++)D[C]=0;for(C=3367;C<=3403;C++)D[C]=0;for(C=3408;C<=3416;C++)D[C]=0;for(C=3417;C<=3438;C++)D[C]=2;for(C=3441;C<=3446;C++)D[C]=2;for(C=3447;C<=3450;C++)D[C]=0;for(C=3451;C<=3459;C++)D[C]=2;for(C=3460;C<=3478;C++)D[C]=0;for(C=3554;C<=3559;C++)D[C]=0;for(C=3560;C<=3570;C++)D[C]=2;for(C=3571;C<=3581;C++)D[C]=0;for(C=3594;C<=3597;C++)D[C]=0;for(C=3601;C<=3604;C++)D[C]=0;for(C=3637;C<=3639;C++)D[C]=0;for(C=3665;C<=3667;C++)D[C]=0;for(C=3693;C<=3695;C++)D[C]=0;for(C=3701;C<=3727;C++)D[C]=0;for(C=3728;C<=3739;C++)D[C]=2;for(C=3740;C<=3751;C++)D[C]=0;for(C=3753;C<=3760;C++)D[C]=2;for(C=3761;C<=3773;C++)D[C]=0;for(C=3775;C<=3777;C++)D[C]=0;for(C=3779;C<=3781;C++)D[C]=0;for(C=3783;C<=3785;C++)D[C]=0;for(C=3788;C<=3791;C++)D[C]=0;for(C=3797;C<=3802;C++)D[C]=0;for(C=3814;C<=3816;C++)D[C]=0;for(C=3825;C<=3829;C++)D[C]=0;for(C=3832;C<=3841;C++)D[C]=0;for(C=3844;C<=3852;C++)D[C]=0;for(C=3873;C<=3885;C++)D[C]=0;for(C=3890;C<=3893;C++)D[C]=0;for(C=3907;C<=3912;C++)D[C]=0;for(C=3942;C<=3950;C++)D[C]=0;for(C=3968;C<=3970;C++)D[C]=0;for(C=3973;C<=3976;C++)D[C]=0;for(C=3986;C<=3989;C++)D[C]=0;for(C=3994;C<=3997;C++)D[C]=0;for(C=4048;C<=4051;C++)D[C]=0;for(C=4056;C<=4063;C++)D[C]=0;for(C=4093;C<=4096;C++)D[C]=0;for(C=4390;C<=4398;C++)D[C]=0;for(C=4399;C<=4413;C++)D[C]=2;for(C=4418;C<=4433;C++)D[C]=2;for(C=4455;C<=4457;C++)D[C]=2;for(C=4484;C<=4489;C++)D[C]=0;for(C=4491;C<=4554;C++)D[C]=0;for(C=4568;C<=4589;C++)D[C]=0;for(C=4652;C<=4656;C++)D[C]=0;for(C=4766;C<=4800;C++)D[C]=0;for(C=5014;C<=5016;C++)D[C]=0;for(C=5069;C<=5072;C++)D[C]=0;for(C=5105;C<=5130;C++)D[C]=0;for(C=5167;C<=5188;C++)D[C]=0;for(C=5253;C<=5259;C++)D[C]=0;for(C=5269;C<=5275;C++)D[C]=0;for(C=5292;C<=5311;C++)D[C]=0;for(C=5329;C<=5331;C++)D[C]=0;for(C=5343;C<=5349;C++)D[C]=0;for(C=5355;C<=5357;C++)D[C]=0;for(C=5387;C<=5389;C++)D[C]=0;for(C=5459;C<=5463;C++)D[C]=0;for(C=5479;C<=5482;C++)D[C]=0;for(C=5518;C<=5520;C++)D[C]=0;for(C=5530;C<=5539;C++)D[C]=0;for(C=5550;C<=5552;C++)D[C]=0;for(C=5562;C<=5583;C++)D[C]=0;for(C=5623;C<=5625;C++)D[C]=2;for(C=5631;C<=5639;C++)D[C]=0;for(C=5649;C<=5653;C++)D[C]=0;for(C=5663;C<=5680;C++)D[C]=0;for(C=5682;C<=5685;C++)D[C]=0;for(C=5875;C<=5877;C++)D[C]=0;for(C=5896;C<=5899;C++)D[C]=0;for(C=5921;C<=5940;C++)D[C]=0;for(C=6050;C<=6125;C++)D[C]=0;for(C=6244;C<=6275;C++)D[C]=0;for(C=6328;C<=6348;C++)D[C]=0;for(C=6350;C<=6356;C++)D[C]=0;for(C=6366;C<=6372;C++)D[C]=0;for(C=6381;C<=6387;C++)D[C]=0;for(C=6393;C<=6404;C++)D[C]=0;for(C=6480;C<=6483;C++)D[C]=0;for(C=6511;C<=6514;C++)D[C]=0;for(C=6579;C<=6581;C++)D[C]=0;for(C=6619;C<=6624;C++)D[C]=0;for(C=6625;C<=6627;C++)D[C]=2;for(C=6628;C<=6632;C++)D[C]=0;for(C=6634;C<=6637;C++)D[C]=0;for(C=6669;C<=6692;C++)D[C]=0;for(C=6707;C<=6709;C++)D[C]=0;for(C=6720;C<=6723;C++)D[C]=0;for(C=6732;C<=6738;C++)D[C]=0;for(C=6931;C<=6933;C++)D[C]=0;for(C=6956;C<=6959;C++)D[C]=0;for(C=7005;C<=7007;C++)D[C]=0;for(C=7057;C<=7070;C++)D[C]=2;for(C=7074;C<=7082;C++)D[C]=0;for(C=7109;C<=7118;C++)D[C]=0;for(C=7119;C<=7127;C++)D[C]=1;for(C=7374;C<=7376;C++)D[C]=0;for(C=7528;C<=7586;C++)D[C]=0;for(C=7587;C<=7645;C++)D[C]=2;for(C=7692;C<=7696;C++)D[C]=0;for(C=7755;C<=7787;C++)D[C]=0;for(C=7791;C<=7795;C++)D[C]=0;for(C=7799;C<=7801;C++)D[C]=0;for(C=7803;C<=7805;C++)D[C]=0;for(C=7825;C<=7831;C++)D[C]=0;for(C=7845;C<=7859;C++)D[C]=0;for(C=8013;C<=8032;C++)D[C]=0;for(C=8065;C<=8068;C++)D[C]=1;for(C=8518;C<=8529;C++)D[C]=2;for(C=8533;C<=8536;C++)D[C]=2;for(C=8538;C<=8540;C++)D[C]=2;for(C=8677;C<=8679;C++)D[C]=0;for(C=8836;C<=8840;C++)D[C]=0;for(C=8857;C<=8859;C++)D[C]=0;for(C=8908;C<=8910;C++)D[C]=0;for(C=9154;C<=9159;C++)D[C]=0;for(C=9205;C<=9218;C++)D[C]=0;for(C=9271;C<=9273;C++)D[C]=0;for(C=9295;C<=9297;C++)D[C]=0;for(C=9356;C<=9360;C++)D[C]=0;for(C=9404;C<=9407;C++)D[C]=0;for(C=9476;C<=9482;C++)D[C]=0;for(C=9487;C<=9494;C++)D[C]=0;for(C=9697;C<=9699;C++)D[C]=0;for(C=9821;C<=9865;C++)D[C]=0;for(C=10285;C<=10291;C++)D[C]=0;for(C=10314;C<=10317;C++)D[C]=0;for(C=10448;C<=10465;C++)D[C]=0;for(C=11114;C<=11118;C++)D[C]=0;for(C=20004;C<=20032;C++)D[C]=0;for(C=20047;C<=20049;C++)D[C]=0;for(C=20062;C<=20092;C++)D[C]=0;for(C=20135;C<=20138;C++)D[C]=0;for(C=20248;C<=20258;C++)D[C]=0;for(C=20348;C<=20358;C++)D[C]=0;for(C=20436;C<=20440;C++)D[C]=0;for(C=20822;C<=20824;C++)D[C]=0;for(C=20904;C<=20932;C++)D[C]=0;for(C=20934;C<=20936;C++)D[C]=0;for(C=21004;C<=21032;C++)D[C]=0;for(C=21035;C<=21037;C++)D[C]=0;for(C=21095;C<=21097;C++)D[C]=0;for(C=21148;C<=21150;C++)D[C]=0;for(C=21207;C<=21264;C++)D[C]=0;for(C=21307;C<=21364;C++)D[C]=0;for(C=21413;C<=21423;C++)D[C]=0;for(C=21453;C<=21463;C++)D[C]=0;for(C=21473;C<=21483;C++)D[C]=0;for(C=21780;C<=21782;C++)D[C]=0;for(C=21891;C<=21894;C++)D[C]=0;for(C=21896;C<=21899;C++)D[C]=0;for(C=22171;C<=22177;C++)D[C]=0;for(C=22181;C<=22187;C++)D[C]=0;for(C=22191;C<=22197;C++)D[C]=0;for(C=22207;C<=22222;C++)D[C]=0;for(C=22229;C<=22232;C++)D[C]=0;for(C=22234;C<=22236;C++)D[C]=0;for(C=22243;C<=22250;C++)D[C]=0;for(C=22262;C<=22265;C++)D[C]=0;for(C=22307;C<=22322;C++)D[C]=0;for(C=22348;C<=22357;C++)D[C]=0;for(C=22407;C<=22422;C++)D[C]=0;for(C=22462;C<=22465;C++)D[C]=0;for(C=22521;C<=22525;C++)D[C]=0;for(C=22607;C<=22622;C++)D[C]=0;for(C=22641;C<=22646;C++)D[C]=0;for(C=22648;C<=22657;C++)D[C]=0;for(C=22707;C<=22722;C++)D[C]=0;for(C=22762;C<=22765;C++)D[C]=0;for(C=22807;C<=22822;C++)D[C]=0;for(C=22991;C<=22994;C++)D[C]=0;for(C=23028;C<=23038;C++)D[C]=0;for(C=23301;C<=23333;C++)D[C]=2;for(C=23830;C<=23853;C++)D[C]=0;for(C=23866;C<=23872;C++)D[C]=0;for(C=23877;C<=23884;C++)D[C]=0;for(C=23886;C<=23894;C++)D[C]=0;for(C=23946;C<=23948;C++)D[C]=0;for(C=24311;C<=24313;C++)D[C]=0;for(C=24342;C<=24347;C++)D[C]=0;for(C=24370;C<=24374;C++)D[C]=10;for(C=24375;C<=24381;C++)D[C]=0;for(C=24718;C<=24721;C++)D[C]=0;for(C=24817;C<=24821;C++)D[C]=0;for(C=24877;C<=24882;C++)D[C]=0;for(C=24891;C<=24893;C++)D[C]=0;for(C=25391;C<=25395;C++)D[C]=0;for(C=25828;C<=25838;C++)D[C]=0;for(C=26191;C<=26195;C++)D[C]=0;for(C=26391;C<=26393;C++)D[C]=0;for(C=26701;C<=26722;C++)D[C]=0;for(C=26729;C<=26799;C++)D[C]=2;for(C=26801;C<=26803;C++)D[C]=2;for(C=26811;C<=26813;C++)D[C]=2;for(C=26847;C<=26870;C++)D[C]=2;for(C=26891;C<=26899;C++)D[C]=0;for(C=26901;C<=26923;C++)D[C]=0;for(C=26929;C<=26946;C++)D[C]=0;for(C=26948;C<=26998;C++)D[C]=0;for(C=27037;C<=27040;C++)D[C]=0;for(C=27205;C<=27232;C++)D[C]=0;for(C=27258;C<=27260;C++)D[C]=0;for(C=27391;C<=27398;C++)D[C]=0;for(C=27561;C<=27564;C++)D[C]=0;for(C=27571;C<=27574;C++)D[C]=0;for(C=27581;C<=27584;C++)D[C]=0;for(C=27591;C<=27594;C++)D[C]=0;for(C=28191;C<=28193;C++)D[C]=0;for(C=28348;C<=28358;C++)D[C]=0;for(C=28402;C<=28432;C++)D[C]=0;for(C=28462;C<=28492;C++)D[C]=0;for(C=29118;C<=29122;C++)D[C]=0;for(C=29168;C<=29172;C++)D[C]=0;for(C=29177;C<=29185;C++)D[C]=0;for(C=29187;C<=29195;C++)D[C]=0;for(C=29900;C<=29903;C++)D[C]=0;for(C=30161;C<=30179;C++)D[C]=0;for(C=30491;C<=30494;C++)D[C]=0;for(C=30729;C<=30732;C++)D[C]=0;for(C=31251;C<=31259;C++)D[C]=0;for(C=31265;C<=31268;C++)D[C]=0;for(C=31275;C<=31279;C++)D[C]=0;for(C=31281;C<=31297;C++)D[C]=0;for(C=31461;C<=31469;C++)D[C]=0;for(C=31491;C<=31495;C++)D[C]=0;for(C=31917;C<=31922;C++)D[C]=0;for(C=31965;C<=32e3;C++)D[C]=0;for(C=32001;C<=32003;C++)D[C]=2;for(C=32005;C<=32031;C++)D[C]=2;for(C=32033;C<=32060;C++)D[C]=2;for(C=32064;C<=32067;C++)D[C]=2;for(C=32074;C<=32077;C++)D[C]=2;for(C=32081;C<=32086;C++)D[C]=0;for(C=32107;C<=32130;C++)D[C]=0;for(C=32133;C<=32159;C++)D[C]=0;for(C=32164;C<=32167;C++)D[C]=2;for(C=32180;C<=32199;C++)D[C]=0;for(C=32201;C<=32260;C++)D[C]=0;for(C=32301;C<=32360;C++)D[C]=0;for(C=32401;C<=32460;C++)D[C]=0;for(C=32501;C<=32560;C++)D[C]=0;for(C=32601;C<=32662;C++)D[C]=0;for(C=32664;C<=32667;C++)D[C]=2;for(C=32701;C<=32761;C++)D[C]=0;for(C=53001;C<=53004;C++)D[C]=0;for(C=53008;C<=53019;C++)D[C]=0;for(C=53021;C<=53032;C++)D[C]=0;for(C=53034;C<=53037;C++)D[C]=0;for(C=53042;C<=53046;C++)D[C]=0;for(C=53074;C<=53080;C++)D[C]=0;for(C=54001;C<=54004;C++)D[C]=0;for(C=54008;C<=54019;C++)D[C]=0;for(C=54021;C<=54032;C++)D[C]=0;for(C=54034;C<=54037;C++)D[C]=0;for(C=54042;C<=54046;C++)D[C]=0;for(C=54048;C<=54053;C++)D[C]=0;for(C=54074;C<=54080;C++)D[C]=0;for(C=54098;C<=54101;C++)D[C]=0;for(C=102001;C<=102040;C++)D[C]=0;for(C=102042;C<=102063;C++)D[C]=0;for(C=102065;C<=102067;C++)D[C]=0;for(C=102070;C<=102117;C++)D[C]=0;for(C=102122;C<=102216;C++)D[C]=0;for(C=102221;C<=102377;C++)D[C]=0;for(C=102382;C<=102388;C++)D[C]=0;for(C=102389;C<=102398;C++)D[C]=2;for(C=102399;C<=102444;C++)D[C]=0;for(C=102445;C<=102447;C++)D[C]=2;for(C=102448;C<=102458;C++)D[C]=0;for(C=102459;C<=102468;C++)D[C]=2;for(C=102469;C<=102499;C++)D[C]=0;for(C=102500;C<=102519;C++)D[C]=1;for(C=102520;C<=102524;C++)D[C]=0;for(C=102525;C<=102529;C++)D[C]=2;for(C=102530;C<=102588;C++)D[C]=0;for(C=102590;C<=102598;C++)D[C]=0;for(C=102601;C<=102603;C++)D[C]=0;for(C=102605;C<=102628;C++)D[C]=0;for(C=102629;C<=102646;C++)D[C]=2;for(C=102648;C<=102700;C++)D[C]=2;for(C=102701;C<=102703;C++)D[C]=0;for(C=102707;C<=102730;C++)D[C]=2;for(C=102733;C<=102758;C++)D[C]=2;for(C=102767;C<=102900;C++)D[C]=0;for(C=102901;C<=102933;C++)D[C]=2;for(C=102934;C<=102950;C++)D[C]=13;for(C=102951;C<=102955;C++)D[C]=0;for(C=102961;C<=102963;C++)D[C]=0;for(C=102965;C<=102969;C++)D[C]=0;for(C=102971;C<=102973;C++)D[C]=0;for(C=102975;C<=102989;C++)D[C]=0;for(C=102990;C<=102992;C++)D[C]=1;for(C=102997;C<=103002;C++)D[C]=0;for(C=103003;C<=103008;C++)D[C]=2;for(C=103009;C<=103011;C++)D[C]=0;for(C=103012;C<=103014;C++)D[C]=2;for(C=103019;C<=103021;C++)D[C]=0;for(C=103022;C<=103024;C++)D[C]=2;for(C=103029;C<=103031;C++)D[C]=0;for(C=103032;C<=103034;C++)D[C]=2;for(C=103065;C<=103068;C++)D[C]=0;for(C=103074;C<=103076;C++)D[C]=0;for(C=103077;C<=103079;C++)D[C]=1;for(C=103080;C<=103082;C++)D[C]=0;for(C=103083;C<=103085;C++)D[C]=2;for(C=103090;C<=103093;C++)D[C]=0;for(C=103097;C<=103099;C++)D[C]=0;for(C=103100;C<=103102;C++)D[C]=2;for(C=103107;C<=103109;C++)D[C]=0;for(C=103110;C<=103112;C++)D[C]=2;for(C=103113;C<=103116;C++)D[C]=0;for(C=103117;C<=103120;C++)D[C]=2;for(C=103153;C<=103157;C++)D[C]=0;for(C=103158;C<=103162;C++)D[C]=2;for(C=103163;C<=103165;C++)D[C]=0;for(C=103166;C<=103168;C++)D[C]=1;for(C=103169;C<=103171;C++)D[C]=2;for(C=103186;C<=103188;C++)D[C]=0;for(C=103189;C<=103191;C++)D[C]=2;for(C=103192;C<=103195;C++)D[C]=0;for(C=103196;C<=103199;C++)D[C]=2;for(C=103200;C<=103224;C++)D[C]=0;for(C=103225;C<=103227;C++)D[C]=1;for(C=103232;C<=103237;C++)D[C]=0;for(C=103238;C<=103243;C++)D[C]=2;for(C=103244;C<=103246;C++)D[C]=0;for(C=103247;C<=103249;C++)D[C]=2;for(C=103254;C<=103256;C++)D[C]=0;for(C=103257;C<=103259;C++)D[C]=2;for(C=103264;C<=103266;C++)D[C]=0;for(C=103267;C<=103269;C++)D[C]=2;for(C=103300;C<=103375;C++)D[C]=0;for(C=103381;C<=103383;C++)D[C]=0;for(C=103384;C<=103386;C++)D[C]=1;for(C=103387;C<=103389;C++)D[C]=0;for(C=103390;C<=103392;C++)D[C]=2;for(C=103397;C<=103399;C++)D[C]=0;for(C=103400;C<=103471;C++)D[C]=2;for(C=103476;C<=103478;C++)D[C]=0;for(C=103479;C<=103481;C++)D[C]=2;for(C=103486;C<=103488;C++)D[C]=0;for(C=103489;C<=103491;C++)D[C]=2;for(C=103492;C<=103495;C++)D[C]=0;for(C=103496;C<=103499;C++)D[C]=2;for(C=103528;C<=103543;C++)D[C]=0;for(C=103544;C<=103548;C++)D[C]=2;for(C=103549;C<=103551;C++)D[C]=0;for(C=103552;C<=103554;C++)D[C]=1;for(C=103555;C<=103557;C++)D[C]=2;for(C=103558;C<=103560;C++)D[C]=0;for(C=103571;C<=103573;C++)D[C]=0;for(C=103574;C<=103576;C++)D[C]=2;for(C=103577;C<=103580;C++)D[C]=0;for(C=103581;C<=103583;C++)D[C]=2;for(C=103595;C<=103694;C++)D[C]=0;for(C=103696;C<=103699;C++)D[C]=0;for(C=103700;C<=103793;C++)D[C]=2;for(C=103794;C<=103890;C++)D[C]=0;for(C=103891;C<=103896;C++)D[C]=2;for(C=103900;C<=103971;C++)D[C]=2;for(C=103972;C<=103977;C++)D[C]=0;for(C=112e3;C<=112101;C++)D[C]=0},27048:(Ke,Ee,E)=>{"use strict";E.d(Ee,{G_:()=>re,HH:()=>V,JR:()=>ae,TC:()=>L,Tn:()=>fe,Ue:()=>j,al:()=>U,bZ:()=>ee,cS:()=>me,dp:()=>W,fS:()=>ne,is:()=>ce,op:()=>q,pp:()=>B,t8:()=>ge});var C=E(26894);function j(Me=ve){return[Me[0],Me[1],Me[2],Me[3],Me[4],Me[5]]}function U(Me,Se,ke,xe,Ge,X,be=j()){return be[0]=Me,be[1]=Se,be[2]=ke,be[3]=xe,be[4]=Ge,be[5]=X,be}function V(Me,Se){const ke=isFinite(Me[2])||isFinite(Me[5]);return new C.Z(ke?{xmin:Me[0],xmax:Me[3],ymin:Me[1],ymax:Me[4],zmin:Me[2],zmax:Me[5],spatialReference:Se}:{xmin:Me[0],xmax:Me[3],ymin:Me[1],ymax:Me[4],spatialReference:Se})}function L(Me,Se){Me[0]=Math.min(Me[0],Se[0]),Me[1]=Math.min(Me[1],Se[1]),Me[2]=Math.min(Me[2],Se[2]),Me[3]=Math.max(Me[3],Se[3]),Me[4]=Math.max(Me[4],Se[4]),Me[5]=Math.max(Me[5],Se[5])}function B(Me,Se){Me[0]=Math.min(Me[0],Se[0]),Me[1]=Math.min(Me[1],Se[1]),Me[2]=Math.min(Me[2],Se[2]),Me[3]=Math.max(Me[3],Se[0]),Me[4]=Math.max(Me[4],Se[1]),Me[5]=Math.max(Me[5],Se[2])}function W(Me,Se=[0,0,0]){return Se[0]=function P(Me){return Me[0]>=Me[3]?0:Me[3]-Me[0]}(Me),Se[1]=function w(Me){return Me[1]>=Me[4]?0:Me[4]-Me[1]}(Me),Se[2]=function O(Me){return Me[2]>=Me[5]?0:Me[5]-Me[2]}(Me),Se}function q(Me,Se,ke=Me){return ke[0]=Se[0],ke[1]=Se[1],ke[2]=Se[2],ke!==Me&&(ke[3]=Me[3],ke[4]=Me[4],ke[5]=Me[5]),ke}function fe(Me,Se,ke=Me){return ke[3]=Se[0],ke[4]=Se[1],ke[5]=Se[2],ke!==Me&&(ke[0]=Me[0],ke[1]=Me[1],ke[2]=Me[2]),Me}function ge(Me,Se){return Me[0]=Se[0],Me[1]=Se[1],Me[2]=Se[2],Me[3]=Se[3],Me[4]=Se[4],Me[5]=Se[5],Me}function me(Me){return Me?ge(Me,re):j(re)}function ae(Me,Se){return Me[0]=Se[0],Me[1]=Se[1],Me[2]=Number.NEGATIVE_INFINITY,Me[3]=Se[2],Me[4]=Se[3],Me[5]=Number.POSITIVE_INFINITY,Me}function ee(Me,Se,ke,xe,Ge){return Me[0]=Se,Me[1]=ke,Me[2]=Number.NEGATIVE_INFINITY,Me[3]=xe,Me[4]=Ge,Me[5]=Number.POSITIVE_INFINITY,Me}function ce(Me){return 6===Me.length}function ne(Me,Se,ke){if(null==Me||null==Se)return Me===Se;if(!ce(Me)||!ce(Se))return!1;if(ke){for(let xe=0;xe<Me.length;xe++)if(!ke(Me[xe],Se[xe]))return!1}else for(let xe=0;xe<Me.length;xe++)if(Me[xe]!==Se[xe])return!1;return!0}E(45425);const re=[1/0,1/0,1/0,-1/0,-1/0,-1/0],ve=[0,0,0,0,0,0];j()},45425:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Cb:()=>P,G_:()=>ne,HH:()=>x,Ho:()=>B,SO:()=>w,Ue:()=>U,Zm:()=>oe,al:()=>$,cS:()=>te,d9:()=>Y,d_:()=>N,fS:()=>ce,jE:()=>Q,jn:()=>k,kK:()=>se,oJ:()=>L,r3:()=>ue}),E(14007),E(55117);var Z=E(26894);function U(re=pe){return[re[0],re[1],re[2],re[3]]}function Y(re){return[re[0],re[1],re[2],re[3]]}function V(re,ve){return re!==ve&&(re[0]=ve[0],re[1]=ve[1],re[2]=ve[2],re[3]=ve[3]),re}function $(re,ve,Oe,Me,Se=U()){return Se[0]=re,Se[1]=ve,Se[2]=Oe,Se[3]=Me,Se}function L(re,ve=U()){return ve[0]=re.xmin,ve[1]=re.ymin,ve[2]=re.xmax,ve[3]=re.ymax,ve}function x(re,ve){return new Z.Z({xmin:re[0],ymin:re[1],xmax:re[2],ymax:re[3],spatialReference:ve})}function B(re,ve){ve[0]<re[0]&&(re[0]=ve[0]),ve[0]>re[2]&&(re[2]=ve[0]),ve[1]<re[1]&&(re[1]=ve[1]),ve[1]>re[3]&&(re[3]=ve[1])}function k(re,ve,Oe){if(null!=ve)if("length"in ve)ae(ve)?(Oe[0]=Math.min(re[0],ve[0]),Oe[1]=Math.min(re[1],ve[1]),Oe[2]=Math.max(re[2],ve[2]),Oe[3]=Math.max(re[3],ve[3])):2!==ve.length&&3!==ve.length||(Oe[0]=Math.min(re[0],ve[0]),Oe[1]=Math.min(re[1],ve[1]),Oe[2]=Math.max(re[2],ve[0]),Oe[3]=Math.max(re[3],ve[1]));else switch(ve.type){case"extent":Oe[0]=Math.min(re[0],ve.xmin),Oe[1]=Math.min(re[1],ve.ymin),Oe[2]=Math.max(re[2],ve.xmax),Oe[3]=Math.max(re[3],ve.ymax);break;case"point":Oe[0]=Math.min(re[0],ve.x),Oe[1]=Math.min(re[1],ve.y),Oe[2]=Math.max(re[2],ve.x),Oe[3]=Math.max(re[3],ve.y)}else V(Oe,re)}function N(re){return null==re||re[0]>=re[2]?0:re[2]-re[0]}function P(re){return null==re||re[1]>=re[3]?0:re[3]-re[1]}function w(re){return N(re)*P(re)}function Q(re,ve,Oe){return ve>=re[0]&&Oe>=re[1]&&ve<=re[2]&&Oe<=re[3]}function oe(re,ve,Oe){return ve[0]>=re[0]-Oe&&ve[1]>=re[1]-Oe&&ve[0]<=re[2]+Oe&&ve[1]<=re[3]+Oe}function se(re,ve){return Math.max(ve[0],re[0])<=Math.min(ve[2],re[2])&&Math.max(ve[1],re[1])<=Math.min(ve[3],re[3])}function ue(re,ve){return ve[0]>=re[0]&&ve[2]<=re[2]&&ve[1]>=re[1]&&ve[3]<=re[3]}function te(re){return re?V(re,ne):U(ne)}function ae(re){return null!=re&&4===re.length}function ce(re,ve){return ae(re)&&ae(ve)?re[0]===ve[0]&&re[1]===ve[1]&&re[2]===ve[2]&&re[3]===ve[3]:re===ve}const ne=[1/0,1/0,-1/0,-1/0],pe=[0,0,0,0]},43585:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$P:()=>x,C6:()=>H,Cs:()=>B,Yg:()=>R,lC:()=>P,qu:()=>k});var C=E(45425);function D(w){return void 0!==w.xmin&&void 0!==w.ymin&&void 0!==w.xmax&&void 0!==w.ymax}function Z(w){return void 0!==w.points}function j(w){return void 0!==w.x&&void 0!==w.y}function U(w){return void 0!==w.paths}function Y(w){return void 0!==w.rings}function V(w){return function O(I,T){return null==I?T:null==T?I:w(I,T)}}const $=V(Math.min),L=V(Math.max);function x(w,O){return U(O)?H(w,O.paths,!1,!1):Y(O)?H(w,O.rings,!1,!1):Z(O)?P(w,O.points,!1,!1,!1,!1):D(O)?N(w,O):(j(O)&&(w[0]=O.x,w[1]=O.y,w[2]=O.x,w[3]=O.y),w)}function B(w){let O,I,T,W;for(w.reset(),O=T=1/0,I=W=-1/0;w.nextPath();){const z=k(w);O=Math.min(z[0],O),T=Math.min(z[1],T),I=Math.max(z[2],I),W=Math.max(z[3],W)}return(0,C.Ue)([O,T,I,W])}function k(w){let O,I,T,W;for(O=T=1/0,I=W=-1/0;w.nextPoint();)O=Math.min(w.x,O),T=Math.min(w.y,T),I=Math.max(w.x,I),W=Math.max(w.y,W);return(0,C.Ue)([O,T,I,W])}function R(w,O){return U(O)?H(w,O.paths,!0,!1):Y(O)?H(w,O.rings,!0,!1):Z(O)?P(w,O.points,!0,!1,!0,!1):D(O)?N(w,O,0,0,!0,!1):(j(O)&&(w[0]=O.x,w[1]=O.y,w[2]=O.z,w[3]=O.x,w[4]=O.y,w[5]=O.z),w)}function H(w,O,I,T){const W=I?3:2;if(!O.length||!O[0].length)return null;let z,F,Q,J,[oe,se]=O[0][0],[ue,he]=O[0][0];for(let G=0;G<O.length;G++){const le=O[G];for(let q=0;q<le.length;q++){const fe=le[q],[ge,me]=fe;if(oe=$(oe,ge),se=$(se,me),ue=L(ue,ge),he=L(he,me),I&&fe.length>2){const te=fe[2];z=$(z,te),F=L(F,te)}if(T&&fe.length>W){const te=fe[W];Q=$(z,te),J=L(F,te)}}}return I?T?(w[0]=oe,w[1]=se,w[2]=z,w[3]=Q,w[4]=ue,w[5]=he,w[6]=F,w[7]=J,w.length=8,w):(w[0]=oe,w[1]=se,w[2]=z,w[3]=ue,w[4]=he,w[5]=F,w.length=6,w):T?(w[0]=oe,w[1]=se,w[2]=Q,w[3]=ue,w[4]=he,w[5]=J,w.length=6,w):(w[0]=oe,w[1]=se,w[2]=ue,w[3]=he,w.length=4,w)}function N(w,O,I,T,W,z){const F=O.xmin,Q=O.xmax,J=O.ymin,oe=O.ymax;let se=O.zmin,ue=O.zmax,he=O.mmin,G=O.mmax;return W?(se=se||0,ue=ue||0,z?(he=he||0,G=G||0,w[0]=F,w[1]=J,w[2]=se,w[3]=he,w[4]=Q,w[5]=oe,w[6]=ue,w[7]=G,w):(w[0]=F,w[1]=J,w[2]=se,w[3]=Q,w[4]=oe,w[5]=ue,w)):z?(he=he||0,G=G||0,w[0]=F,w[1]=J,w[2]=he,w[3]=Q,w[4]=oe,w[5]=G,w):(w[0]=F,w[1]=J,w[2]=Q,w[3]=oe,w)}function P(w,O,I,T,W,z){const F=I?3:2,Q=T&&z,J=I&&W;if(!O.length||!O[0].length)return null;let oe,se,ue,he,[G,le]=O[0],[q,fe]=O[0];for(let ge=0;ge<O.length;ge++){const me=O[ge],[te,ae]=me;if(G=$(G,te),le=$(le,ae),q=L(q,te),fe=L(fe,ae),J&&me.length>2){const ee=me[2];oe=$(oe,ee),se=L(se,ee)}if(Q&&me.length>F){const ee=me[F];ue=$(oe,ee),he=L(se,ee)}}return W?(oe=oe||0,se=se||0,z?(ue=ue||0,he=he||0,w[0]=G,w[1]=le,w[2]=oe,w[3]=ue,w[4]=q,w[5]=fe,w[6]=se,w[7]=he,w):(w[0]=G,w[1]=le,w[2]=oe,w[3]=q,w[4]=fe,w[5]=se,w)):z?(ue=ue||0,he=he||0,w[0]=G,w[1]=le,w[2]=ue,w[3]=q,w[4]=fe,w[5]=he,w):(w[0]=G,w[1]=le,w[2]=q,w[3]=fe,w)}},56880:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$G:()=>Z,NA:()=>k,Zc:()=>V,tO:()=>j});var C=E(93297),D=E(54746);function Z(N){return N?N.hasZ?[N.xmax-N.xmin/2,N.ymax-N.ymin/2,N.zmax-N.zmin/2]:[N.xmax-N.xmin/2,N.ymax-N.ymin/2]:null}function j(N){return N?function U(N,P){if(!N?.length)return null;const w=[],O=[],I=P?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let T=0,W=N.length;T<W;T++){const z=Y(N[T],P,I);z&&O.push(z)}if(O.sort((T,W)=>{let z=T[2]-W[2];return 0===z&&P&&(z=T[4]-W[4]),z}),O.length&&(w[0]=O[0][0],w[1]=O[0][1],P&&(w[2]=O[0][3]),(w[0]<I[0]||w[0]>I[1]||w[1]<I[2]||w[1]>I[3]||P&&(w[2]<I[4]||w[2]>I[5]))&&(w.length=0)),!w.length){const T=N[0]&&N[0].length?function $(N,P){const w=P?[0,0,0]:[0,0],O=P?[0,0,0]:[0,0];let I=0,T=0,W=0,z=0;for(let F=0,Q=N.length;F<Q-1;F++){const J=N[F],oe=N[F+1];if(J&&oe){w[0]=J[0],w[1]=J[1],O[0]=oe[0],O[1]=oe[1],P&&J.length>2&&oe.length>2&&(w[2]=J[2],O[2]=oe[2]);const se=(0,D.xA)(w,O);if(se){I+=se;const ue=(0,D.Gi)(J,oe);T+=se*ue[0],W+=se*ue[1],P&&ue.length>2&&(z+=se*ue[2])}}}return I>0?P?[T/I,W/I,z/I]:[T/I,W/I]:N.length?N[0]:null}(N[0],P):null;if(!T)return null;w[0]=T[0],w[1]=T[1],P&&T.length>2&&(w[2]=T[2])}return w}(N.rings,N.hasZ??!1):null}function Y(N,P,w){let O=0,I=0,T=0,W=0,z=0;const F=N.length?N[0][0]:0,Q=N.length?N[0][1]:0,J=N.length&&P?N[0][2]:0;for(let se=0;se<N.length;se++){const ue=N[se],he=N[(se+1)%N.length],[G,le,q]=ue,fe=G-F,ge=le-Q,[me,te,ae]=he,ee=me-F,ce=te-Q,ie=fe*ce-ee*ge;if(W+=ie,O+=(fe+ee)*ie,I+=(ge+ce)*ie,P&&ue.length>2&&he.length>2){const ne=q-J,pe=ae-J,ye=fe*pe-ee*ne;T+=(ne+pe)*ye,z+=ye}G<w[0]&&(w[0]=G),G>w[1]&&(w[1]=G),le<w[2]&&(w[2]=le),le>w[3]&&(w[3]=le),P&&(q<w[4]&&(w[4]=q),q>w[5]&&(w[5]=q))}if(W>0&&(W*=-1),z>0&&(z*=-1),!W)return null;W*=.5,z*=.5;const oe=[O/(6*W)+F,I/(6*W)+Q,W];return P&&(w[4]===w[5]||0===z?(oe[3]=(w[4]+w[5])/2,oe[4]=0):(oe[3]=T/(6*z)+J,oe[4]=z)),oe}function V(N,P){let w=0,O=0,I=0;N.nextPoint();const T=N.pathSize?N.x:0,W=N.pathSize?N.y:0;for(let z=0;z<N.pathSize;z++){N.seekInPath(z);const F=[N.x,N.y];N.seekInPath((z+1)%N.pathSize);const Q=[N.x,N.y],[J,oe]=F,se=J-T,ue=oe-W,[he,G]=Q,le=he-T,q=G-W,fe=se*q-le*ue;I+=fe,w+=(se+le)*fe,O+=(ue+q)*fe,J<P[0]&&(P[0]=J),J>P[1]&&(P[1]=J),oe<P[2]&&(P[2]=oe),oe>P[3]&&(P[3]=oe)}return I>0&&(I*=-1),I?(I*=.5,[w/(6*I)+T,O/(6*I)+W,I]):null}const B=1e-6;function k(N){let P=0;for(N.reset();N.nextPath();)P+=N.getCurrentRingArea();if(P<B){const I=function L(N){const{hasZ:P,totalSize:w}=N;if(0===w)return null;const O=[],I=[],T=P?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(N.reset();N.nextPath();){const W=Y((0,C.l)(N),N.hasZ,T);W&&I.push(W)}if(I.sort((W,z)=>{let F=W[2]-z[2];return 0===F&&P&&(F=W[4]-z[4]),F}),I.length&&(O[0]=I[0][0],O[1]=I[0][1],P&&(O[2]=I[0][3]),(O[0]<T[0]||O[0]>T[1]||O[1]<T[2]||O[1]>T[3]||P&&(O[2]<T[4]||O[2]>T[5]))&&(O.length=0)),!O.length){N.reset(),N.nextPath();const W=N.pathSize?function x(N){const{hasZ:P}=N,w=P?[0,0,0]:[0,0],O=P?[0,0,0]:[0,0];let I=0,T=0,W=0,z=0;if(N.nextPoint()){let F=N.x,Q=N.y,J=N.z;for(;N.nextPoint();){const oe=N.x,se=N.y,ue=N.z;w[0]=F,w[1]=Q,O[0]=oe,O[1]=se,P&&(w[2]=J,O[2]=ue);const he=(0,D.xA)(w,O);if(he){I+=he;const G=(0,D.Gi)(w,O);T+=he*G[0],W+=he*G[1],P&&G.length>2&&(z+=he*G[2])}F=oe,Q=se,J=ue}}return I>0?P?[T/I,W/I,z/I]:[T/I,W/I]:N.pathSize?(N.seekPathStart(),N.nextPoint(),[N.x,N.y]):null}(N):null;if(!W)return null;O[0]=W[0],O[1]=W[1],P&&W.length>2&&(O[2]=W[2])}return O}(N);return I?[I[0],I[1]]:null}const w=[0,0];if(N.reset(),!N.nextPath()||!N.nextPoint())return null;const O=[N.x,N.y];for(N.reset();N.nextPath();)H(w,O,N);return w[0]*=1/P,w[1]*=1/P,w[0]+=O[0],w[1]+=O[1],w}const R=1/3;function H(N,P,w){if(!N||!w||w.pathSize<3)return null;w.nextPoint();const O=w.x,I=w.y;w.nextPoint();let T,W=w.x-O,z=w.y-I,F=0,Q=0;for(;w.nextPoint();)F=w.x-O,Q=w.y-I,T=.5*R*(F*z-Q*W),N[0]+=T*(W+F),N[1]+=T*(z+Q),W=F,z=Q;const J=w.getCurrentRingArea(),oe=[O,I];return oe[0]-=P[0],oe[1]-=P[1],oe[0]*=J,oe[1]*=J,N[0]+=oe[0],N[1]+=oe[1],N}},5825:(Ke,Ee,E)=>{"use strict";E.d(Ee,{CI:()=>$,OQ:()=>U,Qg:()=>Y,aV:()=>D,lQ:()=>Z,uP:()=>j,wP:()=>x});const C=[0,0];function D(R,H){return null!=H&&V(R,H.x,H.y,H.z)}function Z(R,H){if(!H.points||H.points.length)return!1;for(const N of H.points)if(!U(R,N))return!1;return!0}function j(R,H){const{xmin:N,ymin:P,zmin:w,xmax:O,ymax:I,zmax:T}=H;return R.hasZ&&H.hasZ?V(R,N,P,w)&&V(R,N,I,w)&&V(R,O,I,w)&&V(R,O,P,w)&&V(R,N,P,T)&&V(R,N,I,T)&&V(R,O,I,T)&&V(R,O,P,T):V(R,N,P)&&V(R,N,I)&&V(R,O,I)&&V(R,O,P)}function U(R,H){return V(R,H[0],H[1])}function Y(R,H){return V(R,H[0],H[1],H[2])}function V(R,H,N,P){return H>=R.xmin&&H<=R.xmax&&N>=R.ymin&&N<=R.ymax&&(null==P||!R.hasZ||P>=R.zmin&&P<=R.zmax)}function $(R,H){return C[1]=H.y,C[0]=H.x,function L(R,H){return x(R.rings,H)}(R,C)}function x(R,H){if(!R)return!1;if(function B(R){return!Array.isArray(R[0][0])}(R))return k(!1,R,H);let N=!1;for(let P=0,w=R.length;P<w;P++)N=k(N,R[P],H);return N}function k(R,H,N){const[P,w]=N;let O=R,I=0;for(let T=0,W=H.length;T<W;T++){I++,I===W&&(I=0);const[z,F]=H[T],[Q,J]=H[I];(F<w&&J>=w||J<w&&F>=w)&&z+(w-F)/(J-F)*(Q-z)<P&&(O=!O)}return O}},54746:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Gi:()=>B,Tx:()=>V,Zy:()=>w,bu:()=>H,pW:()=>P,r8:()=>$,xA:()=>U});var C=E(57678),D=E(48621);function U(F,Q){const J=Q[0]-F[0],oe=Q[1]-F[1];if(F.length>2&&Q.length>2){const se=F[2]-Q[2];return Math.sqrt(J*J+oe*oe+se*se)}return Math.sqrt(J*J+oe*oe)}function V(F,Q,J,oe){return $(F,Q,J[oe],J[oe+1])}function $(F,Q,J,oe){const[se,ue]=Q,[he,G]=J,[le,q]=oe,fe=le-he,ge=q-G,ae=Math.min(1,Math.max(0,((se-he)*fe+(ue-G)*ge)/(fe*fe+ge*ge)));return F[0]=he+fe*ae,F[1]=G+ge*ae,F}function B(F,Q){return function Y(F,Q,J){const oe=F[0]+J*(Q[0]-F[0]),se=F[1]+J*(Q[1]-F[1]);return F.length>2&&Q.length>2?[oe,se,F[2]+J*(Q[2]-F[2])]:[oe,se]}(F,Q,.5)}function H(F,Q=D.R.X,J=D.R.Y){let oe=0;const se=F.length;let ue=F[0];for(let he=0;he<se-1;he++){const G=F[he+1];oe+=(G[Q]-ue[Q])*(G[J]+ue[J]),ue=G}return oe>=0}function N(F){const Q=F.length;return Q>2&&(0,C.fS)(F[0],F[Q-1])}function P(F){if("rings"in F&&(w(F),F.rings.length>0&&!H(F.rings[0])))for(const Q of F.rings)Q.reverse()}function w(F){if("rings"in F)for(const Q of F.rings)N(Q)||Q.push(Q[0].slice())}E(33721)},14138:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Wn:()=>w,_w:()=>P,aO:()=>R});var C=E(43585);const V=[];function $(O,I,T,W){return{xmin:O,ymin:I,xmax:T,ymax:W}}function L(O,I,T,W,z,F){return{xmin:O,ymin:I,zmin:T,xmax:W,ymax:z,zmax:F}}function x(O,I,T,W,z,F){return{xmin:O,ymin:I,mmin:T,xmax:W,ymax:z,mmax:F}}function B(O,I,T,W,z,F,Q,J){return{xmin:O,ymin:I,zmin:T,mmin:W,xmax:z,ymax:F,zmax:Q,mmax:J}}function k(O,I=!1,T=!1){return I?T?B(O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7]):L(O[0],O[1],O[2],O[3],O[4],O[5]):T?x(O[0],O[1],O[2],O[3],O[4],O[5]):$(O[0],O[1],O[2],O[3])}function R(O){return O?function D(O){return void 0!==O.xmin&&void 0!==O.ymin&&void 0!==O.xmax&&void 0!==O.ymax}(O)?O:function j(O){return void 0!==O.x&&void 0!==O.y}(O)?function N(O){const{x:I,y:T,z:W,m:z}=O,F=null!=z;return null!=W?F?B(I,T,W,z,I,T,W,z):L(I,T,W,I,T,W):F?x(I,T,z,I,T,z):$(I,T,I,T)}(O):function Y(O){return void 0!==O.rings}(O)?P(O):function U(O){return void 0!==O.paths}(O)?w(O):function Z(O){return void 0!==O.points}(O)?function H(O){const{hasZ:I,hasM:T,points:W}=O;return k((0,C.lC)(V,W,I??!1,T??!1),I,T)}(O):null:null}function P(O){const{hasZ:I,hasM:T,rings:W}=O,z=(0,C.C6)(V,W,I??!1,T??!1);return z?k(z,I,T):null}function w(O){const{hasZ:I,hasM:T,paths:W}=O,z=(0,C.C6)(V,W,I??!1,T??!1);return z?k(z,I,T):null}},26230:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ff:()=>N,IY:()=>O,Nl:()=>B,UT:()=>w,h_:()=>Z});var C=E(5825);function D(I,T){return(0,C.aV)(I,T)}function Z(I,T){let z,F,Q;if(I.xmin<=T.xmin){if(z=T.xmin,I.xmax<z)return!1}else if(z=I.xmin,T.xmax<z)return!1;if(I.ymin<=T.ymin){if(F=T.ymin,I.ymax<F)return!1}else if(F=I.ymin,T.ymax<F)return!1;if(I.hasZ&&T.hasZ&&T.hasZ)if(I.zmin<=T.zmin){if(Q=T.zmin,I.zmax<Q)return!1}else if(Q=I.zmin,T.zmax<Q)return!1;return!0}function j(I,T){const{points:W,hasZ:z}=T,F=z?C.Qg:C.OQ;for(const Q of W)if(F(I,Q))return!0;return!1}const U=[0,0],Y=[0,0],V=[0,0],$=[0,0],L=[U,Y,V,$],x=[[V,U],[U,Y],[Y,$],[$,V]];function B(I,T){return function k(I,T){U[0]=I.xmin,U[1]=I.ymax,Y[0]=I.xmax,Y[1]=I.ymax,V[0]=I.xmin,V[1]=I.ymin,$[0]=I.xmax,$[1]=I.ymin;for(const W of L)if((0,C.wP)(T,W))return!0;for(const W of T){if(!W.length)continue;let z=W[0];if((0,C.OQ)(I,z))return!0;for(let F=1;F<W.length;F++){const Q=W[F];if((0,C.OQ)(I,Q)||P(z,Q,x))return!0;z=Q}}return!1}(I,T.rings)}function R(I,T){U[0]=I.xmin,U[1]=I.ymax,Y[0]=I.xmax,Y[1]=I.ymax,V[0]=I.xmin,V[1]=I.ymin,$[0]=I.xmax,$[1]=I.ymin;const W=T.paths;for(const z of W){if(!W.length)continue;let F=z[0];if((0,C.OQ)(I,F))return!0;for(let Q=1;Q<z.length;Q++){const J=z[Q];if((0,C.OQ)(I,J)||P(F,J,x))return!0;F=J}}return!1}const H=[0,0];function N(I){for(let T=0;T<I.length;T++){const W=I[T];for(let F=0;F<W.length-1;F++){const Q=W[F],J=W[F+1];for(let oe=T+1;oe<I.length;oe++)for(let se=0;se<I[oe].length-1;se++){const ue=I[oe][se],he=I[oe][se+1];if(w(Q,J,ue,he,H)&&!(H[0]===Q[0]&&H[1]===Q[1]||H[0]===ue[0]&&H[1]===ue[1]||H[0]===J[0]&&H[1]===J[1]||H[0]===he[0]&&H[1]===he[1]))return!0}}const z=W.length;if(!(z<=4))for(let F=0;F<z-3;F++){let Q=z-1;0===F&&(Q=z-2);const J=W[F],oe=W[F+1];for(let se=F+2;se<Q;se++){const ue=W[se],he=W[se+1];if(w(J,oe,ue,he,H)&&!(H[0]===J[0]&&H[1]===J[1]||H[0]===ue[0]&&H[1]===ue[1]||H[0]===oe[0]&&H[1]===oe[1]||H[0]===he[0]&&H[1]===he[1]))return!0}}}return!1}function P(I,T,W){for(let z=0;z<W.length;z++)if(w(I,T,W[z][0],W[z][1]))return!0;return!1}function w(I,T,W,z,F){const[Q,J]=I,[oe,se]=T,[ue,he]=W,[G,le]=z,q=G-ue,fe=Q-ue,ge=oe-Q,me=le-he,te=J-he,ae=se-J,ee=me*ge-q*ae;if(0===ee)return!1;const ce=(q*te-me*fe)/ee,ie=(ge*te-ae*fe)/ee;return ce>=0&&ce<=1&&ie>=0&&ie<=1&&(F&&(F[0]=Q+ce*(oe-Q),F[1]=J+ce*(se-J)),!0)}function O(I){switch(I){case"esriGeometryEnvelope":case"extent":return Z;case"esriGeometryMultipoint":case"multipoint":return j;case"esriGeometryPoint":case"point":return D;case"esriGeometryPolygon":case"polygon":return B;case"esriGeometryPolyline":case"polyline":return R}}},40637:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ji:()=>H,YX:()=>V,aW:()=>$,im:()=>R,l9:()=>x,oU:()=>B,q9:()=>P,wp:()=>L});var C=E(26894),D=E(32184),Z=E(12628),j=E(85039),U=E(5391),Y=E(64222);function V(w){return void 0!==w.xmin&&void 0!==w.ymin&&void 0!==w.xmax&&void 0!==w.ymax}function $(w){return void 0!==w.points}function L(w){return void 0!==w.x&&void 0!==w.y}function x(w){return void 0!==w.paths}function B(w){return void 0!==w.rings}function R(w){return null==w?null:w instanceof D.Z?w:L(w)?j.Z.fromJSON(w):x(w)?Y.Z.fromJSON(w):B(w)?U.Z.fromJSON(w):$(w)?Z.Z.fromJSON(w):V(w)?C.Z.fromJSON(w):null}function H(w){return w?L(w)?"esriGeometryPoint":x(w)?"esriGeometryPolyline":B(w)?"esriGeometryPolygon":V(w)?"esriGeometryEnvelope":$(w)?"esriGeometryMultipoint":null:null}const N={esriGeometryPoint:j.Z,esriGeometryPolyline:Y.Z,esriGeometryPolygon:U.Z,esriGeometryEnvelope:C.Z,esriGeometryMultipoint:Z.Z};function P(w){return w&&N[w]||null}},93566:(Ke,Ee,E)=>{"use strict";E.d(Ee,{it:()=>q,wK:()=>le,aX:()=>he,or:()=>fe});var C=E(15861),D=E(11931),Z=E(57964),j=E(4703),U=E(5391),Y=E(64222),V=E(23991),$=E(33721),L=E(48230),B=(E(2189),E(66476)),k=E(40637),R=E(15462);function N(){return(N=(0,C.Z)(function*(ge,me,te,ae){const ee=(0,R.en)(ge),ce=me[0].spatialReference,ie={...ae,responseType:"json",query:{...ee.query,f:"json",sr:(0,$.B9)(ce),target:JSON.stringify({geometryType:(0,k.Ji)(me[0]),geometries:me}),cutter:JSON.stringify(te)}},ne=yield(0,B.Z)(ee.path+"/cut",ie),{cutIndexes:pe,geometries:ye=[]}=ne.data;return{cutIndexes:pe,geometries:ye.map(re=>{const ve=(0,k.im)(re);return ve.spatialReference=ce,ve})}})).apply(this,arguments)}var P=E(6785),w=E(60323);function I(){return(I=(0,C.Z)(function*(ge,me,te){const ae="string"==typeof ge?(0,P.mN)(ge):ge,ee=me[0].spatialReference,ce=(0,k.Ji)(me[0]),ie={...te,query:{...ae.query,f:"json",sr:(0,$.B9)(ee),geometries:JSON.stringify((0,w.F)(me))}},{data:ne}=yield(0,B.Z)(ae.path+"/simplify",ie);return(0,w.o)(ne.geometries,ce,ee)})).apply(this,arguments)}const T=j.Z.getLogger("esri.geometry.support.normalizeUtils");function z(ge){return"polygon"===ge[0].type}function F(ge){return"polyline"===ge[0].type}function Q(ge){const me=[];let te=0,ae=0;for(let ee=0;ee<ge.length;ee++){const ce=ge[ee];let ie=null;for(let ne=0;ne<ce.length;ne++)ie=ce[ne],me.push(ie),0===ne?(te=ie[0],ae=te):(te=Math.min(te,ie[0]),ae=Math.max(ae,ie[0]));ie&&me.push([(te+ae)/2,0])}return me}function oe(ge,me,te){if(me){const ae=function J(ge,me){if(!(ge instanceof Y.Z||ge instanceof U.Z)){const ee="straightLineDensify: the input geometry is neither polyline nor polygon";throw T.error(ee),new Z.Z(ee)}const te=(0,V.x3)(ge),ae=[];for(const ee of te){const ce=[];ae.push(ce),ce.push([ee[0][0],ee[0][1]]);for(let ie=0;ie<ee.length-1;ie++){const ne=ee[ie][0],pe=ee[ie][1],ye=ee[ie+1][0],re=ee[ie+1][1],ve=Math.sqrt((ye-ne)*(ye-ne)+(re-pe)*(re-pe)),Oe=(re-pe)/ve,Me=(ye-ne)/ve,Se=ve/me;if(Se>1){for(let X=1;X<=Se-1;X++){const be=X*me;ce.push([Me*be+ne,Oe*be+pe])}const ke=(ve+Math.floor(Se-1)*me)/2;ce.push([Me*ke+ne,Oe*ke+pe])}ce.push([ye,re])}}return function W(ge){return"polygon"===ge.type}(ge)?new U.Z({rings:ae,spatialReference:ge.spatialReference}):new Y.Z({paths:ae,spatialReference:ge.spatialReference})}(ge,1e6);ge=(0,L.Sx)(ae,!0)}return te&&(ge=(0,V.Sy)(ge,te)),ge}function se(ge,me,te){if(Array.isArray(ge)){const ae=ge[0];if(ae>me){const ee=(0,V.XZ)(ae,me);ge[0]=ae+ee*(-2*me)}else if(ae<te){const ee=(0,V.XZ)(ae,te);ge[0]=ae+ee*(-2*te)}}else{const ae=ge.x;if(ae>me){const ee=(0,V.XZ)(ae,me);ge=ge.clone().offset(ee*(-2*me),0)}else if(ae<te){const ee=(0,V.XZ)(ae,te);ge=ge.clone().offset(ee*(-2*te),0)}}return ge}function he(ge,me,te){return G.apply(this,arguments)}function G(){return G=(0,C.Z)(function*(ge,me,te){if(!Array.isArray(ge))return he([ge],me);me&&"string"!=typeof me&&T.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const ae="string"==typeof me?me:me?.url??D.default.geometryServiceUrl;let ee,ce,ie,ne,pe,ye,re,ve,Oe=0;const Me=[],Se=[];for(const Re of ge)if(null!=Re)if(ee||(ee=Re.spatialReference,ce=(0,$.C5)(ee),ie=ee.isWebMercator,ye=ie?102100:4326,ne=V.UZ[ye].maxX,pe=V.UZ[ye].minX,re=V.UZ[ye].plus180Line,ve=V.UZ[ye].minus180Line),ce)if("mesh"===Re.type)Se.push(Re);else if("point"===Re.type)Se.push(se(Re.clone(),ne,pe));else if("multipoint"===Re.type){const Fe=Re.clone();Fe.points=Fe.points.map(qe=>se(qe,ne,pe)),Se.push(Fe)}else if("extent"===Re.type){const Fe=Re.clone()._normalize(!1,!1,ce);Se.push(Fe.rings?new U.Z(Fe):Fe)}else if(Re.extent){const Fe=Re.extent,qe=(0,V.XZ)(Fe.xmin,pe)*(2*ne);let We=0===qe?Re.clone():(0,V.Sy)(Re.clone(),qe);Fe.offset(qe,0),Fe.intersects(re)&&Fe.xmax!==ne?(Oe=Fe.xmax>Oe?Fe.xmax:Oe,We=oe(We,ie),Me.push(We),Se.push("cut")):Fe.intersects(ve)&&Fe.xmin!==pe?(Oe=Fe.xmax*(2*ne)>Oe?Fe.xmax*(2*ne):Oe,We=oe(We,ie,360),Me.push(We),Se.push("cut")):Se.push(We)}else Se.push(Re.clone());else Se.push(Re);else Se.push(Re);let ke=(0,V.XZ)(Oe,ne),xe=-90;const Ge=ke,X=new Y.Z;for(;ke>0;){const Re=360*ke-180;X.addPath([[Re,xe],[Re,-1*xe]]),xe*=-1,ke--}if(Me.length>0&&Ge>0){const Re=function ue(ge,me){let te=-1;for(let ae=0;ae<me.cutIndexes.length;ae++){const ee=me.cutIndexes[ae],ce=me.geometries[ae],ie=(0,V.x3)(ce);for(let ne=0;ne<ie.length;ne++){const pe=ie[ne];pe.some(ye=>{if(ye[0]<180)return!0;{let re=0;for(let Oe=0;Oe<pe.length;Oe++){const Me=pe[Oe][0];re=Me>re?Me:re}re=Number(re.toFixed(9));const ve=-360*(0,V.XZ)(re,180);for(let Oe=0;Oe<pe.length;Oe++){const Me=ce.getPoint(ne,Oe);ce.setPoint(ne,Oe,Me.clone().offset(ve,0))}return!0}})}if(ee===te){if(z(ge))for(const ne of(0,V.x3)(ce))ge[ee]=ge[ee].addRing(ne);else if(F(ge))for(const ne of(0,V.x3)(ce))ge[ee]=ge[ee].addPath(ne)}else te=ee,ge[ee]=ce}return ge}(Me,yield function H(ge,me,te,ae){return N.apply(this,arguments)}(ae,Me,X,te)),Fe=[],qe=[];for(let Ne=0;Ne<Se.length;Ne++){const Ce=Se[Ne];if("cut"!==Ce)qe.push(Ce);else{const Pe=Re.shift(),Ae=ge[Ne];null!=Ae&&"polygon"===Ae.type&&Ae.rings&&Ae.rings.length>1&&Pe.rings.length>=Ae.rings.length?(Fe.push(Pe),qe.push("simplify")):qe.push(ie?(0,L.$)(Pe):Pe)}}if(!Fe.length)return qe;const We=yield function O(ge,me,te){return I.apply(this,arguments)}(ae,Fe,te),He=[];for(let Ne=0;Ne<qe.length;Ne++){const Ce=qe[Ne];He.push("simplify"!==Ce?Ce:ie?(0,L.$)(We.shift()):We.shift())}return He}const be=[];for(let Re=0;Re<Se.length;Re++){const Fe=Se[Re];if("cut"!==Fe)be.push(Fe);else{const qe=Me.shift();be.push(!0===ie?(0,L.$)(qe):qe)}}return be}),G.apply(this,arguments)}function le(ge){if(!ge)return null;const me=ge.extent;if(!me)return null;const te=ge.spatialReference&&(0,$.C5)(ge.spatialReference);if(!te)return me;const[ae,ee]=te.valid,ce=2*ee,{width:ie}=me;let ne,{xmin:pe,xmax:ye}=me;if([pe,ye]=[ye,pe],"extent"===ge.type||0===ie||ie<=ee||ie>ce||pe<ae||ye>ee)return me;switch(ge.type){case"polygon":if(!(ge.rings.length>1))return me;ne=Q(ge.rings);break;case"polyline":if(!(ge.paths.length>1))return me;ne=Q(ge.paths);break;case"multipoint":ne=ge.points}const re=me.clone();for(let ve=0;ve<ne.length;ve++){let Oe=ne[ve][0];Oe<0?(Oe+=ee,ye=Math.max(Oe,ye)):(Oe-=ee,pe=Math.min(Oe,pe))}return re.xmin=pe,re.xmax=ye,re.width<ie?(re.xmin-=ee,re.xmax-=ee,re):me}function q(ge,me,te){const ae=(0,$.C5)(te);if(null==ae)return ge;const[ee,ce]=ae.valid,ie=2*ce;let ne=0,pe=0;me>ce?ne=Math.ceil(Math.abs(me-ce)/ie):me<ee&&(ne=-Math.ceil(Math.abs(me-ee)/ie)),ge>ce?pe=Math.ceil(Math.abs(ge-ce)/ie):ge<ee&&(pe=-Math.ceil(Math.abs(ge-ee)/ie));let ye=ge+(ne-pe)*ie;const re=ye-me;return re>ce?ye-=ie:re<ee&&(ye+=ie),ye}function fe(ge,me){const te=(0,$.C5)(me);if(te){const[ae,ee]=te.valid,ce=ee-ae;if(ge<ae)for(;ge<ae;)ge+=ce;if(ge>ee)for(;ge>ee;)ge-=ce}return ge}},23991:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Sy:()=>Y,UZ:()=>j,XZ:()=>U,x3:()=>V});var C=E(64222),D=E(43814),Z=E(40637);const j={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new C.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:D.Z.WebMercator}),minus180Line:new C.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:D.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new C.Z({paths:[[[180,-180],[180,180]]],spatialReference:D.Z.WGS84}),minus180Line:new C.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:D.Z.WGS84})}};function U($,L){return Math.ceil(($-L)/(2*L))}function Y($,L){const x=V($);for(const B of x)for(const k of B)k[0]+=L;return $}function V($){return(0,Z.oU)($)?$.rings:$.paths}},40408:(Ke,Ee,E)=>{"use strict";E.d(Ee,{dp:()=>U,o2:()=>L,yZ:()=>j});var C=E(55117),D=E(49602);const Z=96;function j(k,R){const H=R||k.extent,N=k.width,P=(0,D.c9)(H?.spatialReference);return H&&N?H.width/N*P*D.hd*Z:0}function U(k,R){return k/((0,D.c9)(R)*D.hd*Z)}function L(k,R,H){return function x(k,R){return 0===R||(0,C.W8)(k,R)||k<R}(k,R)&&function B(k,R){return 0===R||(0,C.W8)(k,R)||k>R}(k,H)}},33721:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B9:()=>N,BZ:()=>Q,C5:()=>k,JY:()=>ue,ME:()=>J,MP:()=>se,N$:()=>w,QM:()=>z,R_:()=>G,V2:()=>oe,WR:()=>le,Zn:()=>he,fS:()=>B,o$:()=>F,oR:()=>O,sS:()=>W,sT:()=>P,xl:()=>I,yW:()=>T});var C=E(72578),Z=(E(39392),E(24512)),j=E(74359);const U={102113:!0,102100:!0,3857:!0,3785:!0},Y={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},V='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',$=[-20037508.342788905,20037508.342788905],L=[-20037508.342787,20037508.342787],x={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$,origin:L,dx:1e-5},102100:{wkTemplate:V,valid:$,origin:L,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$,origin:L,dx:1e-5},3857:{wkTemplate:V,valid:$,origin:L,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function B(q,fe){if(q===fe)return!0;if(null==q||null==fe)return!1;if(null!=q.wkid||null!=fe.wkid)return q.wkid===fe.wkid||W(q)&&W(fe)||null!=fe.latestWkid&&q.wkid===fe.latestWkid||null!=q.latestWkid&&fe.wkid===q.latestWkid;const ge=q.wkt2??q.wkt,me=fe.wkt2??fe.wkt;return!(!ge||!me)&&ge.toUpperCase()===me.toUpperCase()}function k(q){return ue(q)&&q.wkid&&x[q.wkid]||null}function N(q){if(!q)return;if(q.wkid)return String(q.wkid);const fe=q.wkt||q.wkt2;return JSON.stringify(fe?{wkt:fe}:{})}function P(q){if(!ue(q))return!1;if(q.wkid)return null==j.Z[q.wkid];const fe=q.wkt2||q.wkt;return!!fe&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(fe)}function w(q){return!(Q(q)||oe(q))}function O(q){return ue(q)&&4326===q.wkid}function I(q){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(q)}function T(q){return ue(q)&&q.wkid===Z.W.CGCS2000}function W(q){return ue(q)&&null!=q.wkid&&!0===U[q.wkid]}function z(q){return ue(q)&&32662===q.wkid}function F(q){return q===Z.W.GCSMARS2000||q===Z.W.GCSMARS2000_SPHERE}function Q(q){return ue(q)&&null!=q.wkid&&F(q.wkid)}function J(q){return q===Z.W.GCSMOON2000}function oe(q){return ue(q)&&null!=q.wkid&&J(q.wkid)}function se(q){return ue(q)&&null!=q.wkid&&!0===Y[q.wkid]}function ue(q){return null!=q&&(null!=q.wkid&&q.wkid>=2e3||null!=q.wkt2||null!=q.wkt)}const he={wkid:4326,wkt:(0,C.gx)(x[4326].wkTemplate,{Central_Meridian:"0.0"})},G={wkid:102100,latestWkid:3857},le={wkid:32662}},31709:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>D,P:()=>Z});var C=E(84303);const D=(0,C.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Z=(0,C.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},48230:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$:()=>O,Q8:()=>H,R6:()=>w,Sx:()=>I,hG:()=>P,iV:()=>N,mZ:()=>x});var C=E(34222),D=E(43814),Z=E(82301),j=E(33721);const U=57.29577951308232,Y=.017453292519943;function V(T){return T*U}function $(T){return T*Y}function x(T){return Math.PI/2-2*Math.atan(Math.exp(-T/Z.sv.radius))}function B(T){return null!=T.wkid||null!=T.wkt}const k=[0,0];function R(T,W,z,F,Q){const J=T,oe=Q;if(oe.spatialReference=z,"x"in J&&"x"in oe)[oe.x,oe.y]=W(J.x,J.y,k,F);else if("xmin"in J&&"xmin"in oe)[oe.xmin,oe.ymin]=W(J.xmin,J.ymin,k,F),[oe.xmax,oe.ymax]=W(J.xmax,J.ymax,k,F);else if("paths"in J&&"paths"in oe||"rings"in J&&"rings"in oe){const se="paths"in J?J.paths:J.rings,ue=[];let he;for(let G=0;G<se.length;G++){const le=se[G];he=[],ue.push(he);for(let q=0;q<le.length;q++)he.push(W(le[q][0],le[q][1],[0,0],F)),le[q].length>2&&he[q].push(le[q][2]),le[q].length>3&&he[q].push(le[q][3])}"paths"in oe?oe.paths=ue:oe.rings=ue}else if("points"in J&&"points"in oe){const se=J.points,ue=[];for(let he=0;he<se.length;he++)ue[he]=W(se[he][0],se[he][1],[0,0],F),se[he].length>2&&ue[he].push(se[he][2]),se[he].length>3&&ue[he].push(se[he][3]);oe.points=ue}return Q}function H(T,W){const z=T&&(B(T)?T:T.spatialReference),F=W&&(B(W)?W:W.spatialReference);return!(T&&"type"in T&&"mesh"===T.type||W&&"type"in W&&"mesh"===W.type||!z||!F)&&(!!(0,j.fS)(F,z)||(0,j.sS)(F)&&(0,j.oR)(z)||(0,j.sS)(z)&&(0,j.oR)(F))}function N(T,W){if(null==T)return null;const z=T.spatialReference,F=W&&(B(W)?W:W.spatialReference);return H(z,F)?(0,j.fS)(z,F)?(0,C.d9)(T):(0,j.sS)(F)?R(T,P,D.Z.WebMercator,!1,(0,C.d9)(T)):(0,j.oR)(F)?R(T,w,D.Z.WGS84,!1,(0,C.d9)(T)):null:null}function P(T,W,z=[0,0]){W>89.99999?W=89.99999:W<-89.99999&&(W=-89.99999);const F=$(W);return z[0]=$(T)*Z.sv.radius,z[1]=Z.sv.halfSemiMajorAxis*Math.log((1+Math.sin(F))/(1-Math.sin(F))),z}function w(T,W,z=[0,0],F=!1){const Q=V(T/Z.sv.radius);return z[0]=F?Q:Q-360*Math.floor((Q+180)/360),z[1]=V(Math.PI/2-2*Math.atan(Math.exp(-W/Z.sv.radius))),z}function O(T,W=!1,z=(0,C.d9)(T)){return R(T,P,D.Z.WebMercator,W,z)}function I(T,W=!1,z=(0,C.d9)(T)){return R(T,w,D.Z.WGS84,W,z)}},9740:(Ke,Ee,E)=>{"use strict";function C(D,Z,j=!1){let{hasM:U,hasZ:Y}=D;Array.isArray(Z)?4!==Z.length||U||Y?3===Z.length&&j&&!U?(Y=!0,U=!1):3===Z.length&&U&&Y&&(U=!1,Y=!1):(U=!0,Y=!0):(Y=!Y&&Z.hasZ&&(!U||Z.hasM),U=!U&&Z.hasM&&(!Y||Z.hasZ)),D.hasZ=Y,D.hasM=U}E.d(Ee,{l:()=>C})},53456:(Ke,Ee,E)=>{"use strict";E.d(Ee,{k:()=>j});var C=E(49602),D=E(82921),Z=E(33721);function j(x,B,k){if(null==B||null==k||k.vcsWkid||(0,Z.fS)(B,k)||(0,D.oe)(B)||(0,D.oe)(k))return null;const R=(0,C._R)(B)/(0,C._R)(k);if(1===R)return null;switch(x){case"point":case"esriGeometryPoint":return H=>function U(x,B){null!=x?.z&&(x.z*=B)}(H,R);case"polyline":case"esriGeometryPolyline":return H=>function V(x,B){if(x)for(const k of x.paths)for(const R of k)R.length>2&&(R[2]*=B)}(H,R);case"polygon":case"esriGeometryPolygon":return H=>function Y(x,B){if(x)for(const k of x.rings)for(const R of k)R.length>2&&(R[2]*=B)}(H,R);case"multipoint":case"esriGeometryMultipoint":return H=>function $(x,B){if(x)for(const k of x.points)k.length>2&&(k[2]*=B)}(H,R);case"extent":case"esriGeometryEnvelope":return H=>function L(x,B){x&&null!=x.zmin&&null!=x.zmax&&(x.zmin*=B,x.zmax*=B)}(H,R);default:return null}}},91531:(Ke,Ee,E)=>{"use strict";E(94678),E(37689),E(36766),E(55829);var U=E(33653),Y=E(15861),V=E(66476),$=E(57964);function x(){return(x=(0,Y.Z)(function*(w,O,I,T){const W=O.exec(I);if(!W)throw new $.Z("esri-intl:invalid-bundle",`Bundle id "${I}" is not compatible with the pattern "${O}"`);const z=W[1]?`${W[1]}/`:"",F=W[2],Q=(0,U.Su)(T),J=`${z}${F}.json`,oe=Q?`${z}${F}_${Q}.json`:J;let se;try{se=yield B(w(oe))}catch(ue){if(oe===J)throw new $.Z("intl:unknown-bundle",`Bundle "${I}" cannot be loaded`,{error:ue});try{se=yield B(w(J))}catch(he){throw new $.Z("intl:unknown-bundle",`Bundle "${I}" cannot be loaded`,{error:he})}}return se})).apply(this,arguments)}function B(w){return k.apply(this,arguments)}function k(){return(k=(0,Y.Z)(function*(w){if(null!=N.fetchBundleAsset)return N.fetchBundleAsset(w);const O=yield(0,V.Z)(w,{responseType:"text"});return JSON.parse(O.data)})).apply(this,arguments)}class R{constructor({base:O="",pattern:I,location:T=new URL(window.location.href)}){let W;W="string"==typeof T?z=>new URL(z,new URL(T,window.location.href)).href:T instanceof URL?z=>new URL(z,T).href:T,this.pattern="string"==typeof I?new RegExp(`^${I}`):I,this.getAssetUrl=W,O=O?O.endsWith("/")?O:O+"/":"",this.matcher=new RegExp(`^${O}(?:(.*)/)?(.*)$`)}fetchMessageBundle(O,I){return function L(w,O,I,T){return x.apply(this,arguments)}(this.getAssetUrl,this.matcher,O,I)}}const N={};var P=E(98930);(0,U.tz)(function H(w){return new R(w)}({pattern:"esri/",location:P.V}))},94678:(Ke,Ee,E)=>{"use strict";E.d(Ee,{LJ:()=>oe,Xr:()=>O,Ze:()=>F,f1:()=>ue,i$:()=>se,o8:()=>J,p6:()=>Q});var C=E(84303),D=E(55829),Z=E(764),j=E(25037);const U={year:void 0,month:void 0,day:void 0,weekday:void 0},Y={hour:void 0,minute:void 0,second:void 0},V={timeZone:Z.pt},$={year:"numeric",month:"numeric",day:"numeric"},L={year:"numeric",month:"long",day:"numeric"},x={year:"numeric",month:"short",day:"numeric"},B={year:"numeric",month:"long",weekday:"long",day:"numeric"},k={hour:"numeric",minute:"numeric"},R={...k,second:"numeric"},H={hourCycle:"h23"},N={...k,...H},P={...R,...H},w={"short-date":$,"short-date-short-time":{...$,...k},"short-date-short-time-24":{...$,...N},"short-date-long-time":{...$,...R},"short-date-long-time-24":{...$,...P},"short-date-le":$,"short-date-le-short-time":{...$,...k},"short-date-le-short-time-24":{...$,...N},"short-date-le-long-time":{...$,...R},"short-date-le-long-time-24":{...$,...P},"long-month-day-year":L,"long-month-day-year-short-time":{...L,...k},"long-month-day-year-short-time-24":{...L,...N},"long-month-day-year-long-time":{...L,...R},"long-month-day-year-long-time-24":{...L,...P},"day-short-month-year":x,"day-short-month-year-short-time":{...x,...k},"day-short-month-year-short-time-24":{...x,...N},"day-short-month-year-long-time":{...x,...R},"day-short-month-year-long-time-24":{...x,...P},"long-date":B,"long-date-short-time":{...B,...k},"long-date-short-time-24":{...B,...N},"long-date-long-time":{...B,...R},"long-date-long-time-24":{...B,...P},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":k,"long-time":R},O=(0,C.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),I={ar:"ar-u-nu-latn-ca-gregory"};let T=new WeakMap;const W=w["short-date-short-time"];function F(le){return w[le]}function Q(le,q=W){return function z(le){let q=T.get(le);if(!q){const fe=(0,D.Kd)(),ge=I[fe]||fe,me=ue(le.timeZone??Z.By),te={...le,timeZone:me};q=new Intl.DateTimeFormat(ge,te),T.set(le,q)}return q}(q).format(le)}function J(le,q=W){return Q(new Date(le),{...q,...V,...Y})}function oe(le,q=W){return Q(new Date(`1970-01-01T${le}Z`),{...q,...V,...U})}function se(le,q=W){if(q.timeZone)return Q(new Date(le),q);const fe=j.ou.fromISO(le,{setZone:!0}),ge=(0,D.Kd)(),me=I[ge]??ge,te=0===fe.offset?Z.pt:q.timeZone,ae={...q,timeZone:te};return fe.toLocaleString(ae,{locale:me})}function ue(le){switch(le){case Z.By:return Z.o5;case Z._4:return Z.pt;default:return le}}(0,D.Ze)(()=>{T=new WeakMap})},55829:(Ke,Ee,E)=>{"use strict";E.d(Ee,{G3:()=>$,Kd:()=>Y,Ze:()=>H,qe:()=>k});var C=E(1258);let Z;const j=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function U(){return j??globalThis.navigator?.language??"en"}function Y(){return void 0===Z&&(Z=U()),Z}function $(P=Y()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(P)?.[1].toLowerCase()}const B=[];function k(P){return B.push(P),(0,C.kB)(()=>B.splice(B.indexOf(P),1))}const R=[];function H(P){return R.push(P),(0,C.kB)(()=>B.splice(R.indexOf(P),1))}globalThis.addEventListener?.("languagechange",function N(){const P=U();Z!==P&&(Z=P,[...R].forEach(w=>{w.call(null,P)}),[...B].forEach(w=>{w.call(null,P)}))})},33653:(Ke,Ee,E)=>{"use strict";E.d(Ee,{ME:()=>H,Su:()=>P,tz:()=>R});var C=E(15861),D=E(57964),Z=E(1258),j=E(79412),U=E(55829);const Y=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,V={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function L(z){return z in V}Object.keys(V);const x=[],B=new Map;function k(z){for(const F of B.keys())I(z.pattern,F)&&B.delete(F)}function R(z){return x.includes(z)||(k(z),x.unshift(z)),(0,Z.kB)(()=>{const F=x.indexOf(z);F>-1&&(x.splice(F,1),k(z))})}function H(z){return N.apply(this,arguments)}function N(){return N=(0,C.Z)(function*(z){const F=(0,U.Kd)();B.has(z)||B.set(z,function w(z,F){return O.apply(this,arguments)}(z,F));const Q=B.get(z);return Q&&(yield T.add(Q)),Q}),N.apply(this,arguments)}function P(z){if(!Y.test(z))return null;const F=Y.exec(z);if(null===F)return null;const[,Q,J]=F,oe=Q+(J?"-"+J.toUpperCase():"");return L(oe)?oe:L(Q)?Q:null}function O(){return(O=(0,C.Z)(function*(z,F){const Q=[];for(const J of x)if(I(J.pattern,z))try{return yield J.fetchMessageBundle(z,F)}catch(oe){Q.push(oe)}throw Q.length?new D.Z("intl:message-bundle-error",`Errors occurred while loading "${z}"`,{errors:Q}):new D.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${z}"`)})).apply(this,arguments)}function I(z,F){return"string"==typeof z?F.startsWith(z):z.test(F)}(0,U.Ze)(()=>{B.clear()});const T=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var z=this;return(0,C.Z)(function*(){z._dfd&&(yield z._dfd.promise)})()}add(z){return this._increase(),z.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,j.hh)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},37689:(Ke,Ee,E)=>{"use strict";E.d(Ee,{sh:()=>Y,uf:()=>V});var C=E(55829);const D={ar:"ar-u-nu-latn"};let Z=new WeakMap,j={};function Y($={}){const L={};return null!=$.digitSeparator&&(L.useGrouping=$.digitSeparator),null!=$.places&&(L.minimumFractionDigits=L.maximumFractionDigits=$.places),L}function V($,L){return Object.is($,-0)&&($=0),function U($){const L=$||j;if(!Z.has(L)){const x=(0,C.Kd)(),B=D[(0,C.Kd)()]||x;Z.set(L,new Intl.NumberFormat(B,$))}return Z.get(L)}(L).format($)}(0,C.Ze)(()=>{Z=new WeakMap,j={}})},36766:(Ke,Ee,E)=>{"use strict";E.d(Ee,{n:()=>V});var C=E(4703),D=E(71763),Z=E(72578),j=E(94678),U=E(37689);const Y=C.Z.getLogger("esri.intl.substitute");function V(k,R,H={}){const{format:N={}}=H;return(0,Z.gx)(k,P=>function $(k,R,H){let N,P;const w=k.indexOf(":");if(-1===w?N=k.trim():(N=k.slice(0,w).trim(),P=k.slice(w+1).trim()),!N)return"";const O=(0,D.hS)(N,R);if(null==O)return"";const I=(P?H?.[P]:null)??H?.[N];return I?function L(k,R){switch(R.type){case"date":return(0,j.p6)(k,R.intlOptions);case"number":return(0,U.uf)(k,R.intlOptions);default:return Y.warn("missing format descriptor for key {key}"),B(k)}}(O,I):P?function x(k,R){switch(R.toLowerCase()){case"dateformat":return(0,j.p6)(k);case"numberformat":return(0,U.uf)(k);default:return Y.warn(`inline format is unsupported since 4.12: ${R}`),/^(dateformat|datestring)/i.test(R)?(0,j.p6)(k):/^numberformat/i.test(R)?(0,U.uf)(k):B(k)}}(O,P):B(O)}(P,R,N))}function B(k){switch(typeof k){case"string":return k;case"number":return(0,U.uf)(k);case"boolean":return""+k;default:return k instanceof Date?(0,j.p6)(k):""}}},26152:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Dp:()=>V,bR:()=>U,i8:()=>Z,id:()=>j,qh:()=>Y});var C=E(14007),D=E(6785);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Z="4.28";let j,U=Z;function Y($){j=$}function V($){const L=j?.findCredential($);return L?.token?(0,D.ZN)($,"token",L.token):$}U="4.28.10",(0,C.Z)("host-webworker")},90373:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{default:()=>Nt});var C=E(15861),D=E(50484),Z=E(62691),k=(E(36699),E(15212),E(53722),E(82752),E(28999),E(38748),E(50923),E(42212),E(91963)),R=E(41007),H=E(66476),N=E(71950),P=E(25387),w=E(83944),O=E(57964),I=E(34222),T=E(4703),W=E(3233),z=E(71763),F=E(79412),Q=E(38955),J=E(6785),oe=E(80543),se=E(73018),ue=E(62185),he=E(10141),G=E(7547),le=E(76215),q=E(4177),fe=E(43814),ge=E(95060),te=(E(2189),E(35458)),ae=E(14007),ee=E(67016),ce=E(47868),ie=E(36885),ne=E(1535),ye=(E(57678),E(63788)),re=E(18101),ve=E(8295),Oe=E(93792),Me=E(26894),Se=E(5391),ke=E(31709);let xe=0,Ge=class extends(ee.Z.LoadableMixin((0,ce.v)(w.Z))){constructor(Je){super(Je),this._idToClientGraphic=null,this.type="memory"}load(Je){return this.addResolvingPromise(this._startWorker(null!=Je?Je.signal:null)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const Je=this.layer?.geometryType;return Je?this._geometryTypeRequiresClientGraphicMapping(Je)?"polygon":Je:null}applyEdits(Je){return this.load().then(()=>this._applyEdits(Je))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Je,Qe={}){var bt=this;return(0,C.Z)(function*(){yield bt.load(Qe);const Pt=yield bt._connection.invoke("queryFeatures",Je?Je.toJSON():null,Qe);(0,ve.p)(Je,bt.layer.spatialReference,Pt);const Ie=Oe.Z.fromJSON(Pt);if(!bt._requiresClientGraphicMapping())return Ie;const ct=bt.layer.objectIdField;for(const ht of Ie.features){const lt=bt._idToClientGraphic.get(ht.attributes[ct]);lt&&(ht.geometry=lt.geometry)}return Ie.geometryType=bt.layer.geometryType,Ie})()}queryFeaturesJSON(Je,Qe={}){var bt=this;return(0,C.Z)(function*(){if(bt._requiresClientGraphicMapping())throw new O.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield bt.load(Qe);const Pt=yield bt._connection.invoke("queryFeatures",Je?Je.toJSON():null,Qe);return(0,ve.p)(Je,bt.layer.spatialReference,Pt),Pt})()}queryFeatureCount(Je,Qe={}){return this.load(Qe).then(()=>this._connection.invoke("queryFeatureCount",Je?Je.toJSON():null,Qe))}queryObjectIds(Je,Qe={}){return this.load(Qe).then(()=>this._connection.invoke("queryObjectIds",Je?Je.toJSON():null,Qe))}queryExtent(Je,Qe={}){return this.load(Qe).then(()=>this._connection.invoke("queryExtent",Je?Je.toJSON():null,Qe)).then(bt=>({count:bt.count,extent:Me.Z.fromJSON(bt.extent)}))}querySnapping(Je,Qe={}){return this.load(Qe).then(()=>this._connection.invoke("querySnapping",Je,Qe))}_applyEdits(Je){var Qe=this;return(0,C.Z)(function*(){if(!Qe._connection)throw new O.Z("feature-layer-source:edit-failure","Memory source not loaded");const bt=Qe.layer.objectIdField;let Pt=null;const Ie=[],ct=[];yield Promise.all([Qe._prepareClientMapping(Je.addFeatures,null),Qe._prepareClientMapping(Je.updateFeatures,null)]);const ht=It=>"objectId"in It&&null!=It.objectId?It.objectId:"attributes"in It&&null!=It.attributes[bt]?It.attributes[bt]:null;if(Je.addFeatures&&(Pt=Qe._prepareAddFeatures(Je.addFeatures)),Je.deleteFeatures)for(const It of Je.deleteFeatures){const en=ht(It);null!=en&&Ie.push(en)}const et=Je.updateFeatures&&Qe._idToClientGraphic?new Map:null;if(Je.updateFeatures)for(const It of Je.updateFeatures)if(ct.push(Qe._serializeFeature(It)),et){const en=ht(It);null!=en&&et.set(en,It)}(0,re.P)(Pt?Pt.features:null,ct,Qe.layer.spatialReference);const{fullExtent:lt,featureEditResults:_t}=yield Qe._connection.invoke("applyEdits",{adds:Pt?Pt.features:[],updates:ct,deletes:Ie});return Qe.fullExtent=lt,Pt&&Pt.finish(_t.uidToObjectId),Qe._updateClientGraphicIds(et,_t),Qe._createEditsResult(_t)})()}_prepareClientMapping(Je,Qe){var bt=this;return(0,C.Z)(function*(){if("mesh"!==bt._layerOrSourceGeometryType||null==Je)return;const Pt=[];for(const{geometry:Ie}of Je)null==Ie||"mesh"!==Ie.type||Ie.hasExtent||Ie.loaded||Pt.push(Ie.load({signal:Qe}));Pt.length&&(yield Promise.all(Pt))})()}_updateClientGraphicIds(Je,Qe){if(this._idToClientGraphic){if(Je)for(const bt of Qe.updateResults){if(!bt.success)continue;const Pt=Je.get(bt.objectId);null!=Pt&&this._addIdToClientGraphic(Pt)}for(const bt of Qe.deleteResults)bt.success&&this._idToClientGraphic.delete(bt.objectId)}}_createEditsResult(Je){return{addFeatureResults:Je.addResults?Je.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Je.updateResults?Je.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Je.deleteResults?Je.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Je){const Qe=!0===Je.success?null:Je.error||{code:void 0,description:void 0};return{objectId:Je.objectId,globalId:Je.globalId,error:Qe?new O.Z("feature-layer-source:edit-failure",Qe.description,{code:Qe.code}):null}}_prepareAddFeatures(Je){const Qe=new Map,bt=new Array(Je.length);let Pt=null;for(let ct=0;ct<Je.length;ct++){const ht=Je[ct],et=this._serializeFeature(ht);Pt||null==ht.geometry||(Pt=ht.geometry.type),bt[ct]=et,Qe.set(`${et.uid}`,ht)}const Ie=this;return{features:bt,inferredGeometryType:Pt,finish(ct){const ht=Ie.sourceJSON.objectIdField;for(const et in ct){const lt=ct[et],_t=Qe.get(et);_t&&(_t.attributes||(_t.attributes={}),-1===lt?delete _t.attributes[ht]:_t.attributes[ht]=lt,Ie._addIdToClientGraphic(_t))}}}}_addIdToClientGraphic(Je){if(!this._idToClientGraphic)return;const Qe=this.sourceJSON.objectIdField,bt=Je.attributes?.[Qe];null!=bt&&this._idToClientGraphic.set(bt,Je)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Je){return this._geometryTypeRequiresClientGraphicMapping(Je.type)}_geometryTypeRequiresClientGraphicMapping(Je){return"mesh"===Je||"multipatch"===Je||"extent"===Je}_serializeFeature(Je){const{attributes:Qe}=Je,bt=this._geometryForSerialization(Je),Pt=(xe++).toString();return bt?{uid:Pt,geometry:bt.toJSON(),attributes:Qe}:{uid:Pt,attributes:Qe}}_geometryForSerialization(Je){const{geometry:Qe}=Je;return null==Qe?null:this._geometryRequiresClientGraphicMapping(Qe)?Qe.extent?Se.Z.fromExtent(Qe.extent):null:Qe}_startWorker(Je){var Qe=this;return(0,C.Z)(function*(){Qe._connection=yield(0,ie.bA)("MemorySourceWorker",{strategy:(0,ae.Z)("feature-layers-workers")?"dedicated":"local",signal:Je,registryTarget:Qe});const{fields:bt,spatialReference:Pt,objectIdField:Ie,hasM:ct,hasZ:ht,timeInfo:et,dateFieldsTimeZone:lt}=Qe.layer,_t="defaults"===Qe.layer.originOf("spatialReference");yield Qe._prepareClientMapping(Qe.items,Je);const It=Qe._prepareAddFeatures(Qe.items);Qe.addHandles(Qe.on("before-changes",Rn=>{T.Z.getLogger(Qe).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),Rn.preventDefault()}));const en={features:It.features,fields:bt?.map(Rn=>Rn.toJSON()),geometryType:ke.P.toJSON(Qe._workerGeometryType),hasM:"mesh"!==Qe._layerOrSourceGeometryType&&ct,hasZ:"mesh"===Qe._layerOrSourceGeometryType||ht,objectIdField:Ie,spatialReference:_t?null:Pt&&Pt.toJSON(),timeInfo:et?.toJSON()??null,dateFieldsTimeZone:lt},tn=yield Qe._connection.invoke("load",en,{signal:Je});for(const Rn of tn.warnings)T.Z.getLogger(Qe.layer).warn("#load()",`${Rn.message} (title: '${Qe.layer.title||"no title"}', id: '${Qe.layer.id??"no id"}')`,{warning:Rn});tn.featureErrors.length&&T.Z.getLogger(Qe.layer).warn("#load()",`Encountered ${tn.featureErrors.length} validation errors while loading features. (title: '${Qe.layer.title||"no title"}', id: '${Qe.layer.id??"no id"}')`,{errors:tn.featureErrors});const Bn=tn.layerDefinition;Qe._geometryTypeRequiresClientGraphicMapping(It.inferredGeometryType)&&(Bn.geometryType=ke.P.toJSON(It.inferredGeometryType)),Qe.sourceJSON=Bn,Qe._requiresClientGraphicMapping()&&(Qe._idToClientGraphic=new Map),It.finish(tn.assignedObjectIds)})()}};(0,D._)([(0,ye.c)({Type:te.Z,ensureType:(0,ne.se)(te.Z)})],Ge.prototype,"itemType",void 0),(0,D._)([(0,oe.Cb)()],Ge.prototype,"type",void 0),(0,D._)([(0,oe.Cb)({constructOnly:!0})],Ge.prototype,"layer",void 0),(0,D._)([(0,oe.Cb)({readOnly:!0})],Ge.prototype,"_workerGeometryType",null),(0,D._)([(0,oe.Cb)()],Ge.prototype,"sourceJSON",void 0),Ge=(0,D._)([(0,he.j)("esri.layers.graphics.sources.MemorySource")],Ge);var X=E(29674),be=E(4257),Re=E(19855),Fe=E(27426),qe=E(92344),We=E(12621),He=E(57942),Ne=E(96159),Ce=E(80099),Pe=E(52496),Ae=E(70509),Be=E(73514);let ze=class extends Be.Z{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,D._)([(0,oe.Cb)()],ze.prototype,"updating",void 0),(0,D._)([(0,oe.Cb)()],ze.prototype,"status",void 0),ze=(0,D._)([(0,he.j)("esri.layers.support.PublishingInfo")],ze);const st=ze,Xe="esri.layers.mixins.PublishableLayer",ot=Symbol(Xe),Et=Je=>{var Qe;let bt=class extends Je{constructor(){super(...arguments),this[Qe]=!0}get publishingInfo(){if(this.destroyed)return null;const Pt=this._get("publishingInfo");if(Pt)return Pt;const Ie=new st;return this._checkPublishingStatus(Ie),Ie}_checkPublishingStatus(Pt){var Ie=this;let et=0;const lt=function(){var It=(0,C.Z)(function*(en){let tn;Pt.updating=!0;try{tn=yield Ie.fetchPublishingStatus()}catch{tn="unavailable"}"published"!==tn&&"unavailable"!==tn||("publishing"===Pt.status&&Ie.refresh(),_t.remove()),Pt.status=tn,Pt.updating=!1,_t.removed||(et=setTimeout(lt,en,en+125))});return function(tn){return It.apply(this,arguments)}}(),_t={removed:!1,remove(){this.removed=!0,clearTimeout(et)}};this.when().catch(()=>_t.remove()),lt(250),this.addHandles(_t)}};return Qe=ot,(0,D._)([(0,oe.Cb)({readOnly:!0,clonable:!1})],bt.prototype,"publishingInfo",null),bt=(0,D._)([(0,he.j)(Xe)],bt),bt};var Lt=E(25836),Ut=E(29717),kt=E(12522),Xt=E(89713),qt=E(8966),un=E(43497),yt=E(30457),ft=E(50243),Ot=E(27969),Tt=E(85295),Vt=E(40591),ln=E(75421),nn=E(37556),an=E(97403),mn=E(83739),Cn=E(46054),vn=E(39262),hr=E(91866),xn=E(89047),Xn=E(33331),$t=E(84735),rn=E(39437);const ar="FeatureLayer",ts="esri.layers.FeatureLayer",Qt=T.Z.getLogger(ts);function Kr(Je,Qe){return new O.Z("layer:unsupported",`Layer (${Je.title}, ${Je.id}) of type '${Je.declaredClass}' ${Qe}`,{layer:Je})}function as(Je){return Je&&Je instanceof w.Z}const Mn=(0,Ot.v)();function ns(Je,Qe,bt){const Pt=!!bt?.writeLayerSchema;return{enabled:Pt,ignoreOrigin:Pt}}let rt=class extends((0,He.B)((0,Ne.M)((0,We.b)(Et((0,qe.o1)((0,Re.h)((0,Pe.c)((0,kt.n)((0,Ut.M)((0,Lt.Q)((0,be.Y)((0,Ce.q)((0,Ae.I)((0,W.R)((0,Fe.N)((0,X.V)((0,P.J)(ge.Z)))))))))))))))))){constructor(...Je){var Qe;super(...Je),Qe=this,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=fe.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=(0,F.Ds)(function(){var bt=(0,C.Z)(function*(Pt,Ie,ct){const{save:ht,saveAs:et}=yield Promise.all([E.e(8592),E.e(5006)]).then(E.bind(E,69484));switch(Pt){case $t.x.SAVE:return ht(Qe,Ie);case $t.x.SAVE_AS:return et(Qe,ct,Ie)}});return function(Pt,Ie,ct){return bt.apply(this,arguments)}}())}destroy(){this.source?.destroy()}normalizeCtorArgs(Je,Qe){return"string"==typeof Je?{url:Je,...Qe}:Je}load(Je){var Qe=this;const bt=null!=Je?Je.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(bt).then(Ie=>this.initLayerProperties(Ie))),Promise.resolve(this);const Pt=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},Je).catch(F.r9).then((0,C.Z)(function*(){if(Qe.url&&null==Qe.layerId&&/FeatureServer|MapServer\/*$/i.test(Qe.url)){const Ie=yield Qe._fetchFirstValidLayerId(bt);null!=Ie&&(Qe.layerId=Ie)}if(!Qe.url&&!Qe._hasMemorySource())throw new O.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return Qe.initLayerProperties(yield Qe.createGraphicsSource(bt))})).then(()=>(0,un.nU)(this,"load",Je));return this.addResolvingPromise(Pt),Promise.resolve(this)}readCapabilities(Je,Qe){return(0,nn.h)(Qe=Qe.layerDefinition||Qe,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Je){this._overrideIfSome("editingEnabled",Je)}readEditingEnabled(Je,Qe){return this._readEditingEnabled(Qe,!1)}readEditingEnabledFromWebMap(Je,Qe,bt){return this._readEditingEnabled(Qe,!0,bt)}writeEditingEnabled(Je,Qe){this._writeEditingEnabled(Je,Qe,!1)}writeEditingEnabledToWebMap(Je,Qe,bt,Pt){this._writeEditingEnabled(Je,Qe,!0,Pt)}get effectiveEditingEnabled(){return(0,un.sX)(this)}readIsTable(Je,Qe){return"Table"===(Qe=Qe?.layerDefinition??Qe).type||!Qe.geometryType}writeIsTable(Je,Qe,bt,Pt){Pt?.writeLayerSchema&&(0,z.RB)(bt,Je?"Table":"Feature Layer",Qe)}readGlobalIdField(Je,Qe){return(0,un.rk)(Qe.layerDefinition||Qe)}readObjectIdField(Je,Qe){return(0,un.kZ)(Qe.layerDefinition||Qe)}get parsedUrl(){const Je=(0,J.mN)(this.url);return null!=Je&&(null!=this.dynamicDataSource?Je.path=(0,J.v_)(Je.path,"dynamicLayer"):null!=this.layerId&&(Je.path=(0,J.v_)(Je.path,this.layerId.toString()))),Je}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Je){(0,Tt.YN)(Je,this.fieldsIndex),this._set("renderer",Je)}readRenderer(Je,Qe,bt){Qe=Qe.layerDefinition||Qe;const Pt=Qe.drawingInfo?.renderer;if(Pt){const Ie=(0,k.a)(Pt,Qe,bt)??void 0;return Ie||Qt.error("Failed to create renderer",{rendererDefinition:Qe.drawingInfo.renderer,layer:this,context:bt}),Ie}return(0,un.Ob)(Qe,bt)}set source(Je){const Qe=this._get("source");Qe!==Je&&(as(Qe)&&this._resetMemorySource(Qe),as(Je)&&this._initMemorySource(Je),this._set("source",Je))}castSource(Je){return Je?Array.isArray(Je)||Je instanceof w.Z?new Ge({layer:this,items:Je}):Je:null}readSource(Je,Qe){const bt=Oe.Z.fromJSON(Qe.featureSet);return new Ge({layer:this,items:bt?.features??[]})}readTemplates(Je,Qe){const bt=Qe.editFieldsInfo,Pt=bt?.creatorField,Ie=bt?.editorField;return Je=Je?.map(ct=>yt.Z.fromJSON(ct)),this._fixTemplates(Je,Pt),this._fixTemplates(Je,Ie),Je}readTitle(Je,Qe){const bt=Qe.layerDefinition?.name??Qe.name,Pt=Qe.title||Qe.layerDefinition?.title;if(bt){const Ie=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Xt.a7)(this.url,bt):bt;let ct=bt;if(!ct&&this.url){const ht=(0,Xt.Qc)(this.url);null!=ht&&(ct=ht.title)}return ct?("item-title-and-service-name"===this.sublayerTitleMode&&Ie&&Ie!==ct&&(ct=Ie+" - "+ct),(0,Xt.ld)(ct)):void 0}if("item-title"===this.sublayerTitleMode&&Pt)return Pt}readTitleFromWebMap(Je,Qe){return Qe.title||Qe.layerDefinition?.name}readTypeIdField(Je,Qe){let bt=(Qe=Qe.layerDefinition||Qe).typeIdField;if(bt&&Qe.fields){bt=bt.toLowerCase();const Pt=Qe.fields.find(Ie=>Ie.name.toLowerCase()===bt);Pt&&(bt=Pt.name)}return bt}readTypes(Je,Qe){Je=(Qe=Qe.layerDefinition||Qe).types;const bt=Qe.editFieldsInfo,Pt=bt?.creatorField,Ie=bt?.editorField;return Je?.map(ct=>(ct=ft.Z.fromJSON(ct),this._fixTemplates(ct.templates,Pt),this._fixTemplates(ct.templates,Ie),ct))}readVisible(Je,Qe){return null!=Qe.layerDefinition?.defaultVisibility?!!Qe.layerDefinition.defaultVisibility:null!=Qe.visibility?!!Qe.visibility:void 0}addAttachment(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.JD)(bt,Je,Qe,ar)})()}updateAttachment(Je,Qe,bt){var Pt=this;return(0,C.Z)(function*(){return(0,un.Y5)(Pt,Je,Qe,bt,ar)})()}applyEdits(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.Jj)(bt,Je,Qe)})()}uploadAssets(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.uj)(bt,Je,Qe)})()}on(Je,Qe){return super.on(Je,Qe)}createPopupTemplate(Je){return(0,Xn.eZ)(this,Je)}createGraphicsSource(Je){var Qe=this;return(0,C.Z)(function*(){if(Qe._hasMemorySource()&&Qe.source)return Qe.source.load({signal:Je});const{default:bt}=yield(0,F.Hl)(Promise.all([E.e(842),E.e(2784),E.e(8592),E.e(7021)]).then(E.bind(E,67021)),Je);return new bt({layer:Qe}).load({signal:Je})})()}createQuery(){const Je=(0,un.rP)(this);Je.dynamicDataSource=this.dynamicDataSource;const bt=(0,Q._)(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);return Je.where=bt||"1=1",Je}deleteAttachments(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.FV)(bt,Je,Qe,ar)})()}fetchRecomputedExtents(Je){var Qe=this;return(0,C.Z)(function*(){return(0,un.Ci)(Qe,Je,ar)})()}getFeatureType(Je){const{typeIdField:Qe,types:bt}=this;if(!Qe||!Je)return null;const Pt=Je.attributes?Je.attributes[Qe]:void 0;if(null==Pt)return null;let Ie=null;return bt?.some(ct=>{const{id:ht}=ct;return null!=ht&&(ht.toString()===Pt.toString()&&(Ie=ct),!!Ie)}),Ie}getFieldDomain(Je,Qe){const bt=Qe?.feature,Pt=this.getFeatureType(bt);if(Pt){const Ie=Pt.domains&&Pt.domains[Je];if(Ie&&"inherited"!==Ie.type)return Ie}return this._getLayerDomain(Je)}getField(Je){return this.fieldsIndex.get(Je)}queryAttachments(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.SU)(bt,Je,Qe,ar)})()}queryFeatures(Je,Qe){var bt=this;return(0,C.Z)(function*(){const Pt=yield bt.load(),Ie=yield Pt.source.queryFeatures(hr.Z.from(Je)??Pt.createQuery(),Qe);if(Ie?.features)for(const ct of Ie.features)ct.layer=ct.sourceLayer=Pt;return Ie})()}queryObjectIds(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.tD)(bt,Je,Qe,ar)})()}queryFeatureCount(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.VG)(bt,Je,Qe,ar)})()}queryExtent(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.KE)(bt,Je,Qe,ar)})()}queryRelatedFeatures(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.kp)(bt,Je,Qe,ar)})()}queryRelatedFeaturesCount(Je,Qe){var bt=this;return(0,C.Z)(function*(){return(0,un.C9)(bt,Je,Qe,ar)})()}queryTopFeatures(Je,Qe){var bt=this;return(0,C.Z)(function*(){const{source:Pt,capabilities:Ie}=yield bt.load();if(!Pt.queryTopFeatures||!Ie?.query?.supportsTopFeaturesQuery)throw new O.Z(ar,"Layer source does not support queryTopFeatures capability");const ct=yield Pt.queryTopFeatures(xn.Z.from(Je),Qe);if(ct?.features)for(const ht of ct.features)ht.layer=ht.sourceLayer=bt;return ct})()}queryTopObjectIds(Je,Qe){var bt=this;return(0,C.Z)(function*(){const{source:Pt,capabilities:Ie}=yield bt.load();if(!Pt.queryTopObjectIds||!Ie?.query.supportsTopFeaturesQuery)throw new O.Z(ar,"Layer source does not support queryTopObjectIds capability");return Pt.queryTopObjectIds(xn.Z.from(Je),Qe)})()}queryTopFeaturesExtent(Je,Qe){var bt=this;return(0,C.Z)(function*(){const{source:Pt,capabilities:Ie}=yield bt.load();if(!Pt.queryTopExtents||!Ie?.query?.supportsTopFeaturesQuery)throw new O.Z(ar,"Layer source does not support queryTopExtents capability");return Pt.queryTopExtents(xn.Z.from(Je),Qe)})()}queryTopFeatureCount(Je,Qe){var bt=this;return(0,C.Z)(function*(){const{source:Pt,capabilities:Ie}=yield bt.load();if(!Pt.queryTopCount||!Ie?.query?.supportsTopFeaturesQuery)throw new O.Z(ar,"Layer source does not support queryFeatureCount capability");return Pt.queryTopCount(xn.Z.from(Je),Qe)})()}read(Je,Qe){const bt=Je.featureCollection;if(bt){this.resourceInfo=Je;const Pt=bt.layers;Pt&&1===Pt.length&&(super.read(Pt[0],Qe),null!=bt.showLegend&&super.read({showLegend:bt.showLegend},Qe))}super.read(Je,Qe),Qe&&"service"===Qe.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(Je,Qe){Qe={...Qe,origin:Qe?.origin??void 0,writeLayerSchema:Qe?.writeLayerSchema??this._hasMemorySource()};const{origin:bt,layerContainerType:Pt,messages:Ie}=Qe;if(this.dynamicDataSource)return Ie?.push(Kr(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===bt||"web-scene"===bt)&&"tables"!==Pt)return Ie?.push(Kr(this,`a table source can only be written to tables, not ${Pt}`)),null;if(this._hasMemorySource())return Ie?.push(Kr(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===bt||"web-scene"===bt)&&"tables"===Pt)return Ie?.push(Kr(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(Je,Qe)}clone(){if(this._hasMemorySource())throw new O.Z(ar,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(Je){return!!this.loaded&&("memory"===this.source?.type||(0,mn.D)(this,Je))}save(Je){var Qe=this;return(0,C.Z)(function*(){return Qe._debouncedSaveOperations($t.x.SAVE,Je)})()}saveAs(Je,Qe){var bt=this;return(0,C.Z)(function*(){return bt._debouncedSaveOperations($t.x.SAVE_AS,Qe,Je)})()}_readEditingEnabled(Je,Qe,bt){let Pt=Je.layerDefinition?.capabilities;return Pt?this._hasEditingCapability(Pt):(Pt=Je.capabilities,Qe&&"web-map"===bt?.origin&&!this._hasMemorySource()&&Pt?this._hasEditingCapability(Pt):void 0)}_hasEditingCapability(Je){return Je.toLowerCase().split(",").map(Qe=>Qe.trim()).includes("editing")}_writeEditingEnabled(Je,Qe,bt,Pt){if(!Je){const Ie=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,z.RB)("layerDefinition.capabilities",Ie,Qe),bt&&!Pt?.writeLayerSchema&&(Qe.capabilities=Ie)}}_getLayerDomain(Je){const Qe=this.fieldsIndex.get(Je);return Qe?Qe.domain:null}_fetchFirstValidLayerId(Je){return(0,H.Z)(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:Je}).then(Qe=>{const bt=Qe.data;if(bt)return this.findFirstValidLayerId(bt)})}initLayerProperties(Je){var Qe=this;return(0,C.Z)(function*(){return Qe._set("source",Je),Je.sourceJSON&&(Qe.sourceJSON=Je.sourceJSON,Qe.read(Je.sourceJSON,{origin:"service",portalItem:Qe.portalItem,portal:Qe.portalItem?.portal,url:Qe.parsedUrl})),Qe._verifySource(),Qe._verifyFields(),(0,Tt.YN)(Qe.renderer,Qe.fieldsIndex),(0,Tt.UF)(Qe.timeInfo,Qe.fieldsIndex),(0,vn.y)(Qe,{origin:"service"})})()}hasDataChanged(){var Je=this;return(0,C.Z)(function*(){return(0,un.gG)(Je)})()}fetchPublishingStatus(){var Je=this;return(0,C.Z)(function*(){const Qe=Je.source;return Qe?.fetchPublishingStatus?Qe.fetchPublishingStatus():"unavailable"})()}_verifyFields(){const Je=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Je+")"),this.isTable||this._hasMemorySource()||-1!==Je.search(/\/FeatureServer\//i)||this.fields?.some(Qe=>"geometry"===Qe.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Je+")")}_fixTemplates(Je,Qe){Je&&Je.forEach(bt=>{const Pt=bt.prototype?.attributes;Pt&&Qe&&delete Pt[Qe]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new O.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new O.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Je){Je.forEach(Qe=>{Qe.layer=this,Qe.sourceLayer=this}),this.addHandles([Je.on("after-add",Qe=>{Qe.item.layer=this,Qe.item.sourceLayer=this}),Je.on("after-remove",Qe=>{Qe.item.layer=null,Qe.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Je){Je.forEach(Qe=>{Qe.layer=null,Qe.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(Je){return Array.isArray(Je.layers)&&Je.layers.length>0?Je.layers[0].id:Array.isArray(Je.tables)&&Je.tables.length>0?Je.tables[0].id:void 0}};(0,D._)([(0,ue.r)("service","capabilities")],rt.prototype,"readCapabilities",null),(0,D._)([(0,oe.Cb)({json:{origins:{"web-scene":{write:!1}},write:!0}})],rt.prototype,"charts",void 0),(0,D._)([(0,oe.Cb)({readOnly:!0})],rt.prototype,"createQueryVersion",null),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.copyrightText"}}})],rt.prototype,"copyright",void 0),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.displayField"}}})],rt.prototype,"displayField",void 0),(0,D._)([(0,oe.Cb)({types:N.LB,readOnly:!0})],rt.prototype,"defaultSymbol",void 0),(0,D._)([(0,oe.Cb)({type:Cn.n})],rt.prototype,"dynamicDataSource",void 0),(0,D._)([(0,oe.Cb)({type:Boolean})],rt.prototype,"editingEnabled",null),(0,D._)([(0,ue.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],rt.prototype,"readEditingEnabled",null),(0,D._)([(0,ue.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],rt.prototype,"readEditingEnabledFromWebMap",null),(0,D._)([(0,G.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],rt.prototype,"writeEditingEnabled",null),(0,D._)([(0,G.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],rt.prototype,"writeEditingEnabledToWebMap",null),(0,D._)([(0,oe.Cb)({readOnly:!0})],rt.prototype,"effectiveEditingEnabled",null),(0,D._)([(0,oe.Cb)({...Mn.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:ns}}}}})],rt.prototype,"fields",void 0),(0,D._)([(0,oe.Cb)(Mn.fieldsIndex)],rt.prototype,"fieldsIndex",void 0),(0,D._)([(0,oe.Cb)({type:q.Z,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],rt.prototype,"formTemplate",void 0),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.extent"}}})],rt.prototype,"fullExtent",void 0),(0,D._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:ns,writer(Je,Qe,bt){const Pt=Je?un.Fr.toJSON(Je):null;Pt&&(0,z.RB)(bt,Pt,Qe)}}}},read:{source:"layerDefinition.geometryType",reader:un.Fr.read}}})],rt.prototype,"geometryType",void 0),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.hasM"}}})],rt.prototype,"hasM",void 0),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.hasZ"}}})],rt.prototype,"hasZ",void 0),(0,D._)([(0,oe.Cb)(qt.id)],rt.prototype,"id",void 0),(0,D._)([(0,oe.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],rt.prototype,"infoFor3D",void 0),(0,D._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],rt.prototype,"isTable",void 0),(0,D._)([(0,ue.r)("service","isTable",["type","geometryType"]),(0,ue.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],rt.prototype,"readIsTable",null),(0,D._)([(0,G.c)("web-map","isTable")],rt.prototype,"writeIsTable",null),(0,D._)([(0,oe.Cb)(qt.iR)],rt.prototype,"labelsVisible",void 0),(0,D._)([(0,oe.Cb)({type:[Vt.Z],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:ln.r,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:ln.r,write:{enabled:!0,layerContainerTypes:le.C}}},name:"layerDefinition.drawingInfo.labelingInfo",read:ln.r,write:!0}})],rt.prototype,"labelingInfo",void 0),(0,D._)([(0,oe.Cb)((()=>{const Je=(0,I.d9)(qt.bT);return Je.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(Qe,bt,Pt){(0,z.RB)(Pt,(0,rn.a)(Qe),bt)}}},Je})())],rt.prototype,"opacity",void 0),(0,D._)([(0,oe.Cb)(qt.rn)],rt.prototype,"legendEnabled",void 0),(0,D._)([(0,oe.Cb)({type:["show","hide"],json:(()=>{const Je=(0,I.d9)(qt.rT.json);return Je.origins["portal-item"]={read:!1,write:!1},Je})()})],rt.prototype,"listMode",void 0),(0,D._)([(0,ue.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],rt.prototype,"readGlobalIdField",null),(0,D._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:ns}}}}})],rt.prototype,"objectIdField",void 0),(0,D._)([(0,ue.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],rt.prototype,"readObjectIdField",null),(0,D._)([(0,oe.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],rt.prototype,"operationalLayerType",void 0),(0,D._)([(0,oe.Cb)(Mn.outFields)],rt.prototype,"outFields",void 0),(0,D._)([(0,oe.Cb)({readOnly:!0})],rt.prototype,"parsedUrl",null),(0,D._)([(0,oe.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],rt.prototype,"path",void 0),(0,D._)([(0,oe.Cb)(qt.C_)],rt.prototype,"popupEnabled",void 0),(0,D._)([(0,oe.Cb)({type:Z.Z,json:{name:"popupInfo",write:!0}})],rt.prototype,"popupTemplate",void 0),(0,D._)([(0,oe.Cb)({readOnly:!0})],rt.prototype,"defaultPopupTemplate",null),(0,D._)([(0,oe.Cb)({types:R.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:R.o,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:le.C,overridePolicy:(Je,Qe,bt)=>({ignoreOrigin:bt?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Je,Qe,bt)=>({ignoreOrigin:bt?.writeLayerSchema})}}})],rt.prototype,"renderer",null),(0,D._)([(0,ue.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,ue.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],rt.prototype,"readRenderer",null),(0,D._)([(0,oe.Cb)()],rt.prototype,"resourceInfo",void 0),(0,D._)([(0,oe.Cb)((()=>{const Je=(0,I.d9)(qt.YI);return Je.json.origins["portal-item"]={read:!1,write:!1},Je})())],rt.prototype,"screenSizePerspectiveEnabled",void 0),(0,D._)([(0,oe.Cb)({clonable:!1})],rt.prototype,"source",null),(0,D._)([(0,se.p)("source")],rt.prototype,"castSource",null),(0,D._)([(0,ue.r)("portal-item","source",["featureSet"]),(0,ue.r)("web-map","source",["featureSet"])],rt.prototype,"readSource",null),(0,D._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],rt.prototype,"spatialReference",void 0),(0,D._)([(0,oe.Cb)({type:Number})],rt.prototype,"subtypeCode",void 0),(0,D._)([(0,oe.Cb)({type:[yt.Z]})],rt.prototype,"templates",void 0),(0,D._)([(0,ue.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],rt.prototype,"readTemplates",null),(0,D._)([(0,oe.Cb)({type:an.Z})],rt.prototype,"timeInfo",void 0),(0,D._)([(0,oe.Cb)()],rt.prototype,"title",void 0),(0,D._)([(0,ue.r)("service","title",["name"]),(0,ue.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],rt.prototype,"readTitle",null),(0,D._)([(0,ue.r)("web-map","title",["layerDefinition.name","title"])],rt.prototype,"readTitleFromWebMap",null),(0,D._)([(0,oe.Cb)({type:String})],rt.prototype,"sublayerTitleMode",void 0),(0,D._)([(0,oe.Cb)({json:{read:!1}})],rt.prototype,"type",void 0),(0,D._)([(0,oe.Cb)({type:String})],rt.prototype,"typeIdField",void 0),(0,D._)([(0,ue.r)("service","typeIdField"),(0,ue.r)("typeIdField",["layerDefinition.typeIdField"])],rt.prototype,"readTypeIdField",null),(0,D._)([(0,oe.Cb)({type:[ft.Z]})],rt.prototype,"types",void 0),(0,D._)([(0,ue.r)("service","types",["types"]),(0,ue.r)("types",["layerDefinition.types"])],rt.prototype,"readTypes",null),(0,D._)([(0,oe.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],rt.prototype,"visible",void 0),(0,D._)([(0,ue.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],rt.prototype,"readVisible",null),rt=(0,D._)([(0,he.j)(ts)],rt);const Nt=rt},95060:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Q});var C=E(15861),D=E(50484),j=(E(2189),E(66476)),U=E(57964),Y=E(88278),V=E(84373),$=E(67016),L=E(4703),x=E(79412),B=E(6785),k=E(80543),P=(E(1535),E(57678),E(14007),E(10141)),w=E(11931);function I(){return(I=(0,C.Z)(function*(J){const oe="portalItem"in J?J:{portalItem:J},{fromItem:se}=yield E.e(2772).then(E.bind(E,82772));try{return yield se(oe)}catch(ue){const he=oe&&oe.portalItem,G=he?.id||"unset",le=he&&he.portal&&he.portal.url||w.default.portalUrl;throw L.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+le+"', id: '"+G+"')",ue),ue}})).apply(this,arguments)}var T=E(26894),W=E(43814);let z=0,F=class extends(Y.Z.EventedMixin((0,V.IG)($.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new T.Z(-180,-90,180,90,W.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+z++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=W.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(J){return(0,C.Z)(function*(){const oe="string"==typeof J?{url:J}:J;return(yield Promise.all([E.e(8592),E.e(8667)]).then(E.bind(E,28667))).fromUrl(oe)})()}static fromPortalItem(J){return function O(J){return I.apply(this,arguments)}(J)}initialize(){this.when().catch(J=>{(0,x.D_)(J)||L.Z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:J})})}destroy(){const J=this.parent;if(J){const oe=this;"layers"in J&&J.layers.includes(oe)?J.layers.remove(oe):"tables"in J&&J.tables.includes(oe)?J.tables.remove(oe):"baseLayers"in J&&J.baseLayers.includes(oe)?J.baseLayers.remove(oe):"referenceLayers"in J&&J.referenceLayers.includes(oe)&&J.referenceLayers.remove(oe),this._set("parent",null)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,B.mN)(this.url)}fetchAttributionData(){var J=this;return(0,C.Z)(function*(){const oe=J.attributionDataUrl;if(J.hasAttributionData&&oe)return(yield(0,j.Z)(oe,{query:{f:"json"},responseType:"json"})).data;throw new U.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,D._)([(0,k.Cb)({type:String})],F.prototype,"attributionDataUrl",void 0),(0,D._)([(0,k.Cb)({type:T.Z})],F.prototype,"fullExtent",void 0),(0,D._)([(0,k.Cb)({readOnly:!0})],F.prototype,"hasAttributionData",null),(0,D._)([(0,k.Cb)({type:String,clonable:!1})],F.prototype,"id",void 0),(0,D._)([(0,k.Cb)({type:Boolean,nonNullable:!0})],F.prototype,"legendEnabled",void 0),(0,D._)([(0,k.Cb)({type:["show","hide","hide-children"]})],F.prototype,"listMode",void 0),(0,D._)([(0,k.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],F.prototype,"opacity",void 0),(0,D._)([(0,k.Cb)({clonable:!1})],F.prototype,"parent",void 0),(0,D._)([(0,k.Cb)({readOnly:!0})],F.prototype,"parsedUrl",null),(0,D._)([(0,k.Cb)({type:Boolean,readOnly:!0})],F.prototype,"persistenceEnabled",void 0),(0,D._)([(0,k.Cb)({type:Boolean})],F.prototype,"popupEnabled",void 0),(0,D._)([(0,k.Cb)({type:Boolean})],F.prototype,"attributionVisible",void 0),(0,D._)([(0,k.Cb)({type:W.Z})],F.prototype,"spatialReference",void 0),(0,D._)([(0,k.Cb)({type:String})],F.prototype,"title",void 0),(0,D._)([(0,k.Cb)({readOnly:!0,json:{read:!1}})],F.prototype,"type",void 0),(0,D._)([(0,k.Cb)()],F.prototype,"url",void 0),(0,D._)([(0,k.Cb)({type:Boolean,nonNullable:!0})],F.prototype,"visible",void 0),F=(0,D._)([(0,P.j)("esri.layers.Layer")],F);const Q=F},54786:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AM:()=>k});var C=E(50484),D=E(73514),Z=E(14007),j=E(34222),U=E(4703),Y=E(80543),$=(E(1535),E(10141)),L=E(8818),x=E(99072);let k=class extends D.Z{constructor(O){super(O),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,Z.Z)("mapview-transitions-duration"),this.effects=[]}set effect(O){if(this._get("effect")!==(O=O||"")){this._set("effect",O);try{this._transitionTo(R(O))}catch(I){this._transitionTo([]),U.Z.getLogger(this).warn("Invalid Effect",{effect:O,error:I})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(O){this._updateForScale(O)}get transitioning(){return null!==this._to}canTransitionTo(O){try{return this.scale>0&&H(this._current,R(O),this.scale)}catch{return!1}}transitionStep(O,I){this._applyTimeTransition(O),this._updateForScale(I)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(O){this.scale>0&&H(this._current,O,this.scale)?(this._final=O,this._to=(0,j.d9)(O),function N(O,I,T){const W=O.length>I.length?O:I,z=O.length>I.length?I:O,F=z[z.length-1],Q=F?.scale??T,J=F?.effects??[];for(let oe=z.length;oe<W.length;oe++)z.push({scale:Q,effects:[...J]});for(let oe=0;oe<W.length;oe++)z[oe].scale=-1===z[oe].scale?T:z[oe].scale,W[oe].scale=-1===W[oe].scale?T:W[oe].scale,(0,x.uF)(z[oe].effects,W[oe].effects)}(this._current,this._to,this.scale),this._from=(0,j.d9)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=O),this._set("effects",this._current[0]?(0,j.d9)(this._current[0].effects):[])}_applyTimeTransition(O){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=O;const I=Math.min(1,this._time/this.duration);for(let T=0;T<this._current.length;T++){const W=this._current[T],z=this._from[T],F=this._to[T];W.scale=P(z.scale,F.scale,I);for(let Q=0;Q<W.effects.length;Q++)W.effects[Q].interpolate(z.effects[Q],F.effects[Q],I)}1===I&&(this._current=this._final,this._set("effects",this._current[0]?(0,j.d9)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(O){if(this._set("scale",O),0===this._current.length)return;const I=this._current,T=this._current.length-1;let W,z,F=1;if(1===I.length||O>=I[0].scale)z=W=I[0].effects;else if(O<=I[T].scale)z=W=I[T].effects;else for(let Q=0;Q<T;Q++){const J=I[Q],oe=I[Q+1];if(J.scale>=O&&oe.scale<=O){F=(O-J.scale)/(oe.scale-J.scale),W=J.effects,z=oe.effects;break}}for(let Q=0;Q<this.effects.length;Q++)this.effects[Q].interpolate(W[Q],z[Q],F)}};function R(O){const I=(0,L.Q)(O)||[];return function w(O){const I=O[0];return!!I&&"type"in I}(I)?[{scale:-1,effects:I}]:I}function H(O,I,T){return!O[0]?.effects||!I[0]?.effects||!((-1===O[0]?.scale||-1===I[0]?.scale)&&(O.length>1||I.length>1)&&T<=0)&&(0,x.AS)(O[0].effects,I[0].effects)}function P(O,I,T){return O+(I-O)*T}(0,C._)([(0,Y.Cb)()],k.prototype,"_to",void 0),(0,C._)([(0,Y.Cb)()],k.prototype,"duration",void 0),(0,C._)([(0,Y.Cb)({value:""})],k.prototype,"effect",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],k.prototype,"effects",void 0),(0,C._)([(0,Y.Cb)({readOnly:!0})],k.prototype,"hasEffects",null),(0,C._)([(0,Y.Cb)({value:0})],k.prototype,"scale",null),(0,C._)([(0,Y.Cb)({readOnly:!0})],k.prototype,"transitioning",null),k=(0,C._)([(0,$.j)("esri.layers.effects.EffectView")],k)},79421:(Ke,Ee,E)=>{"use strict";E.d(Ee,{rk:()=>w,Tj:()=>O,GI:()=>I,CE:()=>T,Tq:()=>W,Zx:()=>z,Ee:()=>J});var C=E(16343),D=E(55768);function Z(){const oe=new Float32Array(16);return oe[0]=1,oe[5]=1,oe[10]=1,oe[15]=1,oe}const V=Z();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:V,clone:function j(oe){const se=new Float32Array(16);return se[0]=oe[0],se[1]=oe[1],se[2]=oe[2],se[3]=oe[3],se[4]=oe[4],se[5]=oe[5],se[6]=oe[6],se[7]=oe[7],se[8]=oe[8],se[9]=oe[9],se[10]=oe[10],se[11]=oe[11],se[12]=oe[12],se[13]=oe[13],se[14]=oe[14],se[15]=oe[15],se},create:Z,createView:function Y(oe,se){return new Float32Array(oe,se,16)},fromValues:function U(oe,se,ue,he,G,le,q,fe,ge,me,te,ae,ee,ce,ie,ne){const pe=new Float32Array(16);return pe[0]=oe,pe[1]=se,pe[2]=ue,pe[3]=he,pe[4]=G,pe[5]=le,pe[6]=q,pe[7]=fe,pe[8]=ge,pe[9]=me,pe[10]=te,pe[11]=ae,pe[12]=ee,pe[13]=ce,pe[14]=ie,pe[15]=ne,pe}},Symbol.toStringTag,{value:"Module"}));var L=E(60838);class w{constructor(se,ue,he){this.strength=se,this.radius=ue,this.threshold=he,this.type="bloom"}interpolate(se,ue,he){this.strength=F(se.strength,ue.strength,he),this.radius=F(se.radius,ue.radius,he),this.threshold=F(se.threshold,ue.threshold,he)}clone(){return new w(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Q(this.radius),strength:this.strength,threshold:this.threshold}}}class O{constructor(se){this.radius=se,this.type="blur"}interpolate(se,ue,he){this.radius=Math.round(F(se.radius,ue.radius,he))}clone(){return new O(this.radius)}toJSON(){return{type:"blur",radius:Q(this.radius)}}}class I{constructor(se,ue){this.type=se,this.amount=ue,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(se,ue,he){this.amount=F(se.amount,ue.amount,he),this._updateMatrix()}clone(){return new I(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const se=this._colorMatrix||Z();switch(this.type){case"brightness":this._colorMatrix=((oe,se)=>{const ue=(0,L.s)(oe,se,0,0,0,0,se,0,0,0,0,se,0,0,0,0,1);return(0,L.t)(ue,ue)})(se,this.amount);break;case"contrast":this._colorMatrix=((oe,se)=>{const ue=(0,L.s)(oe,se,0,0,.5-.5*se,0,se,0,.5-.5*se,0,0,se,.5-.5*se,0,0,0,1);return(0,L.t)(ue,ue)})(se,this.amount);break;case"grayscale":this._colorMatrix=((oe,se)=>{const ue=1-this.amount,he=(0,L.s)(oe,.2126+.7874*ue,.7152-.7152*ue,.0722-.0722*ue,0,.2126-.2126*ue,.7152+.2848*ue,.0722-.0722*ue,0,.2126-.2126*ue,.7152-.7152*ue,.0722+.9278*ue,0,0,0,0,1);return(0,L.t)(he,he)})(se);break;case"invert":this._colorMatrix=((oe,se)=>{const ue=1-2*se,he=(0,L.s)(oe,ue,0,0,se,0,ue,0,se,0,0,ue,se,0,0,0,1);return(0,L.t)(he,he)})(se,this.amount);break;case"saturate":this._colorMatrix=((oe,se)=>{const ue=(0,L.s)(oe,.213+.787*se,.715-.715*se,.072-.072*se,0,.213-.213*se,.715+.285*se,.072-.072*se,0,.213-.213*se,.715-.715*se,.072+.928*se,0,0,0,0,1);return(0,L.t)(ue,ue)})(se,this.amount);break;case"sepia":this._colorMatrix=((oe,se)=>{const ue=1-this.amount,he=(0,L.s)(oe,.393+.607*ue,.769-.769*ue,.189-.189*ue,0,.349-.349*ue,.686+.314*ue,.168-.168*ue,0,.272-.272*ue,.534-.534*ue,.131+.869*ue,0,0,0,0,1);return(0,L.t)(he,he)})(se)}}}class T{constructor(se,ue,he,G){this.offsetX=se,this.offsetY=ue,this.blurRadius=he,this.color=G,this.type="drop-shadow"}interpolate(se,ue,he){this.offsetX=F(se.offsetX,ue.offsetX,he),this.offsetY=F(se.offsetY,ue.offsetY,he),this.blurRadius=F(se.blurRadius,ue.blurRadius,he),this.color[0]=Math.round(F(se.color[0],ue.color[0],he)),this.color[1]=Math.round(F(se.color[1],ue.color[1],he)),this.color[2]=Math.round(F(se.color[2],ue.color[2],he)),this.color[3]=F(se.color[3],ue.color[3],he)}clone(){return new T(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const se=[...this.color];return se[3]*=255,{type:"drop-shadow",xoffset:Q(this.offsetX),yoffset:Q(this.offsetY),blurRadius:Q(this.blurRadius),color:se}}}class W{constructor(se){this.angle=se,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(se,ue,he){this.angle=F(se.angle,ue.angle,he),this._updateMatrix()}clone(){return new W(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const se=this._colorMatrix||Z();this._colorMatrix=((oe,se)=>{const ue=Math.sin(se*Math.PI/180),he=Math.cos(se*Math.PI/180),G=(0,L.s)(oe,.213+.787*he-.213*ue,.715-.715*he-.715*ue,.072-.072*he+.928*ue,0,.213-.213*he+.143*ue,.715+.285*he+.14*ue,.072-.072*he-.283*ue,0,.213-.213*he-.787*ue,.715-.715*he+.715*ue,.072+.928*he+.072*ue,0,0,0,0,1);return(0,L.t)(G,G)})(se,this.angle)}}class z{constructor(se){this.amount=se,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(se,ue,he){this.amount=F(se.amount,ue.amount,he)}clone(){return new z(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function F(oe,se,ue){return oe+(se-oe)*ue}function Q(oe){return Math.round(1e3*(0,D.Wz)(oe))/1e3}function J(oe){switch(oe.type){case"grayscale":case"sepia":case"invert":return new I(oe.type,0);case"saturate":case"brightness":case"contrast":return new I(oe.type,1);case"opacity":return new z(1);case"hue-rotate":return new W(0);case"blur":return new O(0);case"drop-shadow":return new T(0,0,0,[...(0,C.h$)("transparent")]);case"bloom":return new w(0,0,1)}}},53984:(Ke,Ee,E)=>{"use strict";E.d(Ee,{cW:()=>Y,ij:()=>U,rM:()=>x});var C=E(57964),D=E(71763),Z=E(8818),j=E(99072);function U(R,H,N){try{return function $(R){if(!R||0===R.length)return null;if(function L(R){const H=R[0];return!!H&&"scale"in H}(R)){const H=[];for(const N of R)H.push({scale:N.scale,value:x(N.value)});return H}return x(R)}(R)}catch(P){N?.messages?.push(P)}return null}function Y(R,H,N,P){try{const w=function V(R){const H=(0,Z.Q)(R);return H?(0,j.Cb)(H)?H.map(N=>N.toJSON()):H.map(({scale:N,effects:P})=>({scale:N,value:P.map(w=>w.toJSON())})):null}(R);(0,D.RB)(N,w,H)}catch(w){P.messages&&P.messages.push(w)}}function x(R){if(!R?.length)return"";const H=[];for(const N of R){let P=[];switch(N.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":P=[B(N,"amount")];break;case"blur":P=[B(N,"radius","pt")];break;case"hue-rotate":P=[B(N,"angle","deg")];break;case"drop-shadow":P=[B(N,"xoffset","pt"),B(N,"yoffset","pt"),B(N,"blurRadius","pt"),k(N,"color")];break;case"bloom":P=[B(N,"strength"),B(N,"radius","pt"),B(N,"threshold")]}const w=`${N.type}(${P.filter(Boolean).join(" ")})`;(0,Z.Q)(w),H.push(w)}return H.join(" ")}function B(R,H,N){if(null==R[H])throw new C.Z("effect:missing-parameter",`Missing parameter '${H}' in ${R.type} effect`,{effect:R});return N?R[H]+N:""+R[H]}function k(R,H){if(null==R[H])throw new C.Z("effect:missing-parameter",`Missing parameter '${H}' in ${R.type} effect`,{effect:R});const N=R[H];return`rgba(${N[0]||0}, ${N[1]||0}, ${N[2]||0}, ${N[3]/255||0})`}},8818:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Q:()=>x});var Y,C=E(16343),D=E(57964),Z=E(79421),U=(E(90104),E(99072)),$={exports:{}};(Y=$).exports&&(Y.exports=function(){function ee(ne,pe,ye,re){var ve=Error.call(this,ne);return Object.setPrototypeOf&&Object.setPrototypeOf(ve,ee.prototype),ve.expected=pe,ve.found=ye,ve.location=re,ve.name="SyntaxError",ve}function ce(ne,pe,ye){return ye=ye||" ",ne.length>pe?ne:ne+(ye+=ye.repeat(pe-=ne.length)).slice(0,pe)}return function ae(ne,pe){function ye(){this.constructor=ne}ye.prototype=pe.prototype,ne.prototype=new ye}(ee,Error),ee.prototype.format=function(ne){var pe="Error: "+this.message;if(this.location){var ye,re=null;for(ye=0;ye<ne.length;ye++)if(ne[ye].source===this.location.source){re=ne[ye].text.split(/\r\n|\n|\r/g);break}var ve=this.location.start,Oe=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(ve):ve,Me=this.location.source+":"+Oe.line+":"+Oe.column;if(re){var Se=this.location.end,ke=ce("",Oe.line.toString().length," "),xe=re[ve.line-1],Ge=(ve.line===Se.line?Se.column:xe.length+1)-ve.column||1;pe+="\n --\x3e "+Me+"\n"+ke+" |\n"+Oe.line+" | "+xe+"\n"+ke+" | "+ce("",ve.column-1," ")+ce("",Ge,"^")}else pe+="\n at "+Me}return pe},ee.buildMessage=function(ne,pe){var ye={literal:function(xe){return'"'+ve(xe.text)+'"'},class:function(xe){var Ge=xe.parts.map(function(X){return Array.isArray(X)?Oe(X[0])+"-"+Oe(X[1]):Oe(X)});return"["+(xe.inverted?"^":"")+Ge.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(xe){return xe.description}};function re(xe){return xe.charCodeAt(0).toString(16).toUpperCase()}function ve(xe){return xe.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Ge){return"\\x0"+re(Ge)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Ge){return"\\x"+re(Ge)})}function Oe(xe){return xe.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Ge){return"\\x0"+re(Ge)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Ge){return"\\x"+re(Ge)})}function Me(xe){return ye[xe.type](xe)}return"Expected "+function Se(xe){var Ge,X,be=xe.map(Me);if(be.sort(),be.length>0){for(Ge=1,X=1;Ge<be.length;Ge++)be[Ge-1]!==be[Ge]&&(be[X]=be[Ge],X++);be.length=X}switch(be.length){case 1:return be[0];case 2:return be[0]+" or "+be[1];default:return be.slice(0,-1).join(", ")+", or "+be[be.length-1]}}(ne)+" but "+function ke(xe){return xe?'"'+ve(xe)+'"':"end of input"}(pe)+" found."},{SyntaxError:ee,parse:function ie(ne,pe){var ye,re={},ve=(pe=void 0!==pe?pe:{}).grammarSource,Oe={start:vc},Me=vc,Se="none",ke=")",xe=",",Ge="(",X="%",be="px",Re="cm",Fe="mm",qe="in",We="pt",He="pc",Ne="deg",Ce="rad",Pe="grad",Ae="turn",Be="#",ze=".",st="e",Xe=/^[ \t\n\r]/,ot=/^[a-z\-]/,ut=/^[0-9a-fA-F]/,Et=/^[+\-]/,Lt=/^[0-9]/,Ut=bi("none"),kt=Yn("none",!1),Xt=Yn(")",!1),qt=Yn(",",!1),un=bi("whitespace"),yt=fa([" ","\t","\n","\r"],!1,!1),ft=bi("function"),Ot=Yn("(",!1),Tt=bi("identifier"),Vt=fa([["a","z"],"-"],!1,!1),ln=bi("percentage"),nn=Yn("%",!1),an=bi("length"),mn=Yn("px",!1),Cn=Yn("cm",!1),vn=Yn("mm",!1),hr=Yn("in",!1),xn=Yn("pt",!1),Xn=Yn("pc",!1),$t=bi("angle"),rn=Yn("deg",!1),ar=Yn("rad",!1),ts=Yn("grad",!1),Qt=Yn("turn",!1),Kr=bi("number"),as=bi("color"),Mn=Yn("#",!1),ns=fa([["0","9"],["a","f"],["A","F"]],!1,!1),rt=fa(["+","-"],!1,!1),Nt=fa([["0","9"]],!1,!1),Je=Yn(".",!1),Qe=Yn("e",!1),bt=function(){return[]},Pt=function(pt,Zt){return{type:"function",name:pt,parameters:Zt||[]}},Ie=function(pt,Zt){return Zt.length>0?function Ji(pt,Zt,Ft){return[pt].concat(function Zo(pt,Zt){return pt.map(function(Ft){return Ft[Zt]})}(Zt,Ft))}(pt,Zt,3):[pt]},ct=function(pt){return{type:"quantity",value:pt.value,unit:pt.unit}},ht=function(pt){return{type:"color",colorType:pt.type,value:pt.value}},et=function(pt){return pt},lt=function(){return Vo()},_t=function(pt){return{value:pt,unit:"%"}},It=function(pt){return{value:pt,unit:"px"}},en=function(pt){return{value:pt,unit:"cm"}},tn=function(pt){return{value:pt,unit:"mm"}},Bn=function(pt){return{value:pt,unit:"in"}},Rn=function(pt){return{value:pt,unit:"pt"}},$n=function(pt){return{value:pt,unit:"pc"}},Ir=function(pt){return{value:pt,unit:"deg"}},_r=function(pt){return{value:pt,unit:"rad"}},jr=function(pt){return{value:pt,unit:"grad"}},Os=function(pt){return{value:pt,unit:"turn"}},En=function(pt){return{value:pt,unit:null}},ir=function(){return{type:"hex",value:Vo()}},vo=function(pt){return{type:"function",value:pt}},ui=function(){return{type:"named",value:Vo()}},Wo=function(){return parseFloat(Vo())},Rt=0,yr=0,Ts=[{line:1,column:1}],Tn=0,Eo=[],_n=0;if("startRule"in pe){if(!(pe.startRule in Oe))throw new Error("Can't start parsing from rule \""+pe.startRule+'".');Me=Oe[pe.startRule]}function Vo(){return ne.substring(yr,Rt)}function Yn(pt,Zt){return{type:"literal",text:pt,ignoreCase:Zt}}function fa(pt,Zt,Ft){return{type:"class",parts:pt,inverted:Zt,ignoreCase:Ft}}function bi(pt){return{type:"other",description:pt}}function ci(pt){var Zt,Ft=Ts[pt];if(Ft)return Ft;for(Zt=pt-1;!Ts[Zt];)Zt--;for(Ft={line:(Ft=Ts[Zt]).line,column:Ft.column};Zt<pt;)10===ne.charCodeAt(Zt)?(Ft.line++,Ft.column=1):Ft.column++,Zt++;return Ts[pt]=Ft,Ft}function jn(pt){Rt<Tn||(Rt>Tn&&(Tn=Rt,Eo=[]),Eo.push(pt))}function vc(){var pt;return(pt=function Rs(){var pt,Zt;return _n++,pt=Rt,Dr(),ne.substr(Rt,4)===Se?(Zt=Se,Rt+=4):(Zt=re,0===_n&&jn(kt)),Zt!==re?(Dr(),yr=pt,pt=bt()):(Rt=pt,pt=re),_n--,pt===re&&0===_n&&jn(Ut),pt}())===re&&(pt=function An(){var pt,Zt;if(pt=[],(Zt=Ul())!==re)for(;Zt!==re;)pt.push(Zt),Zt=Ul();else pt=re;return pt}()),pt}function Ul(){var pt,Zt,Ft,Un;return pt=Rt,Dr(),(Zt=function Ln(){var pt,Zt,Ft;return _n++,pt=Rt,(Zt=Cr())!==re?(40===ne.charCodeAt(Rt)?(Ft=Ge,Rt++):(Ft=re,0===_n&&jn(Ot)),Ft!==re?(yr=pt,pt=et(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),_n--,pt===re&&(Zt=re,0===_n&&jn(ft)),pt}())!==re?(Dr(),(Ft=function ma(){var pt,Zt,Ft,Un,Vr,Fn,ys,ga;if(pt=Rt,(Zt=il())!==re){for(Ft=[],Un=Rt,Vr=Dr(),44===ne.charCodeAt(Rt)?(Fn=xe,Rt++):(Fn=re,0===_n&&jn(qt)),Fn===re&&(Fn=null),ys=Dr(),(ga=il())!==re?Un=Vr=[Vr,Fn,ys,ga]:(Rt=Un,Un=re);Un!==re;)Ft.push(Un),Un=Rt,Vr=Dr(),44===ne.charCodeAt(Rt)?(Fn=xe,Rt++):(Fn=re,0===_n&&jn(qt)),Fn===re&&(Fn=null),ys=Dr(),(ga=il())!==re?Un=Vr=[Vr,Fn,ys,ga]:(Rt=Un,Un=re);yr=pt,pt=Ie(Zt,Ft)}else Rt=pt,pt=re;return pt}())===re&&(Ft=null),Dr(),41===ne.charCodeAt(Rt)?(Un=ke,Rt++):(Un=re,0===_n&&jn(Xt)),Un!==re?(Dr(),yr=pt,pt=Pt(Zt,Ft)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt}function il(){var pt,Zt;return pt=Rt,(Zt=function ya(){var pt,Zt,Ft;return _n++,pt=Rt,Dr(),(Zt=Gr())!==re?(37===ne.charCodeAt(Rt)?(Ft=X,Rt++):(Ft=re,0===_n&&jn(nn)),Ft!==re?(yr=pt,pt=_t(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),_n--,pt===re&&0===_n&&jn(ln),pt}())===re&&(Zt=function bn(){var pt,Zt,Ft;return _n++,pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===be?(Ft=be,Rt+=2):(Ft=re,0===_n&&jn(mn)),Ft!==re?(yr=pt,pt=It(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===Re?(Ft=Re,Rt+=2):(Ft=re,0===_n&&jn(Cn)),Ft!==re?(yr=pt,pt=en(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===Fe?(Ft=Fe,Rt+=2):(Ft=re,0===_n&&jn(vn)),Ft!==re?(yr=pt,pt=tn(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===qe?(Ft=qe,Rt+=2):(Ft=re,0===_n&&jn(hr)),Ft!==re?(yr=pt,pt=Bn(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===We?(Ft=We,Rt+=2):(Ft=re,0===_n&&jn(xn)),Ft!==re?(yr=pt,pt=Rn(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,Dr(),(Zt=Gr())!==re?(ne.substr(Rt,2)===He?(Ft=He,Rt+=2):(Ft=re,0===_n&&jn(Xn)),Ft!==re?(yr=pt,pt=$n(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re)))))),_n--,pt===re&&0===_n&&jn(an),pt}())===re&&(Zt=function Mu(){var pt,Zt,Ft;return _n++,pt=Rt,(Zt=Gr())!==re?(ne.substr(Rt,3)===Ne?(Ft=Ne,Rt+=3):(Ft=re,0===_n&&jn(rn)),Ft!==re?(yr=pt,pt=Ir(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,(Zt=Gr())!==re?(ne.substr(Rt,3)===Ce?(Ft=Ce,Rt+=3):(Ft=re,0===_n&&jn(ar)),Ft!==re?(yr=pt,pt=_r(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,(Zt=Gr())!==re?(ne.substr(Rt,4)===Pe?(Ft=Pe,Rt+=4):(Ft=re,0===_n&&jn(ts)),Ft!==re?(yr=pt,pt=jr(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re),pt===re&&(pt=Rt,(Zt=Gr())!==re?(ne.substr(Rt,4)===Ae?(Ft=Ae,Rt+=4):(Ft=re,0===_n&&jn(Qt)),Ft!==re?(yr=pt,pt=Os(Zt)):(Rt=pt,pt=re)):(Rt=pt,pt=re)))),_n--,pt===re&&(Zt=re,0===_n&&jn($t)),pt}())===re&&(Zt=function Ps(){var pt,Zt;return _n++,pt=Rt,Dr(),(Zt=Gr())!==re?(yr=pt,pt=En(Zt)):(Rt=pt,pt=re),_n--,pt===re&&0===_n&&jn(Kr),pt}()),Zt!==re&&(yr=pt,Zt=ct(Zt)),(pt=Zt)===re&&(pt=Rt,(Zt=function bo(){var pt,Zt,Ft,Un;if(_n++,pt=Rt,35===ne.charCodeAt(Rt)?(Zt=Be,Rt++):(Zt=re,0===_n&&jn(Mn)),Zt!==re){if(Ft=[],ut.test(ne.charAt(Rt))?(Un=ne.charAt(Rt),Rt++):(Un=re,0===_n&&jn(ns)),Un!==re)for(;Un!==re;)Ft.push(Un),ut.test(ne.charAt(Rt))?(Un=ne.charAt(Rt),Rt++):(Un=re,0===_n&&jn(ns));else Ft=re;Ft!==re?(yr=pt,pt=ir()):(Rt=pt,pt=re)}else Rt=pt,pt=re;return pt===re&&(pt=Rt,(Zt=Ul())!==re&&(yr=pt,Zt=vo(Zt)),(pt=Zt)===re&&(pt=Rt,(Zt=Cr())!==re&&(yr=pt,Zt=ui()),pt=Zt)),_n--,pt===re&&(Zt=re,0===_n&&jn(as)),pt}())!==re&&(yr=pt,Zt=ht(Zt)),pt=Zt),pt}function Dr(){var pt,Zt;for(_n++,pt=[],Xe.test(ne.charAt(Rt))?(Zt=ne.charAt(Rt),Rt++):(Zt=re,0===_n&&jn(yt));Zt!==re;)pt.push(Zt),Xe.test(ne.charAt(Rt))?(Zt=ne.charAt(Rt),Rt++):(Zt=re,0===_n&&jn(yt));return _n--,Zt=re,0===_n&&jn(un),pt}function Cr(){var pt,Zt,Ft;if(_n++,pt=Rt,Zt=[],ot.test(ne.charAt(Rt))?(Ft=ne.charAt(Rt),Rt++):(Ft=re,0===_n&&jn(Vt)),Ft!==re)for(;Ft!==re;)Zt.push(Ft),ot.test(ne.charAt(Rt))?(Ft=ne.charAt(Rt),Rt++):(Ft=re,0===_n&&jn(Vt));else Zt=re;return Zt!==re&&(yr=pt,Zt=lt()),_n--,(pt=Zt)===re&&(Zt=re,0===_n&&jn(Tt)),pt}function Gr(){var pt,Zt,Ft,Un,Vr,Fn,ys;for(pt=Rt,Et.test(ne.charAt(Rt))?(ne.charAt(Rt),Rt++):0===_n&&jn(rt),Zt=Rt,Ft=[],Lt.test(ne.charAt(Rt))?(Un=ne.charAt(Rt),Rt++):(Un=re,0===_n&&jn(Nt));Un!==re;)Ft.push(Un),Lt.test(ne.charAt(Rt))?(Un=ne.charAt(Rt),Rt++):(Un=re,0===_n&&jn(Nt));if(46===ne.charCodeAt(Rt)?(Un=ze,Rt++):(Un=re,0===_n&&jn(Je)),Un!==re){if(Vr=[],Lt.test(ne.charAt(Rt))?(Fn=ne.charAt(Rt),Rt++):(Fn=re,0===_n&&jn(Nt)),Fn!==re)for(;Fn!==re;)Vr.push(Fn),Lt.test(ne.charAt(Rt))?(Fn=ne.charAt(Rt),Rt++):(Fn=re,0===_n&&jn(Nt));else Vr=re;Vr!==re?Zt=Ft=[Ft,Un,Vr]:(Rt=Zt,Zt=re)}else Rt=Zt,Zt=re;if(Zt===re)if(Zt=[],Lt.test(ne.charAt(Rt))?(Ft=ne.charAt(Rt),Rt++):(Ft=re,0===_n&&jn(Nt)),Ft!==re)for(;Ft!==re;)Zt.push(Ft),Lt.test(ne.charAt(Rt))?(Ft=ne.charAt(Rt),Rt++):(Ft=re,0===_n&&jn(Nt));else Zt=re;if(Zt!==re){if(Ft=Rt,101===ne.charCodeAt(Rt)?(Un=st,Rt++):(Un=re,0===_n&&jn(Qe)),Un!==re){if(Et.test(ne.charAt(Rt))?(Vr=ne.charAt(Rt),Rt++):(Vr=re,0===_n&&jn(rt)),Vr===re&&(Vr=null),Fn=[],Lt.test(ne.charAt(Rt))?(ys=ne.charAt(Rt),Rt++):(ys=re,0===_n&&jn(Nt)),ys!==re)for(;ys!==re;)Fn.push(ys),Lt.test(ne.charAt(Rt))?(ys=ne.charAt(Rt),Rt++):(ys=re,0===_n&&jn(Nt));else Fn=re;Fn!==re?Ft=Un=[Un,Vr,Fn]:(Rt=Ft,Ft=re)}else Rt=Ft,Ft=re;Ft===re&&(Ft=null),yr=pt,pt=Wo()}else Rt=pt,pt=re;return pt}if((ye=Me())!==re&&Rt===ne.length)return ye;throw ye!==re&&Rt<ne.length&&jn({type:"end"}),function ko(pt,Zt,Ft){return new ee(ee.buildMessage(pt,Zt),pt,Zt,Ft)}(Eo,Tn<ne.length?ne.charAt(Tn):null,function $o(pt,Zt,Ft){var Un=ci(pt),Vr=ci(Zt),Fn={source:ve,start:{offset:pt,line:Un.line,column:Un.column},end:{offset:Zt,line:Vr.line,column:Vr.column}};return Ft&&ve&&"function"==typeof ve.offset&&(Fn.start=ve.offset(Fn.start),Fn.end=ve.offset(Fn.end)),Fn}(Tn,Tn<ne.length?Tn+1:Tn))}}}());var L=$.exports;function x(ae){if(!ae||0===ae.length)return null;if("string"==typeof ae){const ce=B(ae);return ce&&0!==ce.length?ce:null}const ee=ae.map(ce=>{if(!Number.isFinite(ce.scale)||ce.scale<=0)throw new D.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:ce});return{scale:ce.scale,effects:B(ce.value)}});ee.sort((ce,ie)=>ie.effects.length-ce.effects.length);for(let ce=0;ce<ee.length-1;ce++){if(!(0,U.AS)(ee[ce].effects,ee[ce+1].effects))throw new D.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:ee[ce].effects,b:ee[ce+1].effects});(0,U.uF)(ee[ce].effects,ee[ce+1].effects)}return ee.sort((ce,ie)=>ie.scale-ce.scale),ee}function B(ae){let ee;if(!ae)return[];try{ee=L.parse(ae)}catch(ce){throw new D.Z("effect:invalid-syntax","Invalid effect syntax",{value:ae,error:ce})}return ee.map(ce=>function k(ae){try{switch(ae.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function R(ae){let ee=1;return I(ae.parameters,1),1===ae.parameters.length&&(ee=ue(ae.parameters[0])),new Z.GI(ae.name,ee)}(ae);case"opacity":return function H(ae){let ee=1;return I(ae.parameters,1),1===ae.parameters.length&&(ee=ue(ae.parameters[0])),new Z.Zx(ee)}(ae);case"hue-rotate":return function N(ae){let ee=0;return I(ae.parameters,1),1===ae.parameters.length&&(ee=function G(ae){return function J(ae){if("quantity"!==ae.type||!(0===ae.value&&null===ae.unit||ae.unit&&null!=Q[ae.unit]))throw new D.Z("effect:type-error",`Expected <angle>, Actual: ${T(ae)}`,{term:ae})}(ae),ae.value*Q[ae.unit]||0}(ae.parameters[0])),new Z.Tq(ee)}(ae);case"blur":return function P(ae){let ee=0;return I(ae.parameters,1),1===ae.parameters.length&&(ee=le(ae.parameters[0]),W(ee,ae.parameters[0])),new Z.Tj(ee)}(ae);case"drop-shadow":return function w(ae){const ee=[];let ce=null;for(const ie of ae.parameters)if("color"===ie.type){if(ee.length&&Object.freeze(ee),ce)throw new D.Z("effect:type-error","Accepts only one color",{});ce=q(ie)}else{const ne=le(ie);if(Object.isFrozen(ee))throw new D.Z("effect:type-error","<length> parameters not consecutive",{lengths:ee});ee.push(ne),3===ee.length&&W(ne,ie)}if(ee.length<2||ee.length>3)throw new D.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${ee.length}}`,{lengths:ee});return new Z.CE(ee[0],ee[1],ee[2]||0,ce||fe("black"))}(ae);case"bloom":return function O(ae){let ee=1,ce=0,ie=0;return I(ae.parameters,3),ae.parameters[0]&&(ee=ue(ae.parameters[0])),ae.parameters[1]&&(ce=le(ae.parameters[1]),W(ce,ae.parameters[1])),ae.parameters[2]&&(ie=ue(ae.parameters[2])),new Z.rk(ee,ce,ie)}(ae)}}catch(ee){throw ee.details.filter=ae,ee}throw new D.Z("effect:unknown-effect",`Effect '${ae.name}' is not supported`,{effect:ae})}(ce))}function I(ae,ee){if(ae.length>ee)throw new D.Z("effect:type-error",`Function supports up to ${ee} parameters, Actual: ${ae.length}`,{parameters:ae})}function T(ae){if("color"===ae.type)return"<color>";if(ae.unit){if(ae.unit in oe)return"<length>";if(ae.unit in Q)return"<angle>";if("%"===ae.unit)return"<percentage>"}return"<double>"}function W(ae,ee){if(ae<0)throw new D.Z("effect:type-error",`Negative values are not allowed, Actual: ${ae}`,{term:ee})}const Q={deg:1,grad:.9,rad:180/Math.PI,turn:360},oe={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function ue(ae){!function F(ae){if("quantity"!==ae.type||null!==ae.unit&&"%"!==ae.unit)throw new D.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${T(ae)}`,{term:ae})}(ae);const ee=ae.value;return W(ee,ae),"%"===ae.unit?.01*ee:ee}function le(ae){return function se(ae){if("quantity"!==ae.type||!(0===ae.value&&null===ae.unit||ae.unit&&null!=oe[ae.unit]))throw new D.Z("effect:type-error",`Expected <length>, Actual: ${T(ae)}`,{term:ae})}(ae),ae.value*oe[ae.unit]||0}function q(ae){switch(ae.colorType){case"hex":return(0,C.rW)(ae.value);case"named":return fe(ae.value);case"function":return function te(ae){if(I(ae.parameters,4),ge.test(ae.name))return[ue(ae.parameters[0]),ue(ae.parameters[1]),ue(ae.parameters[2]),ae.parameters[3]?ue(ae.parameters[3]):1];if(me.test(ae.name))return(0,C.B7)(function he(ae){return function z(ae){if("quantity"!==ae.type||null!==ae.unit)throw new D.Z("effect:type-error",`Expected <double>, Actual: ${T(ae)}`,{term:ae})}(ae),W(ae.value,ae),ae.value}(ae.parameters[0]),ue(ae.parameters[1]),ue(ae.parameters[2]),ae.parameters[3]?ue(ae.parameters[3]):1);throw new D.Z("effect:syntax-error",`Invalid color function '${ae.name}'`,{colorFunction:ae})}(ae.value)}}function fe(ae){if(!(0,C.St)(ae))throw new D.Z("effect:unknown-color",`color '${ae}' isn't valid`,{namedColor:ae});return(0,C.VL)(ae)}const ge=/^rgba?/i,me=/^hsla?/i},99072:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AS:()=>D,Cb:()=>j,uF:()=>Z,yQ:()=>U});var C=E(79421);function D(Y,V){const $=Y.length>V.length?Y:V;return(Y.length>V.length?V:Y).every((L,x)=>L.type===$[x].type)}function Z(Y,V){const $=Y.length>V.length?Y:V,L=Y.length>V.length?V:Y;for(let x=L.length;x<$.length;x++)L.push((0,C.Ee)($[x]))}function j(Y){const V=Y[0];return!!V&&"type"in V}function U(Y,V){return JSON.stringify(Y??null)===JSON.stringify(V??null)}},29674:(Ke,Ee,E)=>{"use strict";E.d(Ee,{V:()=>$});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141));const $=L=>{let x=class extends L{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function V(L){return"portalItem"in L}(this)?this.portalItem?.apiKey:null}set apiKey(B){null!=B?this._override("apiKey",B):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,C._)([(0,D.Cb)({type:String})],x.prototype,"apiKey",null),x=(0,C._)([(0,Y.j)("esri.layers.mixins.APIKeyMixin")],x),x}},4257:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Y:()=>L});var C=E(50484),D=E(4703),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(89713);const L=x=>{let B=class extends x{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const k=(0,$.Qc)(this.url);if(null!=k&&k.title)return k.title}return this._get("title")||""}set title(k){this._set("title",k)}set url(k){this._set("url",(0,$.Nm)(k,D.Z.getLogger(this)))}};return(0,C._)([(0,Z.Cb)()],B.prototype,"title",null),(0,C._)([(0,Z.Cb)({type:String})],B.prototype,"url",null),B=(0,C._)([(0,V.j)("esri.layers.mixins.ArcGISService")],B),B}},19855:(Ke,Ee,E)=>{"use strict";E.d(Ee,{h:()=>L});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(53984);const $={read:{reader:V.ij},write:{allowNull:!0,writer:V.cW}},L=x=>{let B=class extends x{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,C._)([(0,D.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],B.prototype,"blendMode",void 0),(0,C._)([(0,D.Cb)({json:{read:!1,write:!1,origins:{"web-map":$,"portal-item":$}}})],B.prototype,"effect",void 0),B=(0,C._)([(0,Y.j)("esri.layers.mixins.BlendLayer")],B),B}},27426:(Ke,Ee,E)=>{"use strict";E.d(Ee,{N:()=>V});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141));const V=$=>{let L=class extends ${constructor(){super(...arguments),this.customParameters=null}};return(0,C._)([(0,D.Cb)({type:Object,json:{write:{overridePolicy:x=>({enabled:!!(x&&Object.keys(x).length>0)})}}})],L.prototype,"customParameters",void 0),L=(0,C._)([(0,Y.j)("esri.layers.mixins.CustomParametersMixin")],L),L}},92344:(Ke,Ee,E)=>{"use strict";E.d(Ee,{di:()=>T,jF:()=>H,lQ:()=>O,o1:()=>W,qH:()=>k,xl:()=>R});var C=E(50484),D=E(88278),Z=E(34222),j=E(79412),L=(E(4703),E(1535),E(57964),E(14007),E(10141)),x=E(93604);const B=new D.Z.EventEmitter;function k(z){return B.on("apply-edits",new WeakRef(z))}function R(z){return B.on("update-moment",new WeakRef(z))}function H(z,F,Q=null,J=!1){const oe=(0,j.hh)();return B.emit("apply-edits",{serviceUrl:z,layerId:F,gdbVersion:Q,mayReceiveServiceEdits:J=null==F||J,result:oe.promise}),oe}const P="esri.layers.mixins.EditBusLayer",w=Symbol(P);function O(z){return null!=z&&"object"==typeof z&&w in z}function I(z){return null!=z&&"object"==typeof z&&"gdbVersion"in z}function T(z,F,Q){const J=new URL(z).host,oe=x.Jp.get(J),se=ue=>!ue||ue===oe;return se(F)&&se(Q)||F===Q}const W=z=>{var F;let Q=class extends z{constructor(...J){super(...J),this[F]=!0,this._applyEditsHandler=oe=>{const{serviceUrl:se,layerId:ue,gdbVersion:he,mayReceiveServiceEdits:G,result:le}=oe,q=se===this.url,fe=null!=ue&&null!=this.layerId&&ue===this.layerId,ge=I(this),me=I(this)&&T(se,he,this.gdbVersion);if(!q||ge&&!me||!fe&&!G)return;const te=le.then(ae=>{if(fe&&(ae.addedFeatures.length||ae.updatedFeatures.length||ae.deletedFeatures.length||ae.addedAttachments.length||ae.updatedAttachments.length||ae.deletedAttachments.length))return this.emit("edits",(0,Z.d9)(ae)),ae;const ee=ae.editedFeatures?.find(({layerId:ce})=>ce===this.layerId);if(ee){const{adds:ce,updates:ie,deletes:ne}=ee.editedFeatures,pe={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:ce?ce.map(({attributes:ye})=>({objectId:this.objectIdField&&ye[this.objectIdField],globalId:this.globalIdField&&ye[this.globalIdField]})):[],deletedFeatures:ne?ne.map(({attributes:ye})=>({objectId:this.objectIdField&&ye[this.objectIdField],globalId:this.globalIdField&&ye[this.globalIdField]})):[],updatedFeatures:ie?ie.map(({current:{attributes:ye}})=>({objectId:this.objectIdField&&ye[this.objectIdField],globalId:this.globalIdField&&ye[this.globalIdField]})):[],editedFeatures:(0,Z.d9)(ae.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,Z.d9)(ae.historicMoment)};return this.emit("edits",pe),pe}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,Z.d9)(ae.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,Z.d9)(ae.historicMoment)}}).then(ae=>("historicMoment"in this&&this.historicMoment!==ae.historicMoment&&(0,x.JV)(se,he)&&(this.historicMoment=ae.historicMoment),ae));this.emit("apply-edits",{result:te})},this._updateMomentHandler=oe=>{const{serviceUrl:se,gdbVersion:ue,moment:he}=oe,G=se===this.url,le=I(this),q=I(this)&&T(se,ue,this.gdbVersion),fe=I(this)&&!T(se,this.gdbVersion,null);G&&le&&q&&fe&&"historicMoment"in this&&this.historicMoment!==he&&(this.historicMoment=he)},this.when().then(()=>{this.addHandles(k(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(R(this._updateMomentHandler))},()=>{})}};return F=w,Q=(0,C._)([(0,L.j)(P)],Q),Q}},12621:(Ke,Ee,E)=>{"use strict";E.d(Ee,{b:()=>L});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(27173);const $={write:{allowNull:!0}},L=x=>{let B=class extends x{constructor(){super(...arguments),this.featureEffect=null}};return(0,C._)([(0,D.Cb)({type:V.Z,json:{origins:{"web-map":$,"portal-item":$}}})],B.prototype,"featureEffect",void 0),B=(0,C._)([(0,Y.j)("esri.layers.mixins.FeatureEffectLayer")],B),B}},57942:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B:()=>ee});var C=E(50484),D=E(83944),Z=E(34222),j=E(4703),U=E(80543),V=(E(1535),E(62185)),$=E(10141),L=E(7547),x=E(76215),B=E(26894),k=E(69063),R=E(43814),H=E(89713),N=E(8966),P=E(25387),w=E(89317),T=(E(57678),E(14007),E(764));let W=class extends((0,P.J)(w.wq)){constructor(ce){super(ce),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,C._)([(0,U.Cb)()],W.prototype,"creatorField",void 0),(0,C._)([(0,U.Cb)()],W.prototype,"creationDateField",void 0),(0,C._)([(0,U.Cb)()],W.prototype,"editorField",void 0),(0,C._)([(0,U.Cb)()],W.prototype,"editDateField",void 0),(0,C._)([(0,U.Cb)()],W.prototype,"realm",void 0),(0,C._)([(0,U.Cb)((0,T.mi)("dateFieldsTimeReference",!0))],W.prototype,"timeZone",void 0),W=(0,C._)([(0,$.j)("esri.layers.support.EditFieldsInfo")],W);const z=W;let F=class extends((0,P.J)(w.wq)){constructor(ce){super(ce)}};(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"name",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"fields",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"isAscending",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"indexType",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"isUnique",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],F.prototype,"description",void 0),F=(0,C._)([(0,$.j)("esri.layers.support.FeatureIndex")],F);var Q=E(43497),J=E(49602);let oe=class extends((0,P.J)(w.wq)){constructor(ce){super(ce),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,C._)([(0,U.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],oe.prototype,"shapeAreaField",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],oe.prototype,"shapeLengthField",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:ce=>J.gV.read(ce)||J.Jo.read(ce)}})],oe.prototype,"units",void 0),oe=(0,C._)([(0,$.j)("esri.layers.support.GeometryFieldsInfo")],oe);const se=oe;var ue=E(39557),he=E(84303);const G=new he.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),le=new he.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let q=class extends((0,P.J)(w.wq)){constructor(ce){super(ce),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,C._)([(0,U.Cb)({json:{read:G.read,write:G.write}})],q.prototype,"cardinality",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"composite",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"id",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"keyField",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"keyFieldInRelationshipTable",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"name",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"relatedTableId",void 0),(0,C._)([(0,U.Cb)({json:{read:!0,write:!0}})],q.prototype,"relationshipTableId",void 0),(0,C._)([(0,U.Cb)({json:{read:le.read,write:le.write}})],q.prototype,"role",void 0),q=(0,C._)([(0,$.j)("esri.layers.support.Relationship")],q);const fe=q;var ge=E(37556),me=E(59300);let te=class extends((0,P.J)(w.wq)){constructor(ce){super(ce),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(ce){if(!ce)return null;const ie={};for(const ne of Object.keys(ce))ie[ne]=(0,me.im)(ce[ne]);return ie}writeDomains(ce,ie){if(!ce)return;const ne={};for(const pe of Object.keys(ce))ce[pe]&&(ne[pe]=ce[pe]?.toJSON());ie.domains=ne}};(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],te.prototype,"code",void 0),(0,C._)([(0,U.Cb)({type:Object,json:{write:!0}})],te.prototype,"defaultValues",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],te.prototype,"domains",void 0),(0,C._)([(0,V.r)("domains")],te.prototype,"readDomains",null),(0,C._)([(0,L.c)("domains")],te.prototype,"writeDomains",null),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],te.prototype,"name",void 0),te=(0,C._)([(0,$.j)("esri.layers.support.Subtype")],te);const ae=te,ee=ce=>{let ie=class extends ce{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(D.Z.ofType(F)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=R.Z.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:ne}=this;if(ne){const{query:pe,operations:ye,editing:re}=ne;if(!pe.supportsQueryByOthers||!pe.supportsQueryByAnonymous||ye.supportsEditing&&!(re.supportsUpdateByOthers&&re.supportsUpdateByAnonymous&&re.supportsDeleteByOthers&&re.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?(0,Q.uA)(this)?"load":this.hasUpdateItemRestrictions?ne.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions?"editing":null}readCapabilitiesFromService(ne,pe){return(0,ge.h)(pe,this.url)}readEditingInfo(ne,pe){const{editingInfo:ye}=pe;return ye?{lastEditDate:null!=ye.lastEditDate?new Date(ye.lastEditDate):null}:null}get effectiveCapabilities(){const ne=this.capabilities;if(!ne)return null;const pe=(0,Z.d9)(ne),{operations:ye,editing:re}=pe;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(ye.supportsQuery=!0),pe):this.userHasUpdateItemPrivileges?(ye.supportsAdd=ye.supportsDelete=ye.supportsEditing=ye.supportsQuery=ye.supportsUpdate=re.supportsDeleteByOthers=re.supportsGeometryUpdate=re.supportsUpdateByOthers=!0,pe):(this.userHasFullEditingPrivileges&&ye.supportsEditing&&(ye.supportsAdd=ye.supportsDelete=ye.supportsUpdate=re.supportsGeometryUpdate=!0),pe)}readGlobalIdFieldFromService(ne,pe){return(0,Q.rk)(pe)}get hasFullEditingRestrictions(){const ne=this.capabilities;if(!ne||this.sourceJSON?.isMultiServicesView)return!1;const{operations:pe,editing:ye}=ne;return pe.supportsEditing&&!(pe.supportsAdd&&pe.supportsDelete&&pe.supportsUpdate&&ye.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const ne=this.capabilities;if(!ne)return!1;const{operations:pe,editing:ye}=ne;return this.sourceJSON?.isMultiServicesView?!pe.supportsQuery:!(pe.supportsAdd&&pe.supportsDelete&&pe.supportsEditing&&pe.supportsQuery&&pe.supportsUpdate&&ye.supportsDeleteByOthers&&ye.supportsGeometryUpdate&&ye.supportsUpdateByOthers)}readIsTableFromService(ne,pe){return"Table"===pe.type}readMaxScale(ne,pe){return pe.effectiveMaxScale||ne||0}readMinScale(ne,pe){return pe.effectiveMinScale||ne||0}readObjectIdFieldFromService(ne,pe){return(0,Q.kZ)(pe)}readServiceDefinitionExpression(ne,pe){return pe.definitionQuery||pe.definitionExpression}set url(ne){const pe=(0,H.XG)({layer:this,url:ne,nonStandardUrlAllowed:!0,logger:j.Z.getLogger(this)});this._set("url",pe.url),null!=pe.layerId&&this._set("layerId",pe.layerId)}writeUrl(ne,pe,ye,re){(0,H.wH)(this,ne,null,pe,re)}readVersion(ne,pe){return(0,Q.JY)(pe)}};return(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"authenticationTriggerEvent",null),(0,C._)([(0,U.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],ie.prototype,"copyright",void 0),(0,C._)([(0,U.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],ie.prototype,"capabilities",void 0),(0,C._)([(0,V.r)("service","capabilities")],ie.prototype,"readCapabilitiesFromService",null),(0,C._)([(0,U.Cb)((0,T.mi)("dateFieldsTimeReference"))],ie.prototype,"dateFieldsTimeZone",void 0),(0,C._)([(0,U.Cb)({type:Boolean})],ie.prototype,"datesInUnknownTimezone",void 0),(0,C._)([(0,U.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ie.prototype,"definitionExpression",void 0),(0,C._)([(0,U.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],ie.prototype,"displayField",void 0),(0,C._)([(0,U.Cb)({readOnly:!0,type:z})],ie.prototype,"editFieldsInfo",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"editingInfo",void 0),(0,C._)([(0,V.r)("editingInfo")],ie.prototype,"readEditingInfo",null),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"effectiveCapabilities",null),(0,C._)([(0,U.Cb)((()=>{const ne=(0,Z.d9)(N.PV),pe=ne.json.origins;return pe["web-map"]={read:!1,write:!1},pe["portal-item"]={read:!1,write:!1},ne})())],ie.prototype,"elevationInfo",void 0),(0,C._)([(0,U.Cb)({type:ue.Z,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:x.C}}}}})],ie.prototype,"floorInfo",void 0),(0,C._)([(0,U.Cb)({type:B.Z,json:{origins:{service:{read:{source:"extent"}}}}})],ie.prototype,"fullExtent",void 0),(0,C._)([(0,U.Cb)()],ie.prototype,"gdbVersion",void 0),(0,C._)([(0,U.Cb)({readOnly:!0,type:se,json:{read:{source:"geometryProperties"}}})],ie.prototype,"geometryFieldsInfo",void 0),(0,C._)([(0,U.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Q.Fr.read}}}})],ie.prototype,"geometryType",void 0),(0,C._)([(0,U.Cb)({type:String})],ie.prototype,"globalIdField",void 0),(0,C._)([(0,V.r)("service","globalIdField",["globalIdField","fields"])],ie.prototype,"readGlobalIdFieldFromService",null),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"hasFullEditingRestrictions",null),(0,C._)([(0,U.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ie.prototype,"hasM",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"hasUpdateItemRestrictions",null),(0,C._)([(0,U.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ie.prototype,"hasZ",void 0),(0,C._)([(0,U.Cb)({readOnly:!0,type:k.Z})],ie.prototype,"heightModelInfo",void 0),(0,C._)([(0,U.Cb)({type:Date})],ie.prototype,"historicMoment",void 0),(0,C._)([(0,U.Cb)({type:D.Z.ofType(F),readOnly:!0})],ie.prototype,"indexes",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"isTable",void 0),(0,C._)([(0,V.r)("service","isTable",["type"])],ie.prototype,"readIsTableFromService",null),(0,C._)([(0,U.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],ie.prototype,"layerId",void 0),(0,C._)([(0,U.Cb)(N.u1)],ie.prototype,"maxScale",void 0),(0,C._)([(0,V.r)("service","maxScale",["maxScale","effectiveMaxScale"])],ie.prototype,"readMaxScale",null),(0,C._)([(0,U.Cb)(N.rO)],ie.prototype,"minScale",void 0),(0,C._)([(0,V.r)("service","minScale",["minScale","effectiveMinScale"])],ie.prototype,"readMinScale",null),(0,C._)([(0,U.Cb)({type:String})],ie.prototype,"objectIdField",void 0),(0,C._)([(0,V.r)("service","objectIdField",["objectIdField","fields"])],ie.prototype,"readObjectIdFieldFromService",null),(0,C._)([(0,U.Cb)((0,T.mi)("preferredTimeReference"))],ie.prototype,"preferredTimeZone",void 0),(0,C._)([(0,U.Cb)({type:[fe],readOnly:!0})],ie.prototype,"relationships",void 0),(0,C._)([(0,U.Cb)({type:Boolean})],ie.prototype,"returnM",void 0),(0,C._)([(0,U.Cb)({type:Boolean})],ie.prototype,"returnZ",void 0),(0,C._)([(0,U.Cb)({readOnly:!0,json:{write:!1}})],ie.prototype,"serverGens",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],ie.prototype,"serviceDefinitionExpression",void 0),(0,C._)([(0,V.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ie.prototype,"readServiceDefinitionExpression",null),(0,C._)([(0,U.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ie.prototype,"serviceItemId",void 0),(0,C._)([(0,U.Cb)()],ie.prototype,"sourceJSON",void 0),(0,C._)([(0,U.Cb)({type:R.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],ie.prototype,"spatialReference",void 0),(0,C._)([(0,U.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],ie.prototype,"subtypeField",void 0),(0,C._)([(0,U.Cb)({type:[ae],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ie.prototype,"subtypes",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ie.prototype,"trackIdField",void 0),(0,C._)([(0,U.Cb)(N.HQ)],ie.prototype,"url",null),(0,C._)([(0,L.c)("url")],ie.prototype,"writeUrl",null),(0,C._)([(0,U.Cb)({json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"version",void 0),(0,C._)([(0,V.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ie.prototype,"readVersion",null),ie=(0,C._)([(0,$.j)("esri.layers.mixins.FeatureLayerBase")],ie),ie}},96159:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>Oe});var G,C=E(50484),D=E(77675),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(53883),L=E(76215),x=E(30664),B=E(62691),O=(E(36699),E(15212),E(53722),E(82752),E(28999),E(38748),E(50923)),T=(E(42212),E(91963)),W=E(41007),z=E(34222),F=E(71763),Q=E(21070),J=E(62185),oe=E(7547),se=E(8966),ue=E(43497),he=E(40591);let q=G=class extends x.B{constructor(Me){super(Me),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(Me,Se,ke){const xe=Me.filter(Ge=>"avg_angle"!==Ge.statisticType).map(Ge=>Ge.toJSON());(0,F.RB)(ke,xe,Se)}readRenderer(Me,Se,ke){const xe=Se.drawingInfo?.renderer;return xe?(0,T.a)(xe,Se,ke)??void 0:(0,ue.Ob)(Se,ke)}clone(){return new G({fields:(0,z.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,z.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,z.d9)(this.popupTemplate),renderer:(0,z.d9)(this.renderer)})}};(0,C._)([(0,Q.J)({binning:"binning"})],q.prototype,"type",void 0),(0,C._)([(0,Q.J)({geohash:"geohash"})],q.prototype,"binType",void 0),(0,C._)([(0,Z.Cb)({type:Number,range:{min:1,max:9},json:{write:!0}})],q.prototype,"fixedBinLevel",void 0),(0,C._)([(0,Z.Cb)({type:[he.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],q.prototype,"labelingInfo",void 0),(0,C._)([(0,Z.Cb)(se.iR)],q.prototype,"labelsVisible",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],q.prototype,"maxScale",void 0),(0,C._)([(0,Z.Cb)(se.C_)],q.prototype,"popupEnabled",void 0),(0,C._)([(0,Z.Cb)({type:B.Z,json:{name:"popupInfo",write:!0}})],q.prototype,"popupTemplate",void 0),(0,C._)([(0,Z.Cb)({type:[$.Z],json:{write:!0}})],q.prototype,"fields",void 0),(0,C._)([(0,oe.c)("fields")],q.prototype,"writeFields",null),(0,C._)([(0,Z.Cb)({types:W.A,json:{write:{target:"drawingInfo.renderer"}}})],q.prototype,"renderer",void 0),(0,C._)([(0,J.r)("renderer",["drawingInfo.renderer"])],q.prototype,"readRenderer",null),q=G=(0,C._)([(0,V.j)("esri.layers.support.FeatureReductionBinning")],q);const fe=q;var ae,ge=E(71950),me=E(89317),te=E(55768);function ce(Me){return"simple"===Me.type&&!Me.visualVariables?.length}let ie=ae=class extends me.wq{constructor(Me){super(Me),this.type="cluster",this.clusterRadius=(0,te.t_)("80px"),this.clusterMinSize=(0,te.t_)("12px"),this.clusterMaxSize=(0,te.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(Me,Se,ke){const xe=Se.drawingInfo?.renderer;return xe?.authoringInfo?.isAutoGenerated?null:xe?ce(xe)?null:(0,T.a)(xe,Se,ke)??void 0:(0,ue.Ob)(Se,ke)}readSymbol(Me,Se,ke){const xe=Se.drawingInfo?.renderer;return xe?.authoringInfo?.isAutoGenerated?null:xe&&ce(xe)?(0,T.a)(xe,Se,ke)?.symbol:null}writeSymbol(Me,Se,ke,xe){const Ge=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||Ge){const X=new O.Z({symbol:Me});Se.drawingInfo={renderer:X.write({},xe)}}}writeFields(Me,Se,ke){const xe=Me.filter(Ge=>"avg_angle"!==Ge.statisticType).map(Ge=>Ge.toJSON());(0,F.RB)(ke,xe,Se)}readFields(Me,Se,ke){return Me.filter(xe=>!xe.isAutoGenerated).map(xe=>$.Z.fromJSON(xe))}clone(){return new ae({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,z.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,z.d9)(this.fields),maxScale:this.maxScale,renderer:(0,z.d9)(this.renderer),symbol:(0,z.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,z.d9)(this.popupTemplate)})}};(0,C._)([(0,Z.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],ie.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:Me=>"auto"===Me?Me:(0,te.t_)(Me),json:{write:!0}})],ie.prototype,"clusterRadius",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:te.t_,json:{write:!0}})],ie.prototype,"clusterMinSize",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:te.t_,json:{write:!0}})],ie.prototype,"clusterMaxSize",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ie.prototype,"maxScale",void 0),(0,C._)([(0,Z.Cb)(se.C_)],ie.prototype,"popupEnabled",void 0),(0,C._)([(0,Z.Cb)({type:B.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ie.prototype,"popupTemplate",void 0),(0,C._)([(0,Z.Cb)({types:W.A,json:{write:{target:"drawingInfo.renderer"}}})],ie.prototype,"renderer",void 0),(0,C._)([(0,J.r)("renderer",["drawingInfo.renderer"])],ie.prototype,"readRenderer",null),(0,C._)([(0,Z.Cb)({types:ge.AH})],ie.prototype,"symbol",void 0),(0,C._)([(0,J.r)("symbol",["drawingInfo.renderer"])],ie.prototype,"readSymbol",null),(0,C._)([(0,oe.c)("symbol")],ie.prototype,"writeSymbol",null),(0,C._)([(0,Z.Cb)({type:[he.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ie.prototype,"labelingInfo",void 0),(0,C._)([(0,Z.Cb)(se.iR)],ie.prototype,"labelsVisible",void 0),(0,C._)([(0,Z.Cb)({type:[$.Z],json:{write:!0}})],ie.prototype,"fields",void 0),(0,C._)([(0,oe.c)("fields")],ie.prototype,"writeFields",null),(0,C._)([(0,J.r)("fields")],ie.prototype,"readFields",null),ie=ae=(0,C._)([(0,V.j)("esri.layers.support.FeatureReductionCluster")],ie);const ne=ie;var pe=E(54887);const ye={key:"type",base:x.B,typeMap:{cluster:ne,binning:fe}},re={types:{key:"type",base:x.B,typeMap:{selection:pe.Z,cluster:ne,binning:fe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:ye},"portal-item":{types:ye},"web-scene":{types:{key:"type",base:x.B,typeMap:{selection:pe.Z}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:L.C}}}}};var ve=E(7351);const Oe=Me=>{let Se=class extends Me{constructor(...ke){super(...ke),this.addHandles((0,D.YP)(()=>this.renderer,()=>{if(this.featureReduction){const xe=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",xe)}},D.Z_))}set featureReduction(ke){const xe=this._normalizeFeatureReduction(ke);this._set("featureReduction",xe)}set renderer(ke){}_normalizeFeatureReduction(ke){if("cluster"!==ke?.type)return ke;const xe=ke.clone(),Ge=[new $.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],X=(xe.fields??[]).filter(Re=>!Re.isAutoGenerated);if(ke.renderer&&!ke.renderer.authoringInfo?.isAutoGenerated)return xe.fields=[...Ge,...X],xe;if(ke.symbol)return xe.fields=[...Ge,...X],xe.renderer=null,xe;if(!this.renderer)return ke;const be=(0,ve.S1)(Ge,this.renderer,ke,null,!1);return xe.fields=[...Ge,...X],xe.renderer=be,xe}};return(0,C._)([(0,Z.Cb)(re)],Se.prototype,"featureReduction",null),Se=(0,C._)([(0,V.j)("esri.layers.mixins.FeatureReductionLayer")],Se),Se}},80099:(Ke,Ee,E)=>{"use strict";E.d(Ee,{q:()=>I});var C=E(50484),D=E(57964),Z=E(6785),j=E(80543),$=(E(1535),E(57678),E(14007),E(62185)),L=E(10141),x=E(7547),B=E(76215),k=E(68090),R=E(82206);const H={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},N={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},P={ArcGISFeatureLayer:!0},w={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":H,"web-map/basemap":N,"web-map/tables":P,"link-chart/operational-layers":{...H,LinkChartLayer:!0},"link-chart/basemap":N,"link-chart/tables":P,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};var O=E(8966);const I=W=>{let z=class extends W{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(F,Q,J){return"Group Layer"===J?.portalItem?.type?void 0:F}writeListMode(F,Q,J,oe){(oe&&"ground"===oe.layerContainerType||F&&(0,R.d)(this,J,{},oe))&&(Q[J]=F)}writeOperationalLayerType(F,Q,J,oe){F&&"tables"!==oe?.layerContainerType&&(Q.layerType=F)}writeTitle(F,Q){Q.title=F??"Layer"}read(F,Q){Q&&(Q.layer=this),(0,k.$)(this,F,J=>super.read(F,J),Q)}write(F,Q){if(!this.persistenceEnabled)return null;if(Q?.origin){const se=`${Q.origin}/${Q.layerContainerType||"operational-layers"}`;let he=!!w[se]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===se&&(he=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===se&&(he=!1),!he)return Q.messages?.push(new D.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${se}'`,{layer:this})),null}const J=super.write(F,{...Q,layer:this}),oe=!!Q&&!!Q.messages&&!!Q.messages.filter(se=>se instanceof D.Z&&"web-document-write:property-required"===se.name).length;return(0,Z.jc)(J?.url)?(Q?.messages?.push(new D.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&oe?null:J}beforeSave(){}};return(0,C._)([(0,j.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],z.prototype,"id",void 0),(0,C._)([(0,$.r)("id",["id"])],z.prototype,"readId",null),(0,C._)([(0,j.Cb)(O.rT)],z.prototype,"listMode",void 0),(0,C._)([(0,x.c)("listMode")],z.prototype,"writeListMode",null),(0,C._)([(0,j.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:B.C}}}}})],z.prototype,"operationalLayerType",void 0),(0,C._)([(0,x.c)("operationalLayerType")],z.prototype,"writeOperationalLayerType",null),(0,C._)([(0,j.Cb)(O.Oh)],z.prototype,"opacity",void 0),(0,C._)([(0,j.Cb)({type:Boolean,readOnly:!1})],z.prototype,"persistenceEnabled",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],z.prototype,"title",void 0),(0,C._)([(0,x.c)("title"),(0,x.c)(["web-scene"],"title")],z.prototype,"writeTitle",null),(0,C._)([(0,j.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:B.C}}},name:"visibility",write:!0}})],z.prototype,"visible",void 0),z=(0,C._)([(0,L.j)("esri.layers.mixins.OperationalLayer")],z),z}},52496:(Ke,Ee,E)=>{"use strict";E.d(Ee,{c:()=>P});var x,C=E(50484),D=E(71763),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(84303),L=E(89317);const B=new $.X({asc:"ascending",desc:"descending"});let k=x=class extends L.wq{constructor(w){super(w),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new x({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0),(0,C._)([(0,Z.Cb)({type:B.apiValues,json:{read:B.read,write:B.write}})],k.prototype,"order",void 0),k=x=(0,C._)([(0,V.j)("esri.layers.support.OrderByInfo")],k);const R=k;function H(w,O,I){if(!w)return null;const T=w.find(z=>!!z.field);if(!T)return null;const W=new R;return W.read(T,I),[W]}function N(w,O,I,T){const W=w.find(z=>!!z.field);W&&(0,D.RB)(I,[W.toJSON()],O)}const P=w=>{let O=class extends w{constructor(){super(...arguments),this.orderBy=null}};return(0,C._)([(0,Z.Cb)({type:[R],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:H},write:{target:"layerDefinition.orderBy",writer:N}}})],O.prototype,"orderBy",void 0),O=(0,C._)([(0,V.j)("esri.layers.mixins.OrderedLayer")],O),O}},70509:(Ke,Ee,E)=>{"use strict";E.d(Ee,{I:()=>Q});var C=E(15861),D=E(50484),Z=E(11931),j=E(26152),U=E(66476),Y=E(37636),V=E(57964),$=E(4703),L=E(51172),x=E(79412),B=E(6785),k=E(80543),P=(E(1535),E(57678),E(14007),E(62185)),w=E(10141),O=E(7547),I=E(85971),T=E(61018),W=E(27835),z=E(57437),F=E(50318);const Q=oe=>{let se=class extends oe{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,L.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(ue){ue!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",ue))}readPortalItem(ue,he,G){if(he.itemId)return new W.default({id:he.itemId,portal:G?.portal})}writePortalItem(ue,he){ue?.id&&(he.itemId=ue.id)}loadFromPortal(ue,he){var G=this;return(0,C.Z)(function*(){if(G.portalItem?.id)try{const{load:le}=yield Promise.all([E.e(2772),E.e(8592),E.e(6964)]).then(E.bind(E,36964));return(0,x.k_)(he),yield le({instance:G,supportedTypes:ue.supportedTypes,validateItem:ue.validateItem,supportsData:ue.supportsData,layerModuleTypeMap:ue.layerModuleTypeMap},he)}catch(le){throw(0,x.D_)(le)||$.Z.getLogger(G).warn(`Failed to load layer (${G.title}, ${G.id}) portal item (${G.portalItem.id})\n  ${le}`),le}})()}finishLoadEditablePortalLayer(ue){var he=this;return(0,C.Z)(function*(){he._set("userHasEditingPrivileges",yield he._fetchUserHasEditingPrivileges(ue).catch(G=>((0,x.r9)(G),!0)))})()}setUserPrivileges(ue,he){var G=this;return(0,C.Z)(function*(){if(!Z.default.userPrivilegesApplied)return G.finishLoadEditablePortalLayer(he);if(G.url)try{const{features:{edit:le,fullEdit:q},content:{updateItem:fe}}=yield G._fetchUserPrivileges(ue,he);G._set("userHasEditingPrivileges",le),G._set("userHasFullEditingPrivileges",q),G._set("userHasUpdateItemPrivileges",fe)}catch(le){(0,x.r9)(le)}})()}_fetchUserPrivileges(ue,he){var G=this;return(0,C.Z)(function*(){let le=G.portalItem;if(!ue||!le||!le.loaded||le.sourceUrl)return G._fetchFallbackUserPrivileges(he);const q=ue===le.id;if(q&&le.portal.user)return(0,F.Ss)(le);let fe,ge;if(q)fe=le.portal.url;else try{fe=yield(0,I.oP)(G.url,he)}catch(ee){(0,x.r9)(ee)}if(!fe||!(0,B.Zo)(fe,le.portal.url))return G._fetchFallbackUserPrivileges(he);try{const ee=null!=he?he.signal:null;ge=yield j.id?.getCredential(`${fe}/sharing`,{prompt:!1,signal:ee})}catch(ee){(0,x.r9)(ee)}if(!ge)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(q?yield le.reload():(le=new W.default({id:ue,portal:{url:fe}}),yield le.load(he)),le.portal.user)return(0,F.Ss)(le)}catch(ee){(0,x.r9)(ee)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(ue){var he=this;return(0,C.Z)(function*(){let G=!0;try{G=yield he._fetchUserHasEditingPrivileges(ue)}catch(le){(0,x.r9)(le)}return{features:{edit:G,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(ue){var he=this;return(0,C.Z)(function*(){const G=he.url?j.id?.findCredential(he.url):null;if(!G)return!0;const le=J.credential===G?J.user:yield he._fetchEditingUser(ue);return J.credential=G,J.user=le,null==le?.privileges||le.privileges.includes("features:user:edit")})()}_fetchEditingUser(ue){var he=this;return(0,C.Z)(function*(){const G=he.portalItem?.portal?.user;if(G)return G;const le=j.id.findServerInfo(he.url??"");if(!le?.owningSystemUrl)return null;const q=`${le.owningSystemUrl}/sharing/rest`,fe=T.Z.getDefault();if(fe&&fe.loaded&&(0,B.Fv)(fe.restUrl)===(0,B.Fv)(q))return fe.user;const ge=`${q}/community/self`,me=null!=ue?ue.signal:null,te=yield(0,Y.q6)((0,U.Z)(ge,{authMode:"no-prompt",query:{f:"json"},signal:me}));return te.ok?z.Z.fromJSON(te.value.data):null})()}read(ue,he){he&&(he.layer=this),super.read(ue,he)}write(ue,he){const G=he?.portal,le=this.portalItem?.id&&(this.portalItem.portal||T.Z.getDefault());return G&&le&&!(0,B.tm)(le.restUrl,G.restUrl)?(he.messages&&he.messages.push(new V.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(ue,{...he,layer:this})}};return(0,D._)([(0,k.Cb)({type:W.default})],se.prototype,"portalItem",null),(0,D._)([(0,P.r)("web-document","portalItem",["itemId"])],se.prototype,"readPortalItem",null),(0,D._)([(0,O.c)("web-document","portalItem",{itemId:{type:String}})],se.prototype,"writePortalItem",null),(0,D._)([(0,k.Cb)({clonable:!1})],se.prototype,"resourceReferences",void 0),(0,D._)([(0,k.Cb)({type:Boolean,readOnly:!0})],se.prototype,"userHasEditingPrivileges",void 0),(0,D._)([(0,k.Cb)({type:Boolean,readOnly:!0})],se.prototype,"userHasFullEditingPrivileges",void 0),(0,D._)([(0,k.Cb)({type:Boolean,readOnly:!0})],se.prototype,"userHasUpdateItemPrivileges",void 0),se=(0,D._)([(0,w.j)("esri.layers.mixins.PortalLayer")],se),se},J={credential:null,user:null}},25836:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Q:()=>ue});var C=E(15861),D=E(50484),Z=E(4703),j=E(79412),U=E(80543),Y=E(73018),L=(E(57678),E(14007),E(10141)),x=E(76215),B=E(83944),N=(E(37636),E(57964),E(12926),E(43571));const P=new B.Z,w=new WeakMap;function W(he,G){return Number.isFinite(he)&&Number.isFinite(G)?G<=0?he:W(G,he%G):0}let z=0,F=0;function Q(){const he=Date.now();let G=!1;for(const le of P){const q=le.deref();q?q.refreshInterval&&he-(w.get(q)??0)+5>=6e4*q.refreshInterval&&(w.set(q,he),q.refresh(he)):G=!0}if(G)for(let le=P.length-1;le>=0;le--)P.at(le).deref()||P.removeAt(le)}(0,N.EH)(()=>{const he=Date.now();let G=0;for(const le of P){const q=le.deref();q&&(G=W(Math.round(6e4*q.refreshInterval),G),q.refreshInterval?w.get(q)||w.set(q,he):w.delete(q))}if(G!==F){if(F=G,clearInterval(z),0===F)return void(z=0);z=setInterval(Q,F)}});const ue=he=>{let G=class extends he{constructor(...le){super(...le),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,j.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function O(he){(function T(he){return null!=he&&"object"==typeof he&&"refreshInterval"in he&&"refresh"in he})(he)&&P.push(new WeakRef(he))}(this)},()=>{})}destroy(){!function I(he){const G=P.find(le=>le.deref()===he);G&&P.remove(G)}(this)}castRefreshInterval(le){return le>=.1?le:le<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(le=Date.now()){(0,j.R8)(this._debounceHasDataChanged()).then(q=>{q&&this._set("refreshTimestamp",le),this.emit("refresh",{dataChanged:q})},q=>{Z.Z.getLogger(this).error(q),this.emit("refresh",{dataChanged:!1,error:q})})}hasDataChanged(){return(0,C.Z)(function*(){return!0})()}get test(){const le=this;return{set refreshInterval(q){le._set("refreshInterval",q)}}}};return(0,D._)([(0,U.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:x.C}}}}})],G.prototype,"refreshInterval",void 0),(0,D._)([(0,Y.p)("refreshInterval")],G.prototype,"castRefreshInterval",null),(0,D._)([(0,U.Cb)({readOnly:!0})],G.prototype,"refreshTimestamp",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],G.prototype,"refreshParameters",null),G=(0,D._)([(0,L.j)("esri.layers.mixins.RefreshableLayer")],G),G}},29717:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>V});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141));const V=L=>{let x=class extends L{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const B={minScale:this.minScale,maxScale:this.maxScale},k=this.parent;k&&"effectiveScaleRange"in k&&function $(L,x){L.minScale=L.minScale>0?x.minScale>0?Math.min(L.minScale,x.minScale):L.minScale:x.minScale,L.maxScale=L.maxScale>0?x.maxScale>0?Math.max(L.maxScale,x.maxScale):L.maxScale:x.maxScale}(B,k.effectiveScaleRange);const R=this._get("effectiveScaleRange");return R&&R.minScale===B.minScale&&R.maxScale===B.maxScale?R:B}};return(0,C._)([(0,D.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"minScale",void 0),(0,C._)([(0,D.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"maxScale",void 0),(0,C._)([(0,D.Cb)({readOnly:!0})],x.prototype,"effectiveScaleRange",null),x=(0,C._)([(0,Y.j)("esri.layers.mixins.ScaleRangeLayer")],x),x}},12522:(Ke,Ee,E)=>{"use strict";E.d(Ee,{n:()=>R});var C=E(50484),D=E(34411),Z=E(95539),j=E(80543),$=(E(1535),E(57678),E(14007),E(62185)),L=E(10141),x=E(85295),B=E(97403),k=E(81238);const R=H=>{let N=class extends H{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(P,w){const O=w.timeInfo.exportOptions;if(!O)return null;const I=O.timeOffset,T=k.v.fromJSON(O.timeOffsetUnits);return I&&T?new Z.Z({value:I,unit:T}):null}set timeInfo(P){(0,x.UF)(P,this.fieldsIndex),this._set("timeInfo",P)}};return(0,C._)([(0,j.Cb)({type:D.Z,json:{write:!1}})],N.prototype,"timeExtent",void 0),(0,C._)([(0,j.Cb)({type:Z.Z})],N.prototype,"timeOffset",void 0),(0,C._)([(0,$.r)("service","timeOffset",["timeInfo.exportOptions"])],N.prototype,"readOffset",null),(0,C._)([(0,j.Cb)({value:null,type:B.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],N.prototype,"timeInfo",null),(0,C._)([(0,j.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],N.prototype,"useViewTime",void 0),N=(0,C._)([(0,L.j)("esri.layers.mixins.TemporalLayer")],N),N}},53883:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(34222),j=E(80543),Y=(E(1535),E(10141)),V=E(88367);let L=$=class extends D.wq{constructor(B){super(B),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new $({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,Z.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"isAutoGenerated",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"name",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"alias",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"onStatisticField",void 0),(0,C._)([(0,j.Cb)({type:V.Z,json:{write:!0}})],L.prototype,"onStatisticExpression",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"statisticType",void 0),L=$=(0,C._)([(0,Y.j)("esri.layers.support.AggregateField")],L);const x=L},61793:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>H});var C=E(50484),D=E(73514),Z=E(38955),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141)),L=E(40408),x=E(8966),B=E(1865),k=E(45859);const R={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let H=class extends D.Z{constructor(N){super(N),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const N=this.visibleSublayers.map(P=>{const w=(0,B.f)(this.floors,P);return P.toExportImageJSON(w)});return N.length?JSON.stringify(N):null}get hasDynamicLayers(){return this.layer&&(0,k.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(N){this._get("layer")!==N&&(this._set("layer",N),this.removeHandles("layer"),N&&this.addHandles([N.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),N.on("sublayer-update",P=>this.notifyChange(R[P.propertyName]))],"layer"))}get layers(){const N=this.visibleSublayers;return N?N.length?"show:"+N.map(P=>P.id).join(","):"show:-1":null}get layerDefs(){const N=!!this.floors?.length,P=this.visibleSublayers.filter(w=>null!=w.definitionExpression||N&&null!=w.floorInfo);return P.length?JSON.stringify(P.reduce((w,O)=>{const I=(0,B.f)(this.floors,O),T=(0,Z._)(I,O.definitionExpression);return null!=T&&(w[O.id]=T),w},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const N=this.layer;return N&&(N.commitProperty("dpi"),N.commitProperty("imageFormat"),N.commitProperty("imageTransparency"),N.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const N=[];if(!this.layer)return N;const P=this.layer.sublayers,w=this.scale,O=T=>{T.visible&&(0===w||(0,L.o2)(w,T.minScale,T.maxScale))&&(T.sublayers?T.sublayers.forEach(O):N.unshift(T))};P&&P.forEach(O);const I=this._get("visibleSublayers");return!I||I.length!==N.length||I.some((T,W)=>N[W]!==T)?N:I}toJSON(){const N=this.layer;let P={dpi:N.dpi,format:N.imageFormat,transparent:N.imageTransparency,gdbVersion:N.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?P.dynamicLayers=this.dynamicLayers:P={...P,layers:this.layers,layerDefs:this.layerDefs},P}};(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"dynamicLayers",null),(0,C._)([(0,j.Cb)()],H.prototype,"floors",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"hasDynamicLayers",null),(0,C._)([(0,j.Cb)()],H.prototype,"layer",null),(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"layers",null),(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"layerDefs",null),(0,C._)([(0,j.Cb)({type:Number})],H.prototype,"scale",void 0),(0,C._)([(0,j.Cb)(x.qG)],H.prototype,"timeExtent",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"version",null),(0,C._)([(0,j.Cb)({readOnly:!0})],H.prototype,"visibleSublayers",null),H=(0,C._)([(0,$.j)("esri.layers.mixins.ExportImageParameters")],H)},88367:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var C=E(50484),D=E(25387),Z=E(89317),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let L=class extends((0,D.J)(Z.wq)){constructor(B){super(B),this.expression=null,this.title=null,this.returnType=null}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"expression",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],L.prototype,"returnType",void 0),L=(0,C._)([(0,$.j)("esri.layers.support.ExpressionInfo")],L);const x=L},27173:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>w});var k,C=E(50484),D=E(57964),Z=E(89317),j=E(71763),U=E(80543),L=(E(1535),E(57678),E(14007),E(10141)),x=E(53984),B=E(74321);const R={read:{reader:x.ij},write:{writer:x.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},H={read:{reader:x.ij},write:{writer:x.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},N={name:"showExcludedLabels",default:!0};let P=k=class extends Z.wq{constructor(O){super(O),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(O,I){const T=super.write(O,I);if(I?.origin){if(T.filter){const W=Object.keys(T.filter);if(W.length>1||"where"!==W[0])return I.messages?.push(new D.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:I.layer,effect:this})),null}if("showExcludedLabels"in T)return I.messages?.push(new D.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:I.layer,effect:this})),null}return T}clone(){return new k({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,C._)([(0,U.Cb)({type:B.Z,json:{write:{allowNull:!0,writer(O,I,T,W){const z=O?.write({},W);z&&0!==Object.keys(z).length?(0,j.RB)(T,z,I):(0,j.RB)(T,null,I)}}}})],P.prototype,"filter",void 0),(0,C._)([(0,U.Cb)({json:{write:!0,origins:{"web-map":R,"portal-item":R}}})],P.prototype,"includedEffect",void 0),(0,C._)([(0,U.Cb)({json:{write:!0,origins:{"web-map":H,"portal-item":H}}})],P.prototype,"excludedEffect",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":N,"portal-item":N}}})],P.prototype,"excludedLabelsVisible",void 0),P=k=(0,C._)([(0,L.j)("esri.layers.support.FeatureEffect")],P);const w=P},74321:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var B,C=E(50484),D=E(2189),Z=E(34411),j=E(84303),U=E(89317),Y=E(34222),V=E(80543),L=(E(1535),E(10141)),x=E(91866);const k=new j.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R=new j.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let H=B=class extends U.wq{constructor(P){super(P),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(P={}){const{where:w,geometry:O,spatialRelationship:I,timeExtent:T,objectIds:W,units:z,distance:F}=this;return new x.Z({geometry:(0,Y.d9)(O),objectIds:(0,Y.d9)(W),spatialRelationship:I,timeExtent:(0,Y.d9)(T),where:w,units:z,distance:F,...P})}clone(){const{where:P,geometry:w,spatialRelationship:O,timeExtent:I,objectIds:T,units:W,distance:z}=this;return new B({geometry:(0,Y.d9)(w),objectIds:(0,Y.d9)(T),spatialRelationship:O,timeExtent:(0,Y.d9)(I),where:P,units:W,distance:z})}};(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],H.prototype,"where",void 0),(0,C._)([(0,V.Cb)({types:D.qM,json:{write:!0}})],H.prototype,"geometry",void 0),(0,C._)([(0,V.Cb)({type:k.apiValues,json:{name:"spatialRel",read:{reader:k.read},write:{allowNull:!1,writer:k.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],H.prototype,"spatialRelationship",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:{overridePolicy(P){return{enabled:null!=P&&null!=this.geometry}}}}})],H.prototype,"distance",void 0),(0,C._)([(0,V.Cb)({type:[Number],json:{write:!0}})],H.prototype,"objectIds",void 0),(0,C._)([(0,V.Cb)({type:R.apiValues,json:{read:R.read,write:{writer:R.write,overridePolicy(P){return{enabled:null!=P&&null!=this.geometry}}}}})],H.prototype,"units",void 0),(0,C._)([(0,V.Cb)({type:Z.Z,json:{write:!0}})],H.prototype,"timeExtent",void 0),H=B=(0,C._)([(0,L.j)("esri.layers.support.FeatureFilter")],H);const N=H},30664:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B:()=>$});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(){super(...arguments),this.type=null}};(0,C._)([(0,Z.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.layers.support.FeatureReduction")],$)},54887:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(30664);let L=$=class extends V.B{constructor(B){super(B),this.type="selection"}clone(){return new $}};(0,C._)([(0,D.Cb)({type:["selection"]})],L.prototype,"type",void 0),L=$=(0,C._)([(0,Y.j)("esri.layers.support.FeatureReductionSelection")],L);const x=L},30457:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var C=E(50484),D=E(25387),Z=E(84303),j=E(89317),U=E(80543),L=(E(1535),E(57678),E(14007),E(10141));const x=new Z.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let B=class extends((0,D.J)(j.wq)){constructor(R){super(R),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,C._)([(0,U.Cb)({json:{write:!0}})],B.prototype,"name",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],B.prototype,"description",void 0),(0,C._)([(0,U.Cb)({json:{read:x.read,write:x.write}})],B.prototype,"drawingTool",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],B.prototype,"prototype",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],B.prototype,"thumbnail",void 0),B=(0,C._)([(0,L.j)("esri.layers.support.FeatureTemplate")],B);const k=B},50243:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var C=E(50484),D=E(25387),Z=E(89317),j=E(80543),$=(E(1535),E(57678),E(14007),E(62185)),L=E(10141),x=E(7547),B=E(59300),k=E(30457);let R=class extends((0,D.J)(Z.wq)){constructor(N){super(N),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(N){const P={};for(const w of Object.keys(N))P[w]=(0,B.im)(N[w]);return P}writeDomains(N,P){const w={};for(const O of Object.keys(N))N[O]&&(w[O]=N[O]?.toJSON());P.domains=w}};(0,C._)([(0,j.Cb)({json:{write:!0}})],R.prototype,"id",void 0),(0,C._)([(0,j.Cb)({json:{write:!0}})],R.prototype,"name",void 0),(0,C._)([(0,j.Cb)({json:{write:!0}})],R.prototype,"domains",void 0),(0,C._)([(0,$.r)("domains")],R.prototype,"readDomains",null),(0,C._)([(0,x.c)("domains")],R.prototype,"writeDomains",null),(0,C._)([(0,j.Cb)({type:[k.Z],json:{write:!0}})],R.prototype,"templates",void 0),R=(0,C._)([(0,L.j)("esri.layers.support.FeatureType")],R);const H=R},81247:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var R,C=E(50484),D=E(84303),Z=E(89317),j=E(80543),U=E(1535),$=(E(57678),E(14007),E(21070)),L=E(62185),x=E(10141),B=E(59300),k=E(51217);const H=new D.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let N=R=class extends Z.wq{constructor(w){super(w),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(w,{description:O}){let I=null;try{I=O?JSON.parse(O):null}catch{}return I?.value??null}readValueType(w,{description:O}){let I=null;try{I=O?JSON.parse(O):null}catch{}return I?H.fromJSON(I.fieldValueType):null}clone(){return new R({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],N.prototype,"alias",void 0),(0,C._)([(0,j.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],N.prototype,"defaultValue",void 0),(0,C._)([(0,j.Cb)()],N.prototype,"description",void 0),(0,C._)([(0,L.r)("description")],N.prototype,"readDescription",null),(0,C._)([(0,j.Cb)({types:B.V5,json:{read:{reader:B.im},write:!0}})],N.prototype,"domain",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"editable",void 0),(0,C._)([(0,j.Cb)({type:U.z8,json:{write:{overridePolicy:w=>({enabled:Number.isFinite(w)})}}})],N.prototype,"length",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],N.prototype,"name",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"nullable",void 0),(0,C._)([(0,$.J)(k.v)],N.prototype,"type",void 0),(0,C._)([(0,j.Cb)()],N.prototype,"valueType",void 0),(0,C._)([(0,L.r)("valueType",["description"])],N.prototype,"readValueType",null),(0,C._)([(0,j.Cb)({type:Boolean,json:{read:!1}})],N.prototype,"visible",void 0),N=R=(0,C._)([(0,x.j)("esri.layers.support.Field")],N);const P=N},40100:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var C=E(57964),D=E(89317),Z=E(4703),j=E(8611),U=E(15398),Y=E(85295),V=E(764),$=E(25037);const k=new Map;class R{static fromJSON(I){return new R(I.fields,I.timeZoneByFieldName)}static fromLayer(I){return new R(I.fields??[],w(I))}static fromLayerJSON(I){return new R(I.fields??[],w(I))}constructor(I=[],T){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=I||[],this._timeZoneByFieldName=T?new Map(T):null;const W=[];for(const z of this.fields){const F=z?.name,Q=N(F);if(F&&Q){const J=H(F);this._fieldsMap.set(F,z),this._fieldsMap.set(J,z),this._normalizedFieldsMap.set(Q,z),W.push(`${J}:${z.type}:${this._timeZoneByFieldName?.get(F)}`),(0,Y.y2)(z)?(this.dateFields.push(z),this._dateFieldsSet.add(z)):(0,Y.H7)(z)&&(this._numericFieldsSet.add(z),this.numericFields.push(z)),(0,Y.Dl)(z)||(0,Y.Se)(z)||(z.editable=null==z.editable||!!z.editable,z.nullable=null==z.nullable||!!z.nullable)}}W.sort(),this.uid=W.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const I of this.fields)(0,Y.Dl)(I)||(0,Y.Se)(I)||I.nullable||void 0!==(0,Y.os)(I)||this._requiredFields.push(I)}return this._requiredFields}equals(I){return this.uid===I?.uid}has(I){return null!=this.get(I)}get(I){if(!I)return;let T=this._fieldsMap.get(I);return T||(T=this._fieldsMap.get(H(I))??this._normalizedFieldsMap.get(N(I)),T&&this._fieldsMap.set(I,T),T)}getTimeZone(I){const T=this.get(I&&"string"!=typeof I?I.name:I);return T?this._timeZoneByFieldName?this._timeZoneByFieldName.get(T.name):"date"===T.type||"esriFieldTypeDate"===T.type?(Z.Z.getLogger("esri.layers.support.FieldsIndex").error(new C.Z("getTimeZone:no-timezone-information",`no time zone information for field '${T.name}'`)),V.pt):P.has(T.type)?V._4:null:null}getLuxonTimeZone(I){const T=this.getTimeZone(I);return T?T===V._4?U.yV.instance:T===V.pt?$.Qf.utcInstance:(0,j.s1)(k,T,()=>$.vF.create(T)):null}isDateField(I){return this._dateFieldsSet.has(this.get(I))}isTimeOnlyField(I){return(0,Y.sX)(this.get(I))}isNumericField(I){return this._numericFieldsSet.has(this.get(I))}normalizeFieldName(I){return this.get(I)?.name??void 0}toJSON(){return{fields:this.fields.map(I=>(0,D.AK)(I)?I.toJSON():I),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function H(O){return O.trim().toLowerCase()}function N(O){return(0,Y.q6)(O)?.toLowerCase()??""}const P=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function w(O){const I=new Map;if(!O.fields)return I;const T=!0===O.datesInUnknownTimezone,{timeInfo:W,editFieldsInfo:z}=O,F=(W?"startField"in W?W.startField:W.startTimeField:"")??"",Q=(W?"endField"in W?W.endField:W.endTimeField:"")??"",J=function B(O){return"dateFieldsTimeZone"in O}(O)?O.dateFieldsTimeZone??null:O.dateFieldsTimeReference?(0,V.Jv)(O.dateFieldsTimeReference):null,oe=z?function L(O){return"timeZone"in O}(z)?z.timeZone??J:z.dateFieldsTimeReference?(0,V.Jv)(z.dateFieldsTimeReference):J??V.pt:null,se=W?function x(O){return"timeZone"in O}(W)?W.timeZone??J:W.timeReference?(0,V.Jv)(W.timeReference):J:null,ue=new Map([[H(z?.creationDateField??""),oe],[H(z?.editDateField??""),oe],[H(F),se],[H(Q),se]]);for(const{name:he,type:G}of O.fields)if(P.has(G))I.set(he,V._4);else if("date"!==G&&"esriFieldTypeDate"!==G)I.set(he,null);else if(T)I.set(he,V._4);else{const le=ue.get(H(he??""))??J;I.set(he,le)}return I}},8321:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(80543),j=E(1535),V=(E(57678),E(14007),E(10141));let L=$=class extends D.wq{constructor(B){super(B),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new $({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,C._)([(0,Z.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],L.prototype,"cols",void 0),(0,C._)([(0,Z.Cb)({type:j.z8,json:{write:!0}})],L.prototype,"level",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"levelValue",void 0),(0,C._)([(0,Z.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],L.prototype,"origin",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],L.prototype,"resolution",void 0),(0,C._)([(0,Z.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],L.prototype,"rows",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],L.prototype,"scale",void 0),L=$=(0,C._)([(0,V.j)("esri.layers.support.LOD")],L);const x=L},40591:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>he});var N,C=E(50484),D=E(71950),Z=E(84303),j=E(89317),U=E(34222),Y=E(55768),V=E(80543),L=(E(1535),E(62185)),x=E(10141),B=E(7547),H=(E(57678),E(14007),E(56761));let P=N=class extends j.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(G,le){return le.value?(0,H.dI)(le.value):G}writeExpression(G,le,q){null!=this.value&&(G=(0,H.dI)(this.value)),null!=G&&(le[q]=G)}clone(){return new N({expression:this.expression,title:this.title,value:this.value})}};(0,C._)([(0,V.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],P.prototype,"expression",void 0),(0,C._)([(0,L.r)("expression",["expression","value"])],P.prototype,"readExpression",null),(0,C._)([(0,B.c)("expression")],P.prototype,"writeExpression",null),(0,C._)([(0,V.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],P.prototype,"title",void 0),(0,C._)([(0,V.Cb)({json:{read:!1,write:!1}})],P.prototype,"value",void 0),P=N=(0,C._)([(0,x.j)("esri.layers.support.LabelExpressionInfo")],P);const w=P;var W,O=E(85971),I=E(26981),T=E(15532);const z=new Z.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function F(G,le,q){return{enabled:!(0,O.A2)(q?.layer)}}function Q(G){return!G||"service"!==G.origin&&"map-image"!==G.layer?.type}function oe(G){return!!function J(G){return"map-image"===G?.type}(G)&&!!G.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let ue=W=class extends j.wq{static evaluateWhere(G,le){const q=(fe,ge,me)=>{switch(ge){case"=":return fe==me;case"<>":return fe!=me;case">":return fe>me;case">=":return fe>=me;case"<":return fe<me;case"<=":return fe<=me}return!1};try{if(null==G)return!0;const fe=G.split(" ");if(3===fe.length)return q(le[fe[0]],fe[1],fe[2]);if(7===fe.length){const ge=q(le[fe[0]],fe[1],fe[2]),me=fe[3],te=q(le[fe[4]],fe[5],fe[6]);switch(me){case"AND":return ge&&te;case"OR":return ge||te}}return!1}catch{console.log("Error.: can't parse = "+G)}}constructor(G){super(G),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=I.Rz,this.useCodedValues=void 0,this.where=null}readLabelExpression(G,le){const q=le.labelExpressionInfo;if(!q||!q.value&&!q.expression)return G}writeLabelExpression(G,le,q){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)G=(0,H.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const fe=(0,H.el)(this.labelExpressionInfo.expression);fe&&(G="["+fe+"]")}null!=G&&(le[q]=G)}writeLabelExpressionInfo(G,le,q,fe){if(null==G&&null!=this.labelExpression&&Q(fe))G=new w({expression:this.getLabelExpressionArcade()});else if(!G)return;const ge=G.toJSON(fe);ge.expression&&(le[q]=ge)}writeMaxScale(G,le){(G||this.minScale)&&(le.maxScale=G)}writeMinScale(G,le){(G||this.maxScale)&&(le.minScale=G)}getLabelExpression(){return(0,H.hV)(this)}getLabelExpressionArcade(){return(0,H.YI)(this)}getLabelExpressionSingleField(){return(0,H.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new W({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,U.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,U.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],ue.prototype,"name",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:F}}}}})],ue.prototype,"allowOverrun",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:F}}}}})],ue.prototype,"deconflictionStrategy",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:{overridePolicy(G,le,q){return this.labelExpressionInfo&&"service"===q?.origin&&oe(q.layer)?{enabled:!1}:{allowNull:!0}}}}})],ue.prototype,"labelExpression",void 0),(0,C._)([(0,L.r)("labelExpression")],ue.prototype,"readLabelExpression",null),(0,C._)([(0,B.c)("labelExpression")],ue.prototype,"writeLabelExpression",null),(0,C._)([(0,V.Cb)({type:w,json:{write:{overridePolicy:(G,le,q)=>function se(G){return Q(G)||oe(G?.layer)}(q)?{allowNull:!0}:{enabled:!1}}}})],ue.prototype,"labelExpressionInfo",void 0),(0,C._)([(0,B.c)("labelExpressionInfo")],ue.prototype,"writeLabelExpressionInfo",null),(0,C._)([(0,V.Cb)({type:z.apiValues,json:{type:z.jsonValues,read:z.read,write:z.write}})],ue.prototype,"labelPlacement",void 0),(0,C._)([(0,V.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ue.prototype,"labelPosition",void 0),(0,C._)([(0,V.Cb)({type:Number})],ue.prototype,"maxScale",void 0),(0,C._)([(0,B.c)("maxScale")],ue.prototype,"writeMaxScale",null),(0,C._)([(0,V.Cb)({type:Number})],ue.prototype,"minScale",void 0),(0,C._)([(0,B.c)("minScale")],ue.prototype,"writeMinScale",null),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:F}}}}})],ue.prototype,"repeatLabel",void 0),(0,C._)([(0,V.Cb)({type:Number,cast:Y.t_,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:F}}}}})],ue.prototype,"repeatLabelDistance",void 0),(0,C._)([(0,V.Cb)({types:D.yK,json:{origins:{"web-scene":{types:D.S6,write:T.vX,default:null}},write:T.vX,default:null}})],ue.prototype,"symbol",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"useCodedValues",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],ue.prototype,"where",void 0),ue=W=(0,C._)([(0,x.j)("esri.layers.support.LabelClass")],ue);const he=ue},39557:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(83944),Z=E(89317),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let x=L=class extends Z.wq{constructor(k){super(k),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new D.Z}clone(){return new L({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],x.prototype,"floorField",void 0),(0,C._)([(0,j.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllMode",void 0),(0,C._)([(0,j.Cb)({json:{read:!1,write:!1}})],x.prototype,"viewAllLevelIds",void 0),x=L=(0,C._)([(0,$.j)("esri.layers.support.LayerFloorInfo")],x);const B=x},30220:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var I,C=E(50484),D=E(84303),Z=E(89317),j=E(49602),U=E(80543),Y=E(1535),L=(E(57678),E(14007),E(62185)),x=E(10141),B=E(7547),k=E(85039),R=E(43814),H=E(45425),N=E(33721),P=E(48230),w=E(8321),O=E(74901);const T=new D.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let W=I=class extends Z.wq{static create(F={}){const{resolutionFactor:Q=1,scales:J,size:oe=256,spatialReference:se=R.Z.WebMercator,numLODs:ue=24}=F;if(!(0,N.JY)(se)){const ge=[];if(J)for(let me=0;me<J.length;me++){const te=J[me];ge.push(new w.Z({level:me,scale:te,resolution:te}))}else{let me=5e-4;for(let te=ue-1;te>=0;te--)ge.unshift(new w.Z({level:te,scale:me,resolution:me})),me*=2}return new I({dpi:96,lods:ge,origin:new k.Z(0,0,se),size:[oe,oe],spatialReference:se})}const he=(0,N.C5)(se),G=new k.Z(F.origin?{x:F.origin.x,y:F.origin.y,spatialReference:se}:he?{x:he.origin[0],y:he.origin[1],spatialReference:se}:{x:0,y:0,spatialReference:se}),q=1/(39.37*(0,j.c9)(se)*96),fe=[];if(J)for(let ge=0;ge<J.length;ge++){const me=J[ge];fe.push(new w.Z({level:ge,scale:me,resolution:me*q}))}else{let ge=(0,N.sT)(se)?512/oe*591657527.5917094:256/oe*591657527.591555;const me=Math.ceil(ue/Q);fe.push(new w.Z({level:0,scale:ge,resolution:ge*q}));for(let te=1;te<me;te++){const ae=ge/2**Q;fe.push(new w.Z({level:te,scale:ae,resolution:ae*q})),ge=ae}}return new I({dpi:96,lods:fe,origin:G,size:[oe,oe],spatialReference:se})}constructor(F){super(F),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:F,origin:Q}=this;if(F&&Q){const J=(0,N.C5)(F);return F.isWrappable&&!!J&&Math.abs(J.origin[0]-Q.x)<=J.dx}return!1}readOrigin(F,Q){return k.Z.fromJSON({spatialReference:Q.spatialReference,...F})}set lods(F){let Q=0,J=0;const oe=[],se=this._levelToLOD={};F&&(Q=-1/0,J=1/0,F.forEach(ue=>{oe.push(ue.scale),Q=ue.scale>Q?ue.scale:Q,J=ue.scale<J?ue.scale:J,se[ue.level]=ue})),this._set("scales",oe),this._set("lods",F),this._initializeUpsampleLevels()}readSize(F,Q){return[Q.cols,Q.rows]}writeSize(F,Q){Q.cols=F[0],Q.rows=F[1]}zoomToScale(F){const Q=this.scales;if(F<=0)return Q[0];if(F>=Q.length-1)return Q[Q.length-1];const J=Math.floor(F);return Q[J]/(Q[J]/Q[J+1])**(F-J)}scaleToZoom(F){const Q=this.scales,J=Q.length-1;let oe=0;for(;oe<J;oe++){const se=Q[oe],ue=Q[oe+1];if(se<=F)return oe;if(ue===F)return oe+1;if(se>F&&ue<F)return oe+Math.log(se/F)/Math.log(se/ue)}return oe}snapScale(F,Q=.95){const J=this.scaleToZoom(F);return J%Math.floor(J)>=Q?this.zoomToScale(Math.ceil(J)):this.zoomToScale(Math.floor(J))}tileAt(F,Q,J,oe){const se=this.lodAt(F);if(!se)return null;let ue,he;if("number"==typeof Q)ue=Q,he=J;else if((0,N.fS)(Q.spatialReference,this.spatialReference))ue=Q.x,he=Q.y,oe=J;else{const q=(0,P.iV)(Q,this.spatialReference);if(null==q)return null;ue=q.x,he=q.y,oe=J}const G=se.resolution*this.size[0],le=se.resolution*this.size[1];return oe||(oe=new O.f(null,0,0,0,(0,H.Ue)())),oe.level=F,oe.row=Math.floor((this.origin.y-he)/le+.001),oe.col=Math.floor((ue-this.origin.x)/G+.001),this.updateTileInfo(oe),oe}updateTileInfo(F,Q=I.ExtrapolateOptions.NONE){let J=this.lodAt(F.level);if(!J&&Q===I.ExtrapolateOptions.POWER_OF_TWO){const he=this.lods[this.lods.length-1];he.level<F.level&&(J=he)}if(!J)return;const oe=F.level-J.level,se=J.resolution*this.size[0]/2**oe,ue=J.resolution*this.size[1]/2**oe;F.id=`${F.level}/${F.row}/${F.col}`,F.extent||(F.extent=(0,H.Ue)()),F.extent[0]=this.origin.x+F.col*se,F.extent[1]=this.origin.y-(F.row+1)*ue,F.extent[2]=F.extent[0]+se,F.extent[3]=F.extent[1]+ue}upsampleTile(F){const Q=this._upsampleLevels[F.level];return!(!Q||-1===Q.parentLevel||(F.level=Q.parentLevel,F.row=Math.floor(F.row/Q.factor+.001),F.col=Math.floor(F.col/Q.factor+.001),this.updateTileInfo(F),0))}getTileBounds(F,Q){const J=this.lodAt(Q.level);if(null==J)return null;const{resolution:oe}=J,se=oe*this.size[0],ue=oe*this.size[1];return F[0]=this.origin.x+Q.col*se,F[1]=this.origin.y-(Q.row+1)*ue,F[2]=F[0]+se,F[3]=F[1]+ue,F}lodAt(F){return this._levelToLOD?.[F]??null}clone(){return I.fromJSON(this.write({}))}getOrCreateCompatible(F,Q){if(256===this.size[0]&&256===this.size[1])return 256===F?this:null;const J=[],oe=this.lods.length;for(let se=0;se<oe;se++){const ue=this.lods[se];J.push(new w.Z({level:ue.level,scale:ue.scale,resolution:ue.resolution*Q}))}return new I({size:[F,F],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:J})}_initializeUpsampleLevels(){const F=this.lods;this._upsampleLevels=[];let Q=null;for(let J=0;J<F.length;J++){const oe=F[J];this._upsampleLevels[oe.level]={parentLevel:Q?Q.level:-1,factor:Q?Q.resolution/oe.resolution:0},Q=oe}}};var F,Q;(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],W.prototype,"compressionQuality",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],W.prototype,"dpi",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:T.read,write:T.write,origins:{"web-scene":{read:!1,write:!1}}}})],W.prototype,"format",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],W.prototype,"isWrappable",null),(0,C._)([(0,U.Cb)({type:k.Z,json:{write:!0}})],W.prototype,"origin",void 0),(0,C._)([(0,L.r)("origin")],W.prototype,"readOrigin",null),(0,C._)([(0,U.Cb)({type:[w.Z],value:null,json:{write:!0}})],W.prototype,"lods",null),(0,C._)([(0,U.Cb)({readOnly:!0})],W.prototype,"scales",void 0),(0,C._)([(0,U.Cb)({cast:F=>Array.isArray(F)?F:"number"==typeof F?[F,F]:[256,256]})],W.prototype,"size",void 0),(0,C._)([(0,L.r)("size",["rows","cols"])],W.prototype,"readSize",null),(0,C._)([(0,B.c)("size",{cols:{type:Y.z8},rows:{type:Y.z8}})],W.prototype,"writeSize",null),(0,C._)([(0,U.Cb)({type:R.Z,json:{write:!0}})],W.prototype,"spatialReference",void 0),W=I=(0,C._)([(0,x.j)("esri.layers.support.TileInfo")],W),(Q=(F=W||(W={})).ExtrapolateOptions||(F.ExtrapolateOptions={}))[Q.NONE=0]="NONE",Q[Q.POWER_OF_TWO=1]="POWER_OF_TWO";const z=W},74901:(Ke,Ee,E)=>{"use strict";E.d(Ee,{f:()=>C});class C{constructor(Z,j,U,Y,V=void 0){this.id=Z,this.level=j,this.row=U,this.col=Y,this.extent=V}}},97403:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var C=E(50484),D=E(34411),Z=E(95539),j=E(25387),U=E(89317),Y=E(80543),x=(E(1535),E(57678),E(14007),E(62185)),B=E(10141),k=E(7547),R=E(764);function H(w,O){return Z.Z.fromJSON({value:w,unit:O})}let N=class extends((0,j.J)(U.wq)){constructor(w){super(w),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(w,O){if(!O.timeExtent||!Array.isArray(O.timeExtent)||2!==O.timeExtent.length)return null;const I=new Date(O.timeExtent[0]),T=new Date(O.timeExtent[1]);return new D.Z({start:I,end:T})}writeFullTimeExtent(w,O){O.timeExtent=null!=w?.start&&null!=w.end?[w.start.getTime(),w.end.getTime()]:null}readInterval(w,O){return O.timeInterval&&O.timeIntervalUnits?H(O.timeInterval,O.timeIntervalUnits):O.defaultTimeInterval&&O.defaultTimeIntervalUnits?H(O.defaultTimeInterval,O.defaultTimeIntervalUnits):null}writeInterval(w,O){O.timeInterval=w?.toJSON().value??null,O.timeIntervalUnits=w?.toJSON().unit??null}};(0,C._)([(0,Y.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],N.prototype,"cumulative",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],N.prototype,"endField",void 0),(0,C._)([(0,Y.Cb)({type:D.Z,json:{write:{enabled:!0,allowNull:!0}}})],N.prototype,"fullTimeExtent",void 0),(0,C._)([(0,x.r)("fullTimeExtent",["timeExtent"])],N.prototype,"readFullTimeExtent",null),(0,C._)([(0,k.c)("fullTimeExtent")],N.prototype,"writeFullTimeExtent",null),(0,C._)([(0,Y.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"hasLiveData",void 0),(0,C._)([(0,Y.Cb)({type:Z.Z,json:{write:{enabled:!0,allowNull:!0}}})],N.prototype,"interval",void 0),(0,C._)([(0,x.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],N.prototype,"readInterval",null),(0,C._)([(0,k.c)("interval")],N.prototype,"writeInterval",null),(0,C._)([(0,Y.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],N.prototype,"startField",void 0),(0,C._)([(0,Y.Cb)((0,R.mi)("timeReference",!0))],N.prototype,"timeZone",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],N.prototype,"trackIdField",void 0),(0,C._)([(0,Y.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],N.prototype,"useTime",void 0),N=(0,C._)([(0,B.j)("esri.layers.support.TimeInfo")],N);const P=N},89713:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B5:()=>$,DR:()=>x,G:()=>w,M8:()=>R,Nm:()=>H,Qc:()=>L,XG:()=>N,a7:()=>k,h3:()=>O,ld:()=>B,wH:()=>P});var C=E(6785),D=E(19677);const Z={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},j=Object.values(Z),U=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${j.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Y=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${j.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),V=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function $(I){return!!U.test(I)}function L(I){if(null==I)return null;const T=(0,C.mN)(I),W=T?.path.match(U)||T?.path.match(Y);if(!W)return null;const[,z,F,Q,J]=W,oe=F.indexOf("/");return{title:B(-1!==oe?F.slice(oe+1):F),serverType:Z[Q.toLowerCase()],sublayer:null!=J&&""!==J?parseInt(J,10):null,url:{path:z}}}function x(I){const T=(0,C.mN)(I).path.match(V);return T?{serviceUrl:T[1],sublayerId:Number(T[2])}:null}function B(I){return(I=I.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+I.slice(1)}function k(I,T){const W=[];if(I){const z=L(I);null!=z&&z.title&&W.push(z.title)}if(T){const z=B(T);W.push(z)}if(2===W.length){if(W[0].toLowerCase().includes(W[1].toLowerCase()))return W[0];if(W[1].toLowerCase().includes(W[0].toLowerCase()))return W[1]}return W.join(" - ")}function R(I){if(!I)return!1;const Q=(I=I.toLowerCase()).includes(".arcgis.com/"),J=I.includes("//services")||I.includes("//tiles")||I.includes("//features");return Q&&J}function H(I,T){return I&&(0,C.Qj)((0,C.Hu)(I,T))}function N(I){let{url:T}=I;if(!T)return{url:T};T=(0,C.Hu)(T,I.logger);const W=(0,C.mN)(T),z=L(W.path);let F;if(null!=z)null!=z.sublayer&&null==I.layer.layerId&&(F=z.sublayer),T=z.url.path;else if(I.nonStandardUrlAllowed){const Q=x(W.path);null!=Q&&(T=Q.serviceUrl,F=Q.sublayerId)}return{url:(0,C.Qj)(T),layerId:F}}function P(I,T,W,z,F){(0,D.w)(T,z,"url",F),z.url&&null!=I.layerId&&(z.url=(0,C.v_)(z.url,W,I.layerId.toString()))}function w(I){if(!I)return!1;const T=I.toLowerCase(),W=T.includes("/services/"),z=T.includes("/mapserver/wmsserver"),F=T.includes("/imageserver/wmsserver"),Q=T.includes("/wmsserver");return W&&(z||F||Q)}function O(I){if(!I)return!1;const T=new C.R9((0,C.hF)(I)),W=T.authority?.toLowerCase();return"server.arcgisonline.com"===W||"services.arcgisonline.com"===W}},8966:(Ke,Ee,E)=>{"use strict";E.d(Ee,{qG:()=>J,PV:()=>T,id:()=>se,iR:()=>w,rn:()=>I,rT:()=>G,u1:()=>he,rO:()=>ue,Oh:()=>F,bT:()=>Q,C_:()=>P,Lx:()=>W,vg:()=>oe,YI:()=>N,HQ:()=>O});var C=E(34411),D=E(76215),Z=E(26894),j=E(43814),U=E(19677),V=(E(57678),E(51431)),R=E(86516),H=E(39437);const N={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:D.C}}},P={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(le,q)=>!q.disablePopup},write:{enabled:!0,writer(le,q,fe){q[fe]=!le}}}},w={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:D.C}}},O={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:U.w}}},I={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:D.C}}},T={value:null,type:R.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:D.C}}};function W(le){return{type:le,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const z={write:{enabled:!0,layerContainerTypes:D.C},read:!0},F={type:Number,json:{origins:{"web-document":z,"portal-item":{write:!0}}}},Q={...F,json:{...F.json,origins:{"web-document":{...z,write:{enabled:!0,layerContainerTypes:D.C,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(le,q,fe)=>fe&&"service"!==fe.origin||!q.drawingInfo||void 0===q.drawingInfo.transparency?q.layerDefinition?.drawingInfo&&void 0!==q.layerDefinition.drawingInfo.transparency?(0,H.b)(q.layerDefinition.drawingInfo.transparency):void 0:(0,H.b)(q.drawingInfo.transparency)}}},J={type:C.Z,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:le,timeOffset:q,useViewTime:fe}=this.layer,ge=this.view?.timeExtent;let me=this.layer.timeExtent;le&&(me=function k(le){if(!le)return le;const{start:q,end:fe}=le;return new C.Z({start:null!=q?(0,V.Nm)(q,q.getTimezoneOffset(),"minutes"):q,end:null!=fe?(0,V.Nm)(fe,fe.getTimezoneOffset(),"minutes"):fe})}(me));let te=fe?ge&&me?ge.intersection(me):ge||me:me;if(!te||te.isEmpty||te.isAllTime)return te;q&&(te=te.offset(-q.value,q.unit)),le&&(te=function B(le){if(!le)return le;const{start:q,end:fe}=le;return new C.Z({start:null!=q?(0,V.Nm)(q,-q.getTimezoneOffset(),"minutes"):q,end:null!=fe?(0,V.Nm)(fe,-fe.getTimezoneOffset(),"minutes"):fe})}(te));const ae=this._get("timeExtent");return te.equals(ae)?ae:te}},oe={type:Z.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(le,q)=>{const fe=Z.Z.fromJSON(le);return null!=q.spatialReference&&"object"==typeof q.spatialReference&&(fe.spatialReference=j.Z.fromJSON(q.spatialReference)),fe}}}},read:!1}},se={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},ue={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:D.C}}},name:"layerDefinition.minScale",write:!0}},he={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:D.C}}},name:"layerDefinition.maxScale",write:!0}},G={json:{write:{ignoreOrigin:!0,layerContainerTypes:D.C},origins:{"web-map":{read:!1,write:!1}}}}},73191:(Ke,Ee,E)=>{"use strict";function D(R){return"string"==typeof R||R instanceof String}E.d(Ee,{V$:()=>j,D3:()=>B,F3:()=>x});var j,R,Z=E(42534);(R=j||(j={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",R.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const U=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function V(R){return null!=R&&("date-only"===R.type||"esriFieldTypeDateOnly"===R.type)}function $(R){return null!=R&&("timestamp-offset"===R.type||"esriFieldTypeTimestampOffset"===R.type)}function L(R){return null!=R&&("time-only"===R.type||"esriFieldTypeTimeOnly"===R.type)}function x(R,H){const N=R?.domain;if(!N)return null;switch(N.type){case"range":{const{min:P,max:w}=B(R);if(null!=P&&+H<P||null!=w&&+H>w)return j.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==N.codedValues||N.codedValues.every(P=>null==P||P.code!==H))return j.INVALID_CODED_VALUE}return null}function B(R,H){const N=H??R?.domain;if(!N||"range"!==N.type)return;const P="range"in N?N.range[0]:N.minValue,w="range"in N?N.range[1]:N.maxValue,O=function Y(R){return null!=R&&U.has(R.type)}(R);return V(R)||L(R)||$(R)?{...k(R,w,P),isInteger:O}:{min:null!=P&&"number"==typeof P?P:null,max:null!=w&&"number"==typeof w?w:null,rawMin:P,rawMax:w,isInteger:O}}function k(R,H,N){return V(R)?{min:null!=N&&D(N)?(0,Z.A9)(N).toMillis():null,max:null!=H&&D(H)?(0,Z.A9)(H).toMillis():null,rawMin:N,rawMax:H}:L(R)?{min:null!=N&&D(N)?(0,Z.bk)(N).toMillis():null,max:null!=H&&D(H)?(0,Z.bk)(H).toMillis():null,rawMin:N,rawMax:H}:$(R)?{min:null!=N&&D(N)?(0,Z.US)(N).toMillis():null,max:null!=H&&D(H)?(0,Z.US)(H).toMillis():null,rawMin:N,rawMax:H}:{max:null,min:null}}},59300:(Ke,Ee,E)=>{"use strict";E.d(Ee,{im:()=>ue,V5:()=>se}),E(14007);var x,D=E(50484),Z=E(34222),j=E(80543),Y=(E(1535),E(21070)),V=E(10141),$=E(89317);E(57678);let B=x=class extends $.wq{constructor(he){super(he),this.name=null,this.code=null}clone(){return new x({name:this.name,code:this.code})}};(0,D._)([(0,j.Cb)({type:String,json:{write:!0}})],B.prototype,"name",void 0),(0,D._)([(0,j.Cb)({type:[String,Number],json:{write:!0}})],B.prototype,"code",void 0),B=x=(0,D._)([(0,V.j)("esri.layers.support.CodedValue")],B);const R=new(E(84303).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let H=class extends $.wq{constructor(he){super(he),this.name=null,this.type=null}};(0,D._)([(0,j.Cb)({type:String,json:{write:!0}})],H.prototype,"name",void 0),(0,D._)([(0,Y.J)(R)],H.prototype,"type",void 0),H=(0,D._)([(0,V.j)("esri.layers.support.Domain")],H);const N=H;var P;let w=P=class extends N{constructor(he){super(he),this.codedValues=null,this.type="coded-value"}getName(he){let G=null;if(this.codedValues){const le=String(he);this.codedValues.some(q=>(String(q.code)===le&&(G=q.name),!!G))}return G}clone(){return new P({codedValues:(0,Z.d9)(this.codedValues),name:this.name})}};(0,D._)([(0,j.Cb)({type:[B],json:{write:!0}})],w.prototype,"codedValues",void 0),(0,D._)([(0,Y.J)({codedValue:"coded-value"})],w.prototype,"type",void 0),w=P=(0,D._)([(0,V.j)("esri.layers.support.CodedValueDomain")],w);const O=w;var W;E(4703),E(57964);let z=W=class extends N{constructor(he){super(he),this.type="inherited"}clone(){return new W}};(0,D._)([(0,Y.J)({inherited:"inherited"})],z.prototype,"type",void 0),z=W=(0,D._)([(0,V.j)("esri.layers.support.InheritedDomain")],z);const F=z;var Q;let J=Q=class extends N{constructor(he){super(he),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,D._)([(0,j.Cb)({json:{type:[Number],read:{source:"range",reader:(he,G)=>G.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(he,G,le){G[le]=[this.minValue||0,he]}}}})],J.prototype,"maxValue",void 0),(0,D._)([(0,j.Cb)({json:{type:[Number],read:{source:"range",reader:(he,G)=>G.range?.[0]},write:{target:"range",writer(he,G,le){G[le]=[he,this.maxValue||0]}}}})],J.prototype,"minValue",void 0),(0,D._)([(0,Y.J)({range:"range"})],J.prototype,"type",void 0),J=Q=(0,D._)([(0,V.j)("esri.layers.support.RangeDomain")],J);const oe=J,se={key:"type",base:N,typeMap:{range:J,"coded-value":O,inherited:F}};function ue(he){if(!he?.type)return null;switch(he.type){case"range":return oe.fromJSON(he);case"codedValue":return O.fromJSON(he);case"inherited":return F.fromJSON(he)}return null}},43497:(Ke,Ee,E)=>{"use strict";E.d(Ee,{C9:()=>ie,Ci:()=>ue,FV:()=>oe,Fr:()=>P,HW:()=>He,JD:()=>w,JY:()=>Me,Jj:()=>z,KE:()=>te,Ob:()=>qe,SU:()=>G,VG:()=>ge,Y5:()=>T,gG:()=>pe,kZ:()=>Oe,kp:()=>ee,nU:()=>X,rP:()=>re,rk:()=>ve,sX:()=>Re,tD:()=>q,uA:()=>We,uj:()=>Q});var C=E(15861),D=E(26152),Z=E(71950),j=E(37636),U=E(57964),Y=E(84303),V=E(38955),$=E(50106),L=E(16952),x=E(85971),B=E(50923),k=E(42212),R=E(12768),H=E(91866),N=E(46556);const P=new Y.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function w(Ce,Pe,Ae,Be){return O.apply(this,arguments)}function O(){return(O=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(yield I(Ce,Pe,Be),!ze.addAttachment)throw new U.Z(Be,"Layer source does not support addAttachment capability");return ze.addAttachment(Pe,Ae)})).apply(this,arguments)}function I(Ce,Pe,Ae){const{attributes:Be}=Pe,{objectIdField:ze}=Ce;return Ce.capabilities?.data?.supportsAttachment?Pe?Be?ze&&Be[ze]?Promise.resolve():Promise.reject(new U.Z(Ae,`feature is missing the identifying attribute ${ze}`)):Promise.reject(new U.Z(Ae,"'attributes' are required on a feature to query attachments")):Promise.reject(new U.Z(Ae,"A feature is required to add/delete/update attachments")):Promise.reject(new U.Z(Ae,"this layer doesn't support attachments"))}function T(Ce,Pe,Ae,Be,ze){return W.apply(this,arguments)}function W(){return(W=(0,C.Z)(function*(Ce,Pe,Ae,Be,ze){const st=yield Se(Ce);if(yield I(Ce,Pe,ze),!st.updateAttachment)throw new U.Z(ze,"Layer source does not support updateAttachment capability");return st.updateAttachment(Pe,Ae,Be)})).apply(this,arguments)}function z(Ce,Pe,Ae){return F.apply(this,arguments)}function F(){return(F=(0,C.Z)(function*(Ce,Pe,Ae){const{applyEdits:Be}=yield E.e(8592).then(E.bind(E,52334)),ze=yield Ce.load(),{source:st,globalIdField:Xe}=ze;let ot=Ae;return"feature"===ze.type&&ze.infoFor3D&&null!=Pe.deleteFeatures&&null!=Xe&&(ot={...ot,globalIdToObjectId:yield He(Ce,Pe.deleteFeatures,Xe)}),Be(ze,st,Pe,Ae)})).apply(this,arguments)}function Q(Ce,Pe,Ae){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(Ce,Pe,Ae){const{uploadAssets:Be}=yield E.e(8592).then(E.bind(E,52334)),ze=yield Ce.load();return Be(ze,ze.source,Pe,Ae)})).apply(this,arguments)}function oe(Ce,Pe,Ae,Be){return se.apply(this,arguments)}function se(){return(se=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(yield I(Ce,Pe,Be),!ze.deleteAttachments)throw new U.Z(Be,"Layer source does not support deleteAttachments capability");return ze.deleteAttachments(Pe,Ae)})).apply(this,arguments)}function ue(Ce,Pe,Ae){return he.apply(this,arguments)}function he(){return(he=(0,C.Z)(function*(Ce,Pe,Ae){const Be=(yield Ce.load({signal:Pe?.signal})).source;if(!Be.fetchRecomputedExtents)throw new U.Z(Ae,"Layer source does not support fetchUpdates capability");return Be.fetchRecomputedExtents(Pe)})).apply(this,arguments)}function G(Ce,Pe,Ae,Be){return le.apply(this,arguments)}function le(){return(le=(0,C.Z)(function*(Ce,Pe,Ae,Be){Pe=R.Z.from(Pe),yield Ce.load();const ze=Ce.source,st=Ce.capabilities;if(!st?.data?.supportsAttachment)throw new U.Z(Be,"this layer doesn't support attachments");const{attachmentTypes:Xe,objectIds:ot,globalIds:ut,num:Et,size:Lt,start:Ut,where:kt}=Pe;if(!st?.operations?.supportsQueryAttachments&&(Xe?.length>0||ut?.length>0||Lt?.length>0||Et||Ut||kt))throw new U.Z(Be,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",Pe);if(!(ot?.length||ut?.length||kt))throw new U.Z(Be,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",Pe);if(!ze.queryAttachments)throw new U.Z(Be,"Layer source does not support queryAttachments capability",Pe);return ze.queryAttachments(Pe)})).apply(this,arguments)}function q(Ce,Pe,Ae,Be){return fe.apply(this,arguments)}function fe(){return(fe=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(!ze.queryObjectIds)throw new U.Z(Be,"Layer source does not support queryObjectIds capability");return ze.queryObjectIds(H.Z.from(Pe)??Ce.createQuery(),Ae)})).apply(this,arguments)}function ge(Ce,Pe,Ae,Be){return me.apply(this,arguments)}function me(){return(me=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(!ze.queryFeatureCount)throw new U.Z(Be,"Layer source does not support queryFeatureCount capability");return ze.queryFeatureCount(H.Z.from(Pe)??Ce.createQuery(),Ae)})).apply(this,arguments)}function te(Ce,Pe,Ae,Be){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(!ze.queryExtent)throw new U.Z(Be,"Layer source does not support queryExtent capability");return ze.queryExtent(H.Z.from(Pe)??Ce.createQuery(),Ae)})).apply(this,arguments)}function ee(Ce,Pe,Ae,Be){return ce.apply(this,arguments)}function ce(){return(ce=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(!ze.queryRelatedFeatures)throw new U.Z(Be,"Layer source does not support queryRelatedFeatures capability");return ze.queryRelatedFeatures(N.default.from(Pe),Ae)})).apply(this,arguments)}function ie(Ce,Pe,Ae,Be){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(Ce,Pe,Ae,Be){const ze=yield Se(Ce);if(!ze.queryRelatedFeaturesCount)throw new U.Z(Be,"Layer source does not support queryRelatedFeaturesCount capability");return ze.queryRelatedFeaturesCount(N.default.from(Pe),Ae)})).apply(this,arguments)}function pe(Ce){return ye.apply(this,arguments)}function ye(){return(ye=(0,C.Z)(function*(Ce){const Pe=Ce.source;if(Pe?.refresh)try{const{dataChanged:Ae,updates:Be}=yield Pe.refresh();if(null!=Be&&(Ce.sourceJSON={...Ce.sourceJSON,...Be},Ce.read(Be,{origin:"service",url:Ce.parsedUrl})),Ae)return!0}catch{}if(Ce.definitionExpression)try{return(yield(0,V.E)(Ce.definitionExpression,Ce.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function re(Ce){const Pe=new H.Z,Ae=Ce.capabilities?.data,Be=Ce.capabilities?.query;Pe.historicMoment=Ce.historicMoment,Pe.gdbVersion=Ce.gdbVersion,Pe.returnGeometry=!0,Be&&(Pe.compactGeometryEnabled=Be.supportsCompactGeometry,Pe.defaultSpatialReferenceEnabled=Be.supportsDefaultSpatialReference),Ae&&(Ae.supportsZ&&null!=Ce.returnZ&&(Pe.returnZ=Ce.returnZ),Ae.supportsM&&null!=Ce.returnM&&(Pe.returnM=Ce.returnM)),Pe.outFields=["*"];const{timeOffset:ze,timeExtent:st}=Ce;return Pe.timeExtent=null!=ze&&null!=st?st.offset(-ze.value,ze.unit):st||null,Pe.multipatchOption="multipatch"===Ce.geometryType?"xyFootprint":null,Pe}function ve(Ce){const{globalIdField:Pe,fields:Ae}=Ce;if(Pe)return Pe;if(Ae)for(const Be of Ae)if("esriFieldTypeGlobalID"===Be.type)return Be.name}function Oe(Ce){const{objectIdField:Pe,fields:Ae}=Ce;if(Pe)return Pe;if(Ae)for(const Be of Ae)if("esriFieldTypeOID"===Be.type)return Be.name}function Me(Ce){return Ce.currentVersion?Ce.currentVersion:Ce.hasOwnProperty("capabilities")||Ce.hasOwnProperty("drawingInfo")||Ce.hasOwnProperty("hasAttachments")||Ce.hasOwnProperty("htmlPopupType")||Ce.hasOwnProperty("relationships")||Ce.hasOwnProperty("timeInfo")||Ce.hasOwnProperty("typeIdField")||Ce.hasOwnProperty("types")?10:9.3}function Se(Ce){return ke.apply(this,arguments)}function ke(){return(ke=(0,C.Z)(function*(Ce){return(yield Ce.load()).source})).apply(this,arguments)}function Ge(){return(Ge=(0,C.Z)(function*(Ce,Pe){if(!D.id||D.id.findCredential(Ce))return;let Ae;try{const Be=yield(0,x.oP)(Ce,Pe);Be&&(Ae=yield D.id.checkSignInStatus(`${Be}/sharing`))}catch{}if(Ae)try{const Be=null!=Pe?Pe.signal:null;yield D.id.getCredential(Ce,{signal:Be})}catch{}})).apply(this,arguments)}function X(Ce,Pe,Ae){return be.apply(this,arguments)}function be(){return be=(0,C.Z)(function*(Ce,Pe,Ae){const Be=Ce.parsedUrl?.path;Be&&Ce.authenticationTriggerEvent===Pe&&(yield function xe(Ce,Pe){return Ge.apply(this,arguments)}(Be,Ae))}),be.apply(this,arguments)}function Re(Ce){return!Ce.sourceJSON?.isMultiServicesView&&(Ce.userHasUpdateItemPrivileges||Ce.editingEnabled)}const Fe=(0,$.d)({types:Z.QT});function qe(Ce,Pe){if(Ce.defaultSymbol)return Ce.types?.length?new k.Z({defaultSymbol:Fe(Ce.defaultSymbol,Ce,Pe),field:Ce.typeIdField,uniqueValueInfos:Ce.types.map(Ae=>({id:Ae.id,symbol:Fe(Ae.symbol,Ae,Pe)}))}):new B.Z({symbol:Fe(Ce.defaultSymbol,Ce,Pe)})}function We(Ce){let Pe=Ce.sourceJSON?.cacheMaxAge;if(!Pe)return!1;const Ae=Ce.editingInfo?.lastEditDate?.getTime();return null==Ae||(Pe*=1e3,Date.now()-Ae<Pe)}function He(Ce,Pe,Ae){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,C.Z)(function*(Ce,Pe,Ae){if(null==Pe)return null;const Be=[],{objectIdField:ze}=Ce;if(Pe.forEach(Et=>{let Lt=null;if("attributes"in Et){const{attributes:Ut}=Et;Lt={globalId:Ut[Ae],objectId:null!=Ut[ze]&&-1!==Ut[ze]?Ut[ze]:null}}else Lt={globalId:Et.globalId,objectId:null!=Et.objectId&&-1!==Et.objectId?Et.objectId:null};null!=Lt.globalId&&(null!=Lt.objectId&&-1!==Lt.objectId||Be.push(Lt.globalId))}),0===Be.length)return null;const st=Ce.createQuery();st.where=Be.map(Et=>`${Ae}='${Et}'`).join(" OR "),st.returnGeometry=!1,st.outFields=[ze,Ae],st.cacheHint=!1;const Xe=yield(0,j.mt)((0,L.UK)(Ce,st));if(!Xe.ok)return null;const ot=new Map,ut=Xe.value.features;for(const Et of ut){const Lt=Et.attributes[Ae],Ut=Et.attributes[ze];null!=Lt&&null!=Ut&&-1!==Ut&&ot.set(Lt,Ut)}return ot})).apply(this,arguments)}},16952:(Ke,Ee,E)=>{"use strict";E.d(Ee,{UK:()=>Z});var C=E(15861),D=E(91866);function Z($,L,x){return j.apply(this,arguments)}function j(){return(j=(0,C.Z)(function*($,L,x){L=L.clone(),$.capabilities.query.supportsMaxRecordCountFactor&&(L.maxRecordCountFactor=V($));const B=function U($){return V($)*function Y($){return $.capabilities.query.maxRecordCount||2e3}($)}($),k=$.capabilities.query.supportsPagination;L.start=0,L.num=B;let R=null;for(;;){const H=yield $.source.queryFeaturesJSON(L,x);if(null==R?R=H:R.features=R.features.concat(H.features),R.exceededTransferLimit=H.exceededTransferLimit,!k||!H.exceededTransferLimit)break;L.start+=B}return R})).apply(this,arguments)}function V($){return $.capabilities.query.supportsMaxRecordCountFactor?D.Z.MAX_MAX_RECORD_COUNT_FACTOR:1}},27969:(Ke,Ee,E)=>{"use strict";E.d(Ee,{v:()=>Y});var C=E(14007),D=E(4703),Z=E(81247),j=E(40100),U=E(85295);function Y(){return{fields:{type:[Z.Z],value:null,set:function(V){if(V&&(0,C.Z)("big-integer-warning-enabled")){const $=V.filter(L=>"big-integer"===L.type||"oid"===L.type&&(L.length||0)>=8);if($.length){const L=$.map(x=>`'${x.name}'`).join(", ");D.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${L}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",V)}},fieldsIndex:{readOnly:!0,get(){return j.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(V){this._userOutFields=V,this.notifyChange("outFields")},get:function(){const V=this._userOutFields;if(!V?.length)return null;if(V.includes("*"))return["*"];if(!this.fields)return V;for(const $ of V)this.fieldsIndex?.has($)||D.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${$} found in outFields`,{layer:this,outFields:V});return(0,U.Q0)(this.fieldsIndex,V)}}}}},51217:(Ke,Ee,E)=>{"use strict";E.d(Ee,{v:()=>D});const D=new(E(84303).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},85295:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AB:()=>I,CH:()=>Oe,Dl:()=>vn,Ec:()=>ht,Fv:()=>Fe,H7:()=>Vt,Hp:()=>Re,Lk:()=>T,Ll:()=>ee,Mu:()=>He,O5:()=>oe,Pz:()=>rn,Q0:()=>w,Qc:()=>ar,Qj:()=>ie,R9:()=>bt,Se:()=>hr,UF:()=>N,UQ:()=>an,YN:()=>R,ZR:()=>Be,ZV:()=>ge,d2:()=>xn,gd:()=>O,ig:()=>mn,io:()=>z,os:()=>Ae,q6:()=>x,qN:()=>ln,sX:()=>Cn,vP:()=>Qe,vl:()=>le,y2:()=>nn});var C=E(15861),D=E(57964),Z=E(71763),j=E(79876),U=E(38955),Y=E(73191),V=E(4978);const $=/^([0-9_])/,L=/[^a-z0-9_\u0080-\uffff]+/gi;function x(et){return null==et?null:et.trim().replaceAll(L,"_").replace($,"F$1")||null}const B=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],k=["field","normalizationField"];function R(et,lt){if(null!=et&&null!=lt)for(const _t of Array.isArray(et)?et:[et])if(H(B,_t,lt),"visualVariables"in _t&&_t.visualVariables)for(const It of _t.visualVariables)H(k,It,lt)}function H(et,lt,_t){if(et)for(const It of et){const en=(0,Z.hS)(It,lt),tn=en&&"function"!=typeof en&&_t.get(en);tn&&(0,Z.RB)(It,tn.name,lt)}}function N(et,lt){if(null!=et&&lt?.fields?.length)if("startField"in et){const _t=lt.get(et.startField),It=lt.get(et.endField);et.startField=_t?.name??null,et.endField=It?.name??null}else{const _t=lt.get(et.startTimeField),It=lt.get(et.endTimeField);et.startTimeField=_t?.name??null,et.endTimeField=It?.name??null}}const P=new Set;function w(et,lt){return et&&lt?(P.clear(),O(P,et,lt),Array.from(P).sort()):[]}function O(et,lt,_t){if(_t)if(lt?.fields?.length)if(_t.includes("*"))for(const{name:It}of lt.fields)et.add(It);else for(const It of _t)I(et,lt,It);else{if(_t.includes("*"))return et.clear(),void et.add("*");for(const It of _t)null!=It&&et.add(It)}}function I(et,lt,_t){if("string"==typeof _t)if(lt){const It=lt.get(_t);It&&et.add(It.name)}else et.add(_t)}function T(et,lt){return null==lt||null==et?[]:lt.includes("*")?(et.fields??[]).map(_t=>_t.name):lt}function z(et,lt,_t){return F.apply(this,arguments)}function F(){return(F=(0,C.Z)(function*(et,lt,_t){if(!_t)return;const{arcadeUtils:It}=yield(0,V.LC)(),en=It.extractFieldNames(_t,lt?.fields?.map(tn=>tn.name));for(const tn of en)I(et,lt,tn)})).apply(this,arguments)}function Q(et,lt,_t){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(et,lt,_t){if(_t&&"1=1"!==_t){const It=yield(0,U.E)(_t,lt);if(!It.isStandardized)throw new D.Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:_t});O(et,lt,It.fieldNames)}})).apply(this,arguments)}function oe({displayField:et,fields:lt}){return et||(lt?.length?ue(lt,"name-or-title")||ue(lt,"unique-identifier")||ue(lt,"type-or-category")||function se(et){for(const lt of et){if(!lt?.name)continue;const _t=lt.name.toLowerCase();if(_t.includes("name")||_t.includes("title"))return lt.name}return null}(lt):null)}function ue(et,lt){for(const _t of et)if(_t?.valueType&&_t.valueType===lt)return _t.name;return null}function le(et,lt){return q.apply(this,arguments)}function q(){return(q=(0,C.Z)(function*(et,lt){if(!lt)return;const _t=lt.elevationInfo?.featureExpressionInfo;return _t?_t.collectRequiredFields(et,lt.fieldsIndex):void 0})).apply(this,arguments)}function ge(et,lt,_t){return me.apply(this,arguments)}function me(){return me=(0,C.Z)(function*(et,lt,_t){if(!lt||!_t||!("fields"in _t))return;const It=[];It.push(function te(et,lt,_t){return ae.apply(this,arguments)}(et,lt,_t.popupTemplate)),_t.fields&&It.push(..._t.fields.map(function(){var tn=(0,C.Z)(function*(Bn){return function fe(et,lt,_t){_t.onStatisticExpression?z(et,lt,_t.onStatisticExpression.expression):et.add(_t.onStatisticField)}(et,lt.fieldsIndex,Bn)});return function(Bn){return tn.apply(this,arguments)}}())),yield Promise.all(It)}),me.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(et,lt,_t){const It=[];_t?.expressionInfos&&It.push(..._t.expressionInfos.map(tn=>z(et,lt.fieldsIndex,tn.expression)));const en=_t?.content;if(Array.isArray(en))for(const tn of en)"expression"===tn.type&&tn.expressionInfo&&It.push(z(et,lt.fieldsIndex,tn.expressionInfo.expression));yield Promise.all(It)})).apply(this,arguments)}function ee(et,lt,_t){return ce.apply(this,arguments)}function ce(){return(ce=(0,C.Z)(function*(et,lt,_t){lt&&(lt.timeInfo&&_t?.timeExtent&&O(et,lt.fieldsIndex,[lt.timeInfo.startField,lt.timeInfo.endField]),lt.floorInfo&&O(et,lt.fieldsIndex,[lt.floorInfo.floorField]),null!=_t?.where&&(yield Q(et,lt.fieldsIndex,_t.where)))})).apply(this,arguments)}function ie(et,lt,_t){return ne.apply(this,arguments)}function ne(){return ne=(0,C.Z)(function*(et,lt,_t){lt&&_t&&(yield Promise.all(_t.map(It=>function pe(et,lt,_t){return ye.apply(this,arguments)}(et,lt,It))))}),ne.apply(this,arguments)}function ye(){return(ye=(0,C.Z)(function*(et,lt,_t){lt&&_t&&(_t.valueExpression?yield z(et,lt.fieldsIndex,_t.valueExpression):_t.field&&I(et,lt.fieldsIndex,_t.field))})).apply(this,arguments)}function Oe(et){return et?w(et.fieldsIndex,X(et)):[]}const Se=new Set(["oid","global-id","guid"]),ke=new Set(["oid","global-id"]),xe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function X(et){if(!et)return[];const lt="editFieldsInfo"in et&&et.editFieldsInfo;if(!lt)return[];const{creationDateField:_t,creatorField:It,editDateField:en,editorField:tn}=lt;return[_t,It,en,tn].filter(Boolean)}function be(et){return X(et).map(lt=>lt.toLowerCase())}function Re(et,lt){return et.editable&&!Se.has(et.type)&&!be(lt).includes(et.name?.toLowerCase()??"")}function Fe(et,lt){const _t=et.name?.toLowerCase()??"";return!(null!=lt?.objectIdField&&_t===lt.objectIdField.toLowerCase()||null!=lt?.globalIdField&&_t===lt.globalIdField.toLowerCase()||function Ge(et){const lt=new Set;be(et).forEach(It=>lt.add(It)),function Me(et){if(!et)return[];const lt=et.geometryFieldsInfo;return lt?w(et.fieldsIndex,[lt.shapeAreaField,lt.shapeLengthField]):[]}(et).forEach(It=>lt.add(It.toLowerCase()));const _t=et&&"infoFor3D"in et?et.infoFor3D:void 0;return _t&&(Object.values(_t.assetMapFieldRoles).forEach(It=>lt.add(It.toLowerCase())),Object.values(_t.transformFieldRoles).forEach(It=>lt.add(It.toLowerCase()))),Array.from(lt)}(lt).includes(_t)||ke.has(et.type)||xe.some(It=>It.test(_t)))}function He(et,lt){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,C.Z)(function*(et,lt){const{labelingInfo:_t,fieldsIndex:It}=lt;_t?.length&&(yield Promise.all(_t.map(en=>function Ce(et,lt,_t){return Pe.apply(this,arguments)}(et,It,en))))}),Ne.apply(this,arguments)}function Pe(){return(Pe=(0,C.Z)(function*(et,lt,_t){if(!_t)return;const It=_t.getLabelExpression(),en=_t.where;if("arcade"===It.type)yield z(et,lt,It.expression);else{const tn=It.expression.match(/{[^}]*}/g);tn&&tn.forEach(Bn=>{I(et,lt,Bn.slice(1,-1))})}yield Q(et,lt,en)})).apply(this,arguments)}function Ae(et){const lt=et.defaultValue;return void 0!==lt&&Lt(et,lt)?lt:et.nullable?null:void 0}function Be(et){const lt="string"==typeof et?{type:et}:et;return ln(lt)?255:"esriFieldTypeDate"===lt.type||"date"===lt.type?8:void 0}function ze(et){return"number"==typeof et&&!isNaN(et)&&isFinite(et)}function st(et){return null===et||ze(et)}function Xe(et){return null===et||Number.isInteger(et)}function ot(et){return null!=et&&"string"==typeof et}function ut(et){return null===et||ot(et)}function Et(){return!0}function Lt(et,lt){let _t;switch(et.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":_t=et.nullable?Xe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":_t=et.nullable?st:ze;break;case"string":case"esriFieldTypeString":_t=et.nullable?ut:ot;break;default:_t=Et}return 1===arguments.length?_t:_t(lt)}const Ot=(0,j.G0)(new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]));function Vt(et){return null!=et&&Ot.has(et.type)}function ln(et){return null!=et&&("string"===et.type||"esriFieldTypeString"===et.type)}function nn(et){return null!=et&&("date"===et.type||"esriFieldTypeDate"===et.type)}function an(et){return null!=et&&("date-only"===et.type||"esriFieldTypeDateOnly"===et.type)}function mn(et){return null!=et&&("timestamp-offset"===et.type||"esriFieldTypeTimestampOffset"===et.type)}function Cn(et){return null!=et&&("time-only"===et.type||"esriFieldTypeTimeOnly"===et.type)}function vn(et){return null!=et&&("oid"===et.type||"esriFieldTypeOID"===et.type)}function hr(et){return null!=et&&("global-id"===et.type||"esriFieldTypeGlobalID"===et.type)}function xn(et,lt){return null===ar(et,lt)}var Xn,$t;function rn(et){return null==et||"number"==typeof et&&isNaN(et)?null:et}function ar(et,lt){return null==et||et.nullable&&null===lt?null:Vt(et)&&!function ts(et,lt){const _t="string"==typeof et?Kr(et):et;if(!_t)return!1;const It=_t.min,en=_t.max;return _t.isInteger?Number.isInteger(lt)&&lt>=It&&lt<=en:lt>=It&&lt<=en}(et.type,Number(lt))?Xn.OUT_OF_RANGE:Lt(et,lt)?et.domain?(0,Y.F3)(et,lt):null:$t.INVALID_TYPE}function Kr(et){switch(et){case"esriFieldTypeSmallInteger":case"small-integer":return Mn;case"esriFieldTypeInteger":case"integer":return ns;case"esriFieldTypeBigInteger":case"big-integer":return rt;case"esriFieldTypeSingle":case"single":return Nt;case"esriFieldTypeDouble":case"double":return Je}}(Xn||(Xn={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",($t||($t={})).INVALID_TYPE="type-validation-error::invalid-type";const Mn={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},ns={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},rt={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Nt={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Je={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Qe(et,lt,_t){switch(et){case Y.V$.INVALID_CODED_VALUE:return`Value ${_t} is not in the coded domain - field: ${lt.name}, domain: ${JSON.stringify(lt.domain)}`;case Y.V$.VALUE_OUT_OF_RANGE:return`Value ${_t} is out of the range of valid values - field: ${lt.name}, domain: ${JSON.stringify(lt.domain)}`;case $t.INVALID_TYPE:return`Value ${_t} is not a valid value for the field type - field: ${lt.name}, type: ${lt.type}, nullable: ${lt.nullable}`;case Xn.OUT_OF_RANGE:{const{min:It,max:en}=Kr(lt.type);return`Value ${_t} is out of range for the number type - field: ${lt.name}, type: ${lt.type}, value range is ${It} to ${en}`}}}function bt(et,lt){return!function Pt(et,lt,_t){if(!lt?.attributes||!et){if(null!=_t)for(const tn of et??[])_t.add(tn);return!0}const It=new Set(Object.keys(lt.attributes));let en=!1;for(const tn of et)if(!It.has(tn)){if(en=!0,null==_t)break;_t.add(tn)}return en}(et,lt,null)}function ht(et){return!!et&&["raster.itempixelvalue","raster.servicepixelvalue"].some(lt=>et.toLowerCase().startsWith(lt))}},1865:(Ke,Ee,E)=>{"use strict";function C(j){const U=j.layer;return"floorInfo"in U&&U.floorInfo?.floorField&&"floors"in j.view?Z(j.view.floors,U.floorInfo.floorField):null}function D(j,U){return"floorInfo"in U&&U.floorInfo?.floorField?Z(j,U.floorInfo.floorField):null}function Z(j,U){if(!j?.length)return null;const Y=j.filter(V=>""!==V).map(V=>`'${V}'`);return Y.push("''"),`${U} IN (${Y.join(",")}) OR ${U} IS NULL`}E.d(Ee,{c:()=>C,f:()=>D})},11642:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$6:()=>O,$z:()=>Z,F7:()=>D,Ow:()=>V,S0:()=>Y,d1:()=>$,dm:()=>L});const C=[["binary","application/octet-stream","bin",""]];function D(I,T){return null!=R(T.name,I?.supportedFormats??[])}function Z(I,T){if(!I)return!1;const W=L(T,I.supportedFormats??[]);return null!=W&&I.editFormats.includes(W)}function Y(I,T){return H(function k(I,T){const W=I.toLowerCase();return x(T).find(z=>N(z)===W)}(I,T))}function V(I,T){return H(R(I,T))}function $(I,T){return N(function B(I,T){return x(T).find(W=>H(W)===I)}(I,T))}function L(I,T){return V(I.name,T)??Y(I.type,T)}function x(I){return[...C,...I]}function R(I,T){const W=I.toLowerCase();return x(T).find(z=>function P(I){return I?.[2].split(",").map(T=>T.toLowerCase())??[]}(z).some(F=>W.endsWith(F)))}function H(I){return I?.[0]}function N(I){return I?.[1].toLowerCase()}function O(I){return I.tables?.find(T=>"assetMaps"===T.role)}},56761:(Ke,Ee,E)=>{"use strict";E.d(Ee,{UO:()=>N,YI:()=>H,dI:()=>P,el:()=>z,hV:()=>R,z7:()=>k});var C=E(72578);const D="__begin__",Z="__end__",j=new RegExp(D,"ig"),U=new RegExp(Z,"ig"),Y=new RegExp("^"+D,"i"),V=new RegExp(Z+"$","i"),$='"',L=$+" + ",x=" + "+$;function k(F){return F.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function R(F){const Q={expression:"",type:"none"};return F.labelExpressionInfo?F.labelExpressionInfo.value?(Q.expression=F.labelExpressionInfo.value,Q.type="conventional"):F.labelExpressionInfo.expression&&(Q.expression=F.labelExpressionInfo.expression,Q.type="arcade"):null!=F.labelExpression&&(Q.expression=function B(F){return F.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}(F.labelExpression),Q.type="conventional"),Q}function H(F){const Q=R(F);if(!Q)return null;switch(Q.type){case"conventional":return P(Q.expression);case"arcade":return Q.expression}return null}function N(F){const Q=R(F);if(!Q)return null;switch(Q.type){case"conventional":return function O(F){return F?.match(w)?.[1].trim()||null}(Q.expression);case"arcade":return z(Q.expression)}return null}function P(F){let Q;return F?(Q=(0,C.gx)(F,J=>D+'$feature["'+J+'"]'+Z),Q=Y.test(Q)?Q.replace(Y,""):$+Q,Q=V.test(Q)?Q.replace(V,""):Q+$,Q=Q.replaceAll(j,L).replaceAll(U,x)):Q='""',Q}const w=/^\s*\{([^}]+)\}\s*$/i,I=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,T=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,W=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function z(F){if(!F)return null;let Q=I.exec(F)||T.exec(F);return Q?Q[1]||Q[3]:(Q=W.exec(F),Q?Q[2]:null)}},75421:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>x,r:()=>V});var C=E(57964),D=E(34222),Z=E(4703),j=E(40591);const U=Z.Z.getLogger("esri.layers.support.labelingInfo"),Y=/\[([^\[\]]+)\]/gi;function V(k,R,H){return k?k.map(N=>{const P=new j.Z;if(P.read(N,H),P.labelExpression){const w=R.fields||R.layerDefinition?.fields||this.fields;P.labelExpression=P.labelExpression.replaceAll(Y,(O,I)=>`[${function $(k,R){if(!R)return k;const H=k.toLowerCase();for(let N=0;N<R.length;N++){const P=R[N].name;if(P.toLowerCase()===H)return P}return k}(I,w)}]`)}return P}):null}const L={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function x(k,R){const H=(0,D.d9)(k);return H.some(N=>function B(k,R){const H=k.labelPlacement,N=L[R];if(!k.symbol)return U.warn("No ILabelClass symbol specified."),!0;if(!N)return U.error(new C.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${R}' is not supported`)),!0;if(!N.includes(H)){const P=N[0];H&&U.warn(`Found invalid label placement type ${H} for ${R}. Defaulting to ${P}`),k.labelPlacement=P}return!1}(N,R))?[]:H}},85971:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A2:()=>N,S1:()=>he,Te:()=>U,fP:()=>T,fb:()=>H,ln:()=>le,oP:()=>J,rQ:()=>I});var C=E(15861),D=E(26152),Z=E(66476);function U(q){return null!=q&&"object"==typeof q&&"type"in q&&"feature"===q.type}const H={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function N(q){const fe=q?.type;return"building-scene"===fe||"integrated-mesh"===fe||"point-cloud"===fe||"scene"===fe}function I(q){return"feature"===q?.type&&!q.url&&"memory"===q.source?.type}function T(q){return("feature"===q?.type||"subtype-group"===q?.type)&&"feature-layer"===q.source?.type}function J(q,fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(q,fe){const ge=D.id?.findServerInfo(q);if(null!=ge?.currentVersion)return ge.owningSystemUrl||null;const me=q.toLowerCase().indexOf("/rest/services");if(-1===me)return null;const te=`${q.substring(0,me)}/rest/info`,ae=null!=fe?fe.signal:null,{data:ee}=yield(0,Z.Z)(te,{query:{f:"json"},responseType:"json",signal:ae});return ee?.owningSystemUrl||null})).apply(this,arguments)}function he(q){return function se(q){if(!("capabilities"in q))return!1;switch(q.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(q)?"effectiveCapabilities"in q?q.effectiveCapabilities:q.capabilities:null}function le(q){return!!function G(q){if(!("editingEnabled"in q))return!1;switch(q.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(q)&&("effectiveEditingEnabled"in q?q.effectiveEditingEnabled:q.editingEnabled)}},86741:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>U,r:()=>j});const C=9999999e31,D=2e-7,Z={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function j(Y){return Z[Y]??[-34028234663852886e22,34028234663852886e22]}function U(Y,V,$){if(Y.depthCount&&Y.depthCount>1)return;const{pixels:L,statistics:x,pixelType:B}=Y,R=Y.bandMasks??[],H=Y.mask??new Uint8Array(L[0].length).fill(255),N="f32"===B||"f64"===B,P=j(B);let w=!1;for(let O=0;O<L.length;O++){const I="number"==typeof V?V:V[O];if(null==I)continue;if((x?.[O]?.minValue??P[0])>I+Number.EPSILON||(x?.[O]?.maxValue??P[1])<I-Number.EPSILON)continue;const z=R[O]||H.slice(),F=L[O],Q=$?.customFloatTolerance;if(N&&0!==Q){let J=Q;J||(J=Math.abs(I)>=C?D*Math.abs(I):"f32"===B?2**-23:Number.EPSILON);for(let oe=0;oe<F.length;oe++)z[oe]&&Math.abs(F[oe]-I)<J&&(F[oe]=0,z[oe]=0,H[oe]=0,w=!0)}else for(let J=0;J<F.length;J++)z[J]&&F[J]===I&&(F[J]=0,z[J]=0,H[J]=0,w=!0);R[O]=z}w&&(Y.bandMasks=Y.bandMasks||Y.pixels.length>1?R:null,Y.mask=H),w&&"updateStatistics"in Y&&Y.updateStatistics()}},37556:(Ke,Ee,E)=>{"use strict";E.d(Ee,{h:()=>L});var C=E(14007),D=E(89713);function Z(T,W,z){return!!U(T,W,z)}function j(T,W,z){return U(T,W,z)}function U(T,W,z){return T&&T.hasOwnProperty(W)?T[W]:z}const Y={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function V(T){const W=T?.supportedSpatialAggregationStatistics?.map(z=>z.toLowerCase());return{envelope:!!W?.includes("envelopeaggregate"),centroid:!!W?.includes("centroidaggregate"),convexHull:!!W?.includes("convexhullaggregate")}}function $(T,W){return!!T?.supportedOperationsWithCacheHint?.map(F=>F.toLowerCase())?.includes(W.toLowerCase())}function L(T,W){return{analytics:x(T),attachment:B(T),data:k(T),metadata:R(T),operations:H(T.capabilities,T,W),query:N(T,W),queryRelated:P(T),queryTopFeatures:w(T),editing:O(T)}}function x(T){return{supportsCacheHint:$(T.advancedQueryCapabilities,"queryAnalytics")}}function B(T){const W=T.attachmentProperties,z={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:$(T.advancedQueryCapabilities,"queryAttachments"),supportsResize:Z(T,"supportsAttachmentsResizing",!1)};return W&&Array.isArray(W)&&W.forEach(F=>{const Q=Y[F.name];Q&&(z[Q]=!!F.isEnabled)}),z}function k(T){return{isVersioned:Z(T,"isDataVersioned",!1),supportsAttachment:Z(T,"hasAttachments",!1),supportsM:Z(T,"hasM",!1),supportsZ:Z(T,"hasZ",!1)}}function R(T){return{supportsAdvancedFieldProperties:Z(T,"supportsFieldDescriptionProperty",!1)}}function H(T,W,z){const F=T?T.toLowerCase().split(",").map(q=>q.trim()):[],Q=z?(0,D.Qc)(z):null,J=F.includes(null!=Q&&"MapServer"===Q.serverType?"data":"query"),oe=F.includes("editing")&&!W.datesInUnknownTimezone;let se=oe&&F.includes("create"),ue=oe&&F.includes("delete"),he=oe&&F.includes("update");const G=F.includes("changetracking"),le=W.advancedQueryCapabilities;return oe&&!(se||ue||he)&&(se=ue=he=!0),{supportsCalculate:Z(W,"supportsCalculate",!1),supportsTruncate:Z(W,"supportsTruncate",!1),supportsValidateSql:Z(W,"supportsValidateSql",!1),supportsAdd:se,supportsDelete:ue,supportsEditing:oe,supportsChangeTracking:G,supportsQuery:J,supportsQueryAnalytics:Z(le,"supportsQueryAnalytic",!1),supportsQueryAttachments:Z(le,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Z(le,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Z(W,"supportsAttachmentsResizing",!1),supportsSync:F.includes("sync"),supportsUpdate:he,supportsExceedsLimitStatistics:Z(W,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Z(W,"supportsAsyncConvert3D",!1)}}function N(T,W){const z=T.advancedQueryCapabilities,F=T.ownershipBasedAccessControlForFeatures,Q=T.archivingInfo,J=T.currentVersion,oe=W?.includes("MapServer"),se=!oe||J>=(0,C.Z)("mapserver-pbf-version-support"),ue=(0,D.M8)(W),he=new Set((T.supportedQueryFormats??"").split(",").map(G=>G.toLowerCase().trim()));return{supportsStatistics:Z(z,"supportsStatistics",T.supportsStatistics),supportsPercentileStatistics:Z(z,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Z(z,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:V(z),supportsCentroid:Z(z,"supportsReturningGeometryCentroid",!1),supportsDistance:Z(z,"supportsQueryWithDistance",!1),supportsDistinct:Z(z,"supportsDistinct",T.supportsAdvancedQueries),supportsExtent:Z(z,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Z(z,"supportsReturningGeometryProperties",!1),supportsHavingClause:Z(z,"supportsHavingClause",!1),supportsOrderBy:Z(z,"supportsOrderBy",T.supportsAdvancedQueries),supportsPagination:Z(z,"supportsPagination",!1),supportsQuantization:Z(T,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Z(T,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Z(T,"supportsReturningQueryGeometry",!1),supportsResultType:Z(z,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Z(z,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Z(z,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Z(T,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Z(z,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:Z(F,"allowAnonymousToQuery",!0),supportsQueryByOthers:Z(F,"allowOthersToQuery",!0),supportsHistoricMoment:Z(Q,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:se&&he.has("pbf"),supportsDisjointSpatialRelationship:Z(z,"supportsDisjointSpatialRel",!1),supportsCacheHint:Z(z,"supportsQueryWithCacheHint",!1)||$(z,"query"),supportsDefaultSpatialReference:Z(z,"supportsDefaultSR",!1),supportsCompactGeometry:ue,supportsFullTextSearch:Z(z,"supportsFullTextSearch",!1),maxRecordCountFactor:j(T,"maxRecordCountFactor",void 0),maxRecordCount:j(T,"maxRecordCount",void 0),standardMaxRecordCount:j(T,"standardMaxRecordCount",void 0),tileMaxRecordCount:j(T,"tileMaxRecordCount",void 0)}}function P(T){const W=T.advancedQueryCapabilities,z=Z(W,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Z(W,"supportsQueryRelatedPagination",!1),supportsCount:z,supportsOrderBy:z,supportsCacheHint:$(W,"queryRelated")}}function w(T){return{supportsCacheHint:$(T.advancedQueryCapabilities,"queryTopFilter")}}function O(T){const W=T.ownershipBasedAccessControlForFeatures,z=T?T.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Z(T,"allowGeometryUpdates",!0),supportsGlobalId:Z(T,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Z(T,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Z(T,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Z(T,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Z(T,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Z(W,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Z(W,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Z(W,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Z(W,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Z(z,"supportsAsyncApplyEdits",!1),zDefault:j(T,"zDefault",void 0)}}},46054:(Ke,Ee,E)=>{"use strict";E.d(Ee,{n:()=>fe});var O,C=E(50484),D=E(84303),Z=E(89317),j=E(80543),U=E(73018),Y=E(21070),V=E(62185),$=E(10141),L=E(1535),x=E(50106),B=E(81247),k=E(59341),P=(E(2189),E(57678),E(14007),E(43814)),w=E(31709);let I=O=class extends Z.wq{constructor(ge){super(ge),this.type="query-table"}clone(){const{workspaceId:ge,query:me,oidFields:te,spatialReference:ae,geometryType:ee}=this,ce={workspaceId:ge,query:me,oidFields:te,spatialReference:ae?.clone()??void 0,geometryType:ee};return new O(ce)}};var T;(0,C._)([(0,Y.J)({queryTable:"query-table"})],I.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],I.prototype,"workspaceId",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],I.prototype,"query",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],I.prototype,"oidFields",void 0),(0,C._)([(0,j.Cb)({type:P.Z,json:{write:!0}})],I.prototype,"spatialReference",void 0),(0,C._)([(0,Y.J)(w.M)],I.prototype,"geometryType",void 0),I=O=(0,C._)([(0,$.j)("esri.layers.support.source.QueryTableDataSource")],I);let W=T=class extends Z.wq{constructor(ge){super(ge),this.type="raster"}clone(){const{workspaceId:ge,dataSourceName:me}=this;return new T({workspaceId:ge,dataSourceName:me})}};var z;(0,C._)([(0,Y.J)({raster:"raster"})],W.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],W.prototype,"dataSourceName",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],W.prototype,"workspaceId",void 0),W=T=(0,C._)([(0,$.j)("esri.layers.support.source.RasterDataSource")],W);let F=z=class extends Z.wq{constructor(ge){super(ge),this.type="table"}clone(){const{workspaceId:ge,gdbVersion:me,dataSourceName:te}=this;return new z({workspaceId:ge,gdbVersion:me,dataSourceName:te})}};var Q,J;(0,C._)([(0,Y.J)({table:"table"})],F.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],F.prototype,"workspaceId",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],F.prototype,"gdbVersion",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],F.prototype,"dataSourceName",void 0),F=z=(0,C._)([(0,$.j)("esri.layers.support.source.TableDataSource")],F);const oe=(0,D.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let se=Q=class extends Z.wq{constructor(ge){super(ge),this.type="join-table"}readLeftTableSource(ge,me,te){return he()(ge,me,te)}castLeftTableSource(ge){return(0,L.N7)(le(),ge)}readRightTableSource(ge,me,te){return he()(ge,me,te)}castRightTableSource(ge){return(0,L.N7)(le(),ge)}clone(){const{leftTableKey:ge,rightTableKey:me,leftTableSource:te,rightTableSource:ae,joinType:ee}=this,ce={leftTableKey:ge,rightTableKey:me,leftTableSource:te?.clone()??void 0,rightTableSource:ae?.clone()??void 0,joinType:ee};return new Q(ce)}};(0,C._)([(0,Y.J)({joinTable:"join-table"})],se.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],se.prototype,"leftTableKey",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],se.prototype,"rightTableKey",void 0),(0,C._)([(0,j.Cb)({json:{write:!0}})],se.prototype,"leftTableSource",void 0),(0,C._)([(0,V.r)("leftTableSource")],se.prototype,"readLeftTableSource",null),(0,C._)([(0,U.p)("leftTableSource")],se.prototype,"castLeftTableSource",null),(0,C._)([(0,j.Cb)({json:{write:!0}})],se.prototype,"rightTableSource",void 0),(0,C._)([(0,V.r)("rightTableSource")],se.prototype,"readRightTableSource",null),(0,C._)([(0,U.p)("rightTableSource")],se.prototype,"castRightTableSource",null),(0,C._)([(0,Y.J)(oe)],se.prototype,"joinType",void 0),se=Q=(0,C._)([(0,$.j)("esri.layers.support.source.JoinTableDataSource")],se);let ue=null;function he(){return ue||(ue=(0,x.d)({types:le()})),ue}let G=null;function le(){return G||(G={key:"type",base:null,typeMap:{"data-layer":fe,"map-layer":k.R}}),G}const q={key:"type",base:null,typeMap:{"join-table":se,"query-table":I,raster:W,table:F}};let fe=J=class extends Z.wq{constructor(ge){super(ge),this.type="data-layer"}clone(){const{fields:ge,dataSource:me}=this;return new J({fields:ge,dataSource:me})}};(0,C._)([(0,Y.J)({dataLayer:"data-layer"})],fe.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:[B.Z],json:{write:!0}})],fe.prototype,"fields",void 0),(0,C._)([(0,j.Cb)({types:q,json:{write:!0}})],fe.prototype,"dataSource",void 0),fe=J=(0,C._)([(0,$.j)("esri.layers.support.source.DataLayerSource")],fe),fe.from=(0,L.se)(fe)},59341:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>x});var L,C=E(50484),D=E(89317),Z=E(80543),j=E(1535),V=(E(57678),E(14007),E(21070)),$=E(10141);let x=L=class extends D.wq{constructor(B){super(B),this.type="map-layer"}clone(){const{mapLayerId:B,gdbVersion:k}=this;return new L({mapLayerId:B,gdbVersion:k})}};(0,C._)([(0,V.J)({mapLayer:"map-layer"})],x.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:j.z8,json:{write:!0}})],x.prototype,"mapLayerId",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0),x=L=(0,C._)([(0,$.j)("esri.layers.support.source.MapLayerSource")],x)},45859:(Ke,Ee,E)=>{"use strict";E.d(Ee,{FN:()=>Z,QV:()=>D,ac:()=>U});var C=E(60301);function D(Y,V,$){return V.flatten(({sublayers:x})=>x).length!==Y.length||!!Y.some(x=>x.originIdOf("minScale")>$||x.originIdOf("maxScale")>$||x.originIdOf("renderer")>$||x.originIdOf("labelingInfo")>$||x.originIdOf("opacity")>$||x.originIdOf("labelsVisible")>$||x.originIdOf("source")>$)||!j(Y,V)}function Z(Y,V,$){return!!Y.some(L=>{const x=L.source;return!(!x||"map-layer"===x.type&&x.mapLayerId===L.id&&(null==x.gdbVersion||x.gdbVersion===$))||L.originIdOf("renderer")>C.s3.SERVICE||L.originIdOf("labelingInfo")>C.s3.SERVICE||L.originIdOf("opacity")>C.s3.SERVICE||L.originIdOf("labelsVisible")>C.s3.SERVICE})||!j(Y,V)}function j(Y,V){if(!Y?.length||null==V)return!0;const $=V.slice().reverse().flatten(({sublayers:B})=>B&&B.toArray().reverse()).map(B=>B.id).toArray();if(Y.length>$.length)return!1;let L=0;const x=$.length;for(const{id:B}of Y){for(;L<x&&$[L]!==B;)L++;if(L>=x)return!1}return!0}function U(Y){return!!Y&&Y.some(V=>null!=V.minScale||null!=V.layerDefinition?.minScale)}},83739:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D:()=>Z});var C=E(89713);const D=[];function Z(j,U){if((0,C.M8)(j.url??""))return!0;const{wkid:Y}=U;for(const V of D){if((j.version??0)>=V[0])return!0;if("function"==typeof V[1]&&(V[1]=V[1]()),V[1].has(Y))return!1}return!0}D.push([10.91,()=>{const j=new Set([9709,9716,9741,9761,9766]);for(let U=9712;U<=9713;U++)j.add(U);for(let U=9748;U<=9749;U++)j.add(U);for(let U=20904;U<=20932;U++)j.add(U);for(let U=21004;U<=21032;U++)j.add(U);for(let U=21207;U<=21264;U++)j.add(U);for(let U=21307;U<=21364;U++)j.add(U);for(let U=23301;U<=23333;U++)j.add(U);for(let U=102759;U<=102760;U++)j.add(U);for(let U=102934;U<=102955;U++)j.add(U);return j}]),D.push([10.9,()=>{const j=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let U=9356;U<=9360;U++)j.add(U);for(let U=9404;U<=9407;U++)j.add(U);for(let U=9476;U<=9482;U++)j.add(U);for(let U=9487;U<=9494;U++)j.add(U);for(let U=9697;U<=9699;U++)j.add(U);return j}]),D.push([10.81,()=>{const j=new Set([9265,9333,103598,103699]);for(let U=9248;U<=9254;U++)j.add(U);for(let U=9271;U<=9273;U++)j.add(U);for(let U=9284;U<=9285;U++)j.add(U);for(let U=21453;U<=21463;U++)j.add(U);return j}]),D.push([10.8,()=>{const j=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let U=8035;U<=8036;U++)j.add(U);for(let U=8455;U<=8456;U++)j.add(U);for(let U=8518;U<=8529;U++)j.add(U);for(let U=8533;U<=8536;U++)j.add(U);for(let U=8538;U<=8540;U++)j.add(U);for(let U=8677;U<=8679;U++)j.add(U);for(let U=8902;U<=8903;U++)j.add(U);for(let U=8907;U<=8910;U++)j.add(U);for(let U=8949;U<=8951;U++)j.add(U);for(let U=8972;U<=8987;U++)j.add(U);for(let U=9039;U<=9040;U++)j.add(U);for(let U=9068;U<=9069;U++)j.add(U);for(let U=9140;U<=9141;U++)j.add(U);for(let U=9148;U<=9150;U++)j.add(U);for(let U=9153;U<=9159;U++)j.add(U);for(let U=9205;U<=9218;U++)j.add(U);for(let U=9221;U<=9222;U++)j.add(U);for(let U=54098;U<=54101;U++)j.add(U);return j}]),D.push([10.71,()=>{const j=new Set([6316]);for(let U=8351;U<=8353;U++)j.add(U);for(let U=9294;U<=9297;U++)j.add(U);for(let U=22619;U<=22621;U++)j.add(U);for(let U=103586;U<=103594;U++)j.add(U);return j}]),D.push([10.7,()=>{const j=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let U=8065;U<=8068;U++)j.add(U);for(let U=8082;U<=8083;U++)j.add(U);for(let U=8379;U<=8385;U++)j.add(U);for(let U=8836;U<=8840;U++)j.add(U);for(let U=8857;U<=8860;U++)j.add(U);for(let U=53035;U<=53037;U++)j.add(U);for(let U=54090;U<=54091;U++)j.add(U);for(let U=102498;U<=102499;U++)j.add(U);return j}]),D.push([10.61,()=>new Set([102497])]),D.push([10.6,()=>{const j=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let U=7755;U<=7787;U++)j.add(U);for(let U=7791;U<=7795;U++)j.add(U);for(let U=7799;U<=7801;U++)j.add(U);for(let U=7825;U<=7831;U++)j.add(U);for(let U=7877;U<=7878;U++)j.add(U);for(let U=7882;U<=7883;U++)j.add(U);for(let U=7991;U<=7992;U++)j.add(U);for(let U=8042;U<=8043;U++)j.add(U);for(let U=8058;U<=8059;U++)j.add(U);for(let U=8311;U<=8348;U++)j.add(U);for(let U=9060;U<=9067;U++)j.add(U);for(let U=102562;U<=102568;U++)j.add(U);for(let U=102799;U<=102900;U++)j.add(U);return j}])},73322:(Ke,Ee,E)=>{"use strict";E.d(Ee,{W:()=>Z,v:()=>j});var C=E(33740);const D={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(U,Y,V)=>{"-"===Y.charAt(0)?U.style.setProperty(Y,V):U.style[Y]=V}};let Z=U=>(0,C.l7)(D,U),j={create:(U,Y)=>(Y=Z(Y),(0,C.WV)(U,document.createElement("div"),void 0,Y),(0,C.UQ)(U,Y)),append:(U,Y,V)=>(V=Z(V),(0,C.WV)(Y,U,void 0,V),(0,C.UQ)(Y,V)),insertBefore:(U,Y,V)=>(V=Z(V),(0,C.WV)(Y,U.parentNode,U,V),(0,C.UQ)(Y,V)),merge:(U,Y,V)=>(V=Z(V),Y.domNode=U,(0,C.Yj)(U,Y,V),(0,C.UQ)(Y,V)),replace:(U,Y,V)=>(V=Z(V),(0,C.WV)(Y,U.parentNode,U,V),U.parentNode.removeChild(U),(0,C.UQ)(Y,V))}},33740:(Ke,Ee,E)=>{"use strict";E.d(Ee,{UQ:()=>se,WV:()=>F,Yj:()=>z,l7:()=>Y});var C=E(40846);const D="http://www.w3.org/",Z=`${D}2000/svg`,j=`${D}1999/xlink`;let U=[],Y=(ue,he)=>{let G={};return Object.keys(ue).forEach(le=>{G[le]=ue[le]}),he&&Object.keys(he).forEach(le=>{G[le]=he[le]}),G},V=(ue,he)=>ue.vnodeSelector===he.vnodeSelector&&(ue.properties&&he.properties?ue.properties.key===he.properties.key&&ue.properties.bind===he.properties.bind:!ue.properties&&!he.properties),$=ue=>{if("string"!=typeof ue)throw new Error("Style values must be strings")},L=(ue,he,G)=>{if(""!==he.vnodeSelector)for(let le=G;le<ue.length;le++)if(V(ue[le],he))return le;return-1},x=(ue,he,G,le)=>{let q=ue[he];if(""===q.vnodeSelector)return;let fe=q.properties;if(!fe||!(void 0===fe.key?fe.bind:fe.key))for(let ge=0;ge<ue.length;ge++)if(ge!==he&&V(ue[ge],q))throw new Error(`${G.vnodeSelector} had a ${q.vnodeSelector} child ${"added"===le?le:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},B=ue=>{if(ue.properties){let he=ue.properties.enterAnimation;he&&he(ue.domNode,ue.properties)}},k=[],R=!1,H=ue=>{(ue.children||[]).forEach(H),ue.properties&&ue.properties.afterRemoved&&ue.properties.afterRemoved.apply(ue.properties.bind||ue.properties,[ue.domNode])},N=()=>{R=!1,k.forEach(H),k.length=0},P=ue=>{k.push(ue),R||(R=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(N,{timeout:16}):setTimeout(N,16))},w=ue=>{let he=ue.domNode;if(ue.properties){let G=ue.properties.exitAnimation;if(G)return he.style.pointerEvents="none",void G(he,()=>{he.parentNode&&(he.parentNode.removeChild(he),P(ue))},ue.properties)}he.parentNode&&(he.parentNode.removeChild(he),P(ue))},O=(ue,he,G)=>{if(!he)return;let le=G.eventHandlerInterceptor,q=Object.keys(he),fe=q.length;for(let ge=0;ge<fe;ge++){let me=q[ge],te=he[me];if("className"===me)throw new Error('Property "className" is not supported, use "class".');if("class"===me)Q(ue,te,!0);else if("classes"===me){let ae=Object.keys(te),ee=ae.length;for(let ce=0;ce<ee;ce++){let ie=ae[ce];te[ie]&&ue.classList.add(ie)}}else if("styles"===me){let ae=Object.keys(te),ee=ae.length;for(let ce=0;ce<ee;ce++){let ie=ae[ce],ne=te[ie];ne&&($(ne),G.styleApplyer(ue,ie,ne))}}else if("key"!==me&&null!=te){let ae=typeof te;"function"===ae?(0===me.lastIndexOf("on",0)&&(le&&(te=le(me,te,ue,he)),"oninput"===me&&function(){let ee=te;te=function(ce){ee.apply(this,[ce]),ce.target["oninput-value"]=ce.target.value}}()),ue[me]=te):G.namespace===Z?"href"===me?ue.setAttributeNS(j,me,te):ue.setAttribute(me,te):"string"===ae&&"value"!==me?"innerHTML"===me?ue[me]=C.w3.sanitize(te):I(ue)&&me in ue?ue[me]=te:ue.setAttribute(me,te):ue[me]=te}}};function I(ue){if(!(ue instanceof Element&&ue.tagName.includes("-")))return!1;const he=window.customElements.get(ue.tagName.toLowerCase());return!!he&&ue instanceof he}let T,z=(ue,he,G)=>{((ue,he,G)=>{if(he)for(let le of he)F(le,ue,void 0,G)})(ue,he.children,G),he.text&&(ue.textContent=he.text),O(ue,he.properties,G),he.properties&&he.properties.afterCreate&&he.properties.afterCreate.apply(he.properties.bind||he.properties,[ue,G,he.vnodeSelector,he.properties,he.children])},F=(ue,he,G,le)=>{let q,fe=0,ge=ue.vnodeSelector,me=he.ownerDocument;if(""===ge)q=ue.domNode=me.createTextNode(ue.text),void 0!==G?he.insertBefore(q,G):he.appendChild(q);else{for(let te=0;te<=ge.length;++te){let ae=ge.charAt(te);if(te===ge.length||"."===ae||"#"===ae){let ee=ge.charAt(fe-1),ce=ge.slice(fe,te);"."===ee?q.classList.add(ce):"#"===ee?q.id=ce:("svg"===ce&&(le=Y(le,{namespace:Z})),void 0!==le.namespace?q=ue.domNode=me.createElementNS(le.namespace,ce):(q=ue.domNode=ue.domNode||me.createElement(ce),"input"===ce&&ue.properties&&void 0!==ue.properties.type&&q.setAttribute("type",ue.properties.type)),void 0!==G?he.insertBefore(q,G):q.parentNode!==he&&he.appendChild(q)),fe=te+1}}z(q,ue,le)}},Q=(ue,he,G)=>{he&&he.split(" ").forEach(le=>{le&&ue.classList.toggle(le,G)})};T=(ue,he,G)=>{let le=ue.domNode,q=!1;if(ue===he)return!1;let fe=!1;if(""===he.vnodeSelector){if(he.text!==ue.text){let ge=le.ownerDocument.createTextNode(he.text);return le.parentNode.replaceChild(ge,le),he.domNode=ge,q=!0,q}he.domNode=le}else 0===he.vnodeSelector.lastIndexOf("svg",0)&&(G=Y(G,{namespace:Z})),ue.text!==he.text&&(fe=!0,void 0===he.text?le.removeChild(le.firstChild):le.textContent=he.text),he.domNode=le,fe=((ue,he,G,le,q)=>{if(G===le)return!1;let fe,ge=(G=G||U).length,me=(le=le||U).length,te=0,ae=0,ee=!1;for(;ae<me;){let ce=te<ge?G[te]:void 0,ie=le[ae];if(void 0!==ce&&V(ce,ie))ee=T(ce,ie,q)||ee,te++;else{let ne=L(G,ie,te+1);if(ne>=0){for(fe=te;fe<ne;fe++)w(G[fe]),x(G,fe,ue,"removed");ee=T(G[ne],ie,q)||ee,te=ne+1}else F(ie,he,te<ge?G[te].domNode:void 0,q),B(ie),x(le,ae,ue,"added")}ae++}if(ge>te)for(fe=te;fe<ge;fe++)w(G[fe]),x(G,fe,ue,"removed");return ee})(he,le,ue.children,he.children,G)||fe,fe=((ue,he,G,le)=>{if(!G)return;let q=!1,fe=Object.keys(G),ge=fe.length;for(let me=0;me<ge;me++){let te=fe[me],ae=G[te],ee=he[te];if("class"===te)ee!==ae&&(Q(ue,ee,!1),Q(ue,ae,!0));else if("classes"===te){let ce=ue.classList,ie=Object.keys(ae),ne=ie.length;for(let pe=0;pe<ne;pe++){let ye=ie[pe],re=!!ae[ye];re!==!!ee[ye]&&(q=!0,re?ce.add(ye):ce.remove(ye))}}else if("styles"===te){let ce=Object.keys(ae),ie=ce.length;for(let ne=0;ne<ie;ne++){let pe=ce[ne],ye=ae[pe];ye!==ee[pe]&&(q=!0,ye?($(ye),le.styleApplyer(ue,pe,ye)):le.styleApplyer(ue,pe,""))}}else if(ae||"string"!=typeof ee||(ae=""),"value"!==te||I(ue)){if(ae!==ee){let ce=typeof ae;"function"===ce&&le.eventHandlerInterceptor||(le.namespace===Z?"href"===te?ue.setAttributeNS(j,te,ae):ue.setAttribute(te,ae):"string"===ce?"innerHTML"===te?ue[te]=C.w3.sanitize(ae):"role"===te&&""===ae?ue.removeAttribute(te):I(ue)&&te in ue?ue[te]=ae:ue.setAttribute(te,ae):ue[te]!==ae&&(ue[te]=ae),q=!0)}}else{let ce=ue[te];ce!==ae&&(ue["oninput-value"]?ce===ue["oninput-value"]:ae!==ee)&&(ue[te]=ae,ue["oninput-value"]=void 0),ae!==ee&&(q=!0)}}return q})(le,ue.properties,he.properties,G)||fe,he.properties&&he.properties.afterUpdate&&he.properties.afterUpdate.apply(he.properties.bind||he.properties,[le,G,he.vnodeSelector,he.properties,he.children]);return fe&&he.properties&&he.properties.updateAnimation&&he.properties.updateAnimation(le,he.properties,ue.properties),q};let se=(ue,he)=>({getLastRender:()=>ue,update:G=>{if(ue.vnodeSelector!==G.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let le=ue;ue=G,T(le,G,he)},domNode:ue.domNode})},58242:(Ke,Ee,E)=>{"use strict";E.d(Ee,{E:()=>Y});var C=E(73322);let D;D=Array.prototype.find?(V,$)=>V.find($):(V,$)=>V.filter($)[0];let U=(V,$,L)=>{let x=function(B){L("domEvent",B);let k=$(),R=((V,$)=>{let L=[];for(;V&&V!==$;)L.push(V),V=V.parentNode;return L})(B.currentTarget,k.domNode);R.reverse();let H,N=((V,$)=>{let L=V;return $.forEach(x=>{L=L&&L.children?D(L.children,B=>B.domNode===x):void 0}),L})(k.getLastRender(),R);return V.scheduleRender(),N&&(H=N.properties[`on${B.type}`].apply(N.properties.bind||this,arguments)),L("domEventProcessed",B),H};return(B,k,R,H)=>x},Y=V=>{let $,L,x=(0,C.W)(V),B=x.performanceLogger,k=!0,R=!1,H=[],N=[],P=(O,I,T)=>{let W;x.eventHandlerInterceptor=U($,()=>W,B),W=O(I,T(),x),H.push(W),N.push(T)},w=()=>{if(L=void 0,k){k=!1,B("renderStart",void 0);for(let O=0;O<H.length;O++){let I=N[O]();B("rendered",void 0),H[O].update(I),B("patched",void 0)}B("renderDone",void 0),k=!0}};return $={renderNow:w,scheduleRender:()=>{L||R||(L=requestAnimationFrame(w))},stop:()=>{L&&(cancelAnimationFrame(L),L=void 0),R=!0},resume:()=>{R=!1,k=!0,$.scheduleRender()},append:(O,I)=>{P(C.v.append,O,I)},insertBefore:(O,I)=>{P(C.v.insertBefore,O,I)},merge:(O,I)=>{P(C.v.merge,O,I)},replace:(O,I)=>{P(C.v.replace,O,I)},detach:O=>{for(let I=0;I<N.length;I++)if(N[I]===O)return N.splice(I,1),H.splice(I,1)[0];throw new Error("renderFunction was not found")}},$}},45903:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{default:()=>Pe});var C=E(15861),D=E(50484),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(90373),L=E(16952),B=(E(2189),E(35458)),k=E(66476),R=E(57964),H=E(67016),N=E(4703),P=E(3233),w=E(79412),O=E(6785),I=E(26894),T=E(40637),W=E(92344),z=E(89713),F=E(84303),Q=E(21070),J=E(41997);const oe=(0,F.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let se=class extends J.Z{constructor(Ae){super(Ae),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Ae){var Be=this;return(0,C.Z)(function*(){const ze={...Ae,query:{f:"json"}},{data:st}=yield(0,k.Z)(Be.statusUrl,ze);return Be.read(st),Be.editsResolver&&Be.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),Be})()}waitForJobCompletion(Ae={}){var Be=this;return(0,C.Z)(function*(){const{interval:ze=1e3,statusCallback:st}=Ae;return new Promise((Xe,ot)=>{Be._clearTimer();const ut=setInterval(()=>{Be._timer||ot((0,w.zE)()),Be.checkJobStatus().then(Et=>{const{status:Lt}=Et;switch(Be.status=Lt,Lt){case"job-succeeded":Be._clearTimer(),Xe(Be);break;case"job-waiting":case"job-executing":st&&st(Be)}},Et=>{Be._clearTimer(),ot(Et)})},ze);Be._timer=ut})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,D._)([(0,Z.Cb)()],se.prototype,"editsResolver",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],se.prototype,"statusUrl",void 0),(0,D._)([(0,Q.J)(oe)],se.prototype,"status",void 0),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:{writer:(Ae,Be)=>{Be.submissionTime=Ae?Ae.getTime():null}}}})],se.prototype,"submissionTime",void 0),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:{writer:(Ae,Be)=>{Be.lastUpdatedTime=Ae?Ae.getTime():null}}}})],se.prototype,"lastUpdatedTime",void 0),se=(0,D._)([(0,V.j)("esri.networks.support.TopologyValidationJobInfo")],se);const ue=se;var he=E(27835);function ge(Ae,Be){return me.apply(this,arguments)}function me(){return(me=(0,C.Z)(function*(Ae,Be){if("Utility Network Layer"===Ae){const{default:ze}=yield Promise.resolve().then(E.bind(E,45903));return new ze({layerUrl:Be})}return null})).apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(Ae){let Be="portalItem"in Ae?Ae:{portalItem:Ae};!Be.portalItem||Be.portalItem instanceof he.default||(Be={...Be,portalItem:new he.default(Be.portalItem)});const ze=Be.portalItem;if(yield ze.load(),"Feature Service"!==ze.type)throw new R.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:ze.type});const st=ze.url,Xe=yield(0,k.Z)(st,{responseType:"json",query:{f:"json"}}),ot="Network Layer";if(Xe.data.type?.includes(ot))return ge(Xe.data.type,st);if(Xe.data.layers){const ut=Xe.data.layers.find(Et=>Et.type.includes(ot));if(ut)return ge(ut.type,`${st}/${ut.id}`)}return null})).apply(this,arguments)}E(93792);var ee=E(93604),ce=E(43814);let ie=class extends((0,P.R)(H.Z)){static fromPortalItem(Ae){return function te(Ae){return ae.apply(this,arguments)}(Ae)}constructor(Ae){super(Ae),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._applyEditsHandler=Be=>{const{serviceUrl:ze,gdbVersion:st,result:Xe}=Be,ot=ze===this.featureServiceUrl,ut=(0,W.di)(ze,st,this.gdbVersion);ot&&ut&&Xe.then(Et=>{(0,ee.JV)(ze,st)&&(this.historicMoment=Et.historicMoment)})},this._updateMomentHandler=Be=>{const{serviceUrl:ze,gdbVersion:st,moment:Xe}=Be,ot=ze===this.featureServiceUrl,ut=(0,W.di)(ze,st,this.gdbVersion);ot&&ut&&(this.historicMoment=Xe)},this.when().then(()=>{this.addHandles([(0,W.qH)(this._applyEditsHandler),(0,W.xl)(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(Ae=>{(0,w.D_)(Ae)||N.Z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:Ae})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,O.mN)(this.layerUrl)}get featureServiceUrl(){return(0,z.Qc)(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return(0,z.Qc)(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}load(Ae){var Be=this;return(0,C.Z)(function*(){return Be.addResolvingPromise(Be._fetchDataElement(Be.featureServiceUrl,Be.layerId.toString(),Ae)),Be.addResolvingPromise(Be._fetchLayerMetaData(Be.layerUrl,Ae)),Be})()}getLayerIdBySourceId(Ae){if(this.dataElement){const Be=this.dataElement.domainNetworks;for(const ze of Be){for(const st of ze.edgeSources??[])if(st.sourceId===Ae)return st.layerId;for(const st of ze.junctionSources??[])if(st.sourceId===Ae)return st.layerId}return null}return null}queryNamedTraceConfigurations(Ae,Be){var ze=this;return(0,C.Z)(function*(){const[{queryNamedTraceConfigurations:st},{default:Xe}]=yield Promise.all([E.e(6200).then(E.bind(E,26200)),E.e(7739).then(E.bind(E,7739))]),ot=ze.networkServiceUrl,ut=Xe.from(Ae);return(yield st(ot,ut,{...Be}))?.namedTraceConfigurations})()}validateTopology(Ae,Be){var ze=this;return(0,C.Z)(function*(){if(!Ae.validateArea)throw new R.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:st},{default:Xe}]=yield Promise.all([E.e(3744).then(E.bind(E,83744)),E.e(1569).then(E.bind(E,41569))]),ot=Xe.from(Ae);(0,ee.JV)(ze.featureServiceUrl,ze.gdbVersion||null)&&(ot.sessionID=ee.U8),ot.gdbVersion=ze.gdbVersion;const ut=ze.networkServiceUrl,Lt=(0,W.jF)(ze.featureServiceUrl,null,ze.gdbVersion,!0),Ut=yield st(ut,ot,{...Be});if(Ut?.serviceEdits){const kt=[];for(const Xt of Ut.serviceEdits){const{editedFeatures:qt}=Xt,un=qt?.spatialReference?new ce.Z(qt.spatialReference):null;kt.push({layerId:Xt.layerId,editedFeatures:{adds:qt?.adds?.map(yt=>ze._createEditedFeature(yt,un))||[],updates:qt?.updates?.map(yt=>({original:ze._createEditedFeature(yt[0],un),current:ze._createEditedFeature(yt[1],un)}))||[],deletes:qt?.deletes?.map(yt=>ze._createEditedFeature(yt,un))||[],spatialReference:un}})}Lt.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:kt,exceededTransferLimit:!1,historicMoment:Ut.moment})}return Ut})()}submitTopologyValidationJob(Ae,Be){var ze=this;return(0,C.Z)(function*(){if(!Ae.validateArea)throw new R.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!ze.gdbVersion)throw new R.Z("network:undefined-gdb-version","version must be defined");const[{submitValidateNetworkTopologyJob:st},{default:Xe}]=yield Promise.all([E.e(3744).then(E.bind(E,83744)),E.e(1569).then(E.bind(E,41569))]),ot=Xe.from(Ae);(0,ee.JV)(ze.featureServiceUrl,ze.gdbVersion||null)&&(ot.sessionID=ee.U8),ot.gdbVersion=ze.gdbVersion;const ut=ze.networkServiceUrl,Et=ze.featureServiceUrl?(0,W.jF)(ze.featureServiceUrl,null,ze.gdbVersion,!0):void 0,Lt=yield st(ut,ot,{...Be});return new ue({statusUrl:Lt,editsResolver:Et})})()}_createEditedFeature(Ae,Be){return new B.Z({attributes:Ae.attributes,geometry:(0,T.im)({...Ae.geometry,spatialReference:Be})})}_fetchLayerMetaData(Ae,Be){var ze=this;return(0,C.Z)(function*(){const st=yield(0,k.Z)(Ae,{responseType:"json",query:{f:"json"},...Be});ze.sourceJSON=st.data,ze.read(st.data,{origin:"service"})})()}_fetchDataElement(Ae,Be,ze){var st=this;return(0,C.Z)(function*(){if(st.dataElement)return;const Xe=yield(0,k.Z)(`${Ae}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([Be]),f:"json"},...ze}).then(ot=>ot.data.layerDataElements?.[0]);Xe&&st.read(Xe,{origin:"service"})})()}};(0,D._)([(0,Z.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],ie.prototype,"id",void 0),(0,D._)([(0,Z.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],ie.prototype,"title",void 0),(0,D._)([(0,Z.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],ie.prototype,"layerUrl",void 0),(0,D._)([(0,Z.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"dataElement",void 0),(0,D._)([(0,Z.Cb)({type:I.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],ie.prototype,"fullExtent",void 0),(0,D._)([(0,Z.Cb)({type:ce.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],ie.prototype,"spatialReference",void 0),(0,D._)([(0,Z.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],ie.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"datasetName",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"owner",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"schemaGeneration",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"parsedUrl",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"featureServiceUrl",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"networkServiceUrl",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"layerId",null),(0,D._)([(0,Z.Cb)()],ie.prototype,"sourceJSON",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],ie.prototype,"networkSystemLayers",null),(0,D._)([(0,Z.Cb)()],ie.prototype,"gdbVersion",void 0),(0,D._)([(0,Z.Cb)({type:Date})],ie.prototype,"historicMoment",void 0),ie=(0,D._)([(0,V.j)("esri.networks.Network")],ie);const ne=ie;var pe=E(89317),ye=E(57353);let re=class extends((0,pe.eC)(H.Z)){constructor(Ae){super(Ae),this.request=k.Z}initialize(){}load(Ae){var Be=this;return(0,C.Z)(function*(){const ze=Be.layer.load(Ae).then(()=>Be._initializeRulesTable());return Be.addResolvingPromise(ze),Be})()}getFeatureSQL(Ae,Be){const ze=Ae.layerId.toString(),st=Ae.fieldsIndex?.normalizeFieldName("assetGroup"),Xe=Ae.fieldsIndex?.normalizeFieldName("assetType"),Et=this.rulesHash[ze];if(Et){const Lt=Et.assetGroupHash[st?Be.attributes[st]:null];if(Lt)return Lt.assetTypeHash[Xe?Be.attributes[Xe]:null]||null}return null}_initializeRulesTable(){var Ae=this;return(0,C.Z)(function*(){const Be={};let ze;var Xe;(Xe=ze||(ze={}))[Xe.from=0]="from",Xe[Xe.to=1]="to",Xe[Xe.via=2]="via";const st=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(const Xe of Ae.rules){if(Xe.ruleType!==ye.SV.RTJunctionJunctionConnectivity&&Xe.ruleType!==ye.SV.RTJunctionEdgeConnectivity&&Xe.ruleType!==ye.SV.RTEdgeJunctionEdgeConnectivity)continue;let ot=[[ze.from,ze.to],[ze.to,ze.from]];Xe.ruleType===ye.SV.RTEdgeJunctionEdgeConnectivity&&(ot=[[ze.from,ze.via],[ze.via,ze.from],[ze.to,ze.via],[ze.via,ze.to]]);for(const ut of ot){const Et=ut.shift(),Lt=ut.shift();let Ut=!1;switch(Xe.ruleType){case ye.SV.RTEdgeJunctionEdgeConnectivity:Ut=Et===ze.from||Et===ze.to;break;case ye.SV.RTJunctionEdgeConnectivity:Ut=Et===ze.to}const kt=st[Et],Xt=Xe[kt.networkSourceId]?.layerId.toString()??"",qt=Xe[kt.assetGroupId]?.assetGroupCode?.toString(),un=Xe[kt.assetTypeId],yt=un?.assetTypeCode?.toString(),ft=st[Lt],Ot=Xe[ft.networkSourceId]?.layerId.toString()??"",Tt=Xe[ft.assetGroupId]?.assetGroupCode?.toString(),Vt=Xe[ft.assetTypeId],ln=Vt?.assetTypeCode?.toString(),nn=Be[Xt]??{assetGroupHash:{}};if(!(qt&&yt&&Tt&&ln))continue;const an=nn.assetGroupHash[qt]??{assetTypeHash:{}},mn=an.assetTypeHash[yt]??{};if(mn[Ot]=mn[Ot]??{},Ut){mn[Xt]=mn[Xt]??{};const vn=`(assetgroup = ${qt} AND assettype = ${yt})`;mn[Xt].anyVertex=mn[Xt].anyVertex?`${mn[Xt].anyVertex}`:`${vn}`,"esriNECPEndVertex"===Vt?.connectivityPolicy&&(mn[Xt].endVertex=mn[Xt]?.endVertex?`${mn[Xt].endVertex}`:`${vn}`)}const Cn=`(assetgroup = ${Tt} AND assettype = ${ln})`;mn[Ot].anyVertex=mn[Ot]?.anyVertex?`${mn[Ot].anyVertex} OR ${Cn}`:`${Cn}`,"esriNECPEndVertex"===Vt?.connectivityPolicy&&(mn[Ot].endVertex=mn[Ot]?.endVertex?`${mn[Ot].endVertex} OR ${Cn}`:`${Cn}`),an.assetTypeHash[yt]=mn,nn.assetGroupHash[qt]=an,Be[Xt]=nn}}Ae.rulesHash=Be})()}};(0,D._)([(0,Z.Cb)({constructOnly:!0})],re.prototype,"layer",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],re.prototype,"rules",void 0),(0,D._)([(0,Z.Cb)()],re.prototype,"rulesHash",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],re.prototype,"request",void 0),re=(0,D._)([(0,V.j)("esri.networks.RulesTable")],re);const ve=re;var Oe=E(36948),Me=E(73514);let Se=class extends Me.Z{constructor(Ae){super(Ae),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null}};(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"rulesTableId",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"rulesTableUrl",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"subnetworksTableId",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"subnetworksTableUrl",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"dirtyAreasLayerId",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],Se.prototype,"dirtyAreasLayerUrl",void 0),Se=(0,D._)([(0,V.j)("esri.networks.support.NetworkSystemLayers")],Se);const ke=Se;let xe=class extends pe.wq{constructor(Ae){super(Ae),this.id=null,this.name=null}};(0,D._)([(0,Z.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],xe.prototype,"id",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],xe.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],xe.prototype,"isUpstreamTerminal",void 0),xe=(0,D._)([(0,V.j)("esri.networks.support.Terminal")],xe);const Ge=xe,X=new F.X({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let be=class extends pe.wq{constructor(Ae){super(Ae),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],be.prototype,"defaultConfiguration",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],be.prototype,"id",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],be.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:[Ge],json:{write:!0}})],be.prototype,"terminals",void 0),(0,D._)([(0,Z.Cb)({type:X.apiValues,json:{type:X.jsonValues,read:X.read,write:X.write}})],be.prototype,"traversabilityModel",void 0),be=(0,D._)([(0,V.j)("esri.networks.support.TerminalConfiguration")],be);const Re=be;var Fe=E(80020);const qe=(0,F.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let We=class extends Fe.Z{constructor(Ae){super(Ae),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Ae){var Be=this;return(0,C.Z)(function*(){const ze={...Ae,query:{f:"json"}},{data:st}=yield(0,k.Z)(Be.statusUrl,ze),Xe=st.traceResults?{...st.traceResults,...st}:st;return Be.read(Xe),Be})()}waitForJobCompletion(Ae={}){var Be=this;return(0,C.Z)(function*(){const{interval:ze=1e3,statusCallback:st}=Ae;return new Promise((Xe,ot)=>{Be._clearTimer();const ut=setInterval(()=>{Be._timer||ot((0,w.zE)()),Be.checkJobStatus().then(Et=>{const{status:Lt}=Et;switch(Be.status=Lt,Lt){case"job-succeeded":Be._clearTimer(),Xe(Be);break;case"job-waiting":case"job-executing":st&&st(Be)}},Et=>{Be._clearTimer(),ot(Et)})},ze);Be._timer=ut})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],We.prototype,"statusUrl",void 0),(0,D._)([(0,Q.J)(qe)],We.prototype,"status",void 0),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:{writer:(Ae,Be)=>{Be.submissionTime=Ae?Ae.getTime():null}}}})],We.prototype,"submissionTime",void 0),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:{writer:(Ae,Be)=>{Be.lastUpdatedTime=Ae?Ae.getTime():null}}}})],We.prototype,"lastUpdatedTime",void 0),We=(0,D._)([(0,V.j)("esri.networks.support.TraceJobInfo")],We);const He=We;var Ne=E(91866);let Ce=class extends ne{constructor(Ae){super(Ae),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new ke({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(Ae=>Re.fromJSON(Ae))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(Ae=>Ae.domainNetworkName)||[]}get _utilityLayerList(){const Ae=new Set;return this.dataElement?.domainNetworks?.map(Be=>{Be.edgeSources.map(ze=>{Ae.add(ze.layerId)}),Be.junctionSources.map(ze=>{Ae.add(ze.layerId)})}),Ae}load(Ae){var Be=()=>super.load,ze=this;return(0,C.Z)(function*(){return ze.addResolvingPromise(Be().call(ze,Ae)),ze.addResolvingPromise(ze._loadNamedTraceConfigurationsFromNetwork(Ae)),ze})()}getTerminalConfiguration(Ae){let Be=null,ze=null;const st=Ae.layer;let Xe=null;if("feature"===st?.type){if(Xe=st.layerId,null===Xe)return null}else if("subtype-sublayer"!==st?.type||(Xe=st?.parent?.layerId??null,null===Xe))return null;const ot=Ae.attributes;if(null==ot)return null;for(const Lt of Object.keys(ot))"ASSETGROUP"===Lt.toUpperCase()&&(Be=Ae.getAttribute(Lt)),"ASSETTYPE"===Lt.toUpperCase()&&(ze=Ae.getAttribute(Lt));if(!this.dataElement)return null;let ut=null;const Et=this.dataElement.domainNetworks;for(const Lt of Et){const Ut=Lt.junctionSources?.find(kt=>kt.layerId===Xe);if(Ut){const kt=Ut.assetGroups?.find(Xt=>Xt.assetGroupCode===Be);if(kt){const Xt=kt.assetTypes?.find(qt=>qt.assetTypeCode===ze);if(Xt){ut=Xt.terminalConfigurationId;break}}}}if(null!=ut){const Lt=this.dataElement.terminalConfigurations,Ut=Lt?.find(kt=>kt.terminalConfigurationId===ut);return Ut?Re.fromJSON(Ut):null}return null}getTierNames(Ae){return this.dataElement?.domainNetworks.find(ze=>ze.domainNetworkName===Ae)?.tiers.map(ze=>ze.name)||[]}getRulesTable(){var Ae=this;return(0,C.Z)(function*(){return Ae._sharedRulesTable||(Ae._sharedRulesTable=Ae._createRulesTable()),yield Ae._sharedRulesTable})()}isUtilityLayer(Ae){return this._utilityLayerList.has(Ae.layerId)}queryAssociations(Ae){var Be=this;return(0,C.Z)(function*(){const[{queryAssociations:ze},{default:st}]=yield Promise.all([Promise.all([E.e(8592),E.e(28)]).then(E.bind(E,20028)),E.e(858).then(E.bind(E,70858))]),Xe=st.from(Ae);return Xe.gdbVersion=Be.gdbVersion,Xe.moment=Be.historicMoment,(yield ze(Be.networkServiceUrl,Xe)).associations})()}synthesizeAssociationGeometries(Ae){var Be=this;return(0,C.Z)(function*(){const[{synthesizeAssociationGeometries:ze},{default:st}]=yield Promise.all([Promise.all([E.e(8592),E.e(9056)]).then(E.bind(E,39056)),E.e(5085).then(E.bind(E,35085))]),Xe=st.from(Ae);return Xe.gdbVersion=Be.gdbVersion,Xe.moment=Be.historicMoment,ze(Be.networkServiceUrl,Xe)})()}trace(Ae){var Be=this;return(0,C.Z)(function*(){const[{trace:ze},{default:st}]=yield Promise.all([E.e(2432).then(E.bind(E,82432)),E.e(7190).then(E.bind(E,67190))]),Xe=st.from(Ae);return Xe.gdbVersion=Be.gdbVersion,Xe.moment=Be.historicMoment,ze(Be.networkServiceUrl,Xe)})()}submitTraceJob(Ae){var Be=this;return(0,C.Z)(function*(){const[{submitTraceJob:ze},{default:st}]=yield Promise.all([E.e(2432).then(E.bind(E,82432)),E.e(7190).then(E.bind(E,67190))]),Xe=st.from(Ae);Xe.gdbVersion=Be.gdbVersion,Xe.moment=Be.historicMoment;const ot=yield ze(Be.networkServiceUrl,Xe);return new He({statusUrl:ot})})()}_loadNamedTraceConfigurationsFromNetwork(Ae){var Be=this;return(0,C.Z)(function*(){if(0===Be.sharedNamedTraceConfigurations?.length)return;const ze=Be.sharedNamedTraceConfigurations.map(Xe=>Xe.globalId),st=yield Be.queryNamedTraceConfigurations({globalIds:ze},Ae);for(const Xe of Be.sharedNamedTraceConfigurations){const ot=st?.find(ut=>ut.globalId===Xe.globalId);if(ot){const ut=ot.write({},{origin:"service"});Xe.read(ut,{origin:"service"})}}})()}_createRulesTable(){var Ae=this;return(0,C.Z)(function*(){const ze=new $.default({url:Ae.networkSystemLayers.rulesTableUrl});yield ze.load();const st=Ae.dataElement?.domainNetworks;if(!st)return null;const Xe=st.flatMap(ut=>[...ut.edgeSources,...ut.junctionSources]),ot=(yield Ae._queryRulesTable(ze)).map(ut=>Ae._hydrateRuleInfo(ze,Xe,ut));return new ve({layer:ze,rules:ot})})()}_queryRulesTable(Ae){return(0,C.Z)(function*(){const Be=new Ne.Z({where:"1=1",outFields:["*"]});return(yield(0,L.UK)(Ae,Be)).features})()}_hydrateRuleInfo(Ae,Be,ze){const st=Ae.fieldsIndex,Xe=st.get("RULETYPE"),ot=st.get("CREATIONDATE"),ut=st.get("FROMNETWORKSOURCEID"),Et=st.get("FROMASSETGROUP"),Lt=st.get("FROMASSETTYPE"),Ut=st.get("FROMTERMINALID"),kt=st.get("TONETWORKSOURCEID"),Xt=st.get("TOASSETGROUP"),qt=st.get("TOASSETTYPE"),un=st.get("TOTERMINALID"),yt=st.get("VIANETWORKSOURCEID"),ft=st.get("VIAASSETGROUP"),Ot=st.get("VIAASSETTYPE"),Tt=st.get("VIATERMINALID"),Vt=ze.attributes[Xe.name],ln=new Date(ze.attributes[ot.name]),nn=[{networkSourceId:ze.attributes[ut.name],assetGroupId:ze.attributes[Et.name],assetTypeId:ze.attributes[Lt.name],terminalId:ze.attributes[Ut.name]},{networkSourceId:ze.attributes[kt.name],assetGroupId:ze.attributes[Xt.name],assetTypeId:ze.attributes[qt.name],terminalId:ze.attributes[un.name]},{networkSourceId:ze.attributes[yt.name],assetGroupId:ze.attributes[ft.name],assetTypeId:ze.attributes[Ot.name],terminalId:ze.attributes[Tt.name]}];let an;var Cn;(Cn=an||(an={}))[Cn.from=0]="from",Cn[Cn.to=1]="to",Cn[Cn.via=2]="via";const mn={ruleType:Vt,creationDate:ln};for(const Cn of[an.from,an.to,an.via]){if(Vt!==ye.SV.RTEdgeJunctionEdgeConnectivity&&Cn===an.via)continue;const vn=nn[Cn],hr=Be.find(ar=>ar.sourceId===vn.networkSourceId),xn=hr?.assetGroups.find(ar=>ar.assetGroupCode===vn.assetGroupId),Xn=xn?.assetTypes.find(ar=>ar.assetTypeCode===vn.assetTypeId);let $t=this._getTerminal(Vt,Xn,vn);Vt!==ye.SV.RTContainment&&Vt!==ye.SV.RTAttachment||($t=null);let rn="";switch(Cn){case an.from:rn="from";break;case an.to:rn="to";break;case an.via:rn="via"}mn[`${rn}NetworkSource`]=hr,mn[`${rn}AssetGroup`]=xn,mn[`${rn}AssetType`]=Xn,mn[`${rn}Terminal`]=$t?.toJSON()}return mn}_getTerminal(Ae,Be,ze){if(Ae===ye.SV.RTAttachment||Ae===ye.SV.RTContainment)return null;const st=Be?.terminalConfigurationId;return this.terminalConfigurations?.find(ot=>ot.id===st)?.terminals?.find(ot=>ot.id===ze.terminalId)??null}};(0,D._)([(0,Z.Cb)({type:[Oe.Z],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],Ce.prototype,"sharedNamedTraceConfigurations",void 0),(0,D._)([(0,Z.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],Ce.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],Ce.prototype,"serviceTerritoryFeatureLayerId",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],Ce.prototype,"networkSystemLayers",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],Ce.prototype,"terminalConfigurations",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],Ce.prototype,"domainNetworkNames",null),Ce=(0,D._)([(0,V.j)("esri.networks.UtilityNetwork")],Ce);const Pe=Ce},36948:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var C=E(50484),D=E(3233),Z=E(80543),V=(E(1535),E(57678),E(14007),E(62185)),$=E(10141),L=E(91491),x=E(57353),B=E(66716);let k=class extends D.w{constructor(H){super(H),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(H,N){return void 0!==H.tierName?B.Z.fromJSON(H):L.Z.fromJSON(H)}};(0,C._)([(0,Z.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],k.prototype,"globalId",void 0),(0,C._)([(0,Z.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],k.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:L.Z,json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"traceConfiguration",void 0),(0,C._)([(0,V.r)("service","traceConfiguration")],k.prototype,"readTraceConfiguration",null),(0,C._)([(0,Z.Cb)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"creationDate",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"creator",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],k.prototype,"minStartingPoints",void 0),(0,C._)([(0,Z.Cb)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"resultTypes",void 0),(0,C._)([(0,Z.Cb)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],k.prototype,"tags",void 0),(0,C._)([(0,Z.Cb)({type:x.Fh.apiValues,json:{type:x.Fh.jsonValues,origins:{service:{read:x.Fh.read,write:x.Fh.write}},read:!1}})],k.prototype,"traceType",void 0),k=(0,C._)([(0,$.j)("esri.networks.support.NamedTraceConfiguration")],k);const R=k},91491:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"conditionBarriers",void 0),(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"outputConditions",void 0),(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"functions",void 0),(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"functionBarriers",void 0),(0,C._)([(0,Z.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],$.prototype,"traversabilityScope",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"shortestPathNetworkAttributeName",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeBarriers",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"validateConsistency",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"ignoreBarriersAtStartingPoints",void 0),$=(0,C._)([(0,V.j)("esri.networks.support.TraceConfiguration")],$);const L=$},66716:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(91491);let $=class extends V.Z{constructor(x){super(x),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};(0,C._)([(0,D.Cb)({type:[Object],json:{write:!0}})],$.prototype,"filterBarriers",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"arcadeExpressionBarrier",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"domainNetworkName",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"filterBitsetNetworkAttributeName",void 0),(0,C._)([(0,D.Cb)({type:[Object],json:{write:!0}})],$.prototype,"filterFunctionBarriers",void 0),(0,C._)([(0,D.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],$.prototype,"filterScope",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeContainers",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeContent",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeIsolated",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeStructures",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"allowIndeterminateFlow",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"includeUpToFirstSpatialContainer",void 0),(0,C._)([(0,D.Cb)({type:Object,json:{write:!0}})],$.prototype,"nearestNeighbor",void 0),(0,C._)([(0,D.Cb)({type:[Object],json:{write:!0}})],$.prototype,"outputFilterCategories",void 0),(0,C._)([(0,D.Cb)({type:[Object],json:{write:!0}})],$.prototype,"outputFilters",void 0),(0,C._)([(0,D.Cb)({type:[Object],json:{write:!0}})],$.prototype,"propagators",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"subnetworkName",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"targetTierName",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"diagramTemplateName",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],$.prototype,"tierName",void 0),(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"validateLocatability",void 0),$=(0,C._)([(0,Y.j)("esri.networks.support.UNTraceConfiguration")],$);const L=$},57353:(Ke,Ee,E)=>{"use strict";E.d(Ee,{By:()=>j,Fh:()=>Z,SV:()=>D,k3:()=>U});var D,Y,C=E(84303);(Y=D||(D={}))[Y.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",Y[Y.RTContainment=2]="RTContainment",Y[Y.RTAttachment=3]="RTAttachment",Y[Y.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",Y[Y.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";const Z=new C.X({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),j=new C.X({connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),U=new C.X({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},43573:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.wq{constructor(B){super(B),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new $({title:this.title,expression:this.expression})}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"expression",void 0),(0,C._)([(0,Z.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"returnType",void 0),L=$=(0,C._)([(0,V.j)("esri.popup.ElementExpressionInfo")],L);const x=L},59869:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.wq{constructor(B){super(B),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new $({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"name",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"expression",void 0),(0,C._)([(0,Z.Cb)({type:["string","number"],json:{write:!0}})],L.prototype,"returnType",void 0),L=$=(0,C._)([(0,V.j)("esri.popup.ExpressionInfo")],L);const x=L},42271:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(84303),Z=E(89317),j=E(34222),U=E(80543),V=(E(1535),E(21070)),$=E(10141),L=E(17831);let B=x=class extends Z.wq{constructor(R){super(R),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new x({fieldName:this.fieldName,format:this.format?(0,j.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"fieldName",void 0),(0,C._)([(0,U.Cb)({type:L.Z,json:{write:!0}})],B.prototype,"format",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],B.prototype,"isEditable",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,C._)([(0,V.J)(new D.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],B.prototype,"stringFieldOption",void 0),(0,C._)([(0,U.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],B.prototype,"statisticType",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"tooltip",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],B.prototype,"visible",void 0),B=x=(0,C._)([(0,$.j)("esri.popup.FieldInfo")],B);const k=B},20004:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(37462);let L=$=class extends V.Z{constructor(B){super(B),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new $({description:this.description,displayType:this.displayType,title:this.title})}};(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],L.prototype,"description",void 0),(0,C._)([(0,D.Cb)({type:["auto","preview","list"],json:{write:!0}})],L.prototype,"displayType",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),(0,C._)([(0,D.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=$=(0,C._)([(0,Y.j)("esri.popup.content.AttachmentsContent")],L);const x=L},50014:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(68368),$=E(73966);let x=L=class extends V.Z{constructor(k){super(k),this.type="bar-chart"}clone(){return new L({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,C._)([(0,D.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:$.l.write}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.BarChartMediaInfo")],x);const B=x},25157:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(68368),$=E(73966);let x=L=class extends V.Z{constructor(k){super(k),this.type="column-chart"}clone(){return new L({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,C._)([(0,D.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:$.l.write}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.ColumnChartMediaInfo")],x);const B=x},37462:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.type=null}};(0,C._)([(0,Z.Cb)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.popup.content.Content")],$);const L=$},52225:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var V,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(10141)),Y=E(37462);let $=V=class extends Y.Z{constructor(x){super(x),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new V({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,D.d9)(this.outFields):null})}};(0,C._)([(0,Z.Cb)()],$.prototype,"creator",void 0),(0,C._)([(0,Z.Cb)()],$.prototype,"destroyer",void 0),(0,C._)([(0,Z.Cb)()],$.prototype,"outFields",void 0),(0,C._)([(0,Z.Cb)({type:["custom"],readOnly:!0})],$.prototype,"type",void 0),$=V=(0,C._)([(0,U.j)("esri.popup.content.CustomContent")],$);const L=$},49497:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(43573),$=E(37462);let x=L=class extends $.Z{constructor(k){super(k),this.expressionInfo=null,this.type="expression"}clone(){return new L({expressionInfo:this.expressionInfo?.clone()})}};(0,C._)([(0,D.Cb)({type:V.Z,json:{write:!0}})],x.prototype,"expressionInfo",void 0),(0,C._)([(0,D.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.ExpressionContent")],x);const B=x},90629:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(10141)),Y=E(7547),V=E(42271),$=E(37462);let x=L=class extends $.Z{constructor(k){super(k),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(k,R){R.fieldInfos=k&&k.map(H=>H.toJSON())}clone(){return new L((0,D.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,C._)([(0,Z.Cb)({type:Object,json:{write:!0}})],x.prototype,"attributes",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({type:[V.Z]})],x.prototype,"fieldInfos",void 0),(0,C._)([(0,Y.c)("fieldInfos")],x.prototype,"writeFieldInfos",null),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,U.j)("esri.popup.content.FieldsContent")],x);const B=x},59058:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(31740),$=E(89317);let x=L=class extends $.wq{constructor(N){super(N),this.linkURL=null,this.sourceURL=null}clone(){return new L({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],x.prototype,"linkURL",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],x.prototype,"sourceURL",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.support.ImageMediaInfoValue")],x);const B=x;var k;let R=k=class extends V.Z{constructor(N){super(N),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new k({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],R.prototype,"refreshInterval",void 0),(0,C._)([(0,D.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:B,json:{write:!0}})],R.prototype,"value",void 0),R=k=(0,C._)([(0,Y.j)("esri.popup.content.ImageMediaInfo")],R);const H=R},74677:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(68368),$=E(73966);let x=L=class extends V.Z{constructor(k){super(k),this.type="line-chart"}clone(){return new L({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,C._)([(0,D.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:$.l.write}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.LineChartMediaInfo")],x);const B=x},57229:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>w});var N,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(62185)),Y=E(10141),V=E(7547),$=E(50014),L=E(25157),x=E(37462),B=E(59058),k=E(74677),R=E(53370),H=E(12670);let P=N=class extends x.Z{constructor(O){super(O),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(O){return O&&O.map(I=>"image"===I.type?B.Z.fromJSON(I):"barchart"===I.type?$.Z.fromJSON(I):"columnchart"===I.type?L.Z.fromJSON(I):"linechart"===I.type?k.Z.fromJSON(I):"piechart"===I.type?R.Z.fromJSON(I):void 0).filter(Boolean)}writeMediaInfos(O,I){I.mediaInfos=O&&O.map(T=>T.toJSON())}clone(){return new N((0,D.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,C._)([(0,Z.Cb)()],P.prototype,"activeMediaInfoIndex",void 0),(0,C._)([(0,Z.Cb)({type:Object,json:{write:!0}})],P.prototype,"attributes",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],P.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({types:[H.V]})],P.prototype,"mediaInfos",void 0),(0,C._)([(0,U.r)("mediaInfos")],P.prototype,"readMediaInfos",null),(0,C._)([(0,V.c)("mediaInfos")],P.prototype,"writeMediaInfos",null),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],P.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],P.prototype,"type",void 0),P=N=(0,C._)([(0,Y.j)("esri.popup.content.MediaContent")],P);const w=P},53370:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(68368),$=E(73966);let x=L=class extends V.Z{constructor(k){super(k),this.type="pie-chart"}clone(){return new L({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,C._)([(0,D.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:$.l.write}})],x.prototype,"type",void 0),x=L=(0,C._)([(0,Y.j)("esri.popup.content.PieChartMediaInfo")],x);const B=x},98522:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var C=E(50484),D=E(25387),Z=E(80543),j=E(1535),V=(E(57678),E(14007),E(10141)),$=E(37462),L=E(78496);let x=class extends((0,D.J)($.Z)){constructor(k){super(k),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{type:j.z8,write:!0}})],x.prototype,"displayCount",void 0),(0,C._)([(0,Z.Cb)({type:["list"],json:{write:!0}})],x.prototype,"displayType",void 0),(0,C._)([(0,Z.Cb)({type:[L.Z],json:{write:!0}})],x.prototype,"orderByFields",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{type:j.z8,write:!0}})],x.prototype,"relationshipId",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=(0,C._)([(0,V.j)("esri.popup.content.RelationshipContent")],x);const B=x},23002:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(37462);let L=$=class extends V.Z{constructor(B){super(B),this.text=null,this.type="text"}clone(){return new $({text:this.text})}};(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],L.prototype,"text",void 0),(0,C._)([(0,D.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=$=(0,C._)([(0,Y.j)("esri.popup.content.TextContent")],L);const x=L},68368:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var k,C=E(50484),D=E(80543),Z=E(1535),Y=(E(57678),E(14007),E(10141)),V=E(31740),$=E(66599),L=E(89317),x=E(34222),B=E(17009);let R=k=class extends L.wq{constructor(w){super(w),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new k({colors:(0,x.d9)(this.colors),fields:(0,x.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,C._)([(0,D.Cb)({type:[$.Z],json:{type:[[Z.z8]],write:!0}})],R.prototype,"colors",void 0),(0,C._)([(0,D.Cb)({type:[String],json:{write:!0}})],R.prototype,"fields",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],R.prototype,"normalizeField",void 0),(0,C._)([(0,D.Cb)({type:[B.Z],json:{read:!1}})],R.prototype,"series",void 0),(0,C._)([(0,D.Cb)({type:String,json:{write:!0}})],R.prototype,"tooltipField",void 0),R=k=(0,C._)([(0,Y.j)("esri.popup.content.support.ChartMediaInfoValue")],R);const H=R;let N=class extends V.Z{constructor(w){super(w),this.type=null,this.value=null}};(0,C._)([(0,D.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:H,json:{write:!0}})],N.prototype,"value",void 0),N=(0,C._)([(0,Y.j)("esri.popup.content.mixins.ChartMediaInfo")],N);const P=N},31740:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.altText=null,this.caption="",this.title="",this.type=null}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"altText",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"caption",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"title",void 0),(0,C._)([(0,Z.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.popup.content.mixins.MediaInfo")],$);const L=$},17009:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(73514),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.Z{constructor(B){super(B),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new $({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,C._)([(0,Z.Cb)()],L.prototype,"color",void 0),(0,C._)([(0,Z.Cb)()],L.prototype,"fieldName",void 0),(0,C._)([(0,Z.Cb)()],L.prototype,"tooltip",void 0),(0,C._)([(0,Z.Cb)()],L.prototype,"value",void 0),L=$=(0,C._)([(0,V.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],L);const x=L},73966:(Ke,Ee,E)=>{"use strict";E.d(Ee,{l:()=>D});const D=(0,E(84303).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},12670:(Ke,Ee,E)=>{"use strict";E.d(Ee,{V:()=>V});var C=E(50014),D=E(25157),Z=E(59058),j=E(74677),U=E(53370);const V={base:E(31740).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":C.Z,"column-chart":D.Z,"line-chart":j.Z,"pie-chart":U.Z,image:Z.Z}}},17831:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var C=E(50484),D=E(25387),Z=E(89317),j=E(80543),U=E(1535),$=(E(57678),E(14007),E(21070)),L=E(10141),x=E(94678);let B=class extends((0,D.J)(Z.wq)){constructor(R){super(R),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,C._)([(0,$.J)(x.Xr)],B.prototype,"dateFormat",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],B.prototype,"digitSeparator",void 0),(0,C._)([(0,j.Cb)({type:U.z8,json:{write:!0}})],B.prototype,"places",void 0),B=(0,C._)([(0,L.j)("esri.popup.support.FieldInfoFormat")],B);const k=B},78496:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.wq{constructor(B){super(B),this.field=null,this.order=null}clone(){return new $({field:this.field,order:this.order})}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"field",void 0),(0,C._)([(0,Z.Cb)({type:["asc","desc"],json:{write:!0}})],L.prototype,"order",void 0),L=$=(0,C._)([(0,V.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],L);const x=L},61018:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>fe});var C=E(15861),D=E(50484),Z=E(11931),j=E(26152),U=E(66476),Y=E(57964),V=E(89317),$=E(67016),L=E(51172),x=E(79412),B=E(80543),k=E(1535),N=(E(57678),E(14007),E(62185)),P=E(10141),w=E(26894),O=E(55829);let I;var z=E(18962),F=E(78149),Q=E(73514);let J=class extends Q.Z{constructor(te){super(te),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,D._)([(0,B.Cb)()],J.prototype,"nextQueryParams",void 0),(0,D._)([(0,B.Cb)()],J.prototype,"queryParams",void 0),(0,D._)([(0,B.Cb)()],J.prototype,"results",void 0),(0,D._)([(0,B.Cb)()],J.prototype,"total",void 0),J=(0,D._)([(0,P.j)("esri.portal.PortalQueryResult")],J);const oe=J;var he,se=E(57437),ue=E(40907);let G;const le={PortalGroup:()=>Promise.resolve({default:z.Z}),PortalItem:()=>Promise.resolve().then(E.bind(E,27835)),PortalUser:()=>Promise.resolve({default:se.Z})};let q=he=class extends((0,V.eC)($.Z)){constructor(te){super(te),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Z.default.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(te){return"string"==typeof te?{url:te}:te}destroy(){ge.unregister(this),this.defaultBasemap=(0,L.SC)(this.defaultBasemap),this.defaultDevBasemap=(0,L.SC)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,L.SC)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,L.hw)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(te){if(te)for(const ae of te)Z.default.request.trustedServers.includes(ae)||Z.default.request.trustedServers.push(ae);return te}readDefaultBasemap(te){return this._readBasemap(te)}readDefaultDevBasemap(te){return this._readBasemap(te)}readDefaultVectorBasemap(te){return this._readBasemap(te)}get extraQuery(){const te=this.user?.orgId;return this.id&&te&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let te=this.url;if(te){const ae=te.indexOf("/sharing");te=ae>0?te.substring(0,ae):this.url.replace(/\/+$/,""),te+="/sharing/rest"}return te}get thumbnailUrl(){const te=this.restUrl,ae=this.thumbnail;return te&&ae?this._normalizeSSL(te+"/portals/self/resources/"+ae):null}readUrlKey(te){return te&&te.toLowerCase()}readUser(te){let ae=null;return te&&(ae=se.Z.fromJSON(te),ae.portal=this),ae}load(te){const ae=Promise.resolve().then(E.bind(E,7624)).then(({default:ee})=>{(0,x.k_)(te),G=ee}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,te)).then(ee=>{if(j.id){const ce=j.id;this.credential=ce.findCredential(this.restUrl),this.credential||this.authMode!==he.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=ce.on("credential-create",function me(te){const ae=j.id;return()=>{const ee=te.deref();ee&&ae.findCredential(ee.restUrl)&&ee.signIn().catch(()=>{})}}(new WeakRef(this))),ge.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=ee,this.read(ee)});return this.addResolvingPromise(ae),Promise.resolve(this)}createElevationLayers(){var te=this;return(0,C.Z)(function*(){yield te.load();const ae=te._getHelperService("defaultElevationLayers"),ee=(yield Promise.all([E.e(8592),E.e(1753)]).then(E.bind(E,86069))).default;return ae?ae.map(ce=>new ee({id:ce.id,url:ce.url})):[]})()}fetchBasemaps(te,ae){var ee=this;return(0,C.Z)(function*(){const ce=yield ee._fetchBasemaps(te,ae);if(!0===ae?.include3d&&!1!==ee.use3dBasemaps){const ie=yield ee._fetchBasemaps3D(te,ae);ce.unshift(...ie)}return ce})()}fetchCategorySchema(te){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",te).then(ae=>ae.categorySchema):(0,x.Hc)(te)?Promise.reject((0,x.zE)()):Promise.resolve([])}fetchFeaturedGroups(te){const ae=this.featuredGroups,ee=new F.Z;if(ee.num=100,ee.sortField="title",ae&&ae.length){const ce=[];for(const ie of ae)ce.push(`(title:"${ie.title}" AND owner:${ie.owner})`);return ee.query=ce.join(" OR "),this.queryGroups(ee,te).then(ie=>ie.results)}return(0,x.Hc)(te)?Promise.reject((0,x.zE)()):Promise.resolve([])}fetchRegions(te){const ae=this.user?.culture||this.culture||(0,O.Kd)();return this.request(this.restUrl+"/portals/regions",{...te,query:{culture:ae}})}fetchSettings(te){const ae=this.user?.culture||this.culture||(0,O.Kd)();return this.request(this.restUrl+"/portals/self/settings",{...te,query:{culture:ae}})}static getDefault(){return function W(te){return I&&!I.destroyed||(I=te()),I}(()=>new he)}queryGroups(te,ae){return this.queryPortal("/community/groups",te,"PortalGroup",ae)}queryItems(te,ae){return this.queryPortal("/search",te,"PortalItem",ae)}queryUsers(te,ae){return te.sortField||(te.sortField="username"),this.queryPortal("/community/users",te,"PortalUser",ae)}fetchSelf(te=this.authMode,ae=!1,ee){const ce=this.restUrl+"/portals/self",ie={authMode:te,query:{culture:(0,O.Kd)().toLowerCase()},...ee};return"auto"===ie.authMode&&(ie.authMode="no-prompt"),ae&&(ie.query.default=!0),this.request(ce,ie)}queryPortal(te,ae,ee,ce){const ie=(0,k.se)(F.Z,ae),ne=pe=>this.request(this.restUrl+te,{...ie.toRequestOptions(this),...ce}).then(ye=>{const re=ie.clone();return re.start=ye.nextStart,new oe({nextQueryParams:re,queryParams:ie,total:ye.total,results:he._resultsToTypedArray(pe,{portal:this},ye,ce)})}).then(ye=>Promise.all(ye.results.map(re=>"function"==typeof re.when?re.when():ye)).then(()=>ye,re=>((0,x.r9)(re),ye)));return ee&&le[ee]?le[ee]().then(({default:pe})=>((0,x.k_)(ce),ne(pe))):ne()}signIn(){if(this.authMode===he.AUTH_MODE_ANONYMOUS)return Promise.reject(new Y.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const te=ae=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(ae||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=ae,this.fetchSelf("immediate"))):this.user&&this.credential===ae?null:(this.credential=ae,this.fetchSelf("immediate"))).then(ee=>{ee&&(this.sourceJSON=ee,this.read(ee))});return j.id?j.id.getCredential(this.restUrl).then(ae=>te(ae)):te(this.credential)}normalizeUrl(te){const ae=this.credential?.token;return this._normalizeSSL(ae?te+(te.includes("?")?"&":"?")+"token="+ae:te)}requestToTypedArray(te,ae,ee){return this.request(te,ae).then(ce=>{const ie=he._resultsToTypedArray(ee,{portal:this},ce);return Promise.all(ie.map(ne=>"function"==typeof ne.when?ne.when():ce)).then(()=>ie,()=>ie)})}request(te,ae={}){const ee={f:"json",...ae.query},{authMode:ce=(this.authMode===he.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:ie=null,cacheBust:ne=!1,method:pe="auto",responseType:ye="json",signal:re}=ae,ve={authMode:ce,body:ie,cacheBust:ne,method:pe,query:ee,responseType:ye,timeout:0,signal:re};return(0,U.Z)(this._normalizeSSL(te),ve).then(Oe=>Oe.data)}toJSON(){throw new Y.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(te){if(!te)return null;if(te.declaredClass)throw new Error("JSON object is already hydrated");return new he({sourceJSON:te})}_getHelperService(te){const ae=this.helperServices&&this.helperServices[te];if(!ae)throw new Y.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${te}"`);return ae}_fetchBasemaps(te,ae){var ee=this;return(0,C.Z)(function*(){const ce=new F.Z;ce.query=te||(Z.default.apiKey&&(0,ue.r)(ee.url)?ee.devBasemapGalleryGroupQuery:ee.useVectorBasemaps?ee.vectorBasemapGalleryGroupQuery:ee.basemapGalleryGroupQuery),ce.disableExtraQuery=!0;const ie=yield ee.queryGroups(ce,ae);if(!ie.total)return[];const ne=ie.results[0];ce.num=100,ce.query='type:"Web Map" -type:"Web Application"',ce.sortField=ne.sortField||"name",ce.sortOrder=ne.sortOrder||"desc";const pe=yield ne.queryItems(ce,ae);return pe.total?pe.results.filter(ye=>"Web Map"===ye.type).map(ye=>new G({portalItem:ye})):[]})()}_fetchBasemaps3D(te,ae){var ee=this;return(0,C.Z)(function*(){const ce=te||ee.basemapGalleryGroupQuery3D;if(!ce)return[];const ie=new F.Z({query:ce,disableExtraQuery:!0}),ne=yield ee.queryGroups(ie,ae);if(!ne.total)return[];const pe=ne.results[0];ie.num=100,ie.query='type:"Web Scene"',ie.sortField=pe.sortField||"name",ie.sortOrder=pe.sortOrder||"desc";const ye=yield pe.queryItems(ie,ae);return ye.total?ye.results.filter(re=>"Web Scene"===re.type).map(re=>new G({portalItem:re})):[]})()}_normalizeSSL(te){return te.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(te){if(te){const ae=G.fromJSON(te);return ae.portalItem={portal:this},ae}return null}static _resultsToTypedArray(te,ae,ee,ce){let ie=[];if(ee){const ne=null!=ce?ce.signal:null;ie=ee.listings||ee.notifications||ee.userInvitations||ee.tags||ee.items||ee.groups||ee.comments||ee.provisions||ee.results||ee.relatedItems||ee,(te||ae)&&(ie=ie.map(pe=>{const ye=Object.assign(te?te.fromJSON(pe):pe,ae);return"function"==typeof ye.load&&ye.load(ne),ye}))}else ie=[];return ie}};q.AUTH_MODE_ANONYMOUS="anonymous",q.AUTH_MODE_AUTO="auto",q.AUTH_MODE_IMMEDIATE="immediate",(0,D._)([(0,B.Cb)()],q.prototype,"access",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"allSSL",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"authMode",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"authorizedCrossOriginDomains",void 0),(0,D._)([(0,N.r)("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null),(0,D._)([(0,B.Cb)()],q.prototype,"basemapGalleryGroupQuery",void 0),(0,D._)([(0,B.Cb)({json:{name:"3DBasemapGalleryGroupQuery"}})],q.prototype,"basemapGalleryGroupQuery3D",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"bingKey",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canListApps",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canListData",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canListPreProvisionedItems",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canProvisionDirectPurchase",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canSearchPublic",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canShareBingPublic",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canSharePublic",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canSignInArcGIS",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"canSignInIDP",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"colorSetsGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"commentsEnabled",void 0),(0,D._)([(0,B.Cb)({type:Date})],q.prototype,"created",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"credential",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"culture",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"currentVersion",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"customBaseUrl",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"defaultBasemap",void 0),(0,D._)([(0,N.r)("defaultBasemap")],q.prototype,"readDefaultBasemap",null),(0,D._)([(0,B.Cb)()],q.prototype,"defaultDevBasemap",void 0),(0,D._)([(0,N.r)("defaultDevBasemap")],q.prototype,"readDefaultDevBasemap",null),(0,D._)([(0,B.Cb)({type:w.Z})],q.prototype,"defaultExtent",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"defaultVectorBasemap",void 0),(0,D._)([(0,N.r)("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",null),(0,D._)([(0,B.Cb)()],q.prototype,"description",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"devBasemapGalleryGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"eueiEnabled",void 0),(0,D._)([(0,B.Cb)({readOnly:!0})],q.prototype,"extraQuery",null),(0,D._)([(0,B.Cb)()],q.prototype,"featuredGroups",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"featuredItemsGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"galleryTemplatesGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"livingAtlasGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"hasCategorySchema",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"helpBase",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"helperServices",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"helpMap",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"homePageFeaturedContent",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"homePageFeaturedContentCount",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"httpPort",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"httpsPort",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"id",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"ipCntryCode",void 0),(0,D._)([(0,B.Cb)({readOnly:!0})],q.prototype,"isOrganization",null),(0,D._)([(0,B.Cb)()],q.prototype,"isPortal",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"isReadOnly",void 0),(0,D._)([(0,B.Cb)({readOnly:!0})],q.prototype,"itemPageUrl",null),(0,D._)([(0,B.Cb)()],q.prototype,"layerTemplatesGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"maxTokenExpirationMinutes",void 0),(0,D._)([(0,B.Cb)({type:Date})],q.prototype,"modified",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"name",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"portalHostname",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"portalMode",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"portalProperties",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"region",void 0),(0,D._)([(0,B.Cb)({readOnly:!0})],q.prototype,"restUrl",null),(0,D._)([(0,B.Cb)()],q.prototype,"rotatorPanels",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"showHomePageDescription",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"sourceJSON",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"staticImagesUrl",void 0),(0,D._)([(0,B.Cb)({json:{name:"2DStylesGroupQuery"}})],q.prototype,"stylesGroupQuery2d",void 0),(0,D._)([(0,B.Cb)({json:{name:"stylesGroupQuery"}})],q.prototype,"stylesGroupQuery3d",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"supportsHostedServices",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"symbolSetsGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"templatesGroupQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"thumbnail",void 0),(0,D._)([(0,B.Cb)({readOnly:!0})],q.prototype,"thumbnailUrl",null),(0,D._)([(0,B.Cb)()],q.prototype,"units",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"url",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"urlKey",void 0),(0,D._)([(0,N.r)("urlKey")],q.prototype,"readUrlKey",null),(0,D._)([(0,B.Cb)()],q.prototype,"user",void 0),(0,D._)([(0,N.r)("user")],q.prototype,"readUser",null),(0,D._)([(0,B.Cb)()],q.prototype,"use3dBasemaps",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"useStandardizedQuery",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"useVectorBasemaps",void 0),(0,D._)([(0,B.Cb)()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0),q=he=(0,D._)([(0,P.j)("esri.portal.Portal")],q);const fe=q,ge=new FinalizationRegistry(te=>{te.remove()})},18962:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(57964),Z=E(89317),j=E(80543),U=E(1535),$=(E(57678),E(14007),E(10141)),L=E(78149);let B=x=class extends Z.wq{constructor(R){super(R),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const R=this.url,H=this.thumbnail;return R&&H&&this.portal?this.portal?.normalizeUrl(`${R}/info/${H}?f=json`):null}get url(){const R=this.portal?.restUrl;return R?R+"/community/groups/"+this.id:null}fetchCategorySchema(R){return this.portal.request(this.url+"/categorySchema",R).then(H=>{const N=H.categorySchema||[];return N.some(P=>"contentCategorySetsGroupQuery.LivingAtlas"===P.source)?this._fetchCategorySchemaSet("LivingAtlas",R):N})}fetchMembers(R){return this.portal.request(this.url+"/users",R)}getThumbnailUrl(R){let H=this.thumbnailUrl;return H&&R&&(H+=`&w=${R}`),H}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(R){if(!R)return null;if(R.declaredClass)throw new Error("JSON object is already hydrated");const H=new x;return H.sourceJSON=R,H.read(R),H}queryItems(R,H){let N=(0,U.se)(L.Z,R);const P=this.portal;return parseFloat(P.currentVersion)>5?(N=N||new L.Z,P.queryPortal(`/content/groups/${this.id}/search`,N,"PortalItem",H)):(N=N?N.clone():new L.Z,N.query="group:"+this.id+(N.query?" "+N.query:""),P.queryItems(N,H))}_fetchCategorySchemaSet(R,H){const N=this.portal;return N.fetchSelf(N.authMode,!0,H).then(P=>{const w=P.contentCategorySetsGroupQuery;if(w){const O=new L.Z;return O.disableExtraQuery=!0,O.num=1,O.query=w,N.queryGroups(O,H)}throw new D.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(P=>{if(P.total){const w=P.results[0],O=new L.Z;return O.num=1,O.query=`typekeywords:"${R}"`,w.queryItems(O,H)}throw new D.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(P=>P.total?P.results[0].fetchData("json",H).then(w=>{const O=w?.categorySchema;return O?.length?O:[]}):[])}};(0,C._)([(0,j.Cb)()],B.prototype,"access",void 0),(0,C._)([(0,j.Cb)({type:Date})],B.prototype,"created",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"description",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"id",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"isInvitationOnly",void 0),(0,C._)([(0,j.Cb)({type:Date})],B.prototype,"modified",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"owner",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"portal",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"snippet",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"sortField",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"sortOrder",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"sourceJSON",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"tags",void 0),(0,C._)([(0,j.Cb)()],B.prototype,"thumbnail",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],B.prototype,"thumbnailUrl",null),(0,C._)([(0,j.Cb)()],B.prototype,"title",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],B.prototype,"url",null),B=x=(0,C._)([(0,$.j)("esri.portal.PortalGroup")],B);const k=B},27835:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{default:()=>he});var C=E(15861),D=E(50484),Z=E(98930),j=E(26152),U=E(57964),Y=E(89317),V=E(34222),$=E(67016),L=E(6785),x=E(80543),B=E(1535),k=E(62185),R=E(10141),H=E(26894),N=E(61018),P=E(73514),w=E(4703),O=E(73018);E(57678),E(14007);let W=class extends P.Z{constructor(G){super(G),this.portalItem=null}normalizeCtorArgs(G){return G?.portalItem&&G.path?{...G,path:this._normalizePath(G.path,G.portalItem)}:G}set path(G){null!=G&&(0,L.YP)(G)?w.Z.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",G)}_castPath(G){return this._normalizePath(G,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(G="json",le){const q=this.cdnUrl;if(null==q)throw new U.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(q,{responseType:G,query:{token:this.portalItem.apiKey},signal:le?.signal})}update(G,le){var q=this;return(0,C.Z)(function*(){const{addOrUpdateResource:fe}=yield E.e(5251).then(E.bind(E,5251));return fe(q,"update",G,le)})()}hasPath(){return null!=this.path}_normalizePath(G,le){return null==G?G:(G=G.replace(/^\/+/,""),null!=le&&(0,L.YP)(G)&&(G=(0,L.PF)(G,le.itemUrl)),G?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,D._)([(0,x.Cb)()],W.prototype,"portalItem",void 0),(0,D._)([(0,x.Cb)({type:String,value:null})],W.prototype,"path",null),(0,D._)([(0,O.p)("path")],W.prototype,"_castPath",null),(0,D._)([(0,x.Cb)({type:String,readOnly:!0})],W.prototype,"url",null),(0,D._)([(0,x.Cb)({type:String,readOnly:!0})],W.prototype,"cdnUrl",null),(0,D._)([(0,x.Cb)({type:String,readOnly:!0})],W.prototype,"itemRelativeUrl",null),W=(0,D._)([(0,R.j)("esri.portal.PortalItemResource")],W);const z=W;let F=class extends P.Z{constructor(G){super(G),this.created=null,this.rating=null}};(0,D._)([(0,x.Cb)()],F.prototype,"created",void 0),(0,D._)([(0,x.Cb)()],F.prototype,"rating",void 0),F=(0,D._)([(0,R.j)("esri.portal.PortalRating")],F);const Q=F;var J;const oe=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),se=new Set(["KML","GeoJson","CSV"]);let ue=J=class extends((0,Y.eC)($.Z)){static from(G){return(0,B.TJ)(J,G)}constructor(G){super(G),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const G=this.type,le=this.typeKeywords||[];let q=G;return"Feature Service"===G||"Feature Collection"===G?q=le.includes("Table")?"Table":le.includes("Route Layer")?"Route Layer":le.includes("Markup")?"Markup":"Feature Layer":"Image Service"===G?q=le.includes("Elevation 3D Layer")?"Elevation Layer":le.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===G?q="Scene Layer":"Video Service"===G?q="Video Layer":"Scene Package"===G?q="Scene Layer Package":"Stream Service"===G?q="Feature Layer":"Geoprocessing Service"===G?q=le.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===G?q="Locator":"Geoenrichment Service"===G?q="GeoEnrichment Service":"Microsoft Powerpoint"===G?q="Microsoft PowerPoint":"GeoJson"===G?q="GeoJSON":"Globe Service"===G?q="Globe Layer":"Vector Tile Service"===G?q="Tile Layer":"netCDF"===G?q="NetCDF":"Map Service"===G?q=le.includes("Spatiotemporal")||!le.includes("Hosted Service")&&!le.includes("Tiled")||le.includes("Relational")?"Map Image Layer":"Tile Layer":G&&G.toLowerCase().includes("add in")?q=G.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===G?q="Big Data File Share":"Compact Tile Package"===G?q="Tile Package (tpkx)":"OGCFeatureServer"===G?q="OGC Feature Layer":"web mapping application"===G&&le.includes("configurableApp")?q="Instant App":"Insights Page"===G?q="Insights Report":"Excalibur Imagery Project"===G&&(q="Excalibur Project"),q}readExtent(G){return G&&G.length?new H.Z(G[0][0],G[0][1],G[1][0],G[1][1]):null}get iconUrl(){const G=this.type?.toLowerCase()||"",le=this.typeKeywords||[];let ge,me=!1,te=!1,ae=!1,ee=!1,ce=!1,ie=!1,ne=!1;return G.indexOf("service")>0||"feature collection"===G||"kml"===G||"wms"===G||"wmts"===G||"wfs"===G?(me=le.includes("Hosted Service"),"feature service"===G||"feature collection"===G||"kml"===G||"wfs"===G?(te=le.includes("Table"),ae=le.includes("Route Layer"),ee=le.includes("Markup"),ce=le.includes("Spatiotemporal"),ie=le.includes("UtilityNetwork"),ge=ce&&te?"spatiotemporaltable":te?"table":ae?"routelayer":ee?"markup":ce?"spatiotemporal":me?"featureshosted":ie?"utilitynetwork":"features"):ge="map service"===G||"wms"===G||"wmts"===G?me||le.includes("Tiled")||"wmts"===G?"maptiles":"mapimages":"scene service"===G?le.includes("Line")?"sceneweblayerline":le.includes("3DObject")?"sceneweblayermultipatch":le.includes("Point")?"sceneweblayerpoint":le.includes("IntegratedMesh")?"sceneweblayermesh":le.includes("PointCloud")?"sceneweblayerpointcloud":le.includes("Polygon")?"sceneweblayerpolygon":le.includes("Building")?"sceneweblayerbuilding":le.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===G?le.includes("Elevation 3D Layer")?"elevationlayer":le.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===G?"streamlayer":"video service"===G?le.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===G?"vectortile":"datastore catalog service"===G?"datastorecollection":"geocoding service"===G?"geocodeservice":"geoprocessing service"===G?le.includes("Web Tool")?"tool":"layers":"geodata service"===G?"geodataservice":"3dtiles service"===G?"3dtileslayer":"layers"):"web map"===G||"cityengine web scene"===G?ge="maps":"web scene"===G?ge=le.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===G&&le.includes("configurableApp")?ge="instantapps":"web mapping application"===G||"mobile application"===G||"application"===G||"operation view"===G||"desktop application"===G?ge="apps":"map document"===G||"map package"===G||"published map"===G||"scene document"===G||"globe document"===G||"basemap package"===G||"mobile basemap package"===G||"mobile map package"===G||"project package"===G||"project template"===G||"pro map"===G||"layout"===G||"layer"===G&&le.includes("ArcGIS Pro")||"explorer map"===G&&le.indexOf("Explorer Document")?ge="mapsgray":"service definition"===G||"csv"===G||"shapefile"===G||"cad drawing"===G||"geojson"===G||"netcdf"===G||"administrative report"===G?ge="datafiles":"explorer add in"===G||"desktop add in"===G||"windows viewer add in"===G||"windows viewer configuration"===G?ge="appsgray":"360 vr experience"===G?ge="360vr":"arcgis pro add in"===G||"arcgis pro configuration"===G?ge="addindesktop":"rule package"===G||"file geodatabase"===G||"sqlite geodatabase"===G||"csv collection"===G||"kml collection"===G||"windows mobile package"===G||"map template"===G||"desktop application template"===G||"gml"===G||"arcpad package"===G||"code sample"===G||"document link"===G||"earth configuration"===G||"operations dashboard add in"===G||"rules package"===G||"image"===G||"workflow manager package"===G||"explorer map"===G&&le.includes("Explorer Mapping Application")||le.includes("Document")?ge="datafilesgray":"network analysis service"===G||"geoprocessing service"===G||"geodata service"===G||"geometry service"===G||"geoprocessing package"===G||"locator package"===G||"geoprocessing sample"===G||"workflow manager service"===G?ge="toolsgray":"layer"===G||"layer package"===G||"explorer layer"===G?ge="layersgray":"scene package"===G?ge="scenepackage":"3dtiles package"===G?ge="3dtileslayerpackage":"mobile scene package"===G?ge="mobilescenepackage":"tile package"===G||"compact tile package"===G?ge="tilepackage":"task file"===G?ge="taskfile":"report template"===G?ge="report-template":"statistical data collection"===G?ge="statisticaldatacollection":"insights workbook"===G?ge="workbook":"insights model"===G?ge="insightsmodel":"insights page"===G?ge="insightspage":"insights theme"===G?ge="insightstheme":"hub initiative"===G?ge="hubinitiative":"hubpage"===G?ge="hubpage":"hub event"===G?ge="hubevent":"hub site application"===G?ge="hubsite":"hub project"===G?ge="hubproject":"relational database connection"===G?ge="relationaldatabaseconnection":"big data file share"===G?ge="datastorecollection":"image collection"===G?ge="imagecollection":"style"===G?ge="style":"desktop style"===G?ge="desktopstyle":"dashboard"===G?ge="dashboard":"raster function template"===G?ge="rasterprocessingtemplate":"vector tile package"===G?ge="vectortilepackage":"ortho mapping project"===G?ge="orthomappingproject":"ortho mapping template"===G?ge="orthomappingtemplate":"solution"===G?ge="solutions":"geopackage"===G?ge="geopackage":"deep learning package"===G?ge="deeplearningpackage":"real time analytic"===G?ge="realtimeanalytics":"big data analytic"===G?ge="bigdataanalytics":"feed"===G?ge="feed":"excalibur imagery project"===G?ge="excaliburimageryproject":"notebook"===G?ge="notebook":"storymap"===G?ge="storymap":"survey123 add in"===G?ge="survey123addin":"mission"===G?ge="mission":"mission report"===G?ge="missionreport":"mission template"===G?ge="missiontemplate":"quickcapture project"===G?ge="quickcaptureproject":"pro report"===G?ge="proreport":"pro report template"===G?ge="proreporttemplate":"urban model"===G?ge="urbanmodel":"web experience"===G?ge="experiencebuilder":"web experience template"===G?ge="webexperiencetemplate":"experience builder widget"===G?ge="experiencebuilderwidget":"experience builder widget package"===G?ge="experiencebuilderwidgetpackage":"workflow"===G?ge="workflow":"insights script"===G?ge="insightsscript":"kernel gateway connection"===G?ge="kernelgatewayconnection":"hub initiative template"===G?ge="hubinitiativetemplate":"storymap theme"===G?ge="storymaptheme":"knowledge graph"===G?ge="knowledgegraph":"knowledge studio project"===G?ge="knowledgestudio":"native application"===G?ge="nativeapp":"native application installer"===G?ge="nativeappinstaller":"link chart"===G?ge="linkchart":"investigation"===G?ge="investigation":"ogcfeatureserver"===G?ge="features":"pro project"===G?ge="proproject":"insights workbook package"===G?ge="insightsworkbookpackage":"apache parquet"===G?ge="apacheparquet":"notebook code snippets"===G||"notebook code snippet library"===G?ge="notebookcodesnippets":"suitability model"===G?ge="suitabilitymodel":"esri classifier definition"===G?ge="classifierdefinition":"esri classification schema"===G?ge="classificationschema":"insights data engineering workbook"===G?ge="dataengineeringworkbook":"insights data engineering model"===G?ge="dataengineeringmodel":"deep learning studio project"===G?ge="deeplearningproject":"discussion"===G?ge="discussion":"allsource project"===G?ge="allsourceproject":"api key"===G?ge="apikey":"data pipeline"===G?ge="datapipelines":"group layer"===G?(ne=le.includes("Map"),ge=ne?"layergroup2d":"layergroup"):ge="media layer"===G?"onlinemedialayer":"form"===G?le.includes("Survey123")?"survey":"datafilesgray":"maps",ge?(0,Z.V)("esri/images/portal/"+ge+"16.png"):null}get isLayer(){return null!=this.type&&oe.has(this.type)}get itemCdnUrl(){let G=this.itemUrl;return G&&j.id&&!j.id.findCredential(G)&&(G=j.id._normalizeAGOLorgDomain(G),G=G.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),G=G.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),G=G.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),G}get itemPageUrl(){const G=this.portal?.itemPageUrl;return G&&this.id?`${G}?id=${this.id}`:null}get itemUrl(){const G=this.portal?.restUrl;return G&&this.id?`${G}/content/items/${this.id}`:null}get thumbnailUrl(){const G=this.itemUrl,le=this.thumbnail;return G&&le?this.portal?.normalizeUrl(`${G}/info/${le}?f=json`)??null:null}get userItemUrl(){const G=this.portal?.restUrl;if(!G)return null;const le=this.owner||this.portal?.user?.username;return le?`${G}/content/users/${this.ownerFolder?`${le}/${this.ownerFolder}`:le}/items/${this.id}`:null}load(G){const le=this.portal??(this.portal=N.Z.getDefault()),q=le.load(G).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?le.request(this.itemUrl,{signal:null!=G?G.signal:null,query:{token:this.apiKey}}):{}).then(fe=>{this.sourceJSON=fe,this.read(fe)});return this.addResolvingPromise(q),Promise.resolve(this)}addRating(G){var le=this;return(0,C.Z)(function*(){const q={method:"post",query:{}};return G instanceof Q&&(G=G.rating),null==G||isNaN(G)||"number"!=typeof G||(q.query.rating=G),le.portal?(yield le.portal.request(le.itemUrl+"/addRating",q),new Q({rating:G,created:new Date})):null})()}clone(){const G={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,V.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,V.d9)(this.categories),created:(0,V.d9)(this.created),culture:this.culture,description:this.description,extent:(0,V.d9)(this.extent),groupCategories:(0,V.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,V.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,V.d9)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,V.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,V.d9)(this.typeKeywords),url:this.url};this.loaded&&(G.loadStatus="loaded");const le=new J({sourceJSON:this.sourceJSON}).set(G);return le._set("isOrgItem",this.isOrgItem),le}createPostQuery(){const G=this.toJSON();for(const q of["tags","typeKeywords","categories"])G[q]=G[q]?.join(", ");const{extent:le}=G;return le&&(G.extent=JSON.stringify(le)),G}deleteRating(){var G=this;return(0,C.Z)(function*(){yield G.portal.request(G.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(G="json",le){return this.portal.request(this.itemUrl+"/data",{responseType:G,...le,query:{token:this.apiKey}})}fetchRating(G){var le=this;return(0,C.Z)(function*(){const q=yield le.portal.request(le.itemUrl+"/rating",{query:{token:le.apiKey},...G});return null!=q.rating?(q.created=new Date(q.created),new Q(q)):null})()}fetchRelatedItems(G,le){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...G,token:this.apiKey},...le},J)}getThumbnailUrl(G){let le=this.thumbnailUrl;return le&&G&&(le+=`&w=${G}`),le}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(G=>(this.sourceJSON=G,this.read(G),this))}update(G){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const le=G?.data,q={method:"post"};q.query=this.createPostQuery();for(const fe in q.query)null===q.query[fe]&&(q.query[fe]="");return q.query.clearEmptyFields=!0,null!=le&&("string"==typeof le?q.query.text=le:"object"==typeof le&&(q.query.text=JSON.stringify(le))),this.portal.request(`${this.userItemUrl}/update`,q).then(()=>this.reload())}):Promise.reject(new U.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(G){var le=this;return(0,C.Z)(function*(){if(!le.id)throw new U.Z("portal:item-does-not-exist","The item does not exist yet");yield le.load();const{portal:q,itemUrl:fe}=le;yield q.signIn();const{copyResources:ge,folder:me,tags:te,title:ae}=G||{},ee={method:"post",query:{copyPrivateResources:"all"===ge,folder:"string"==typeof me?me:me?.id,includeResources:!!ge,tags:te?.join(","),title:ae}},{itemId:ce}=yield q.request(`${fe}/copy`,ee);return new J({id:ce,portal:q})})()}updateThumbnail(G){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const le=G.thumbnail,q=G.filename,fe={method:"post"};if("string"==typeof le)fe.query=(0,L.HK)(le)?{data:le}:{url:(0,L.hF)(le)},null!=q&&(fe.query.filename=q);else{const ge=new FormData;null!=q?ge.append("file",le,q):ge.append("file",le),fe.body=ge}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,fe).then(()=>this.reload())}):Promise.reject(new U.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(G={},le){var q=this;return(0,C.Z)(function*(){const{fetchResources:fe}=yield E.e(5251).then(E.bind(E,5251));return fe(q,G,le)})()}addResource(G,le,q){var fe=this;return(0,C.Z)(function*(){const{addOrUpdateResource:ge}=yield E.e(5251).then(E.bind(E,5251));return G.portalItem=fe,ge(G,"add",le,q)})()}removeResource(G,le){var q=this;return(0,C.Z)(function*(){const{removeResource:fe}=yield E.e(5251).then(E.bind(E,5251));if(G.portalItem&&G.portalItem.itemUrl!==q.itemUrl)throw new U.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return fe(q,G,le)})()}removeAllResources(G){var le=this;return(0,C.Z)(function*(){const{removeAllResources:q}=yield E.e(5251).then(E.bind(E,5251));return q(le,G)})()}resourceFromPath(G){return new z({portalItem:this,path:G})}toJSON(){const G=this.extent,le={accessInformation:this.accessInformation,categories:(0,V.d9)(this.categories),created:this.created?.getTime(),description:this.description,extent:G&&[[G.xmin,G.ymin],[G.xmax,G.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,V.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,V.d9)(this.typeKeywords),url:this.url};return(0,V.yd)(le)}static fromJSON(G){if(!G)return null;if(G.declaredClass)throw new Error("JSON object is already hydrated");return new J({sourceJSON:G})}_getPostQuery(){const G=this.toJSON();for(const le in G)"tags"===le&&null!==G[le]&&(G[le]=G[le].join(", ")),"typeKeywords"===le&&null!==G[le]&&(G[le]=G[le].join(", ")),"extent"===le&&G[le]&&(G[le]=JSON.stringify(G[le]));return G}};(0,D._)([(0,x.Cb)({type:["private","shared","org","public"]})],ue.prototype,"access",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"accessInformation",void 0),(0,D._)([(0,x.Cb)({type:String})],ue.prototype,"apiKey",void 0),(0,D._)([(0,x.Cb)({json:{read:{source:"appProxies"}}})],ue.prototype,"applicationProxies",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"avgRating",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"categories",void 0),(0,D._)([(0,x.Cb)({type:Date})],ue.prototype,"created",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"culture",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"description",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"displayName",null),(0,D._)([(0,x.Cb)({type:H.Z})],ue.prototype,"extent",void 0),(0,D._)([(0,k.r)("extent")],ue.prototype,"readExtent",null),(0,D._)([(0,x.Cb)()],ue.prototype,"groupCategories",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"iconUrl",null),(0,D._)([(0,x.Cb)()],ue.prototype,"id",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"isLayer",null),(0,D._)([(0,x.Cb)({type:Boolean,readOnly:!0})],ue.prototype,"isOrgItem",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"itemControl",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"itemPageUrl",null),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"itemUrl",null),(0,D._)([(0,x.Cb)()],ue.prototype,"licenseInfo",void 0),(0,D._)([(0,x.Cb)({type:Date})],ue.prototype,"modified",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"name",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"numComments",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"numRatings",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"numViews",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"owner",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"ownerFolder",void 0),(0,D._)([(0,x.Cb)({type:N.Z})],ue.prototype,"portal",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"screenshots",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"size",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"snippet",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"sourceJSON",void 0),(0,D._)([(0,x.Cb)({type:String})],ue.prototype,"sourceUrl",void 0),(0,D._)([(0,x.Cb)({type:String})],ue.prototype,"spatialReference",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"tags",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"thumbnail",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"thumbnailUrl",null),(0,D._)([(0,x.Cb)()],ue.prototype,"title",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"type",void 0),(0,D._)([(0,x.Cb)()],ue.prototype,"typeKeywords",void 0),(0,D._)([(0,x.Cb)({type:String,json:{read(G,le){if(se.has(le.type)){const q=this.portal?.restUrl;G||=q&&this.id?`${q}/content/items/${this.id}/data`:null}return G}}})],ue.prototype,"url",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],ue.prototype,"userItemUrl",null),ue=J=(0,D._)([(0,R.j)("esri.portal.PortalItem")],ue);const he=ue},78149:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var B,C=E(50484),D=E(73514),Z=E(84303),j=E(34222),U=E(80543),V=(E(1535),E(10141)),$=E(26894),L=E(43814),x=E(48230);const k=new Z.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let R=B=class extends D.Z{constructor(N){super(N),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(N){"asc"!==N&&"desc"!==N||this._set("sortOrder",N)}clone(){return new B({categories:this.categories?(0,j.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(N,P){let w=[];this.categories&&(w=this.categories.map(W=>Array.isArray(W)?JSON.stringify(W):W));let O="";if(this.extent){const W=(0,x.iV)(this.extent,L.Z.WGS84);null!=W&&(O=`${W.xmin},${W.ymin},${W.xmax},${W.ymax}`)}let I=this.query;!this.disableExtraQuery&&N.extraQuery&&(I="("+I+")"+N.extraQuery);const T={categories:w,bbox:O,q:I,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(T.sortField=this.sortField.split(",").map(W=>k.toJSON(W.trim())).join(","),T.sortOrder=this.sortOrder),{query:{...P,...T}}}};(0,C._)([(0,U.Cb)()],R.prototype,"categories",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"disableExtraQuery",void 0),(0,C._)([(0,U.Cb)({type:$.Z})],R.prototype,"extent",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"filter",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"num",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"query",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"sortField",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"sortOrder",null),(0,C._)([(0,U.Cb)()],R.prototype,"start",void 0),R=B=(0,C._)([(0,V.j)("esri.portal.PortalQueryParams")],R);const H=R},57437:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var C=E(50484),D=E(57964),Z=E(89317),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let L=class extends Z.wq{constructor(N){super(N),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const N=this.portal?.restUrl;return N?`${N}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,C._)([(0,j.Cb)({type:Date})],L.prototype,"created",void 0),(0,C._)([(0,j.Cb)()],L.prototype,"id",void 0),(0,C._)([(0,j.Cb)()],L.prototype,"portal",void 0),(0,C._)([(0,j.Cb)()],L.prototype,"title",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],L.prototype,"url",null),(0,C._)([(0,j.Cb)()],L.prototype,"username",void 0),L=(0,C._)([(0,$.j)("esri.portal.PortalFolder")],L);const x=L;var k,B=E(18962);let R=k=class extends Z.wq{constructor(...N){super(...N),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const N=this.url,P=this.thumbnail;return N&&P?this.portal.normalizeUrl(`${N}/info/${P}?f=json`):null}get userContentUrl(){const N=this.portal?.restUrl;return N?`${N}/content/users/${this.username}`:null}get url(){const N=this.portal?.restUrl;return N?`${N}/community/users/${this.username}`:null}addItem(N){const P=N&&N.item,w=N?.data,O=N?.folder,I={method:"post"};P&&(I.query=P.createPostQuery(),null!=w&&("string"==typeof w?I.query.text=w:"object"==typeof w&&(I.query.text=JSON.stringify(w))));let T=this.userContentUrl;return O&&(T+="/"+("string"==typeof O?O:O.id)),this.portal.request(T+"/addItem",I).then(W=>(P.id=W.id,P.portal=this.portal,P.loaded?P.reload():P.load()))}deleteItem(N){let P=this.userContentUrl;return N.ownerFolder&&(P+="/"+N.ownerFolder),this.portal.request(P+`/items/${N.id}/delete`,{method:"post"}).then(()=>{N.id=null,N.portal=null})}deleteItems(N){const P=this.userContentUrl+"/deleteItems",w=N.map(O=>O.id);if(w.length){const O={method:"post",query:{items:w.join(",")}};return this.portal.request(P,O).then(()=>{N.forEach(I=>{I.id=null,I.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(P=>{let w;return w=P&&P.folders?P.folders.map(O=>{const I=x.fromJSON(O);return I.portal=this.portal,I}):[],w})}fetchGroups(){return this.portal.request(this.url??"").then(N=>{let P;return P=N&&N.groups?N.groups.map(w=>{const O=B.Z.fromJSON(w);return O.portal=this.portal,O}):[],P})}fetchItems(N){const P=N??{};let w,O=this.userContentUrl??"";return P.folder&&(O+="/"+P.folder.id),Promise.resolve().then(E.bind(E,27835)).then(({default:I})=>(w=I,this.portal.request(O,{query:{folders:!1,num:P.num||10,start:P.start||1,sortField:P.sortField||"created",sortOrder:P.sortOrder||"asc"}}))).then(I=>{let T;return I?.items?(T=I.items.map(W=>{const z=w.fromJSON(W);return z.portal=this.portal,z}),Promise.all(T.map(W=>W.load())).catch(W=>W).then(()=>({items:T,nextStart:I.nextStart,total:I.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(N=>N.tags)}getThumbnailUrl(N){let P=this.thumbnailUrl;return P&&N&&(P+=`&w=${N}`),P}queryFavorites(N){return this.favGroupId?(this._favGroup||(this._favGroup=new B.Z({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(N)):Promise.reject(new D.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new D.Z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(N){if(!N)return null;if(N.declaredClass)throw new Error("JSON object is already hydrated");const P=new k;return P.sourceJSON=N,P.read(N),P}};(0,C._)([(0,j.Cb)()],R.prototype,"access",void 0),(0,C._)([(0,j.Cb)({type:Date})],R.prototype,"created",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"culture",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"description",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"email",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"favGroupId",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"fullName",void 0),(0,C._)([(0,j.Cb)({type:Date})],R.prototype,"modified",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"orgId",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"portal",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"preferredView",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"privileges",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"region",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"role",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"roleId",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"sourceJSON",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"thumbnail",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],R.prototype,"thumbnailUrl",null),(0,C._)([(0,j.Cb)()],R.prototype,"units",void 0),(0,C._)([(0,j.Cb)({readOnly:!0})],R.prototype,"userContentUrl",null),(0,C._)([(0,j.Cb)({readOnly:!0})],R.prototype,"url",null),(0,C._)([(0,j.Cb)()],R.prototype,"username",void 0),(0,C._)([(0,j.Cb)()],R.prototype,"userType",void 0),R=k=(0,C._)([(0,$.j)("esri.portal.PortalUser")],R);const H=R},50318:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$o:()=>k,Ct:()=>B,Fj:()=>L,Kz:()=>H,Ss:()=>N,_$:()=>$,ck:()=>x,qj:()=>V});var C=E(15861),D=E(83821),Z=E(43814),j=E(48230);function Y(){return(Y=(0,C.Z)(function*(P){const w=P.spatialReference;if(w.isWGS84)return P.clone();if(w.isWebMercator)return(0,j.Sx)(P);const O=Z.Z.WGS84;return yield(0,D.initializeProjection)(w,O),(0,D.project)(P,O)})).apply(this,arguments)}function V(P,w){if(!$(P,w)){const O=P.typeKeywords;O?O.push(w):P.typeKeywords=[w]}}function $(P,w){return!!P.typeKeywords?.includes(w)}function L(P){return $(P,H.HOSTED_SERVICE)}function x(P,w){const O=P.typeKeywords;if(O){const I=O.indexOf(w);I>-1&&O.splice(I,1)}}function B(P,w,O){O?V(P,w):x(P,w)}function k(P){return R.apply(this,arguments)}function R(){return R=(0,C.Z)(function*(P){const w=P.clone().normalize();let O;if(w.length>1)for(const I of w)O?I.width>O.width&&(O=I):O=I;else O=w[0];return function U(P){return Y.apply(this,arguments)}(O)}),R.apply(this,arguments)}const H={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function N(P){const{portal:w,isOrgItem:O,itemControl:I}=P,T=w.user?.privileges;let W=!T||T.includes("features:user:edit"),z=!!O&&!!T?.includes("features:user:fullEdit");const F="update"===I||"admin"===I;return F?z=W=!0:z&&(W=!0),{features:{edit:W,fullEdit:z},content:{updateItem:F}}}},71438:(Ke,Ee,E)=>{"use strict";E.d(Ee,{P:()=>j,a:()=>Z});const C=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,D={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Z(U){const Y=U?.match(C);if(!Y)return null;const[,V,$,L]=Y;if(!V)return null;let x=null,B=null,k=null;const{devext:R,qaext:H,www:N}=D;if($)if(x=V,L)switch(L.toLowerCase()){case"devext":({customBaseUrl:B,portalHostname:k}=R);break;case"qa":({customBaseUrl:B,portalHostname:k}=H);break;default:return null}else({customBaseUrl:B,portalHostname:k}=N);else switch(V.toLowerCase()){case"devext":({customBaseUrl:B,portalHostname:k}=R);break;case"qaext":({customBaseUrl:B,portalHostname:k}=H);break;case"www":({customBaseUrl:B,portalHostname:k}=N);break;default:return null}return{customBaseUrl:B,isPortal:!1,portalHostname:k,urlKey:x}}function j(U){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(U)}},81238:(Ke,Ee,E)=>{"use strict";E.d(Ee,{v:()=>D});const D=(0,E(84303).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},36699:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ue});var W,C=E(15861),D=E(50484),Z=E(71950),j=E(84303),U=E(34222),Y=E(4703),V=E(80543),$=E(73018),L=E(21070),x=E(62185),B=E(10141),k=E(7547),R=E(1535),H=E(85295),N=E(38748),P=E(47305),w=E(87617),O=E(47702),I=E(37764),T=E(4978);const F="percent-of-total",Q="field",J=new j.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:F,esriNormalizeByField:Q}),oe=(0,R.se)(w.Z);let se=W=class extends((0,P.W)(N.Z)){constructor(he){super(he),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(he,G,le){if(!Array.isArray(he))return;let q=G.minValue;return he.map(fe=>{const ge=new w.Z;return ge.read(fe,le),null==ge.minValue&&(ge.minValue=q),null==ge.maxValue&&(ge.maxValue=ge.minValue),q=ge.maxValue,ge})}writeClassBreakInfos(he,G,le,q){const fe=he.map(ge=>ge.write({},q));this._areClassBreaksConsecutive()&&fe.forEach(ge=>delete ge.classMinValue),G[le]=fe}castField(he){return null==he?he:"function"==typeof he?(Y.Z.getLogger(this).error(".field: field must be a string value"),null):(0,R.Zs)(he)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let he=this._get("normalizationType");const G=!!this.normalizationField,le=null!=this.normalizationTotal;return G||le?(he=G&&Q||le&&F||null,G&&le&&Y.Z.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):he!==Q&&he!==F||(he=null),he}set normalizationType(he){this._set("normalizationType",he)}addClassBreakInfo(he,G,le){let q=null;q="number"==typeof he?new w.Z({minValue:he,maxValue:G,symbol:(0,Z.se)(le)}):oe((0,U.d9)(he)),this.classBreakInfos.push(q),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(he,G){const le=this.classBreakInfos.length;for(let q=0;q<le;q++){const fe=[this.classBreakInfos[q].minValue,this.classBreakInfos[q].maxValue];if(fe[0]===he&&fe[1]===G){this.classBreakInfos.splice(q,1);break}}}getBreakIndex(he,G){return this.valueExpression&&null==G?.arcade&&Y.Z.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(he,G):this._getBreakIndexForField(he)}getClassBreakInfo(he,G){var le=this;return(0,C.Z)(function*(){let q=G;le.valueExpression&&null==G?.arcade&&(q={...q,arcade:yield(0,T.LC)()});const fe=le.getBreakIndex(he,q);return-1!==fe?le.classBreakInfos[fe]:null})()}getSymbol(he,G){if(this.valueExpression&&null==G?.arcade)return void Y.Z.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const le=this.getBreakIndex(he,G);return le>-1?this.classBreakInfos[le].symbol:this.defaultSymbol}getSymbolAsync(he,G){var le=this;return(0,C.Z)(function*(){let q=G;if(le.valueExpression&&null==G?.arcade){const ge=yield(0,T.LC)(),{arcadeUtils:me}=ge;me.hasGeometryOperations(le.valueExpression)&&(yield me.enableGeometryOperations()),q={...q,arcade:ge}}const fe=le.getBreakIndex(he,q);return fe>-1?le.classBreakInfos[fe].symbol:le.defaultSymbol})()}getSymbols(){const he=[];return this.classBreakInfos.forEach(G=>{G.symbol&&he.push(G.symbol)}),this.defaultSymbol&&he.push(this.defaultSymbol),he}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((he,G)=>he+G.getAttributeHash(),"")}getMeshHash(){const he=JSON.stringify(this.backgroundFillSymbol),G=JSON.stringify(this.defaultSymbol),le=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${he}.${G}.${this.classBreakInfos.reduce((q,fe)=>q+fe.getMeshHash(),"")}.${le}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new W({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,U.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,U.d9)(this.visualVariables),legendOptions:(0,U.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(he,G){var le=this;return(0,C.Z)(function*(){const q=[le.collectVVRequiredFields(he,G),le.collectSymbolFields(he,G)];yield Promise.all(q)})()}collectSymbolFields(he,G){var le=this;return(0,C.Z)(function*(){const q=[...le.getSymbols().map(fe=>fe.collectRequiredFields(he,G)),(0,H.io)(he,G,le.valueExpression)];(0,H.AB)(he,G,le.field),(0,H.AB)(he,G,le.normalizationField),yield Promise.all(q)})()}_getBreakIndexForExpression(he,G){const{viewingMode:le,scale:q,spatialReference:fe,arcade:ge,timeZone:me}=G??{},{valueExpression:te}=this;let ae=this._compiledValueExpression.valueExpression===te?this._compiledValueExpression.compiledFunction:null;const ee=ge.arcadeUtils;if(!ae){const ie=ee.createSyntaxTree(te);ae=ee.createFunction(ie),this._compiledValueExpression.compiledFunction=ae}this._compiledValueExpression.valueExpression=te;const ce=ee.executeFunction(ae,ee.createExecContext(he,ee.getViewInfo({viewingMode:le,scale:q,spatialReference:fe}),me));return this._getBreakIndexfromInfos(ce)}_getBreakIndexForField(he){const le=he.attributes,q=this.normalizationType;let fe=parseFloat(le[this.field]);if(q){const ge=this.normalizationTotal,me=parseFloat(this.normalizationField?le[this.normalizationField]:void 0);if("log"===q)fe=Math.log(fe)*Math.LOG10E;else if(q!==F||null==ge||isNaN(ge)){if(q===Q&&!isNaN(me)){if(isNaN(fe)||isNaN(me))return-1;fe/=me}}else fe=fe/ge*100}return this._getBreakIndexfromInfos(fe)}_getBreakIndexfromInfos(he){const G=this.isMaxInclusive;if(null!=he&&"number"==typeof he&&!isNaN(he))for(let le=0;le<this.classBreakInfos.length;le++){const q=[this.classBreakInfos[le].minValue,this.classBreakInfos[le].maxValue];if(q[0]<=he&&(G?he<=q[1]:he<q[1]))return le}return-1}_areClassBreaksConsecutive(){const he=this.classBreakInfos,G=he.length;for(let le=1;le<G;le++)if(he[le-1].maxValue!==he[le].minValue)return!1;return!0}};(0,D._)([(0,V.Cb)(O.KK)],se.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,V.Cb)({type:[w.Z]})],se.prototype,"classBreakInfos",void 0),(0,D._)([(0,x.r)("classBreakInfos")],se.prototype,"readClassBreakInfos",null),(0,D._)([(0,k.c)("classBreakInfos")],se.prototype,"writeClassBreakInfos",null),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"defaultLabel",void 0),(0,D._)([(0,V.Cb)(O.Gn)],se.prototype,"defaultSymbol",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"field",void 0),(0,D._)([(0,$.p)("field")],se.prototype,"castField",null),(0,D._)([(0,V.Cb)({type:Boolean})],se.prototype,"isMaxInclusive",void 0),(0,D._)([(0,V.Cb)({type:I.I,json:{write:!0}})],se.prototype,"legendOptions",void 0),(0,D._)([(0,V.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],se.prototype,"minValue",null),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"normalizationField",void 0),(0,D._)([(0,V.Cb)({type:Number,cast:he=>(0,R.q9)(he),json:{write:!0}})],se.prototype,"normalizationTotal",void 0),(0,D._)([(0,V.Cb)({type:J.apiValues,value:null,json:{type:J.jsonValues,read:J.read,write:J.write}})],se.prototype,"normalizationType",null),(0,D._)([(0,L.J)({classBreaks:"class-breaks"})],se.prototype,"type",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"valueExpression",void 0),(0,D._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"valueExpressionTitle",void 0),se=W=(0,D._)([(0,B.j)("esri.renderers.ClassBreaksRenderer")],se);const ue=se},15212:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var k,C=E(15861),D=E(50484),Z=E(34222),j=E(80543),Y=(E(1535),E(10141)),V=E(7547),$=E(85295),L=E(38748),x=E(47305),B=E(96844);let R=k=class extends((0,x.W)(L.Z)){constructor(N){super(N),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new B.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(N,P){N&&(P.scalingExpressionInfo={expression:N,returnType:"number"})}writeVisualVariables(N,P,w,O){O?.origin||super.writeVisualVariables(N,P,w,O)}clone(){return new k({config:(0,Z.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,Z.d9)(this.fieldMap),url:(0,Z.d9)(this.url),visualVariables:(0,Z.d9)(this.visualVariables)})}getSymbolAsync(N,P){var w=this;return(0,C.Z)(function*(){return w._loader.getSymbolAsync(N,P)})()}collectRequiredFields(N,P){var w=this;return(0,C.Z)(function*(){yield w.collectVVRequiredFields(N,P),w.scaleExpression&&(yield(0,$.io)(N,P,w.scaleExpression));for(const O in w.fieldMap){const I=w.fieldMap[O];P.has(I)&&N.add(I)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((N,P)=>N+P.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,D._)([(0,j.Cb)({type:B.DictionaryLoader})],R.prototype,"_loader",null),(0,D._)([(0,j.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],R.prototype,"config",void 0),(0,D._)([(0,j.Cb)({type:Object,json:{write:!0}})],R.prototype,"fieldMap",void 0),(0,D._)([(0,j.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],R.prototype,"scaleExpression",void 0),(0,D._)([(0,V.c)("scaleExpression")],R.prototype,"writeData",null),(0,D._)([(0,j.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(N){return{enabled:!!N&&!!this.scaleExpression}}}}})],R.prototype,"scaleExpressionTitle",void 0),(0,D._)([(0,j.Cb)({type:String,json:{write:!0}})],R.prototype,"url",void 0),(0,D._)([(0,V.c)("visualVariables")],R.prototype,"writeVisualVariables",null),R=k=(0,D._)([(0,Y.j)("esri.renderers.DictionaryRenderer")],R);const H=R},53722:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>F});var P,C=E(15861),D=E(50484),Z=E(66599),j=E(34222),U=E(80543),V=(E(1535),E(21070)),$=E(10141),L=E(85295),x=E(38748),B=E(47305),k=E(72923),R=E(89317);E(57678),E(14007);let w=P=class extends R.wq{constructor(){super(...arguments),this.unit=null}clone(){return new P({unit:this.unit})}};(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],w.prototype,"unit",void 0),w=P=(0,D._)([(0,$.j)("esri.renderers.support.DotDensityLegendOptions")],w);const O=w;var W,I=E(89481),T=E(66637);let z=W=class extends((0,B.W)(x.Z)){constructor(Q){super(Q),this.attributes=null,this.backgroundColor=new Z.Z([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new T.Z,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(Q){if(null==this.referenceScale)return this.dotValue;const J=Q/this.referenceScale*this.dotValue;return J<1?1:J}getSymbol(){return new I.Z({outline:this.outline})}getSymbolAsync(){var Q=this;return(0,C.Z)(function*(){return Q.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((Q,J)=>Q+J.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new W({attributes:(0,j.d9)(this.attributes),backgroundColor:(0,j.d9)(this.backgroundColor),dotBlendingEnabled:(0,j.d9)(this.dotBlendingEnabled),dotShape:(0,j.d9)(this.dotShape),dotSize:(0,j.d9)(this.dotSize),dotValue:(0,j.d9)(this.dotValue),legendOptions:(0,j.d9)(this.legendOptions),outline:(0,j.d9)(this.outline),referenceScale:(0,j.d9)(this.referenceScale),visualVariables:(0,j.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes?.map(J=>J.field||J.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(Q,J){var oe=this;return(0,C.Z)(function*(){yield oe.collectVVRequiredFields(Q,J);for(const se of oe.attributes??[])se.valueExpression&&(yield(0,L.io)(Q,J,se.valueExpression)),se.field&&Q.add(se.field)})()}};(0,D._)([(0,U.Cb)({type:[k.Z],json:{write:!0}})],z.prototype,"attributes",void 0),(0,D._)([(0,U.Cb)({type:Z.Z,json:{write:!0}})],z.prototype,"backgroundColor",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],z.prototype,"dotBlendingEnabled",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!1}})],z.prototype,"dotShape",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"dotSize",void 0),(0,D._)([(0,U.Cb)({type:O,json:{write:!0}})],z.prototype,"legendOptions",void 0),(0,D._)([(0,U.Cb)({type:T.Z,json:{default:null,write:!0}})],z.prototype,"outline",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"dotValue",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"referenceScale",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"seed",void 0),(0,D._)([(0,V.J)({dotDensity:"dot-density"})],z.prototype,"type",void 0),z=W=(0,D._)([(0,$.j)("esri.renderers.DotDensityRenderer")],z);const F=z},82752:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>le});var C=E(15861),D=E(50484),Z=E(66599),U=(E(71950),E(93300)),Y=E(34222),V=E(4703),$=E(66679),L=E(55768),x=E(80543),k=(E(1535),E(49301)),R=E(21070),H=E(10141),N=E(85295),P=E(38748),w=E(62501),O=E(61197),I=E(25387),T=E(89317);E(57678),E(14007);let F=class extends((0,I.J)(T.wq)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,D._)([(0,x.Cb)({type:String,json:{write:!0}})],F.prototype,"minLabel",void 0),(0,D._)([(0,x.Cb)({type:String,json:{write:!0}})],F.prototype,"maxLabel",void 0),(0,D._)([(0,x.Cb)({type:String,json:{write:!0}})],F.prototype,"title",void 0),F=(0,D._)([(0,H.j)("esri.renderers.support.HeatmapLegendOptions")],F);var oe,Q=E(96043),J=E(35451);const se="esri.renderers.HeatmapRenderer",ue=V.Z.getLogger(se);function he(q){if(null!=q){const{maxDensity:fe,minDensity:ge,radius:me}=q;if(null!=fe||null!=ge||null!=me){const{blurRadius:te,maxPixelIntensity:ae,minPixelIntensity:ee,...ce}=q;return ce}}return q}let G=oe=class extends P.Z{constructor(q){super(q),this.authoringInfo=null,this.colorStops=[new O.Z({ratio:0,color:new Z.Z("rgba(255, 140, 0, 0)")}),new O.Z({ratio:.75,color:new Z.Z("rgba(255, 140, 0, 1)")}),new O.Z({ratio:.9,color:new Z.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(q){return he(q)}get blurRadius(){return(0,Q.AJ)(this.radius)}set blurRadius(q){const fe=this.maxPixelIntensity,ge=this.minPixelIntensity;this._set("radius",(0,Q.k0)(q)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",fe*this._pixelIntensityToDensity),this._set("minDensity",ge*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(q){this._set("maxDensity",q*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(q){this._set("minDensity",q*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(Q.ul**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(q,fe){this._warnedProps[q]||"user"===(0,k.vw)(this).getDefaultOrigin()&&(this._warnedProps[q]=!0,(0,$.Os)(()=>{(0,U.Mr)(ue,q,{replacement:`${String(fe)} (suggested value: ${this._get(fe)})`,version:"4.24"})}))}read(q,fe){q=he(q),super.read(q,fe)}getSymbol(){return new J.Z}getSymbolAsync(){var q=this;return(0,C.Z)(function*(){return q.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(q,fe){var ge=this;return(0,C.Z)(function*(){const me=ge.field,te=ge.valueExpression;me&&"string"==typeof me&&(0,N.AB)(q,fe,me),te&&"string"==typeof te&&(yield(0,N.io)(q,fe,te))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new oe({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,Y.d9)(this.colorStops),field:this.field,legendOptions:(0,Y.d9)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,D._)([(0,x.Cb)({type:w.Z,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],G.prototype,"authoringInfo",void 0),(0,D._)([(0,x.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],G.prototype,"blurRadius",null),(0,D._)([(0,x.Cb)({type:[O.Z],json:{write:!0}})],G.prototype,"colorStops",void 0),(0,D._)([(0,x.Cb)({type:String,json:{write:!0}})],G.prototype,"field",void 0),(0,D._)([(0,x.Cb)({type:Number,json:{write:{overridePolicy:(q,fe,ge)=>({enabled:null==ge})},origins:{"web-scene":{write:!1}}}})],G.prototype,"fieldOffset",void 0),(0,D._)([(0,x.Cb)({type:F,json:{write:!0}})],G.prototype,"legendOptions",void 0),(0,D._)([(0,x.Cb)({type:Number,json:{write:!0}})],G.prototype,"maxDensity",void 0),(0,D._)([(0,x.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],G.prototype,"maxPixelIntensity",null),(0,D._)([(0,x.Cb)({type:Number,json:{write:!0}})],G.prototype,"minDensity",void 0),(0,D._)([(0,x.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],G.prototype,"minPixelIntensity",null),(0,D._)([(0,x.Cb)({type:Number,cast:L.t_,json:{write:!0}})],G.prototype,"radius",void 0),(0,D._)([(0,x.Cb)({type:Number,range:{min:0},json:{default:0,write:!0}})],G.prototype,"referenceScale",void 0),(0,D._)([(0,R.J)({heatmap:"heatmap"})],G.prototype,"type",void 0),(0,D._)([(0,x.Cb)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],G.prototype,"valueExpression",void 0),(0,D._)([(0,x.Cb)({type:String})],G.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,x.Cb)({readOnly:!0})],G.prototype,"_pixelIntensityToDensity",null),G=oe=(0,D._)([(0,H.j)(se)],G);const le=G},28999:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Q});var C=E(15861),D=E(50484),Z=E(66599),U=(E(71950),E(57678)),Y=E(25387),V=E(55768),$=E(80543),B=(E(1535),E(14007),E(21070)),k=E(10141),R=E(85295),H=E(38748),N=E(47305),P=E(72923),w=E(89317);let O=class extends((0,Y.J)(w.wq)){constructor(){super(...arguments),this.color=new Z.Z([0,0,0,0]),this.label=null,this.threshold=0}};(0,D._)([(0,$.Cb)({type:Z.Z,json:{write:!0}})],O.prototype,"color",void 0),(0,D._)([(0,$.Cb)({type:String,json:{write:!0}})],O.prototype,"label",void 0),(0,D._)([(0,$.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],O.prototype,"threshold",void 0),O=(0,D._)([(0,k.j)("esri.renderers.support.OthersCategory")],O);let I=class extends((0,Y.J)(w.wq)){constructor(){super(...arguments),this.title=null}};(0,D._)([(0,$.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),I=(0,D._)([(0,k.j)("esri.renderers.support.PieChartLegendOptions")],I);var T=E(35451),W=E(89481),z=E(66637);let F=class extends((0,N.W)((0,Y.J)(H.Z))){constructor(J){super(J),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Z.Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new O,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new T.Z({size:this.size?this.size/2+(this.outline?.width||0):0})}getSymbolAsync(){var J=this;return(0,C.Z)(function*(){return J.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(U.pC)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((J,oe)=>J+oe.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((J,oe)=>J+JSON.stringify(oe),"")}collectRequiredFields(J,oe){var se=this;return(0,C.Z)(function*(){yield se.collectVVRequiredFields(J,oe);for(const ue of se.attributes)ue.valueExpression&&(yield(0,R.io)(J,oe,ue.valueExpression)),ue.field&&J.add(ue.field)})()}};(0,D._)([(0,$.Cb)({type:[P.Z],json:{write:!0}})],F.prototype,"attributes",void 0),(0,D._)([(0,$.Cb)({type:W.Z,json:{default:null,write:!0}})],F.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,$.Cb)({type:Z.Z,json:{write:!0}})],F.prototype,"defaultColor",void 0),(0,D._)([(0,$.Cb)({type:String,json:{write:!0}})],F.prototype,"defaultLabel",void 0),(0,D._)([(0,$.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],F.prototype,"holePercentage",void 0),(0,D._)([(0,$.Cb)({type:O,json:{write:!0}})],F.prototype,"othersCategory",void 0),(0,D._)([(0,$.Cb)({type:I,json:{write:!0}})],F.prototype,"legendOptions",void 0),(0,D._)([(0,$.Cb)({type:z.Z,json:{default:null,write:!0}})],F.prototype,"outline",void 0),(0,D._)([(0,$.Cb)({type:Number,cast:V.t_,json:{write:!0}})],F.prototype,"size",void 0),(0,D._)([(0,B.J)({pieChart:"pie-chart"})],F.prototype,"type",void 0),F=(0,D._)([(0,k.j)("esri.renderers.PieChartRenderer")],F);const Q=F},38748:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var C=E(15861),D=E(50484),Z=E(84303),j=E(89317),U=E(80543),L=(E(1535),E(57678),E(14007),E(10141)),x=E(62501);const B=new Z.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let k=class extends j.wq{constructor(H){super(H),this.authoringInfo=null,this.type=null}getRequiredFields(H){var N=this;return(0,C.Z)(function*(){if(!N.collectRequiredFields)return[];const P=new Set;return yield N.collectRequiredFields(P,H),Array.from(P).sort()})()}getSymbol(H,N){}getSymbolAsync(H,N){return(0,C.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,D._)([(0,U.Cb)({type:x.Z,json:{write:!0}})],k.prototype,"authoringInfo",void 0),(0,D._)([(0,U.Cb)({type:B.apiValues,readOnly:!0,json:{type:B.jsonValues,read:!1,write:{writer:B.write,ignoreOrigin:!0}}})],k.prototype,"type",void 0),k=(0,D._)([(0,L.j)("esri.renderers.Renderer")],k);const R=k},50923:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var B,C=E(15861),D=E(50484),Z=E(34222),j=E(80543),Y=(E(1535),E(21070)),V=E(10141),$=E(38748),L=E(47305),x=E(47702);let k=B=class extends((0,L.W)($.Z)){constructor(H){super(H),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(H,N){var P=this;return(0,C.Z)(function*(){yield Promise.all([P.collectSymbolFields(H,N),P.collectVVRequiredFields(H,N)])})()}collectSymbolFields(H,N){var P=this;return(0,C.Z)(function*(){yield Promise.all(P.getSymbols().map(w=>w.collectRequiredFields(H,N)))})()}getSymbol(H,N){return this.symbol}getSymbolAsync(H,N){var P=this;return(0,C.Z)(function*(){return P.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((H,N)=>H+N.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((H,N)=>H+JSON.stringify(N),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new B({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,Z.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,D._)([(0,j.Cb)({type:String,json:{write:!0}})],k.prototype,"description",void 0),(0,D._)([(0,j.Cb)({type:String,json:{write:!0}})],k.prototype,"label",void 0),(0,D._)([(0,j.Cb)(x.EW)],k.prototype,"symbol",void 0),(0,D._)([(0,Y.J)({simple:"simple"})],k.prototype,"type",void 0),k=B=(0,D._)([(0,V.j)("esri.renderers.SimpleRenderer")],k);const R=k},42212:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Me});var C=E(15861),D=E(50484),Z=E(71950),j=E(57964),U=E(34222),Y=E(4703),V=E(71763),$=E(77675),L=E(80543),x=E(73018),B=E(21070),k=E(62185),R=E(10141),H=E(7547),N=E(657),P=E(1535),w=E(85295),O=E(61018),I=E(38748),T=E(47305),W=E(47702),z=E(37764),F=E(25387),Q=E(89317),J=E(57678);E(14007);let se=class extends((0,F.J)(Q.wq)){constructor(Se){super(Se),this.value=null,this.value2=null,this.value3=null}};(0,D._)([(0,L.Cb)(W.GY)],se.prototype,"value",void 0),(0,D._)([(0,L.Cb)(W.GY)],se.prototype,"value2",void 0),(0,D._)([(0,L.Cb)(W.GY)],se.prototype,"value3",void 0),se=(0,D._)([(0,R.j)("esri.renderers.support.UniqueValue")],se);const ue=se;let he=class extends((0,F.J)(Q.wq)){constructor(Se){super(Se),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(Se){if(null==Se)return null;const ke=typeof(Se=Array.isArray(Se)?Se:[Se])[0];return"string"===ke||"number"===ke?Se.map(xe=>new ue({value:xe})):"object"===ke?Se[0]instanceof ue?Se:Se.map(xe=>new ue(xe)):null}};(0,D._)([(0,L.Cb)({type:String,json:{write:!0}})],he.prototype,"description",void 0),(0,D._)([(0,L.Cb)({type:String,json:{write:!0}})],he.prototype,"label",void 0),(0,D._)([(0,L.Cb)(W.Gn)],he.prototype,"symbol",void 0),(0,D._)([(0,L.Cb)({type:[ue],json:{type:[[String]],read:{reader:Se=>Se?Se.map(ke=>new ue({value:ke[0],value2:ke[1],value3:ke[2]})):null},write:{writer:(Se,ke)=>{const xe=[];for(const Ge of Se){const X=[Ge.value,Ge.value2,Ge.value3].filter(J.pC).map(be=>be.toString());xe.push(X)}ke.values=xe}}}})],he.prototype,"values",void 0),(0,D._)([(0,x.p)("values")],he.prototype,"castValues",null),he=(0,D._)([(0,R.j)("esri.renderers.support.UniqueValueClass")],he);const G=he;let le=class extends((0,F.J)(Q.wq)){constructor(Se){super(Se),this.heading=null,this.classes=null}};(0,D._)([(0,L.Cb)({type:String,json:{write:!0}})],le.prototype,"heading",void 0),(0,D._)([(0,L.Cb)({type:[G],json:{write:!0}})],le.prototype,"classes",void 0),le=(0,D._)([(0,R.j)("esri.renderers.support.UniqueValueGroup")],le);const q=le;var ee,fe=E(24147),ge=E(4978),me=E(19677),te=E(18007),ae=E(80121);const ce="esri.renderers.UniqueValueRenderer",ie=Y.Z.getLogger(ce),ne="uvInfos-watcher",pe="uvGroups-watcher",re=(0,P.se)(fe.Z);let Oe=ee=class extends((0,T.W)(I.Z)){constructor(Se){super(Se),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(ke,xe){if(!ke&&!xe)return;if(!ke||!xe)return{type:"complete",oldValue:ke,newValue:xe};let Ge=!1;const X={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let be=0;be<xe.length;be++){const Re=ke.find(Fe=>Fe.value===xe[be].value);Re?(0,N.Hg)(Re,xe[be])?(X.changed.push({type:"complete",oldValue:Re,newValue:xe[be]}),Ge=!0):X.unchanged.push({oldValue:Re,newValue:xe[be]}):(X.added.push(xe[be]),Ge=!0)}for(let be=0;be<ke.length;be++)xe.find(Re=>Re.value===ke[be].value)||(X.removed.push(ke[be]),Ge=!0);return Ge?X:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(Se){this._set("field",Se),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(Se){return null==Se||"function"==typeof Se?Se:(0,P.Zs)(Se)}writeField(Se,ke,xe,Ge){"string"==typeof Se?ke[xe]=Se:Ge?.messages?Ge.messages.push(new j.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ie.error(".field: cannot write field to JSON since it's not a string value")}set field2(Se){this._set("field2",Se),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(Se){this._set("field3",Se),this._updateUniqueValues()}set valueExpression(Se){this._set("valueExpression",Se),this._updateUniqueValues()}set defaultSymbol(Se){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",Se)}set fieldDelimiter(Se){this._set("fieldDelimiter",Se),this._updateUniqueValues()}readPortal(Se,ke,xe){return xe.portal||O.Z.getDefault()}readStyleOrigin(Se,ke,xe){if(ke.styleName)return Object.freeze({styleName:ke.styleName});if(ke.styleUrl){const Ge=(0,me.f)(ke.styleUrl,xe);return Object.freeze({styleUrl:Ge})}}writeStyleOrigin(Se,ke,xe,Ge){Se.styleName?ke.styleName=Se.styleName:Se.styleUrl&&(ke.styleUrl=(0,me.t)(Se.styleUrl,Ge))}set uniqueValueGroups(Se){this.styleOrigin?ie.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",Se),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(Se){this.styleOrigin?ie.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Se),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(Se,ke){if(this.styleOrigin)return void ie.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let xe;xe="object"==typeof Se?re(Se):new fe.Z({value:Se,symbol:(0,Z.se)(ke)}),this.uniqueValueInfos?.push(xe),this._valueInfoMap[xe.value]=xe,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(Se){if(this.styleOrigin)return void ie.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const ke=this.uniqueValueInfos;if(ke)for(let xe=0;xe<ke.length;xe++)if(String(ke[xe].value)===String(Se)){delete this._valueInfoMap[Se],ke.splice(xe,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(Se,ke){var xe=this;return(0,C.Z)(function*(){let Ge=ke;return xe.valueExpression&&null==ke?.arcade&&(Ge={...Ge,arcade:yield(0,ge.LC)()}),xe._getUniqueValueInfo(Se,Ge)})()}getSymbol(Se,ke){return this.valueExpression&&null==ke?.arcade?void ie.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(Se,ke)?.symbol||this.defaultSymbol}getSymbolAsync(Se,ke){var xe=this;return(0,C.Z)(function*(){let Ge=ke;if(xe.valueExpression&&null==Ge?.arcade){const be=yield(0,ge.LC)(),{arcadeUtils:Re}=be;Re.hasGeometryOperations(xe.valueExpression)&&(yield Re.enableGeometryOperations()),Ge={...Ge,arcade:be}}return xe._getUniqueValueInfo(Se,Ge)?.symbol||xe.defaultSymbol})()}getSymbols(){const Se=[];for(const ke of this.uniqueValueInfos??[])ke.symbol&&Se.push(ke.symbol);return this.defaultSymbol&&Se.push(this.defaultSymbol),Se}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Se,ke)=>Se+ke.getAttributeHash(),"")}getMeshHash(){const Se=JSON.stringify(this.backgroundFillSymbol),ke=JSON.stringify(this.defaultSymbol),xe=this.uniqueValueInfos?.reduce((Ge,X)=>Ge+X.getMeshHash(),"");return`${Se}.${ke}.${xe}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const Se=new ee({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,U.d9)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,U.d9)(this.visualVariables),legendOptions:(0,U.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,U.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Se._isDefaultSymbolDerived=!0),Se._set("portal",this.portal);const ke=(0,U.d9)(this.uniqueValueInfos),xe=(0,U.d9)(this.uniqueValueGroups);return this.styleOrigin&&(Se._set("styleOrigin",Object.freeze((0,U.d9)(this.styleOrigin))),Object.freeze(ke),Object.freeze(xe)),Se._set("uniqueValueInfos",ke),Se._updateValueInfoMap(),Se._set("uniqueValueGroups",xe),Se._isInfosSource=this._isInfosSource,Se._watchUniqueValueInfosAndGroups(),Se}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(Se,ke){var xe=this;return(0,C.Z)(function*(){const Ge=[xe.collectVVRequiredFields(Se,ke),xe.collectSymbolFields(Se,ke)];yield Promise.all(Ge)})()}collectSymbolFields(Se,ke){var xe=this;return(0,C.Z)(function*(){const Ge=[...xe.getSymbols().map(X=>X.collectRequiredFields(Se,ke)),(0,w.io)(Se,ke,xe.valueExpression)];(0,w.AB)(Se,ke,xe.field),(0,w.AB)(Se,ke,xe.field2),(0,w.AB)(Se,ke,xe.field3),yield Promise.all(Ge)})()}populateFromStyle(){return(0,te.n2)(this.styleOrigin,{portal:this.portal}).then(Se=>{const ke=[];return this._valueInfoMap={},Se&&Se.data&&Array.isArray(Se.data.items)&&Se.data.items.forEach(xe=>{const Ge=new ae.Z({styleUrl:Se.styleUrl,styleName:Se.styleName,portal:this.portal,name:xe.name});this.defaultSymbol||xe.name!==Se.data.defaultItem||(this.defaultSymbol=Ge,this._isDefaultSymbolDerived=!0);const X=new fe.Z({value:xe.name,symbol:Ge});ke.push(X),this._valueInfoMap[xe.name]=X}),this._set("uniqueValueInfos",Object.freeze(ke)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:Se}=this;if(Se)for(const ke of Se)this._valueInfoMap[ke.value+""]=ke}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(ne);const{uniqueValueInfos:Se}=this;if(Se){const ke=[];for(const xe of Se)ke.push((0,$.YP)(()=>({symbol:xe.symbol,value:xe.value,label:xe.label,description:xe.description}),(Ge,X)=>{Ge!==X&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(ke,ne)}}_watchUniqueValueGroups(){this.removeHandles(pe);const{uniqueValueGroups:Se}=this;if(Se){const ke=[];for(const xe of Se){ke.push((0,$.YP)(()=>({classes:xe.classes}),(Ge,X)=>{Ge!==X&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Ge of xe.classes??[])ke.push((0,$.YP)(()=>({symbol:Ge.symbol,values:Ge.values,label:Ge.label,description:Ge.description}),(X,be)=>{X!==be&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(ke,pe)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Se=[],{field:ke,field2:xe,field3:Ge,fieldDelimiter:X,uniqueValueGroups:be,valueExpression:Re}=this;if(!ke&&!Re)return this._set("uniqueValueInfos",Se),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Fe=!(!ke||!xe);for(const qe of be)for(const We of qe.classes??[]){const{symbol:He,label:Ne,values:Ce,description:Pe}=We;for(const Ae of Ce??[]){const{value:Be,value2:ze,value3:st}=Ae,Xe=[Be];xe&&Xe.push(ze),Ge&&Xe.push(st);const ot=Fe?Xe.join(X||""):Xe[0];Se.push(new fe.Z({symbol:He,label:Ne,value:ot,description:Pe}))}}this._set("uniqueValueInfos",Se),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(Se=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:ke,field2:xe,valueExpression:Ge,fieldDelimiter:X,uniqueValueInfos:be}=this;if(!ke&&!Ge||!be.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const Re=!(!ke||!xe),Fe=be.map(We=>{const{symbol:He,label:Ne,value:Ce,description:Pe}=We,[Ae,Be,ze]=Re?Ce?.toString()?.split(X||"")||[]:[Ce];return new G({symbol:He,label:Ne,description:Pe,values:[new ue({value:Ae,value2:Be,value3:ze})]})}),qe=[new q({classes:Fe})];Se&&Object.freeze(qe),this._set("uniqueValueGroups",qe),this._watchUniqueValueGroups()}_getUniqueValueInfo(Se,ke){return this.valueExpression?this._getUnqiueValueInfoForExpression(Se,ke):this._getUnqiueValueInfoForFields(Se)}_getUnqiueValueInfoForExpression(Se,ke){const{viewingMode:xe,scale:Ge,spatialReference:X,arcade:be,timeZone:Re}=ke??{};let Fe=this._cache.compiledFunc;const qe=be.arcadeUtils;if(!Fe){const He=qe.createSyntaxTree(this.valueExpression);Fe=qe.createFunction(He),this._cache.compiledFunc=Fe}const We=qe.executeFunction(Fe,qe.createExecContext(Se,qe.getViewInfo({viewingMode:xe,scale:Ge,spatialReference:X}),Re));return this._valueInfoMap[We+""]}_getUnqiueValueInfoForFields(Se){const ke=this.field,xe=Se.attributes;let Ge;if("function"!=typeof ke&&this.field2){const X=this.field2,be=this.field3,Re=[];ke&&Re.push(xe[ke]),X&&Re.push(xe[X]),be&&Re.push(xe[be]),Ge=Re.join(this.fieldDelimiter||"")}else"function"==typeof ke?Ge=ke(Se):ke&&(Ge=xe[ke]);return this._valueInfoMap[Ge+""]}static fromPortalStyle(Se,ke){const xe=new ee(ke?.properties);xe._set("styleOrigin",Object.freeze({styleName:Se})),xe._set("portal",ke?.portal||O.Z.getDefault());const Ge=xe.populateFromStyle();return Ge.catch(X=>{ie.error(`#fromPortalStyle('${Se}'[, ...])`,"Failed to create unique value renderer from style name",X)}),Ge}static fromStyleUrl(Se,ke){const xe=new ee(ke?.properties);xe._set("styleOrigin",Object.freeze({styleUrl:Se}));const Ge=xe.populateFromStyle();return Ge.catch(X=>{ie.error(`#fromStyleUrl('${Se}'[, ...])`,"Failed to create unique value renderer from style URL",X)}),Ge}};(0,D._)([(0,L.Cb)({readOnly:!0})],Oe.prototype,"_cache",null),(0,D._)([(0,B.J)({uniqueValue:"unique-value"})],Oe.prototype,"type",void 0),(0,D._)([(0,L.Cb)(W.KK)],Oe.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,L.Cb)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Oe.prototype,"field",null),(0,D._)([(0,x.p)("field")],Oe.prototype,"castField",null),(0,D._)([(0,H.c)("field")],Oe.prototype,"writeField",null),(0,D._)([(0,L.Cb)({type:String,value:null,json:{write:!0}})],Oe.prototype,"field2",null),(0,D._)([(0,L.Cb)({type:String,value:null,json:{write:!0}})],Oe.prototype,"field3",null),(0,D._)([(0,L.Cb)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Oe.prototype,"orderByClassesEnabled",void 0),(0,D._)([(0,L.Cb)({type:String,value:null,json:{write:!0}})],Oe.prototype,"valueExpression",null),(0,D._)([(0,L.Cb)({type:String,json:{write:!0}})],Oe.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,L.Cb)({type:z.I,json:{write:!0}})],Oe.prototype,"legendOptions",void 0),(0,D._)([(0,L.Cb)({type:String,json:{write:!0}})],Oe.prototype,"defaultLabel",void 0),(0,D._)([(0,L.Cb)((0,V.RH)({...W.Gn},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Oe.prototype,"defaultSymbol",null),(0,D._)([(0,L.Cb)({type:String,value:null,json:{write:!0}})],Oe.prototype,"fieldDelimiter",null),(0,D._)([(0,L.Cb)({type:O.Z,readOnly:!0})],Oe.prototype,"portal",void 0),(0,D._)([(0,k.r)("portal",["styleName"])],Oe.prototype,"readPortal",null),(0,D._)([(0,L.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Oe.prototype,"styleOrigin",void 0),(0,D._)([(0,k.r)("styleOrigin",["styleName","styleUrl"])],Oe.prototype,"readStyleOrigin",null),(0,D._)([(0,H.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Oe.prototype,"writeStyleOrigin",null),(0,D._)([(0,L.Cb)({type:[q],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(Se,ke,xe)=>(ke.uniqueValueGroups||function ve(Se){const{field1:ke,field2:xe,field3:Ge,fieldDelimiter:X,uniqueValueInfos:be,valueExpression:Re}=Se,Fe=!(!ke||!xe);return[{classes:(be??[]).map(qe=>{const{symbol:We,label:He,value:Ne,description:Ce}=qe,[Pe,Ae,Be]=Fe?Ne?.toString()?.split(X||"")||[]:[Ne],ze=[];return(ke||Re)&&ze.push(Pe),xe&&ze.push(Ae),Ge&&ze.push(Be),{symbol:We,label:He,values:[ze],description:Ce}})}]}(ke)).map(Ge=>q.fromJSON(Ge,xe))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Oe.prototype,"uniqueValueGroups",null),(0,D._)([(0,L.Cb)({type:[fe.Z],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Oe.prototype,"uniqueValueInfos",null),Oe=ee=(0,D._)([(0,R.j)(ce)],Oe);const Me=Oe},47305:(Ke,Ee,E)=>{"use strict";E.d(Ee,{W:()=>ee});var C=E(15861),D=E(50484),Z=E(80543),j=E(1535),V=(E(57678),E(14007),E(62185)),$=E(10141),L=E(7547),x=E(85295);const k=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var N,R=E(64234),H=E(11892);let P=N=class extends R.Z{constructor(ie){super(ie),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ie){ie&&Array.isArray(ie)&&(ie=ie.filter(ne=>!!ne)).sort((ne,pe)=>ne.value-pe.value),this._set("stops",ie)}clone(){return new N({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ie=>ie.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ie=>ie.value||0)}};(0,D._)([(0,Z.Cb)({readOnly:!0})],P.prototype,"cache",null),(0,D._)([(0,Z.Cb)({type:["color"],json:{type:["colorInfo"]}})],P.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],P.prototype,"normalizationField",void 0),(0,D._)([(0,Z.Cb)({type:[H.Z],json:{write:!0}})],P.prototype,"stops",null),P=N=(0,D._)([(0,$.j)("esri.renderers.visualVariables.ColorVariable")],P);const w=P;var T,O=E(89317),I=E(39437);let W=T=class extends O.wq{constructor(ie){super(ie),this.label=null,this.opacity=null,this.value=null}readOpacity(ie,ne){return(0,I.b)(ne.transparency)}writeOpacity(ie,ne,pe){ne[pe]=(0,I.a)(ie)}clone(){return new T({label:this.label,opacity:this.opacity,value:this.value})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],W.prototype,"label",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{type:j.z8,write:{target:"transparency"}}})],W.prototype,"opacity",void 0),(0,D._)([(0,V.r)("opacity",["transparency"])],W.prototype,"readOpacity",null),(0,D._)([(0,L.c)("opacity")],W.prototype,"writeOpacity",null),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],W.prototype,"value",void 0),W=T=(0,D._)([(0,$.j)("esri.renderers.visualVariables.support.OpacityStop")],W);const z=W;var F;let Q=F=class extends R.Z{constructor(ie){super(ie),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ie){ie&&Array.isArray(ie)&&(ie=ie.filter(ne=>!!ne)).sort((ne,pe)=>ne.value-pe.value),this._set("stops",ie)}clone(){return new F({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ie=>ie.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ie=>ie.value||0)}};(0,D._)([(0,Z.Cb)({readOnly:!0})],Q.prototype,"cache",null),(0,D._)([(0,Z.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],Q.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"normalizationField",void 0),(0,D._)([(0,Z.Cb)({type:[z],json:{write:!0}})],Q.prototype,"stops",null),Q=F=(0,D._)([(0,$.j)("esri.renderers.visualVariables.OpacityVariable")],Q);const J=Q;var oe=E(15242),se=E(67285),ue=E(73514),he=E(84303),G=E(4703),le=E(23206);const q={color:w,size:se.Z,opacity:J,rotation:oe.Z},fe=new he.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),ge=/^\[([^\]]+)\]$/i;let me=class extends ue.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(ie){if(this._resetVariables(),ie=ie&&ie.filter(ne=>!!ne),ie?.length){for(const ne of ie)switch(ne.type){case"color":this.colorVariables.push(ne);break;case"opacity":this.opacityVariables.push(ne);break;case"rotation":this.rotationVariables.push(ne);break;case"size":this.sizeVariables.push(ne)}this.sizeVariables.length&&this.sizeVariables.some(ne=>!!ne.target)&&ie.sort((ne,pe)=>{let ye=null;return ye=ne.target===pe.target?0:ne.target?1:-1,ye});for(let ne=0;ne<ie.length;ne++)ie[ne].index=ne;this._set("visualVariables",ie)}else this._set("visualVariables",ie)}readVariables(ie,ne,pe){const{rotationExpression:ye,rotationType:re}=ne,ve=ye?.match(ge),Oe=ve?.[1];if(Oe&&(ie||(ie=[]),ie.push({type:"rotationInfo",rotationType:re,field:Oe})),ie)return ie.map(Me=>{const Se=fe.read(Me.type),ke=q[Se];ke||(G.Z.getLogger(this).warn(`Unknown variable type: ${Se}`),pe?.messages&&pe.messages.push(new le.Z("visual-variable:unsupported",`visualVariable of type '${Se}' is not supported`,{definition:Me,context:pe})));const xe=new ke;return xe.read(Me,pe),xe})}writeVariables(ie,ne){const pe=[];for(const ye of ie){const re=ye.toJSON(ne);re&&pe.push(re)}return pe}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,D._)([(0,Z.Cb)()],me.prototype,"visualVariables",null),me=(0,D._)([(0,$.j)("esri.renderers.visualVariables.VisualVariableFactory")],me);const te=me,ae={base:R.Z,key:"type",typeMap:{opacity:J,color:w,rotation:oe.Z,size:se.Z}},ee=ie=>{let ne=class extends ie{constructor(){super(...arguments),this._vvFactory=new te}set visualVariables(pe){this._vvFactory.visualVariables=pe,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(pe,ye,re){return this._vvFactory.readVariables(pe,ye,re)}writeVisualVariables(pe,ye,re,ve){ye[re]=this._vvFactory.writeVariables(pe,ve)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const pe of this.visualVariables)if(pe.arcadeRequired)return!0;return!1}hasVisualVariables(pe,ye){return pe?this.getVisualVariablesForType(pe,ye).length>0:this.getVisualVariablesForType("size",ye).length>0||this.getVisualVariablesForType("color",ye).length>0||this.getVisualVariablesForType("opacity",ye).length>0||this.getVisualVariablesForType("rotation",ye).length>0}getVisualVariablesForType(pe,ye){const re=this.visualVariables;return re?re.filter(ve=>ve.type===pe&&("string"==typeof ye?ve.target===ye:!1!==ye||!ve.target)):[]}collectVVRequiredFields(pe,ye){var re=this;return(0,C.Z)(function*(){let ve=[];re.visualVariables&&(ve=ve.concat(re.visualVariables));for(const Oe of ve)Oe&&(Oe.field&&(0,x.AB)(pe,ye,Oe.field),Oe.normalizationField&&(0,x.AB)(pe,ye,Oe.normalizationField),Oe.valueExpression&&(ce(Oe.valueExpression,pe,ye)||(yield(0,x.io)(pe,ye,Oe.valueExpression))))})()}};return(0,D._)([(0,Z.Cb)({types:[ae],value:null,json:{write:!0}})],ne.prototype,"visualVariables",null),(0,D._)([(0,V.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],ne.prototype,"readVisualVariables",null),(0,D._)([(0,L.c)("visualVariables")],ne.prototype,"writeVisualVariables",null),ne=(0,D._)([(0,$.j)("esri.renderers.mixins.VisualVariablesMixin")],ne),ne};function ce(ie,ne,pe){const ye=function B(ie){return ie.match(k)?.[1]?.replace(/\\'/g,"'")??null}(ie);return null!=ye&&((0,x.AB)(ne,pe,ye),!0)}},72923:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var B,C=E(50484),D=E(66599),Z=E(89317),j=E(4703),U=E(80543),Y=E(73018),L=(E(57678),E(14007),E(10141)),x=E(1535);let k=B=class extends Z.wq{constructor(H){super(H),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(H){return null==H?H:"function"==typeof H?(j.Z.getLogger(this).error(".field: field must be a string value"),null):(0,x.Zs)(H)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new B({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,C._)([(0,U.Cb)({type:D.Z,json:{type:[Number],write:!0}})],k.prototype,"color",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,C._)([(0,Y.p)("field")],k.prototype,"castField",null),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],k.prototype,"label",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0),k=B=(0,C._)([(0,L.j)("esri.renderers.support.AttributeColorInfo")],k);const R=k},62501:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>me});var B,C=E(50484),D=E(84303),Z=E(89317),j=E(34222),U=E(80543),Y=E(1535),V=E(62185),$=E(10141);E(57678),E(14007);let k=B=class extends Z.wq{constructor(te){super(te),this.minValue=0,this.maxValue=0}clone(){return new B({minValue:this.minValue,maxValue:this.maxValue})}};var R;(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],k.prototype,"minValue",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],k.prototype,"maxValue",void 0),k=B=(0,C._)([(0,$.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],k);let H=R=class extends Z.wq{constructor(te){super(te),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new R({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,j.d9)(this.classBreakInfos)})}};(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],H.prototype,"field",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],H.prototype,"normalizationField",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],H.prototype,"label",void 0),(0,C._)([(0,U.Cb)({type:[k],json:{write:!0}})],H.prototype,"classBreakInfos",void 0),H=R=(0,C._)([(0,$.j)("esri.renderers.support.AuthoringInfoFieldInfo")],H);var P,N=E(73018);const w=new D.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),O=new D.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),I={key:te=>"number"==typeof te?"number":"string",typeMap:{number:Number,string:String},base:null},T=["high-to-low","above-and-below","centered-on","extremes"],W=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],z=["seconds","minutes","hours","days","months","years"];let F=P=class extends Z.wq{constructor(te){super(te),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(te){return"string"==typeof te||"number"==typeof te?te:null}castStartTime(te){return"string"==typeof te||"number"==typeof te?te:null}get style(){return"color"===this.type?this._get("style"):null}set style(te){this._set("style",te)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(te){this._set("theme",te)}clone(){return new P({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,C._)([(0,U.Cb)({types:I,json:{write:!0}})],F.prototype,"endTime",void 0),(0,C._)([(0,N.p)("endTime")],F.prototype,"castEndTime",null),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],F.prototype,"field",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],F.prototype,"maxSliderValue",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],F.prototype,"minSliderValue",void 0),(0,C._)([(0,U.Cb)({types:I,json:{write:!0}})],F.prototype,"startTime",void 0),(0,C._)([(0,N.p)("startTime")],F.prototype,"castStartTime",null),(0,C._)([(0,U.Cb)({type:w.apiValues,value:null,json:{type:w.jsonValues,read:w.read,write:w.write}})],F.prototype,"style",null),(0,C._)([(0,U.Cb)({type:W,value:null,json:{type:W,origins:{"web-scene":{type:T,write:{writer:(te,ae)=>{T.includes(te)&&(ae.theme=te)}}}},write:!0}})],F.prototype,"theme",null),(0,C._)([(0,U.Cb)({type:O.apiValues,json:{type:O.jsonValues,read:O.read,write:O.write}})],F.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:z,json:{type:z,write:!0}})],F.prototype,"units",void 0),F=P=(0,C._)([(0,$.j)("esri.renderers.support.AuthoringInfoVisualVariable")],F);const Q=F;var oe,J=E(46143);const se=new D.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ue=new D.X({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),he=new D.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),G=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let ge=oe=class extends Z.wq{constructor(te){super(te),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const te=this._get("classificationMethod"),ae=this.type;return ae&&"relationship"!==ae?"class-breaks-size"===ae||"class-breaks-color"===ae?te||"manual":null:te}set classificationMethod(te){this._set("classificationMethod",te)}readColorRamp(te){return te?(0,J.i)(te):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(te){this._set("fields",te)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(te){this._set("field1",te)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(te){this._set("field2",te)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(te){this._set("flowTheme",te)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(te){this._set("focus",te)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(te){this._set("numClasses",te)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(te){this._set("statistics",te)}get standardDeviationInterval(){const te=this.type;return te&&"relationship"!==te&&"class-breaks-size"!==te&&"class-breaks-color"!==te||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(te){this._set("standardDeviationInterval",te)}get type(){return this._get("type")}set type(te){let ae=te;"classed-size"===te?ae="class-breaks-size":"classed-color"===te&&(ae="class-breaks-color"),this._set("type",ae)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(te){this._set("univariateSymbolStyle",te)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(te){this._set("univariateTheme",te)}clone(){return new oe({classificationMethod:this.classificationMethod,colorRamp:(0,j.d9)(this.colorRamp),fadeRatio:(0,j.d9)(this.fadeRatio),fields:this.fields?.slice(0),field1:(0,j.d9)(this.field1),field2:(0,j.d9)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(te=>te.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,C._)([(0,U.Cb)({type:se.apiValues,value:null,json:{type:se.jsonValues,read:se.read,write:se.write,origins:{"web-document":{default:"manual",type:se.jsonValues,read:se.read,write:se.write}}}})],ge.prototype,"classificationMethod",null),(0,C._)([(0,U.Cb)({types:J.V,json:{write:!0}})],ge.prototype,"colorRamp",void 0),(0,C._)([(0,V.r)("colorRamp")],ge.prototype,"readColorRamp",null),(0,C._)([(0,U.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ge.prototype,"fadeRatio",void 0),(0,C._)([(0,U.Cb)({type:[String],value:null,json:{write:!0}})],ge.prototype,"fields",null),(0,C._)([(0,U.Cb)({type:H,value:null,json:{write:!0}})],ge.prototype,"field1",null),(0,C._)([(0,U.Cb)({type:H,value:null,json:{write:!0}})],ge.prototype,"field2",null),(0,C._)([(0,U.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ge.prototype,"flowTheme",null),(0,C._)([(0,U.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ge.prototype,"focus",null),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ge.prototype,"isAutoGenerated",void 0),(0,C._)([(0,U.Cb)({type:Number,value:null,json:{type:Y.z8,write:!0}})],ge.prototype,"numClasses",null),(0,C._)([(0,U.Cb)({type:G,json:{type:G,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ge.prototype,"lengthUnit",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ge.prototype,"maxSliderValue",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ge.prototype,"minSliderValue",void 0),(0,C._)([(0,U.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ge.prototype,"statistics",null),(0,C._)([(0,U.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ge.prototype,"standardDeviationInterval",null),(0,C._)([(0,U.Cb)({type:ue.apiValues,value:null,json:{type:ue.jsonValues,read:ue.read,write:ue.write,origins:{"web-scene":{type:he.jsonValues,write:{writer:he.write,overridePolicy:te=>({enabled:"flow"!==te})}}}}})],ge.prototype,"type",null),(0,C._)([(0,U.Cb)({type:[Q],json:{write:!0}})],ge.prototype,"visualVariables",void 0),(0,C._)([(0,U.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ge.prototype,"univariateSymbolStyle",null),(0,C._)([(0,U.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ge.prototype,"univariateTheme",null),ge=oe=(0,C._)([(0,$.j)("esri.renderers.support.AuthoringInfo")],ge);const me=ge},87617:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(47702);let x=L=class extends D.wq{constructor(k){super(k),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new L({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const k=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${k}`}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],x.prototype,"minValue",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],x.prototype,"maxValue",void 0),(0,C._)([(0,Z.Cb)($.EW)],x.prototype,"symbol",void 0),x=L=(0,C._)([(0,V.j)("esri.renderers.support.ClassBreakInfo")],x);const B=x},96844:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{DictionaryLoader:()=>P});var C=E(15861),D=E(66599),Z=E(66476),j=E(57964),Y=(E(14007),E(4703)),V=E(52540),$=E(79412),L=E(72578),x=E(93960),B=E(40100),k=E(4978),R=E(66641);const H="esri.renderers.support.DictionaryLoader",N={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class P{constructor(T,W,z){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new V.z(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=T,this.config=W,this.fieldMap=z}getSymbolFields(){return this._symbolFields}getSymbolAsync(T,W){var z=this;return(0,C.Z)(function*(){let F;z._dictionaryPromise||(z._dictionaryPromise=z.fetchResources(W));try{F=yield z._dictionaryPromise}catch(ge){if((0,$.D_)(ge))return z._dictionaryPromise=null,null}const Q=z._dictionaryVersion&&z._dictionaryVersion.since(4,0),J={};if(z.fieldMap)for(const ge of z._symbolFields){const me=z._getFieldName(z.fieldMap[ge]);if(me){const te=T.attributes[me];J[ge]=Q?te:null!=te?""+T.attributes[me]:""}else J[ge]=""}let oe=null;try{oe=F?.(J,W)}catch{return null}if(!oe||"string"!=typeof oe)return null;const se=(0,L.hP)(oe).toString(),ue=z._symbolCache.get(se);if(ue)return ue.catch(()=>{z._symbolCache.pop(se)}),ue;const he=oe.split(";"),G=[],le=[];for(const ge of he)if(ge)if(ge.includes("po:")){const me=ge.substr(3).split("|");if(3===me.length){const te=me[0],ae=me[1];let ee=me[2];if("DashTemplate"===ae)ee=ee.split(" ").map(ce=>Number(ce));else if("Color"===ae){const ce=new D.Z(ee).toRgba();ee=[ce[0],ce[1],ce[2],255*ce[3]]}else ee=Number(ee);le.push({primitiveName:te,propertyName:ae,value:ee})}}else if(ge.includes("|")){for(const me of ge.split("|"))if(z._itemNames.has(me)){G.push(me);break}}else z._itemNames.has(ge)&&G.push(ge);const fe=z._cimPartsToCIMSymbol(G,le,null==T.geometry||!T.geometry.hasZ&&"point"===T.geometry.type,W);return z._symbolCache.put(se,fe,1),fe})()}fetchResources(T){var W=this;return(0,C.Z)(function*(){if(W._dictionaryPromise)return W._dictionaryPromise;if(!W.url)return void Y.Z.getLogger(H).error("no valid URL!");const z=(0,Z.Z)(W.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=T?T.signal:null}),[{data:F}]=yield Promise.all([z,(0,k.LC)()]);if(!F)throw W._dictionaryPromise=null,new j.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:Q,dictionary_version:J,expression:oe,itemsNames:se}=F,ue=oe;let he=!1;J&&(W._dictionaryVersion=x.G.parse(J),he=W._dictionaryVersion.since(4,0)),W._refSymbolUrlTemplate=W.url+"/"+F.cimRefTemplateUrl,W._itemNames=new Set(se),W._symbolFields=Q.symbol;const G={};if(W.config){const fe=W.config;for(const ge in fe)G[ge]=fe[ge]}if(Q.configuration)for(const fe of Q.configuration)G.hasOwnProperty(fe.name)||(G[fe.name]=fe.value);const le=[];if(T?.fields&&W.fieldMap)for(const fe of W._symbolFields){const ge=W.fieldMap[fe],me=T.fields.filter(te=>te.name.toLowerCase()===ge?.toLowerCase());me.length>0&&le.push({...me[0],type:he?me[0].type:"esriFieldTypeString"})}le.length>0&&(W._fieldIndex=new B.Z(le));const q=(0,k.pp)(ue,null!=T?T.spatialReference:null,le,G).then(fe=>{const ge={scale:0};return(me,te)=>{if(null==fe)return null;const ae=fe.repurposeFeature({geometry:null,attributes:me});return ge.scale=null!=te?te.scale??void 0:void 0,fe.evaluate({$feature:ae,$view:ge},fe.services)}}).catch(fe=>(Y.Z.getLogger(H).error("Creating dictinoary expression failed:",fe),null));return W._dictionaryPromise=q,q})()}_cimPartsToCIMSymbol(T,W,z,F){var Q=this;return(0,C.Z)(function*(){const J=new Array(T.length);for(let ue=0;ue<T.length;ue++)J[ue]=Q._getSymbolPart(T[ue],F);const oe=yield Promise.all(J),se=Q.fieldMap;if(se)for(const ue of oe)w(ue,se);return new R.Z({data:Q._combineSymbolParts(oe,W,z)})})()}_getSymbolPart(T,W){var z=this;return(0,C.Z)(function*(){if(z._ongoingRequests.has(T))return z._ongoingRequests.get(T).then(J=>J.data);const F=z._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,T),Q=(0,Z.Z)(F,{responseType:"json",query:{f:"json"},...W});z._ongoingRequests.set(T,Q);try{return(yield Q).data}catch(J){throw z._ongoingRequests.delete(T),J}})()}_combineSymbolParts(T,W,z){if(!T||0===T.length)return null;const F={...T[0]};if(T.length>1){F.symbolLayers=[];for(const Q of T)F.symbolLayers.unshift(...Q.symbolLayers)}return z&&(F.callout=N),{type:"CIMSymbolReference",symbol:F,primitiveOverrides:W}}_getFieldName(T){if(null!==this._fieldIndex){const W=this._fieldIndex.get(T);return W?W.name:T}return T}}function w(I,T){if(!I)return;const W=I.symbolLayers;if(!W)return;let z=W.length;for(;z--;){const F=W[z];F&&!1!==F.enable&&"CIMVectorMarker"===F.type&&O(F,T)}}function O(I,T){const W=I.markerGraphics;if(W)for(const z of W){if(!z)continue;const F=z.symbol;if(F)switch(F.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":w(F,T);break;case"CIMTextSymbol":F.fieldMap=T}}}},61197:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(66599),Z=E(89317),j=E(80543),U=E(1535),$=(E(57678),E(14007),E(10141));let x=L=class extends Z.wq{constructor(k){super(k),this.color=null,this.ratio=null}clone(){return new L({color:this.color,ratio:this.ratio})}};(0,C._)([(0,j.Cb)({type:D.Z,json:{type:[U.z8],default:null,write:!0}})],x.prototype,"color",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],x.prototype,"ratio",void 0),x=L=(0,C._)([(0,$.j)("esri.renderers.support.HeatmapColorStop")],x);const B=x},37764:(Ke,Ee,E)=>{"use strict";E.d(Ee,{I:()=>L});var $,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.wq{constructor(){super(...arguments),this.title=null}clone(){return new $({title:this.title})}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),L=$=(0,C._)([(0,V.j)("esri.renderers.support.LegendOptions")],L)},24147:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(47702);let x=L=class extends D.wq{constructor(k){super(k),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new L({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const k=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${k}`}};(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,C._)([(0,Z.Cb)($.EW)],x.prototype,"symbol",void 0),(0,C._)([(0,Z.Cb)($.GY)],x.prototype,"value",void 0),x=L=(0,C._)([(0,V.j)("esri.renderers.support.UniqueValueInfo")],x);const B=x},47702:(Ke,Ee,E)=>{"use strict";E.d(Ee,{EW:()=>$,GY:()=>x,Gn:()=>V,KK:()=>L});var C=E(71950),D=E(71763),Z=E(50106),j=E(15532),U=E(85601),Y=E(87137);const V={types:C.QT,json:{write:{writer:j.cW},origins:{"web-scene":{types:C.f_,write:{writer:j.cW},read:{reader:(0,Z.d)({types:C.f_})}}}}},$=(0,D.RH)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},V),L={types:{base:U.Z,key:"type",typeMap:{"simple-fill":C.LB.typeMap["simple-fill"],"picture-fill":C.LB.typeMap["picture-fill"],"polygon-3d":C.LB.typeMap["polygon-3d"]}},json:{write:{writer:j.cW},origins:{"web-scene":{type:Y.Z,write:{writer:j.cW}}}}},x={cast:B=>null==B||"string"==typeof B||"number"==typeof B?B:`${B}`,json:{type:String,write:{writer:(B,k)=>{k.value=B?.toString()}}}}},96043:(Ke,Ee,E)=>{"use strict";E.d(Ee,{AJ:()=>V,If:()=>R,QM:()=>x,hy:()=>B,k0:()=>Y,uI:()=>L,ul:()=>U,wx:()=>H});var C=E(55117),D=E(55768),Z=E(70993),j=E(79516);const U=2.4;function Y(P){return(0,D.Wz)(P*U)}function V(P){return(0,D.F2)(P)/U}function $(P,w,O,I){let{color:T,ratio:W}=w,{color:z,ratio:F}=O;F===W&&(1===F?W-=1e-6:F+=1e-6);const Q=(0,C.uZ)((I-W)/(F-W),0,1);(0,Z.l)(P,T.toArray(),z.toArray(),Q)}function L(P){const O=new Uint8ClampedArray(2048);if((P=P.filter(({ratio:F})=>F>=0&&F<=1).sort((F,Q)=>F.ratio-Q.ratio).map(({color:F,ratio:Q})=>({color:F,ratio:Math.max(Q,.001)}))).length<1)return O;let I=P[0],T=P[0],W=1;const z=(0,j.c)();for(let F=0;F<512;F++){const Q=(F+.5)/512;for(;Q>T.ratio&&W<P.length;)I=T,T=P[W++];$(z,I,T,Q),O.set(z,4*F)}return O}function x(P,w,O,I){const{radius:T,fieldOffset:W,field:z}=w,F=Math.round((0,D.F2)(T)),Q=new Float64Array(O*I);let J,oe=Number.NEGATIVE_INFINITY;const se=function N(P,w){return null!=P?"string"==typeof w?O=>-1*+O.readAttribute(P):O=>+O.readAttribute(P)+w:O=>1}(z,W),ue=new Set;for(const he of P){const G=he.getCursor();for(;G.next();){const le=G.getObjectId();if(ue.has(le))continue;ue.add(le);const q=G.readLegacyPointGeometry(),fe=128;if(q.x<-fe||q.x>=O+fe||q.y<-fe||q.y>I+fe)continue;const ge=+se(G),me=Math.max(0,Math.round(q.x)-F),te=Math.max(0,Math.round(q.y)-F),ae=Math.min(I,Math.round(q.y)+F),ee=Math.min(O,Math.round(q.x)+F);for(let ce=te;ce<ae;ce++)for(let ie=me;ie<ee;ie++){const ne=ce*O+ie,pe=R(q.x-ie,q.y-ce,F);J=Q[ne]+=pe*ge,J>oe&&(oe=J)}}}return{matrix:Q.buffer,max:oe}}function B(P,w,O,I,T,W){P.canvas.width=P.canvas.height=w,P.clearRect(0,0,w,w);const z=P.getImageData(0,0,w,w);O&&I&&z.data.set(new Uint8ClampedArray(function k(P,w,O,I,T){const W=new Uint32Array(P*P),z="buffer"in w?w:new Float64Array(w),F="buffer"in O?new Uint32Array(O.buffer):new Uint32Array(new Uint8Array(O).buffer),Q=F.length/(T-I);for(let J=0;J<z.length;J++){const se=Math.floor((z[J]-I)*Q);W[J]=F[(0,C.uZ)(se,0,F.length-1)]}return W.buffer}(w,O,I,T,W))),P.putImageData(z,0,0)}function R(P,w,O){const I=Math.sqrt(P**2+w**2)/O;return I>1?0:3/(Math.PI*O**2)*(1-I**2)**2}function H(P,w){return"function"==typeof P?P:P?"string"==typeof w?O=>-1*+O[P]:O=>+O[P]+w:()=>1}},91963:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>Y,i:()=>j});var C=E(23206),D=E(50106),Z=E(41007);function j(V,$){return Y(V,null,$)}const U=(0,D.d)({types:Z.A});function Y(V,$,L){return V?V&&(V.styleName||V.styleUrl)&&"uniqueValue"!==V.type?(L?.messages&&L.messages.push(new C.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+V.type+"'",{definition:V,context:L})),null):U(V,$,L):null}},44526:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>Z});var C=E(49602),D=E(82301);const Z={unknown:1,inches:(0,C.En)(1,"meters","inches"),feet:(0,C.En)(1,"meters","feet"),"us-feet":(0,C.En)(1,"meters","us-feet"),yards:(0,C.En)(1,"meters","yards"),miles:(0,C.En)(1,"meters","miles"),"nautical-miles":(0,C.En)(1,"meters","nautical-miles"),millimeters:(0,C.En)(1,"meters","millimeters"),centimeters:(0,C.En)(1,"meters","centimeters"),decimeters:(0,C.En)(1,"meters","decimeters"),meters:(0,C.En)(1,"meters","meters"),kilometers:(0,C.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,C.ty)(1,"meters",D.sv.radius)}},46052:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D2:()=>V,NM:()=>L,WU:()=>B,f1:()=>$}),E(91531);var D=E(37689);const Z=/^-?(\d+)(\.(\d+))?$/i;function j(k,R){return k-R}function U(k,R){let H,N;return H=Number(k.toFixed(R)),H<k?N=H+1/10**R:(N=H,H-=1/10**R),H=Number(H.toFixed(R)),N=Number(N.toFixed(R)),[H,N]}function Y(k,R,H,N,P){const w=$(k,R,H,N);return(null==w.previous||w.previous<=P)&&(null==w.next||w.next<=P)||w.previous+w.next<=2*P}function V(k){const R=String(k),H=R.match(Z);if(H&&H[1])return{integer:H[1].split("").length,fractional:H[3]?H[3].split("").length:0};if(R.toLowerCase().includes("e")){const N=R.split("e"),P=N[0],w=N[1];if(P&&w){const O=Number(P);let I=Number(w);const T=I>0;T||(I=Math.abs(I));const W=V(O);return T?(W.integer+=I,I>W.fractional?W.fractional=0:W.fractional-=I):(W.fractional+=I,I>W.integer?W.integer=1:W.integer-=I),W}}return{integer:0,fractional:0}}function $(k,R,H,N){const P={previous:null,next:null};if(null!=H){const w=k-H;P.previous=Math.floor(Math.abs(100*(R-H-w)/w))}if(null!=N){const w=N-k;P.next=Math.floor(Math.abs(100*(N-R-w)/w))}return P}function L(k,R={}){const H=k.slice(0),{tolerance:N=2,strictBounds:P=!1,indexes:w=H.map((O,I)=>I)}=R;w.sort(j);for(let O=0;O<w.length;O++){const I=w[O],T=H[I],W=0===I?null:H[I-1],z=I===H.length-1?null:H[I+1],F=V(T).fractional;if(F){let Q,J=0,oe=!1;for(;J<=F&&!oe;){const se=U(T,J);Q=P&&0===O?se[1]:se[0],oe=Y(T,Q,W,z,N),J++}oe&&(H[I]=Q)}}return H}const x={maximumFractionDigits:20};function B(k){return(0,D.uf)(k,x)}},39262:(Ke,Ee,E)=>{"use strict";E.d(Ee,{y:()=>U});var C=E(15861),D=E(37636),Z=E(79412),j=E(23206);function U(V,$,L){return Y.apply(this,arguments)}function Y(){return(Y=(0,C.Z)(function*(V,$,L){const x=V&&V.getAtOrigin&&V.getAtOrigin("renderer",$.origin);if(x&&"unique-value"===x.type&&x.styleOrigin){const B=yield(0,D.q6)(x.populateFromStyle());if((0,Z.k_)(L),!1===B.ok){const k=B.error;$?.messages&&$.messages.push(new j.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${k.message}`,{error:k,context:$})),V.clear("renderer",$?.origin)}}})).apply(this,arguments)}},41007:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>x,o:()=>B});var C=E(4703),D=E(36699),Z=E(15212),j=E(53722),U=E(82752),Y=E(28999),V=E(38748),$=E(50923),L=E(42212);const x={key:"type",base:V.Z,typeMap:{heatmap:U.Z,simple:$.Z,"unique-value":L.Z,"class-breaks":D.Z,"dot-density":j.Z,dictionary:Z.Z,"pie-chart":Y.Z},errorContext:"renderer"},B={key:"type",base:V.Z,typeMap:{simple:$.Z,"unique-value":L.Z,"class-breaks":D.Z,heatmap:U.Z},errorContext:"renderer",validate:function k(P){switch(P.type){case"simple":return function R(P){if(P.symbol)return P;C.Z.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(P);case"unique-value":return function H(P){const w=P.uniqueValueInfos,O=w?.filter(({symbol:I,label:T},W)=>(I||C.Z.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${W}] ${T}) without a symbol from web scene.`),!!I));return O?.length!==w?.length&&(P.uniqueValueInfos=O),P}(P);case"class-breaks":return function N(P){const w=P.classBreakInfos,O=w?.filter(({symbol:I,label:T},W)=>(I||C.Z.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${W}] ${T}) without a symbol from web scene.`),!!I));return O?.length!==w?.length&&(P.classBreakInfos=O),P}(P);case"heatmap":return P}}}},64023:(Ke,Ee,E)=>{"use strict";E.d(Ee,{zB:()=>T});var C=E(15861),D=E(57678),Z=E(4703),j=E(8611),U=E(94678),x=(E(85295),E(46052),E(11892),E(43157),E(62616)),B=E(87463),k=E(10750);function O(ae,ee,ce){return I.apply(this,arguments)}function I(){return(I=(0,C.Z)(function*(ae,ee,ce){(0,j.s1)(ae,ee,()=>[]).push(...ce)})).apply(this,arguments)}function T(ae){return W.apply(this,arguments)}function W(){return(W=(0,C.Z)(function*(ae){const ee=new Map;if(!ae)return ee;if("visualVariables"in ae&&ae.visualVariables){const ce=ae.visualVariables.filter(ie=>"color"===ie.type);for(const ie of ce){const ne=((yield(0,B.pO)(ie))??[]).map(pe=>pe.color);yield O(ee,ie.field||ie.valueExpression,ne)}}if("heatmap"===ae.type){const ce=(0,k.h)(ae).map(ie=>ie.color);yield O(ee,ae.field||ae.valueExpression,ce)}else if("pie-chart"===ae.type){for(const ce of ae.attributes)yield O(ee,ce.field||ce.valueExpression,[ce.color]);yield O(ee,"default",[ae?.othersCategory?.color,(0,x._h)(ae.backgroundFillSymbol,null)])}else if("dot-density"===ae.type){for(const ce of ae.attributes)yield O(ee,ce.field||ce.valueExpression,[ce.color]);yield O(ee,"default",[ae.backgroundColor])}else if("unique-value"===ae.type)if("predominance"===ae.authoringInfo?.type)for(const ce of ae.uniqueValueInfos??[])yield O(ee,ce.value.toString(),[(0,x._h)(ce.symbol,null)]);else{const ce=(ae.uniqueValueInfos??[]).map(re=>(0,x._h)(re.symbol,null)),{field:ie,field2:ne,field3:pe,valueExpression:ye}=ae;(ie||ye)&&(yield O(ee,ie||ye,ce)),ne&&(yield O(ee,ne,ce)),pe&&(yield O(ee,pe,ce))}else if("class-breaks"===ae.type){const ce=ae.classBreakInfos.map(pe=>(0,x._h)(pe.symbol,null)),{field:ie,valueExpression:ne}=ae;yield O(ee,ie??ne,ce)}else"simple"===ae.type&&(yield O(ee,"default",[(0,x._h)(ae.symbol,null)]));return"defaultSymbol"in ae&&ae.defaultSymbol&&(yield O(ee,"default",[(0,x._h)(ae.defaultSymbol,null)])),ee.forEach((ce,ie)=>{const ne=(0,D.Tw)(ce.filter(Boolean),(pe,ye)=>JSON.stringify(pe)===JSON.stringify(ye));ee.set(ie,ne)}),ee})).apply(this,arguments)}Z.Z.getLogger("esri.renderers.support.utils"),(0,U.Ze)("short-date")},15242:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(57964),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(7547),L=E(64234);let B=x=class extends L.Z{constructor(R){super(R),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(R,H,N,P){P?.messages&&P.messages.push(new D.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:P}))}clone(){return new x({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,C._)([(0,Z.Cb)({readOnly:!0})],B.prototype,"cache",null),(0,C._)([(0,Z.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],B.prototype,"axis",void 0),(0,C._)([(0,Z.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],B.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],B.prototype,"rotationType",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],B.prototype,"valueExpressionTitle",void 0),(0,C._)([(0,$.c)("web-scene","valueExpressionTitle")],B.prototype,"writeValueExpressionTitleWebScene",null),B=x=(0,C._)([(0,V.j)("esri.renderers.visualVariables.RotationVariable")],B);const k=B},67285:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var P,C=E(50484),D=E(57964),Z=E(84303),j=E(4703),U=E(55768),Y=E(80543),V=E(73018),$=E(62185),L=E(10141),x=E(7547),B=E(64234),k=E(44991),R=E(5942),H=E(50532),N=E(37157);const w=new Z.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),O=new Z.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function I(F){if(null!=F)return"string"==typeof F||"number"==typeof F?(0,U.t_)(F):"size"===F.type?(0,H.iY)(F)?F:(delete(F={...F}).type,new W(F)):void 0}function T(F,Q,J){if("object"!=typeof F)return F;const oe=new W;return oe.read(F,J),oe}let W=P=class extends B.Z{constructor(F){super(F),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&N.viewScaleRE.test(this.valueExpression)}}set expression(F){j.Z.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===F?(this.valueExpression="$view.scale",this._set("expression",F)):this._set("expression",null)}set index(F){(0,H.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${F}].maxSize`),(0,H.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${F}].minSize`),this._set("index",F)}get inputValueType(){return(0,H.PS)(this)}set maxDataValue(F){F&&this.stops&&(j.Z.getLogger(this).warn("cannot set maxDataValue when stops is not null."),F=null),this._set("maxDataValue",F)}set maxSize(F){F&&this.stops&&(j.Z.getLogger(this).warn("cannot set maxSize when stops is not null."),F=null),this._set("maxSize",F)}castMaxSize(F){return I(F)}readMaxSize(F,Q,J){return T(F,0,J)}set minDataValue(F){F&&this.stops&&(j.Z.getLogger(this).warn("cannot set minDataValue when stops is not null."),F=null),this._set("minDataValue",F)}set minSize(F){F&&this.stops&&(j.Z.getLogger(this).warn("cannot set minSize when stops is not null."),F=null),this._set("minSize",F)}castMinSize(F){return I(F)}readMinSize(F,Q,J){return T(F,0,J)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(F){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?F&&Array.isArray(F)&&(F=F.filter(Q=>!!Q)).sort((Q,J)=>Q.value-J.value):F&&(j.Z.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),F=null),this._set("stops",F)}get transformationType(){return(0,H.QW)(this,this.inputValueType)}readValueExpression(F,Q){return F||Q.expression&&"$view.scale"}writeValueExpressionWebScene(F,Q,J,oe){if("$view.scale"===F){if(oe?.messages){const se=this.index;oe.messages.push(new D.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof se?se:`visualVariables[${se}]`)+".valueExpression",context:oe}))}}else Q[J]=F}readValueUnit(F){return F?O.read(F):null}clone(){return new P({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,H.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,H.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(F=>F.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===H.hL.ClampedLinear){const{minSize:F,maxSize:Q}=this;return this.minSize=Q,this.maxSize=F,this}if(this.transformationType===H.hL.Stops){const F=this.stops;if(!F)return this;const Q=F.map(oe=>oe.size).reverse(),J=F.length;for(let oe=0;oe<J;oe++)F[oe].size=Q[oe];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(F=>F.value||0)}};(0,C._)([(0,Y.Cb)({readOnly:!0})],W.prototype,"cache",null),(0,C._)([(0,Y.Cb)({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},read:w.read,write:w.write}})],W.prototype,"axis",void 0),(0,C._)([(0,Y.Cb)({type:String,value:null,json:{read:!1}})],W.prototype,"expression",null),(0,C._)([(0,Y.Cb)()],W.prototype,"index",null),(0,C._)([(0,Y.Cb)({type:String,readOnly:!0})],W.prototype,"inputValueType",null),(0,C._)([(0,Y.Cb)({type:R.Z,json:{write:!0}})],W.prototype,"legendOptions",void 0),(0,C._)([(0,Y.Cb)({type:Number,value:null,json:{write:!0}})],W.prototype,"maxDataValue",null),(0,C._)([(0,Y.Cb)({type:Number,value:null,json:{write:!0}})],W.prototype,"maxSize",null),(0,C._)([(0,V.p)("maxSize")],W.prototype,"castMaxSize",null),(0,C._)([(0,$.r)("maxSize")],W.prototype,"readMaxSize",null),(0,C._)([(0,Y.Cb)({type:Number,value:null,json:{write:!0}})],W.prototype,"minDataValue",null),(0,C._)([(0,Y.Cb)({type:Number,value:null,json:{write:!0}})],W.prototype,"minSize",null),(0,C._)([(0,V.p)("minSize")],W.prototype,"castMinSize",null),(0,C._)([(0,$.r)("minSize")],W.prototype,"readMinSize",null),(0,C._)([(0,Y.Cb)({type:String,json:{write:!0}})],W.prototype,"normalizationField",void 0),(0,C._)([(0,Y.Cb)({readOnly:!0})],W.prototype,"arcadeRequired",null),(0,C._)([(0,Y.Cb)({type:String})],W.prototype,"scaleBy",void 0),(0,C._)([(0,Y.Cb)({type:[k.Z],value:null,json:{write:!0}})],W.prototype,"stops",null),(0,C._)([(0,Y.Cb)({type:["outline"],json:{write:!0}})],W.prototype,"target",void 0),(0,C._)([(0,Y.Cb)({type:String,readOnly:!0})],W.prototype,"transformationType",null),(0,C._)([(0,Y.Cb)({type:["size"],json:{type:["sizeInfo"]}})],W.prototype,"type",void 0),(0,C._)([(0,Y.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],W.prototype,"useSymbolValue",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{write:!0}})],W.prototype,"valueExpression",void 0),(0,C._)([(0,$.r)("valueExpression",["valueExpression","expression"])],W.prototype,"readValueExpression",null),(0,C._)([(0,x.c)("web-scene","valueExpression")],W.prototype,"writeValueExpressionWebScene",null),(0,C._)([(0,Y.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],W.prototype,"valueRepresentation",void 0),(0,C._)([(0,Y.Cb)({type:O.apiValues,json:{write:O.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],W.prototype,"valueUnit",void 0),(0,C._)([(0,$.r)("valueUnit")],W.prototype,"readValueUnit",null),W=P=(0,C._)([(0,L.j)("esri.renderers.visualVariables.SizeVariable")],W);const z=W},64234:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var C=E(50484),D=E(84303),Z=E(89317),j=E(4703),U=E(80543),Y=E(73018),V=E(10141),$=E(1535),L=E(13737);const x=new D.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let B=class extends Z.wq{constructor(R){super(R),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(R){return null==R?R:"function"==typeof R?(j.Z.getLogger(this).error(".field: field must be a string value"),null):(0,$.Zs)(R)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,C._)([(0,U.Cb)()],B.prototype,"index",void 0),(0,C._)([(0,U.Cb)({type:x.apiValues,readOnly:!0,json:{read:x.read,write:x.write}})],B.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"field",void 0),(0,C._)([(0,Y.p)("field")],B.prototype,"castField",null),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"valueExpression",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"valueExpressionTitle",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],B.prototype,"arcadeRequired",null),(0,C._)([(0,U.Cb)({type:L.Z,json:{write:!0}})],B.prototype,"legendOptions",void 0),B=(0,C._)([(0,V.j)("esri.renderers.visualVariables.VisualVariable")],B);const k=B},11892:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(66599),Z=E(89317),j=E(80543),U=E(1535),$=(E(57678),E(14007),E(10141)),L=E(7547);let B=x=class extends Z.wq{constructor(R){super(R),this.color=null,this.label=null,this.value=null}writeValue(R,H,N){H[N]=R??0}clone(){return new x({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,C._)([(0,j.Cb)({type:D.Z,json:{type:[U.z8],write:!0}})],B.prototype,"color",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],B.prototype,"value",void 0),(0,C._)([(0,L.c)("value")],B.prototype,"writeValue",null),B=x=(0,C._)([(0,$.j)("esri.renderers.visualVariables.support.ColorStop")],B);const k=B},44991:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(89317),Z=E(55768),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let x=L=class extends D.wq{constructor(k){super(k),this.label=null,this.size=null,this.value=null}clone(){return new L({label:this.label,size:this.size,value:this.value})}};(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,C._)([(0,j.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],x.prototype,"size",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:!0}})],x.prototype,"value",void 0),x=L=(0,C._)([(0,$.j)("esri.renderers.visualVariables.support.SizeStop")],x);const B=x},5942:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(13737);let L=$=class extends V.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new $({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};(0,C._)([(0,D.Cb)({type:[Number],json:{write:!0}})],L.prototype,"customValues",void 0),L=$=(0,C._)([(0,Y.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],L);const x=L},13737:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(37764);let L=$=class extends V.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new $({title:this.title,showLegend:this.showLegend})}};(0,C._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"showLegend",void 0),L=$=(0,C._)([(0,Y.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],L);const x=L},50532:(Ke,Ee,E)=>{"use strict";var C,D,V;function Z(V){return V&&"esri.renderers.visualVariables.SizeVariable"===V.declaredClass}function j(V){return null!=V&&!isNaN(V)&&isFinite(V)}function U(V){return V.valueExpression?C.Expression:V.field&&"string"==typeof V.field?C.Field:C.Unknown}function Y(V,$){return($||U(V))===C.Unknown?D.Constant:V.stops?D.Stops:null!=V.minSize&&null!=V.maxSize&&null!=V.minDataValue&&null!=V.maxDataValue?D.ClampedLinear:"unknown"===(V.valueUnit||"unknown")?null!=V.minSize&&null!=V.minDataValue?V.minSize&&V.minDataValue?D.Proportional:D.Additive:D.Identity:D.RealWorldSize}E.d(Ee,{PS:()=>U,QW:()=>Y,RY:()=>C,hL:()=>D,iY:()=>Z,qh:()=>j}),(V=C||(C={})).Unknown="unknown",V.Expression="expression",V.Field="field",function(V){V.Unknown="unknown",V.Stops="stops",V.ClampedLinear="clamped-linear",V.Proportional="proportional",V.Additive="additive",V.Constant="constant",V.Identity="identity",V.RealWorldSize="real-world-size"}(D||(D={}))},37157:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{getAllSizes:()=>G,getColor:()=>B,getOpacity:()=>k,getRotationAngle:()=>R,getSize:()=>P,getSizeForValue:()=>oe,getSizeFromNumberOrVariable:()=>w,getSizeRangeAtScale:()=>se,getVisualVariableValues:()=>ue,viewScaleRE:()=>x});var C=E(66599),D=E(35458),Z=E(480),j=E(4703),U=E(44526),Y=E(50532);const V=j.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),$=new D.Z,L=Math.PI,x=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function B(le,q,fe){const ge="visualVariables"in le&&le.visualVariables?le.visualVariables.find(ve=>"color"===ve.type):le;if(!ge)return;if("esri.renderers.visualVariables.ColorVariable"!==ge.declaredClass)return void V.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const me="number"==typeof q,te=me?null:q,ae=te?.attributes;let ee=me?q:null;const ce=ge.field,{ipData:ie,hasExpression:ne}=ge.cache;let pe=ge.cache.compiledFunc;if(!ce&&!ne){const ve=ge.stops;return ve&&ve[0]&&ve[0].color}if("number"!=typeof ee)if(ne){if(null==fe?.arcade)return void V.error("Use of arcade expressions requires an arcade context");const Oe=fe.arcade.arcadeUtils,Me=Oe.getViewInfo({viewingMode:fe.viewingMode,scale:fe.scale,spatialReference:fe.spatialReference}),Se=Oe.createExecContext(te,Me,fe.timeZone);if(!pe){const ke=Oe.createSyntaxTree(ge.valueExpression);pe=Oe.createFunction(ke),ge.cache.compiledFunc=pe}ee=Oe.executeFunction(pe,Se)}else ae&&(ee=ae[ce]);const ye=ge.normalizationField,re=null!=ae&&null!=ye?parseFloat(ae[ye]):void 0;if(null!=ee&&(!ye||me||!isNaN(re)&&0!==re)){isNaN(re)||me||(ee/=re);const ve=he(ee,ie);if(ve){const Oe=ve[0],Me=ve[1],Se=Oe===Me?ge.stops[Oe].color:C.Z.blendColors(ge.stops[Oe].color,ge.stops[Me].color,ve[2],fe?.color);return new C.Z(Se)}}}function k(le,q,fe){const ge="visualVariables"in le&&le.visualVariables?le.visualVariables.find(ve=>"opacity"===ve.type):le;if(!ge)return;if("esri.renderers.visualVariables.OpacityVariable"!==ge.declaredClass)return void V.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const me="number"==typeof q,te=me?null:q,ae=te?.attributes;let ee=me?q:null;const ce=ge.field,{ipData:ie,hasExpression:ne}=ge.cache;let pe=ge.cache.compiledFunc;if(!ce&&!ne){const ve=ge.stops;return ve&&ve[0]&&ve[0].opacity}if("number"!=typeof ee)if(ne){if(null==fe?.arcade)return void V.error("Use of arcade expressions requires an arcade context");const Oe=fe.arcade.arcadeUtils,Me=Oe.getViewInfo({viewingMode:fe.viewingMode,scale:fe.scale,spatialReference:fe.spatialReference}),Se=Oe.createExecContext(te,Me,fe.timeZone);if(!pe){const ke=Oe.createSyntaxTree(ge.valueExpression);pe=Oe.createFunction(ke),ge.cache.compiledFunc=pe}ee=Oe.executeFunction(pe,Se)}else ae&&(ee=ae[ce]);const ye=ge.normalizationField,re=null!=ae&&null!=ye?parseFloat(ae[ye]):void 0;if(null!=ee&&(!ye||me||!isNaN(re)&&0!==re)){isNaN(re)||me||(ee/=re);const ve=he(ee,ie);if(ve){const Oe=ve[0],Me=ve[1];if(Oe===Me)return ge.stops[Oe].opacity;{const Se=ge.stops[Oe].opacity;return Se+(ge.stops[Me].opacity-Se)*ve[2]}}}}function R(le,q,fe){const ge="visualVariables"in le&&le.visualVariables?le.visualVariables.find(re=>"rotation"===re.type):le;if(!ge)return;if("esri.renderers.visualVariables.RotationVariable"!==ge.declaredClass)return void V.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const me=ge.axis||"heading",te="heading"===me&&"arithmetic"===ge.rotationType?90:0,ae="heading"===me&&"arithmetic"===ge.rotationType?-1:1,ee="number"==typeof q?null:q,ce=ee?.attributes,ie=ge.field,{hasExpression:ne}=ge.cache;let pe=ge.cache.compiledFunc,ye=0;if(!ie&&!ne)return ye;if(ne){if(null==fe?.arcade)return void V.error("Use of arcade expressions requires an arcade context");const ve=fe.arcade.arcadeUtils,Oe=ve.getViewInfo({viewingMode:fe.viewingMode,scale:fe.scale,spatialReference:fe.spatialReference}),Me=ve.createExecContext(ee,Oe,fe.timeZone);if(!pe){const Se=ve.createSyntaxTree(ge.valueExpression);pe=ve.createFunction(Se),ge.cache.compiledFunc=pe}ye=ve.executeFunction(pe,Me)}else ce&&(ye=ce[ie]||0);return ye="number"!=typeof ye||isNaN(ye)?null:te+ae*ye,ye}function P(le,q,fe){const ge="visualVariables"in le&&le.visualVariables?le.visualVariables.find(te=>"size"===te.type):le;if(!ge)return;if("esri.renderers.visualVariables.SizeVariable"!==ge.declaredClass)return void V.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const me=oe(function H(le,q,fe){const ge="number"==typeof q,me=ge?null:q,te=me?.attributes;let ae=ge?q:null;const{isScaleDriven:ee}=le.cache;let ce=le.cache.compiledFunc;if(ee){const ne=fe?.scale,pe=fe?.view;ae=null==ne||"3d"===pe?function N(le){let q=null,fe=null;const ge=le.stops;return ge?(q=ge[0].value,fe=ge[ge.length-1].value):(q=le.minDataValue||0,fe=le.maxDataValue||0),(q+fe)/2}(le):ne}else if(!ge)switch(le.inputValueType){case Y.RY.Expression:{if(null==fe?.arcade)return void V.error("Use of arcade expressions requires an arcade context");const pe=fe.arcade.arcadeUtils,ye=pe.getViewInfo({viewingMode:fe.viewingMode,scale:fe.scale,spatialReference:fe.spatialReference}),re=pe.createExecContext(me,ye,fe.timeZone);if(!ce){const ve=pe.createSyntaxTree(le.valueExpression);ce=pe.createFunction(ve),le.cache.compiledFunc=ce}ae=pe.executeFunction(ce,re);break}case Y.RY.Field:te&&(ae=te[le.field]);break;case Y.RY.Unknown:ae=null}if(!(0,Y.qh)(ae))return null;if(ge||!le.normalizationField)return ae;const ie=te?parseFloat(te[le.normalizationField]):null;return(0,Y.qh)(ie)&&0!==ie?ae/ie:null}(ge,q,fe),ge,q,fe,ge.cache.ipData);return null==me||isNaN(me)?0:me}function w(le,q,fe){return null==le?null:(0,Y.iY)(le)?P(le,q,fe):(0,Y.qh)(le)?le:null}function O(le,q,fe){return(0,Y.qh)(fe)&&le>fe?fe:(0,Y.qh)(q)&&le<q?q:le}function oe(le,q,fe,ge,me){switch(q.transformationType){case Y.hL.Additive:return function I(le,q,fe,ge){return le+((w(q.minSize,fe,ge)||q.minDataValue)??0)}(le,q,fe,ge);case Y.hL.Constant:return function T(le,q,fe){const ge=le.stops;let me=ge?.length&&ge[0].size;return null==me&&(me=le.minSize),w(me,q,fe)}(q,fe,ge);case Y.hL.ClampedLinear:return function W(le,q,fe,ge){const me=(le-q.minDataValue)/(q.maxDataValue-q.minDataValue),te=w(q.minSize,fe,ge),ae=w(q.maxSize,fe,ge),ee=ge?.shape;if(le<=q.minDataValue)return te;if(le>=q.maxDataValue)return ae;if(null==te||null==ae)return null;if("area"===q.scaleBy&&ee){const ce="circle"===ee,ie=ce?L*(te/2)**2:te*te,ne=ie+me*((ce?L*(ae/2)**2:ae*ae)-ie);return ce?2*Math.sqrt(ne/L):Math.sqrt(ne)}return te+me*(ae-te)}(le,q,fe,ge);case Y.hL.Proportional:return function z(le,q,fe,ge){const me=ge?.shape,te=le/q.minDataValue,ae=w(q.minSize,fe,ge),ee=w(q.maxSize,fe,ge);let ce=null;return ce="circle"===me?2*Math.sqrt(te*(ae/2)**2):"square"===me||"diamond"===me||"image"===me?Math.sqrt(te*ae**2):te*ae,O(ce,ae,ee)}(le,q,fe,ge);case Y.hL.Stops:return function F(le,q,fe,ge,me){const[te,ae,ee]=he(le,me);if(te===ae)return w(q.stops?.[te].size,fe,ge);{const ce=w(q.stops?.[te].size,fe,ge);return ce+(w(q.stops?.[ae].size,fe,ge)-ce)*ee}}(le,q,fe,ge,me);case Y.hL.RealWorldSize:return function Q(le,q,fe,ge){const me=(ge?.resolution??1)*U.a[q.valueUnit],te=w(q.minSize,fe,ge),ae=w(q.maxSize,fe,ge),{valueRepresentation:ee}=q;let ce=null;return ce="area"===ee?2*Math.sqrt(le/L)/me:"radius"===ee||"distance"===ee?2*le/me:le/me,O(ce,te,ae)}(le,q,fe,ge);case Y.hL.Identity:return le;case Y.hL.Unknown:return null}}function se(le,q,fe){const{isScaleDriven:ge}=le.cache;if(!(ge&&"3d"===fe||q))return null;const me={scale:q,view:fe};let te=w(le.minSize,$,me),ae=w(le.maxSize,$,me);if(null!=te||null!=ae){if(te>ae){const ee=ae;ae=te,te=ee}return{minSize:te,maxSize:ae}}}function ue(le,q,fe){if(!le.visualVariables)return;const ge=[],me=[],te=[],ae=[],ee=[];for(const ce of le.visualVariables)switch(ce.type){case"color":me.push(ce);break;case"opacity":te.push(ce);break;case"rotation":ee.push(ce);break;case"size":ae.push(ce)}return me.forEach(ce=>{const ie=B(ce,q,fe);ge.push({variable:ce,value:ie})}),te.forEach(ce=>{const ie=k(ce,q,fe);ge.push({variable:ce,value:ie})}),ee.forEach(ce=>{const ie=R(ce,q,fe);ge.push({variable:ce,value:ie})}),ae.forEach(ce=>{const ie=P(ce,q,fe);ge.push({variable:ce,value:ie})}),ge.filter(ce=>null!=ce.value)}function he(le,q){if(!q)return;let fe=0,ge=q.length-1;return q.some((me,te)=>le<me?(ge=te,!0):(fe=te,!1)),[fe,ge,(le-q[fe])/(q[ge]-q[fe])]}function G(le,q,fe){const ge=["proportional","proportional","proportional"];for(const me of le){const te=me.useSymbolValue?"symbol-value":P(me,q,fe);switch(me.axis){case"width":ge[0]=te;break;case"depth":ge[1]=te;break;case"height":ge[2]=te;break;case"width-and-depth":ge[0]=te,ge[1]=te;break;case"all":case void 0:case null:ge[0]=te,ge[1]=te,ge[2]=te;break;default:(0,Z.Bg)(me.axis)}}return ge}},66476:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var C=E(15861),D=E(11931),Z=E(26152),j=E(57964),U=E(14007),Y=E(34222),V=E(79412),$=E(6785),L=E(71438),x=E(40907),B=E(33258);function k(ye,re){return R.apply(this,arguments)}function R(){return R=(0,C.Z)(function*(ye,re){ye instanceof URL&&(ye=ye.toString()),re?.query instanceof URLSearchParams&&(re.query=(0,$.u0)(re.query.toString().replaceAll("+"," ")));const ve=(0,$.HK)(ye),Oe=(0,$.jc)(ye);Oe||ve||(ye=(0,$.Fv)(ye));const Me={url:ye,requestOptions:{...re}};let Se=(0,$.oh)(ye);if(Se){const X=yield function ge(ye,re){return me.apply(this,arguments)}(Se,Me);if(null!=X)return{data:X,getHeader:T,httpStatus:200,requestOptions:Me.requestOptions,url:Me.url};Se.after||Se.error||(Se=null)}if(ye=Me.url,"image"===(re=Me.requestOptions).responseType&&((0,U.Z)("host-webworker")||(0,U.Z)("host-node")))throw Q("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Me);if("head"===re.method){if(re.body)throw Q("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Me);if(ve||Oe)throw Q("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Me)}if(yield function J(){return oe.apply(this,arguments)}(),H)return H.execute(ye,re);const ke=new AbortController;(0,V.fu)(re,()=>ke.abort());const xe={controller:ke,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:Se,params:Me,redoRequest:!1,useIdentity:N.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Ge=yield function ee(ye){return ce.apply(this,arguments)}(xe);return Se?.after?.(Ge),Ge}),R.apply(this,arguments)}let H;const N=D.default.request,P="FormData"in globalThis,w=new Set([499,498,403,401]),O=new Set(["COM_0056","COM_0057","SB_0008"]),I=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=()=>null,W=Symbol();function F(ye){const re=(0,$.P$)(ye);return!re||re.endsWith(".arcgis.com")||k._corsServers.includes(re)||(0,$.kl)(re)}function Q(ye,re,ve,Oe){let Me="Error";const Se={url:ve.url,requestOptions:ve.requestOptions,getHeader:T,ssl:!1};if(re instanceof j.Z)return re.details?(re.details=(0,Y.d9)(re.details),re.details.url=ve.url,re.details.requestOptions=ve.requestOptions):re.details=Se,re;if(re){const ke=Oe&&(X=>Oe.headers.get(X)),xe=Oe?.status,Ge=re.message;Ge&&(Me=Ge),ke&&(Se.getHeader=ke),Se.httpStatus=(null!=re.httpCode?re.httpCode:re.code)||xe||0,Se.subCode=re.subcode,Se.messageCode=re.messageCode,Se.messages="string"==typeof re.details?[re.details]:re.details,Se.raw=W in re?re[W]:re}return(0,V.D_)(re)?(0,V.zE)():new j.Z(ye,Me,Se)}function oe(){return(oe=(0,C.Z)(function*(){(0,U.Z)("host-webworker")?H||(H=yield E.e(8836).then(E.bind(E,85085))):k._abortableFetch||(k._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function se(){return ue.apply(this,arguments)}function ue(){return(ue=(0,C.Z)(function*(){Z.id||(yield E.e(3893).then(E.bind(E,3893)))})).apply(this,arguments)}function G(){return(G=(0,C.Z)(function*(ye){const re=ye.params.url,ve=ye.params.requestOptions,Oe=ye.controller.signal,Me=ve.body;let Se=null,ke=null;if(P&&"HTMLFormElement"in globalThis&&(Me instanceof FormData?Se=Me:Me instanceof HTMLFormElement&&(Se=new FormData(Me))),"string"==typeof Me&&(ke=Me),ye.fetchOptions={cache:ve.cacheBust&&!("polyfill"in k._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:ve.headers||{},method:"head"===ve.method?"HEAD":"GET",mode:"cors",priority:N.priority,redirect:"follow",signal:Oe},(Se||ke)&&(ye.fetchOptions.body=Se||ke),"anonymous"===ve.authMode&&(ye.useIdentity=!1),ye.hasToken=!!(/token=/i.test(re)||ve.query?.token||Se?.get("token")),!ye.hasToken&&D.default.apiKey&&(0,x.r)(re)&&(ve.query||(ve.query={}),ve.query.token=D.default.apiKey,ye.hasToken=!0),ye.useIdentity&&!ye.hasToken&&!ye.credentialToken&&!le(re)&&!(0,V.Hc)(Oe)){let xe;"immediate"===ve.authMode?(yield se(),xe=yield Z.id.getCredential(re,{signal:Oe}),ye.credential=xe):"no-prompt"===ve.authMode?(yield se(),xe=yield Z.id.getCredential(re,{prompt:!1,signal:Oe}).catch(()=>{}),ye.credential=xe):Z.id&&(xe=Z.id.findCredential(re)),xe&&(ye.credentialToken=xe.token,ye.useSSL=!!xe.ssl)}})).apply(this,arguments)}function le(ye){return I.some(re=>re.test(ye))}function q(ye){return fe.apply(this,arguments)}function fe(){return(fe=(0,C.Z)(function*(ye){let re=ye.params.url;const ve=ye.params.requestOptions,Oe=ye.fetchOptions??{},Me=(0,$.jc)(re)||(0,$.HK)(re),Se=ve.responseType||"json",ke=Me?0:null!=ve.timeout?ve.timeout:N.timeout;let xe=!1;if(!Me){ye.useSSL&&(re=(0,$.hO)(re)),ve.cacheBust&&"default"===Oe.cache&&(re=(0,$.ZN)(re,"request.preventCache",Date.now()));let Fe={...ve.query};ye.credentialToken&&(Fe.token=ye.credentialToken);let qe=(0,$.B7)(Fe);(0,U.Z)("esri-url-encodes-apostrophe")&&(qe=qe.replaceAll("'","%27"));const We=re.length+1+qe.length;let He;xe="delete"===ve.method||"post"===ve.method||"put"===ve.method||!!ve.body||We>N.maxUrlLength;const Ne=ve.useProxy||!!(0,$.ed)(re);if(Ne){const Ce=(0,$.b7)(re);He=Ce.path,!xe&&He.length+1+We>N.maxUrlLength&&(xe=!0),Ce.query&&(Fe={...Ce.query,...Fe})}if("HEAD"===Oe.method&&(xe||Ne)){if(xe)throw Q("request:invalid-parameters",We>N.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),ye.params);if(Ne)throw Q("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),ye.params)}xe?(Oe.method="delete"===ve.method?"DELETE":"put"===ve.method?"PUT":"POST",ve.body?re=(0,$.fl)(re,Fe):(Oe.body=(0,$.B7)(Fe),Oe.headers||(Oe.headers={}),Oe.headers["Content-Type"]="application/x-www-form-urlencoded")):re=(0,$.fl)(re,Fe),Ne&&(ye.useProxy=!0,re=`${He}?${re}`),Fe.token&&P&&Oe.body instanceof FormData&&!(0,L.P)(re)&&Oe.body.set("token",Fe.token),ve.hasOwnProperty("withCredentials")?ye.withCredentials=ve.withCredentials:(0,$.D6)(re,(0,$.TI)())||((0,$.kl)(re)||Z.id&&Z.id.findServerInfo(re)?.webTierAuth)&&(ye.withCredentials=!0),ye.withCredentials&&(Oe.credentials="include",(0,B.jH)(re)&&(yield(0,B.jz)(xe?(0,$.fl)(re,Fe):re)))}let Ge,X,be=0,Re=!1;ke>0&&(be=setTimeout(()=>{Re=!0,ye.controller.abort()},ke));try{if("native-request-init"===ve.responseType)X=Oe,X.url=re;else if("image"!==ve.responseType||"default"!==Oe.cache||"GET"!==Oe.method||xe||function te(ye){if(ye)for(const re of Object.getOwnPropertyNames(ye))if(ye[re])return!0;return!1}(ve.headers)||!Me&&!ye.useProxy&&N.proxyUrl&&!F(re)){if(Ge=yield k._abortableFetch(re,Oe),ye.useProxy||function z(ye){const re=(0,$.P$)(ye);re&&!k._corsServers.includes(re)&&k._corsServers.push(re)}(re),"native"===ve.responseType)X=Ge;else if("HEAD"!==Oe.method)if(Ge.ok){switch(Se){case"array-buffer":X=yield Ge.arrayBuffer();break;case"blob":case"image":X=yield Ge.blob();break;default:X=yield Ge.text()}if(be&&(clearTimeout(be),be=0),"json"===Se||"xml"===Se||"document"===Se)if(X)switch(Se){case"json":X=JSON.parse(X);break;case"xml":X=ae(X,"application/xml");break;case"document":X=ae(X,"text/html")}else X=null;if(X){if("array-buffer"===Se||"blob"===Se){const Fe=Ge.headers.get("Content-Type");if(Fe&&/application\/json|text\/plain/i.test(Fe)&&X["blob"===Se?"size":"byteLength"]<=750)try{const qe=yield new Response(X).json();qe.error&&(X=qe)}catch{}}"image"===Se&&X instanceof Blob&&(X=yield pe(URL.createObjectURL(X),ye,!0))}}else{X=yield Ge.text();try{X=JSON.parse(X)}catch{}}}else X=yield pe(re,ye)}catch(Fe){if("AbortError"===Fe.name)throw Re?(0,B.Tf)():(0,V.zE)("Request canceled");if(!(!Ge&&Fe instanceof TypeError&&N.proxyUrl)||ve.body||"delete"===ve.method||"head"===ve.method||"post"===ve.method||"put"===ve.method||ye.useProxy||F(re))throw Fe;ye.redoRequest=!0,(0,$.tD)({proxyUrl:N.proxyUrl,urlPrefix:(0,$.P$)(re)??""})}finally{be&&clearTimeout(be)}return[Ge,X]})).apply(this,arguments)}function me(){return(me=(0,C.Z)(function*(ye,re){if(null!=ye.responseData)return ye.responseData;if(ye.headers&&(re.requestOptions.headers={...re.requestOptions.headers,...ye.headers}),ye.query&&(re.requestOptions.query={...re.requestOptions.query,...ye.query}),ye.before){let ve,Oe;try{Oe=yield ye.before(re)}catch(Me){ve=Q("request:interceptor",Me,re)}if((Oe instanceof Error||Oe instanceof j.Z)&&(ve=Q("request:interceptor",Oe,re)),ve)throw ye.error&&ye.error(ve),ve;return Oe}})).apply(this,arguments)}function ae(ye,re){let ve;try{ve=(new DOMParser).parseFromString(ye,re)}catch{}if(!ve||ve.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return ve}function ce(){return ce=(0,C.Z)(function*(ye){let re,ve;yield function he(ye){return G.apply(this,arguments)}(ye);try{do{[re,ve]=yield q(ye)}while(!(yield ie(ye,re,ve)))}catch(Se){const ke=Q("request:server",Se,ye.params,re);throw ke.details.ssl=ye.useSSL,ye.interceptor?.error&&ye.interceptor.error(ke),ke}const Oe=ye.params.url;if(ve&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Oe)){if(!ye.hasToken&&!ye.credentialToken&&ve.user?.username&&!(0,$.kl)(Oe)){const Se=(0,$.P$)(Oe,!0);Se&&N.trustedServers.push(Se)}Array.isArray(ve.authorizedCrossOriginNoCorsDomains)&&(0,B.Hu)(ve.authorizedCrossOriginNoCorsDomains)}const Me=ye.credential;if(Me&&Z.id){let ke=Z.id.findServerInfo(Me.server)?.owningSystemUrl;if(ke){ke=ke.replace(/\/?$/,"/sharing");const xe=Z.id.findCredential(ke,Me.userId);xe&&-1===Z.id._getIdenticalSvcIdx(ke,xe)&&xe.resources.unshift(ke)}}return{data:ve,getHeader:re?Se=>re?.headers.get(Se):T,httpStatus:re?.status??200,requestOptions:ye.params.requestOptions,ssl:ye.useSSL,url:ye.params.url}}),ce.apply(this,arguments)}function ie(ye,re,ve){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(ye,re,ve){if(ye.redoRequest)return ye.redoRequest=!1,!1;const Oe=ye.params.requestOptions;if(!re||"native"===Oe.responseType||"native-request-init"===Oe.responseType)return!0;let Me,Se;if(ve&&(ve.error?Me=ve.error:"error"===ve.status&&Array.isArray(ve.messages)&&(Me={...ve},Me[W]=ve,Me.details=ve.messages)),!Me&&!re.ok)throw Me=new Error(`Unable to load ${re.url} status: ${re.status}`),Me[W]=ve,Me;let ke,xe=null;Me&&(Se=Number(Me.code),xe=Me.hasOwnProperty("subcode")?Number(Me.subcode):null,ke=Me.messageCode,ke=ke?.toUpperCase());const Ge=Oe.authMode;if(403===Se&&(4===xe||Me.message?.toLowerCase().includes("ssl")&&!Me.message.toLowerCase().includes("permission"))){if(!ye.useSSL)return ye.useSSL=!0,!1}else if(!ye.hasToken&&ye.useIdentity&&("no-prompt"!==Ge||498===Se)&&void 0!==Se&&w.has(Se)&&!le(ye.params.url)&&(403!==Se||(!ke||!O.has(ke))&&(null==xe||2===xe&&ye.credentialToken))){yield se();try{const X=yield Z.id.getCredential(ye.params.url,{error:Q("request:server",Me,ye.params),prompt:"no-prompt"!==Ge,signal:ye.controller.signal,token:ye.credentialToken});return ye.credential=X,ye.credentialToken=X.token,ye.useSSL=ye.useSSL||X.ssl,!1}catch(X){if("no-prompt"===Ge)return ye.credential=void 0,ye.credentialToken=void 0,!1;Me=X}}if(Me)throw Me;return!0})).apply(this,arguments)}function pe(ye,re,ve=!1){const Oe=re.controller.signal,Me=new Image;return Me.crossOrigin=re.withCredentials?"use-credentials":"anonymous",Me.alt="",Me.fetchPriority=N.priority,Me.src=ye,(0,B.fY)(Me,ye,ve,Oe)}k._abortableFetch=null,k._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},22497:(Ke,Ee,E)=>{"use strict";E.d(Ee,{i:()=>L});var C=E(15861),D=E(66476),Z=E(1535),j=E(40637),U=E(15462),Y=E(60323),V=E(93305);const $=(0,Z.se)(V.Z);function L(B,k,R){return x.apply(this,arguments)}function x(){return(x=(0,C.Z)(function*(B,k,R){k=$(k);const H=(0,U.en)(B),N={...H.query,f:"json",...k.toJSON()},P=k.outSpatialReference,w=(0,j.Ji)(k.geometries[0]),O=(0,U.lA)(N,R);return(0,D.Z)(H.path+"/project",O).then(({data:{geometries:I}})=>(0,Y.o)(I,w,P))})).apply(this,arguments)}},60323:(Ke,Ee,E)=>{"use strict";E.d(Ee,{F:()=>D,o:()=>Z});var C=E(40637);function D(j){return{geometryType:(0,C.Ji)(j[0]),geometries:j.map(U=>U.toJSON())}}function Z(j,U,Y){const V=(0,C.q9)(U);return j.map($=>{const L=V.fromJSON($);return L.spatialReference=Y,L})}},27321:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"assetGroupCode",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"assetTypeCode",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],$.prototype,"globalId",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"networkSourceId",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"objectId",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"positionFrom",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"positionTo",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"terminalId",void 0),$=(0,C._)([(0,V.j)("esri.rest.networks.support.NetworkElement")],$);const L=$},80020:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>w});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(12628),L=E(5391),x=E(64222);let B=class extends D.wq{constructor(O){super(O),this.line=null,this.multipoint=null,this.polygon=null}};(0,C._)([(0,Z.Cb)({type:x.Z,json:{write:!0},readOnly:!0})],B.prototype,"line",void 0),(0,C._)([(0,Z.Cb)({type:$.Z,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],B.prototype,"multipoint",void 0),(0,C._)([(0,Z.Cb)({type:L.Z,json:{write:!0},readOnly:!0})],B.prototype,"polygon",void 0),B=(0,C._)([(0,V.j)("esri.rest.networks.support.AggregatedGeometry")],B);const k=B;let R=class extends D.wq{constructor(O){super(O),this.functionType=null,this.networkAttributeName=null,this.result=null}};(0,C._)([(0,Z.Cb)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],R.prototype,"functionType",void 0),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0},readOnly:!0})],R.prototype,"networkAttributeName",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0},readOnly:!0})],R.prototype,"result",void 0),R=(0,C._)([(0,V.j)("esri.rest.networks.support.FunctionResult")],R);const H=R;var N=E(27321);let P=class extends D.wq{constructor(O){super(O),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};(0,C._)([(0,Z.Cb)({type:k,json:{write:!0},readOnly:!0})],P.prototype,"aggregatedGeometry",void 0),(0,C._)([(0,Z.Cb)({type:[N.Z],json:{write:!0},readOnly:!0})],P.prototype,"elements",void 0),(0,C._)([(0,Z.Cb)({type:[H],json:{write:!0},readOnly:!0})],P.prototype,"globalFunctionResults",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],P.prototype,"kFeaturesForKNNFound",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],P.prototype,"startingPointsIgnored",void 0),(0,C._)([(0,Z.Cb)({type:[String],json:{write:!0},readOnly:!0})],P.prototype,"warnings",void 0),P=(0,C._)([(0,V.j)("esri.rest.networks.support.TraceResult")],P);const w=P},41997:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.dirtyAreaCount=null,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};(0,C._)([(0,Z.Cb)({type:Date,json:{type:Number,write:{writer:(x,B)=>{B.moment=x?x.getTime():null}}}})],$.prototype,"moment",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"fullUpdate",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"validateErrorsCreated",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$.prototype,"dirtyAreaCount",void 0),(0,C._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"exceededTransferLimit",void 0),(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"serviceEdits",void 0),(0,C._)([(0,Z.Cb)({type:[Object],json:{write:!0}})],$.prototype,"discoveredSubnetworks",void 0),$=(0,C._)([(0,V.j)("esri.rest.networks.support.ValidateNetworkTopologyResult")],$);const L=$},18101:(Ke,Ee,E)=>{"use strict";E.d(Ee,{P:()=>j});var C=E(49602),D=E(33721);function Z(V,$,L){if(null==V.hasM||V.hasZ)for(const x of $)for(const B of x)B.length>2&&(B[2]*=L)}function j(V,$,L){if(!V&&!$||!L)return;const x=(0,C._R)(L);U(V,L,x),U($,L,x)}function U(V,$,L){if(V)for(const x of V)Y(x.geometry,$,L)}function Y(V,$,L){if(!V?.spatialReference||(0,D.fS)(V.spatialReference,$))return;const x=(0,C._R)(V.spatialReference)/L;if(1!==x)if("x"in V)null!=V.z&&(V.z*=x);else if("rings"in V)Z(V,V.rings,x);else if("paths"in V)Z(V,V.paths,x);else if("points"in V&&(null==V.hasM||V.hasZ))for(const B of V.points)B.length>2&&(B[2]*=x)}},8295:(Ke,Ee,E)=>{"use strict";E.d(Ee,{p:()=>D});var C=E(53456);function D(Z,j,U){if(!U?.features||!U.hasZ)return;const Y=(0,C.k)(U.geometryType,j,Z.outSpatialReference);if(null!=Y)for(const V of U.features)Y(V.geometry)}},93618:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(66599),Z=E(34222),j=E(80543),U=E(1535),Y=E(21070),V=E(10141),$=E(85241);let x=L=class extends $.Z{constructor(k){super(k),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new L({fromColor:(0,Z.d9)(this.fromColor),toColor:(0,Z.d9)(this.toColor),algorithm:this.algorithm})}};(0,C._)([(0,Y.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],x.prototype,"algorithm",void 0),(0,C._)([(0,j.Cb)({type:D.Z,json:{type:[U.z8],write:!0}})],x.prototype,"fromColor",void 0),(0,C._)([(0,j.Cb)({type:D.Z,json:{type:[U.z8],write:!0}})],x.prototype,"toColor",void 0),(0,C._)([(0,j.Cb)({type:["algorithmic"]})],x.prototype,"type",void 0),x=L=(0,C._)([(0,V.j)("esri.rest.support.AlgorithmicColorRamp")],x);const B=x},12768:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(89317),Z=E(34222),j=E(80543),U=E(1535),Y=E(10141),V=E(7547);let L=$=class extends D.wq{constructor(B){super(B),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(B,k){k.resultOffset=this.start,k.resultRecordCount=this.num||10}clone(){return new $((0,Z.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,C._)([(0,j.Cb)({type:[String],json:{write:!0}})],L.prototype,"attachmentTypes",void 0),(0,C._)([(0,j.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],L.prototype,"attachmentsWhere",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"cacheHint",void 0),(0,C._)([(0,j.Cb)({type:[String],json:{write:!0}})],L.prototype,"keywords",void 0),(0,C._)([(0,j.Cb)({type:[Number],json:{write:!0}})],L.prototype,"globalIds",void 0),(0,C._)([(0,j.Cb)({json:{write:!0}})],L.prototype,"name",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],L.prototype,"num",void 0),(0,C._)([(0,j.Cb)({type:[Number],json:{write:!0}})],L.prototype,"objectIds",void 0),(0,C._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],L.prototype,"returnMetadata",void 0),(0,C._)([(0,j.Cb)({type:[Number],json:{write:!0}})],L.prototype,"size",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],L.prototype,"start",void 0),(0,C._)([(0,V.c)("start"),(0,V.c)("num")],L.prototype,"writeStart",null),(0,C._)([(0,j.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],L.prototype,"where",void 0),L=$=(0,C._)([(0,Y.j)("esri.rest.support.AttachmentQuery")],L),L.from=(0,U.se)(L);const x=L},85241:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.type=null}};(0,C._)([(0,Z.Cb)({readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.rest.support.ColorRamp")],$);const L=$},93792:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>O});var N,C=E(50484),D=E(2189),Z=E(35458),j=E(84303),U=E(89317),Y=E(34222),V=E(80543),L=(E(1535),E(62185)),x=E(10141),B=E(7547),k=E(43814),R=E(40637),H=E(81247);const P=new j.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let w=N=class extends U.wq{constructor(I){super(I),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(I,T){const W=k.Z.fromJSON(T.spatialReference),z=[];for(let F=0;F<I.length;F++){const Q=I[F],J=Z.Z.fromJSON(Q),oe=Q.geometry?.spatialReference;null==J.geometry||oe||(J.geometry.spatialReference=W);const se=Q.aggregateGeometries,ue=J.aggregateGeometries;if(se&&null!=ue)for(const he in ue){const G=ue[he],le=se[he],q=le?.spatialReference;null==G||q||(G.spatialReference=W)}z.push(J)}return z}writeGeometryType(I,T,W,z){if(I)return void P.write(I,T,W,z);const{features:F}=this;if(F)for(const Q of F)if(null!=Q?.geometry)return void P.write(Q.geometry.type,T,W,z)}readQueryGeometry(I,T){if(!I)return null;const W=!!I.spatialReference,z=(0,R.im)(I);return z&&!W&&T.spatialReference&&(z.spatialReference=k.Z.fromJSON(T.spatialReference)),z}writeSpatialReference(I,T){if(I)return void(T.spatialReference=I.toJSON());const{features:W}=this;if(W)for(const z of W)if(z&&null!=z.geometry&&z.geometry.spatialReference)return void(T.spatialReference=z.geometry.spatialReference.toJSON())}clone(){return new N(this.cloneProperties())}cloneProperties(){return(0,Y.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(I){const T=this.write();if(T.features&&Array.isArray(I)&&I.length>0)for(let W=0;W<T.features.length;W++){const z=T.features[W];if(z.geometry){const F=I?.[W];z.geometry=F?.toJSON()||z.geometry}}return T}quantize(I){const{scale:[T,W],translate:[z,F]}=I,oe=this.features,se=this._getQuantizationFunction(this.geometryType,ue=>Math.round((ue-z)/T),ue=>Math.round((F-ue)/W));for(let ue=0,he=oe.length;ue<he;ue++)se?.(oe[ue].geometry)||(oe.splice(ue,1),ue--,he--);return this.transform=I,this}unquantize(){const{geometryType:I,features:T,transform:W}=this;if(!W)return this;const{translate:[z,F],scale:[Q,J]}=W;let ue=null,he=null;if(this.hasZ&&null!=W?.scale?.[2]){const{translate:[,,le],scale:[,,q]}=W;ue=fe=>fe*q+le}if(this.hasM&&null!=W?.scale?.[3]){const{translate:[,,,le],scale:[,,,q]}=W;he=fe=>null==fe?fe:fe*q+le}const G=this._getHydrationFunction(I,le=>le*Q+z,le=>F-le*J,ue,he);for(const{geometry:le}of T)null!=le&&G&&G(le);return this.transform=null,this}_quantizePoints(I,T,W){let z,F;const Q=[];for(let J=0,oe=I.length;J<oe;J++){const se=I[J];if(J>0){const ue=T(se[0]),he=W(se[1]);ue===z&&he===F||(Q.push([ue-z,he-F]),z=ue,F=he)}else z=T(se[0]),F=W(se[1]),Q.push([z,F])}return Q.length>0?Q:null}_getQuantizationFunction(I,T,W){return"point"===I?z=>(z.x=T(z.x),z.y=W(z.y),z):"polyline"===I||"polygon"===I?z=>{const F=(0,R.oU)(z)?z.rings:z.paths,Q=[];for(let J=0,oe=F.length;J<oe;J++){const ue=this._quantizePoints(F[J],T,W);ue&&Q.push(ue)}return Q.length>0?((0,R.oU)(z)?z.rings=Q:z.paths=Q,z):null}:"multipoint"===I?z=>{const F=this._quantizePoints(z.points,T,W);return F&&F.length>0?(z.points=F,z):null}:"extent"===I?z=>z:null}_getHydrationFunction(I,T,W,z,F){return"point"===I?Q=>{Q.x=T(Q.x),Q.y=W(Q.y),z&&(Q.z=z(Q.z))}:"polyline"===I||"polygon"===I?Q=>{const J=(0,R.oU)(Q)?Q.rings:Q.paths;let oe,se;for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];for(let le=0,q=G.length;le<q;le++){const fe=G[le];le>0?(oe+=fe[0],se+=fe[1]):(oe=fe[0],se=fe[1]),fe[0]=T(oe),fe[1]=W(se)}}if(z&&F)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];for(let le=0,q=G.length;le<q;le++){const fe=G[le];fe[2]=z(fe[2]),fe[3]=F(fe[3])}}else if(z)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];for(let le=0,q=G.length;le<q;le++){const fe=G[le];fe[2]=z(fe[2])}}else if(F)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];for(let le=0,q=G.length;le<q;le++){const fe=G[le];fe[2]=F(fe[2])}}}:"extent"===I?Q=>{Q.xmin=T(Q.xmin),Q.ymin=W(Q.ymin),Q.xmax=T(Q.xmax),Q.ymax=W(Q.ymax),z&&null!=Q.zmax&&null!=Q.zmin&&(Q.zmax=z(Q.zmax),Q.zmin=z(Q.zmin)),F&&null!=Q.mmax&&null!=Q.mmin&&(Q.mmax=F(Q.mmax),Q.mmin=F(Q.mmin))}:"multipoint"===I?Q=>{const J=Q.points;let oe,se;for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];ue>0?(oe+=G[0],se+=G[1]):(oe=G[0],se=G[1]),G[0]=T(oe),G[1]=W(se)}if(z&&F)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];G[2]=z(G[2]),G[3]=F(G[3])}else if(z)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];G[2]=z(G[2])}else if(F)for(let ue=0,he=J.length;ue<he;ue++){const G=J[ue];G[2]=F(G[2])}}:null}};(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"displayFieldName",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:I=>({enabled:I})}}})],w.prototype,"exceededTransferLimit",void 0),(0,C._)([(0,V.Cb)({type:[Z.Z],json:{write:!0}})],w.prototype,"features",void 0),(0,C._)([(0,L.r)("features")],w.prototype,"readFeatures",null),(0,C._)([(0,V.Cb)({type:[H.Z],json:{write:!0}})],w.prototype,"fields",void 0),(0,C._)([(0,V.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:P.read}}})],w.prototype,"geometryType",void 0),(0,C._)([(0,B.c)("geometryType")],w.prototype,"writeGeometryType",null),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:I=>({enabled:I})}}})],w.prototype,"hasM",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:I=>({enabled:I})}}})],w.prototype,"hasZ",void 0),(0,C._)([(0,V.Cb)({types:D.qM,json:{write:!0}})],w.prototype,"queryGeometry",void 0),(0,C._)([(0,L.r)("queryGeometry")],w.prototype,"readQueryGeometry",null),(0,C._)([(0,V.Cb)({type:k.Z,json:{write:!0}})],w.prototype,"spatialReference",void 0),(0,C._)([(0,B.c)("spatialReference")],w.prototype,"writeSpatialReference",null),(0,C._)([(0,V.Cb)({json:{write:!0}})],w.prototype,"transform",void 0),w=N=(0,C._)([(0,x.j)("esri.rest.support.FeatureSet")],w),w.prototype.toJSON.isDefaultToJSON=!0;const O=w},68020:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(10141)),Y=E(93618),V=E(85241);let L=$=class extends V.Z{constructor(B){super(B),this.colorRamps=null,this.type="multipart"}clone(){return new $({colorRamps:(0,D.d9)(this.colorRamps)})}};(0,C._)([(0,Z.Cb)({type:[Y.Z],json:{write:!0}})],L.prototype,"colorRamps",void 0),(0,C._)([(0,Z.Cb)({type:["multipart"]})],L.prototype,"type",void 0),L=$=(0,C._)([(0,U.j)("esri.rest.support.MultipartColorRamp")],L);const x=L},93305:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(40637),L=E(33721);let x=class extends D.wq{constructor(k){super(k),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const k=this.geometries.map(N=>N.toJSON()),R=this.geometries[0],H={};return H.outSR=(0,L.B9)(this.outSpatialReference),H.inSR=(0,L.B9)(R.spatialReference),H.geometries=JSON.stringify({geometryType:(0,$.Ji)(R),geometries:k}),this.transformation&&(H.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(H.transformForward=this.transformForward),H}};(0,C._)([(0,Z.Cb)()],x.prototype,"geometries",void 0),(0,C._)([(0,Z.Cb)({json:{read:{source:"outSR"}}})],x.prototype,"outSpatialReference",void 0),(0,C._)([(0,Z.Cb)()],x.prototype,"transformation",void 0),(0,C._)([(0,Z.Cb)()],x.prototype,"transformForward",void 0),x=(0,C._)([(0,V.j)("esri.rest.support.ProjectParameters")],x);const B=x},31886:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var x,C=E(50484),Z=(E(2189),E(84303)),j=E(89317),U=E(34222),Y=E(80543),$=(E(1535),E(10141)),L=E(26894);const B=new Z.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let k=x=class extends j.wq{constructor(H){super(H),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new x((0,U.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,C._)([(0,Y.Cb)({type:L.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],k.prototype,"extent",void 0),(0,C._)([(0,Y.Cb)({type:["view","edit"],json:{write:!0}})],k.prototype,"mode",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{read:B.read,write:B.write}})],k.prototype,"originPosition",void 0),(0,C._)([(0,Y.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],k.prototype,"tolerance",void 0),k=x=(0,C._)([(0,$.j)("esri.rest.support.QuantizationParameters")],k);const R=k},91866:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ue});var C=E(50484),D=E(2189),Z=E(34411),j=E(84303),U=E(89317),Y=E(34222),V=E(80543),$=E(73018),L=E(21070),x=E(10141),B=E(7547),k=E(1535),R=E(40637),H=E(46054),N=E(25387);E(57678),E(14007);let O=class extends((0,N.J)(U.wq)){constructor(he){super(he),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,C._)([(0,V.Cb)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],O.prototype,"onFields",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],O.prototype,"operator",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],O.prototype,"searchTerm",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],O.prototype,"searchType",void 0),O=(0,C._)([(0,x.j)("esri.rest.support.FullTextSearch")],O);const I=O;var Q,T=E(31886),W=E(91085),z=E(43814),F=E(85039);const J=new j.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),oe=new j.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let se=Q=class extends U.wq{static from(he){return(0,k.TJ)(Q,he)}constructor(he){super(he),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(he){return"number"==typeof he||"object"==typeof he?he:null}writeHistoricMoment(he,G){G.historicMoment=he&&he.getTime()}writeParameterValues(he,G){if(he){const le={};for(const q in he){const fe=he[q];le[q]=Array.isArray(fe)?fe.map(ge=>ge instanceof Date?ge.getTime():ge):fe instanceof Date?fe.getTime():fe}G.parameterValues=le}}writeStart(he,G){G.resultOffset=this.start,G.resultRecordCount=this.num||10,G.where="1=1"}writeWhere(he,G){G.where=he||"1=1"}clone(){return new Q((0,Y.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};se.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,C._)([(0,V.Cb)({json:{write:!0}})],se.prototype,"aggregateIds",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"cacheHint",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"compactGeometryEnabled",void 0),(0,C._)([(0,V.Cb)({json:{write:!0}})],se.prototype,"datumTransformation",void 0),(0,C._)([(0,$.p)("datumTransformation")],se.prototype,"castDatumTransformation",null),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"defaultSpatialReferenceEnabled",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:{overridePolicy:he=>({enabled:he>0})}}})],se.prototype,"distance",void 0),(0,C._)([(0,V.Cb)({type:H.n,json:{write:!0}})],se.prototype,"dynamicDataSource",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"formatOf3DObjects",void 0),(0,C._)([(0,V.Cb)({type:[I],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],se.prototype,"fullText",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"gdbVersion",void 0),(0,C._)([(0,V.Cb)({types:D.qM,json:{read:R.im,write:!0}})],se.prototype,"geometry",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:!0}})],se.prototype,"geometryPrecision",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],se.prototype,"groupByFieldsForStatistics",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"having",void 0),(0,C._)([(0,V.Cb)({type:Date})],se.prototype,"historicMoment",void 0),(0,C._)([(0,B.c)("historicMoment")],se.prototype,"writeHistoricMoment",null),(0,C._)([(0,V.Cb)({type:Number,json:{write:!0}})],se.prototype,"maxAllowableOffset",void 0),(0,C._)([(0,V.Cb)({type:Number,cast:he=>he<1?1:he>se.MAX_MAX_RECORD_COUNT_FACTOR?se.MAX_MAX_RECORD_COUNT_FACTOR:he,json:{write:{overridePolicy:he=>({enabled:he>1})}}})],se.prototype,"maxRecordCountFactor",void 0),(0,C._)([(0,V.Cb)({type:["xyFootprint"],json:{write:!0}})],se.prototype,"multipatchOption",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],se.prototype,"num",void 0),(0,C._)([(0,V.Cb)({json:{write:!0}})],se.prototype,"objectIds",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],se.prototype,"orderByFields",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],se.prototype,"outFields",void 0),(0,C._)([(0,V.Cb)({type:z.Z,json:{name:"outSR",write:!0}})],se.prototype,"outSpatialReference",void 0),(0,C._)([(0,V.Cb)({type:[W.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],se.prototype,"outStatistics",void 0),(0,C._)([(0,V.Cb)({json:{write:!0}})],se.prototype,"parameterValues",void 0),(0,C._)([(0,B.c)("parameterValues")],se.prototype,"writeParameterValues",null),(0,C._)([(0,V.Cb)({type:F.Z,json:{write:!0}})],se.prototype,"pixelSize",void 0),(0,C._)([(0,V.Cb)({type:T.Z,json:{write:!0}})],se.prototype,"quantizationParameters",void 0),(0,C._)([(0,V.Cb)({type:[Object],json:{write:!0}})],se.prototype,"rangeValues",void 0),(0,C._)([(0,V.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],se.prototype,"relationParameter",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"resultType",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"returnCentroid",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"returnDistinctValues",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!0,write:!0}})],se.prototype,"returnExceededLimitFeatures",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"returnGeometry",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"returnQueryGeometry",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"returnM",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:he=>({enabled:he})}}})],se.prototype,"returnZ",void 0),(0,C._)([(0,V.Cb)({type:z.Z,json:{write:!0}})],se.prototype,"sourceSpatialReference",void 0),(0,C._)([(0,L.J)(J,{ignoreUnknown:!1,name:"spatialRel"})],se.prototype,"spatialRelationship",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],se.prototype,"start",void 0),(0,C._)([(0,B.c)("start"),(0,B.c)("num")],se.prototype,"writeStart",null),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"sqlFormat",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],se.prototype,"text",void 0),(0,C._)([(0,V.Cb)({type:Z.Z,json:{write:!0}})],se.prototype,"timeExtent",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{default:!1,write:!0}})],se.prototype,"timeReferenceUnknownClient",void 0),(0,C._)([(0,L.J)(oe,{ignoreUnknown:!1}),(0,V.Cb)({json:{write:{overridePolicy(he){return{enabled:!!he&&null!=this.distance&&this.distance>0}}}}})],se.prototype,"units",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:{overridePolicy(he){return{enabled:null!=he||null!=this.start&&this.start>0}}}}})],se.prototype,"where",void 0),(0,C._)([(0,B.c)("where")],se.prototype,"writeWhere",null),se=Q=(0,C._)([(0,x.j)("esri.rest.support.Query")],se);const ue=se},46556:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{default:()=>R});var B,C=E(50484),Z=(E(2189),E(89317)),j=E(34222),U=E(80543),Y=E(1535),V=E(10141),$=E(7547),L=E(46054),x=E(43814);let k=B=class extends Z.wq{constructor(H){super(H),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(H,N){N.historicMoment=H&&H.getTime()}writeStart(H,N){N.resultOffset=this.start,N.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(N.definitionExpression="1=1")}clone(){return new B((0,j.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],k.prototype,"cacheHint",void 0),(0,C._)([(0,U.Cb)({type:L.n,json:{write:!0}})],k.prototype,"dynamicDataSource",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],k.prototype,"gdbVersion",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],k.prototype,"geometryPrecision",void 0),(0,C._)([(0,U.Cb)({type:Date})],k.prototype,"historicMoment",void 0),(0,C._)([(0,$.c)("historicMoment")],k.prototype,"_writeHistoricMoment",null),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],k.prototype,"maxAllowableOffset",void 0),(0,C._)([(0,U.Cb)({type:[Number],json:{write:!0}})],k.prototype,"objectIds",void 0),(0,C._)([(0,U.Cb)({type:[String],json:{write:!0}})],k.prototype,"orderByFields",void 0),(0,C._)([(0,U.Cb)({type:[String],json:{write:!0}})],k.prototype,"outFields",void 0),(0,C._)([(0,U.Cb)({type:x.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],k.prototype,"outSpatialReference",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],k.prototype,"relationshipId",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],k.prototype,"start",void 0),(0,C._)([(0,$.c)("start"),(0,$.c)("num")],k.prototype,"writeStart",null),(0,C._)([(0,U.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],k.prototype,"num",void 0),(0,C._)([(0,U.Cb)({json:{write:!0}})],k.prototype,"returnGeometry",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:{overridePolicy:H=>({enabled:H})}}})],k.prototype,"returnM",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:{overridePolicy:H=>({enabled:H})}}})],k.prototype,"returnZ",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],k.prototype,"where",void 0),k=B=(0,C._)([(0,V.j)("esri.rest.support.RelationshipQuery")],k),k.from=(0,Y.se)(k);const R=k},91085:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var L,C=E(50484),D=E(84303),Z=E(89317),j=E(34222),U=E(80543),V=(E(1535),E(10141)),$=E(7547);const x=new D.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let B=L=class extends Z.wq{constructor(R){super(R),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(R,H){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(H.statisticParameters=(0,j.d9)(R))}clone(){return new L({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,j.d9)(this.statisticParameters)})}};(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],B.prototype,"maxPointCount",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],B.prototype,"maxRecordCount",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],B.prototype,"maxVertexCount",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"onStatisticField",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],B.prototype,"outStatisticFieldName",void 0),(0,C._)([(0,U.Cb)({type:String,json:{read:{source:"statisticType",reader:x.read},write:{target:"statisticType",writer:x.write}}})],B.prototype,"statisticType",void 0),(0,C._)([(0,U.Cb)({type:Object})],B.prototype,"statisticParameters",void 0),(0,C._)([(0,$.c)("statisticParameters")],B.prototype,"writeStatisticParameters",null),B=L=(0,C._)([(0,V.j)("esri.rest.support.StatisticDefinition")],B);const k=B},89047:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var H,C=E(50484),D=E(2189),Z=E(34411),j=E(84303),U=E(89317),Y=E(34222),V=E(80543),$=E(1535),L=E(10141),x=E(7547),B=E(40637);E(57678),E(14007);let N=H=class extends U.wq{constructor(F){super(F),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new H({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],N.prototype,"groupByFields",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:!0}})],N.prototype,"topCount",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],N.prototype,"orderByFields",void 0),N=H=(0,C._)([(0,L.j)("esri.rest.support.TopFilter")],N);const P=N;var O,w=E(43814);const I=new j.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),T=new j.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let W=O=class extends U.wq{constructor(F){super(F),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(F,Q){Q.resultOffset=this.start,Q.resultRecordCount=this.num||10}clone(){return new O((0,Y.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,C._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"cacheHint",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:{overridePolicy:F=>({enabled:F>0})}}})],W.prototype,"distance",void 0),(0,C._)([(0,V.Cb)({types:D.qM,json:{read:B.im,write:!0}})],W.prototype,"geometry",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:!0}})],W.prototype,"geometryPrecision",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxAllowableOffset",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],W.prototype,"num",void 0),(0,C._)([(0,V.Cb)({json:{write:!0}})],W.prototype,"objectIds",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],W.prototype,"orderByFields",void 0),(0,C._)([(0,V.Cb)({type:[String],json:{write:!0}})],W.prototype,"outFields",void 0),(0,C._)([(0,V.Cb)({type:w.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],W.prototype,"outSpatialReference",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],W.prototype,"resultType",void 0),(0,C._)([(0,V.Cb)({json:{write:!0}})],W.prototype,"returnGeometry",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:F=>({enabled:F})}}})],W.prototype,"returnM",void 0),(0,C._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:F=>({enabled:F})}}})],W.prototype,"returnZ",void 0),(0,C._)([(0,V.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],W.prototype,"start",void 0),(0,C._)([(0,x.c)("start"),(0,x.c)("num")],W.prototype,"writeStart",null),(0,C._)([(0,V.Cb)({type:String,json:{read:{source:"spatialRel",reader:I.read},write:{target:"spatialRel",writer:I.write}}})],W.prototype,"spatialRelationship",void 0),(0,C._)([(0,V.Cb)({type:Z.Z,json:{write:!0}})],W.prototype,"timeExtent",void 0),(0,C._)([(0,V.Cb)({type:P,json:{write:!0}})],W.prototype,"topFilter",void 0),(0,C._)([(0,V.Cb)({type:String,json:{read:T.read,write:{writer:T.write,overridePolicy(F){return{enabled:null!=F&&null!=this.distance&&this.distance>0}}}}})],W.prototype,"units",void 0),(0,C._)([(0,V.Cb)({type:String,json:{write:!0}})],W.prototype,"where",void 0),W=O=(0,C._)([(0,L.j)("esri.rest.support.TopFeaturesQuery")],W),W.from=(0,$.se)(W);const z=W},46143:(Ke,Ee,E)=>{"use strict";E.d(Ee,{V:()=>j,i:()=>U});var C=E(93618),D=E(85241),Z=E(68020);const j={key:"type",base:D.Z,typeMap:{algorithmic:C.Z,multipart:Z.Z}};function U(Y){return Y?.type?"algorithmic"===Y.type?C.Z.fromJSON(Y):"multipart"===Y.type?Z.Z.fromJSON(Y):null:null}},15462:(Ke,Ee,E)=>{"use strict";E.d(Ee,{cv:()=>$,en:()=>V,lA:()=>Y}),E(11931),E(26152);var Z=E(34222),j=E(6785);function Y(x,B){return B?{...B,query:{...x??{},...B.query}}:{query:x}}function V(x){return"string"==typeof x?(0,j.mN)(x):(0,Z.d9)(x)}function $(x,B,k){const R={};for(const H in x){if("declaredClass"===H)continue;const N=x[H];if(null!=N&&"function"!=typeof N)if(Array.isArray(N)){R[H]=[];for(let P=0;P<N.length;P++)R[H][P]=$(N[P])}else if("object"==typeof N)if(N.toJSON){const P=N.toJSON(k?.[H]);R[H]=B?P:JSON.stringify(P)}else R[H]=B?N:JSON.stringify(N);else R[H]=N}return R}E(40907)},43157:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$8:()=>oe,a8:()=>H});var C=E(94678),D=E(85295),U=(E(4978),E(63335),E(764));function H(se){return(0,D.y2)(se)||(0,D.UQ)(se)||(0,D.ig)(se)}function oe(se,ue){const{format:he,timeZoneOptions:G,fieldType:le}=ue??{};let q,fe;if(G&&({timeZone:q,timeZoneName:fe}=(0,U.Np)(G.layerTimeZone,G.datesInUnknownTimezone,G.viewTimeZone,(0,C.Ze)(he||"short-date-short-time"),le)),"string"==typeof se&&isNaN(Date.parse("time-only"===le?`1970-01-01T${se}Z`:se)))return se;switch(le){case"date-only":{const ge=(0,C.Ze)(he||"short-date");return"string"==typeof se?(0,C.o8)(se,{...ge}):(0,C.p6)(se,{...ge,timeZone:U.pt})}case"time-only":{const ge=(0,C.Ze)(he||"short-time");return"string"==typeof se?(0,C.LJ)(se,ge):(0,C.p6)(se,{...ge,timeZone:U.pt})}case"timestamp-offset":{if(!q&&"string"==typeof se&&new Date(se).toISOString()!==se)return se;const ge=he||G?(0,C.Ze)(he||"short-date-short-time"):void 0,me=ge?{...ge,timeZone:q,timeZoneName:fe}:void 0;return"string"==typeof se?(0,C.i$)(se,me):(0,C.p6)(se,me)}default:{const ge=he||G?(0,C.Ze)(he||"short-date-short-time"):void 0;return(0,C.p6)("string"==typeof se?new Date(se):se,ge?{...ge,timeZone:q,timeZoneName:fe}:void 0)}}}},72262:(Ke,Ee,E)=>{"use strict";E.d(Ee,{J:()=>B});var C=E(50484),D=E(35458),j=(E(4703),E(1535)),$=(E(57678),E(14007),E(57964),E(63788)),L=E(10141),x=E(18714);let B=class extends x.a{_own(k){k.layer&&"remove"in k.layer&&k.layer!==this.owner&&k.layer.remove(k),k.layer=this.owner}_release(k){k.layer===this.owner&&(k.layer=null)}};(0,C._)([(0,$.c)({Type:D.Z,ensureType:(0,j.se)(D.Z)})],B.prototype,"itemType",void 0),B=(0,C._)([(0,L.j)("esri.support.GraphicsCollection")],B)},95140:(Ke,Ee,E)=>{"use strict";E.d(Ee,{K:()=>R});var C=E(50484),D=E(83944),Z=E(18626),j=E(4703),U=E(79412),Y=E(80543),x=(E(1535),E(57678),E(14007),E(10141)),B=E(95060);function k(H,N,P){let w,O;if(H)for(let I=0,T=H.length;I<T;I++){if(w=H.at(I),w?.[N]===P)return w;if("group"===w?.type&&(O=k(w.layers,N,P),O))return O}}const R=H=>{let N=class extends H{constructor(...P){super(...P),this.layers=new D.Z;const O=T=>{T.parent=this,this.layerAdded(T),"elevation"!==T.type&&"base-elevation"!==T.type||j.Z.getLogger(this).error(`Layer 'title:${T.title}, id:${T.id}' of type '${T.type}' is not supported as an operational layer and will therefore be ignored.`)},I=T=>{T.parent=null,this.layerRemoved(T)};this.addHandles([this.layers.on("before-add",T=>(T=>{T.parent&&"remove"in T.parent&&T.parent.remove(T)})(T.item)),this.layers.on("after-add",T=>O(T.item)),this.layers.on("after-remove",T=>I(T.item))])}destroy(){const P=this.layers.toArray();for(const w of P)w.destroy();this.layers.destroy()}set layers(P){this._set("layers",(0,Z.Z)(P,this._get("layers")))}add(P,w){const O=this.layers;if(w=O.getNextIndex(w),P instanceof B.Z){const I=P;I.parent===this?this.reorder(I,w):O.add(I,w)}else(0,U.y8)(P)?P.then(I=>{this.destroyed||this.add(I,w)}):j.Z.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(P,w){const O=this.layers;let I=O.getNextIndex(w);P.slice().forEach(T=>{T.parent!==this?(O.add(T,I),I+=1):this.reorder(T,I)})}findLayerById(P){return k(this.layers,"id",P)}findLayerByUid(P){return k(this.layers,"uid",P)}remove(P){return this.layers.remove(P)}removeMany(P){return this.layers.removeMany(P)}removeAll(){return this.layers.removeAll()}reorder(P,w){return this.layers.reorder(P,w)}layerAdded(P){}layerRemoved(P){}};return(0,C._)([(0,Y.Cb)()],N.prototype,"layers",null),N=(0,C._)([(0,x.j)("esri.support.LayersMixin")],N),N}},16031:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Q:()=>B});var C=E(50484),D=E(83944),Z=E(18626),j=E(4703),U=E(80543),L=(E(1535),E(57678),E(14007),E(10141));function x(k,R,H){if(k)for(let N=0,P=k.length;N<P;N++){const w=k.at(N);if(w[R]===H)return w;if("group"===w?.type){const O=x(w.tables,R,H);if(O)return O}}}const B=k=>{let R=class extends k{constructor(...H){super(...H),this.tables=new D.Z,this.addHandles([this.tables.on("after-add",N=>{const P=N.item;P.parent&&P.parent!==this&&"tables"in P.parent&&P.parent.tables.remove(P),P.parent=this,"feature"!==P.type&&j.Z.getLogger(this).error(`Layer 'title:${P.title}, id:${P.id}' of type '${P.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",N=>{N.item.parent=null})])}destroy(){const H=this.tables.toArray();for(const N of H)N.destroy();this.tables.destroy()}set tables(H){this._set("tables",(0,Z.Z)(H,this._get("tables")))}findTableById(H){return x(this.tables,"id",H)}findTableByUid(H){return x(this.tables,"uid",H)}};return(0,C._)([(0,U.Cb)()],R.prototype,"tables",null),R=(0,C._)([(0,L.j)("esri.support.TablesMixin")],R),R}},72031:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(73514),Z=E(84373),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let x=L=class extends((0,Z.IG)(D.Z)){constructor(k){super(k),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new L({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,C._)([(0,j.Cb)()],x.prototype,"active",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"className",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"disabled",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"icon",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"id",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"indicator",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"title",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"type",void 0),(0,C._)([(0,j.Cb)()],x.prototype,"visible",void 0),x=L=(0,C._)([(0,$.j)("esri.support.actions.ActionBase")],x);const B=x},99002:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(72031);let L=$=class extends V.Z{constructor(B){super(B),this.image=null,this.type="button"}clone(){return new $({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,C._)([(0,D.Cb)()],L.prototype,"image",void 0),L=$=(0,C._)([(0,Y.j)("esri.support.Action.ActionButton")],L);const x=L},25917:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var $,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(72031);let L=$=class extends V.Z{constructor(B){super(B),this.image=null,this.type="toggle",this.value=!1}clone(){return new $({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,C._)([(0,D.Cb)()],L.prototype,"image",void 0),(0,C._)([(0,D.Cb)()],L.prototype,"value",void 0),L=$=(0,C._)([(0,Y.j)("esri.support.Action.ActionToggle")],L);const x=L},40907:(Ke,Ee,E)=>{"use strict";E.d(Ee,{r:()=>j});var C=E(6785);const D=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function j(U){const Y=(0,C.P$)(U,!0);return!!Y&&Y.endsWith(".arcgis.com")&&!D.has(Y)&&!U.endsWith("/sharing/rest/generateToken")}},4978:(Ke,Ee,E)=>{"use strict";E.d(Ee,{LC:()=>$,WW:()=>L,Yi:()=>x,mz:()=>R,pp:()=>k});var C=E(15861),Z=(E(2189),E(57964)),j=E(4703),U=E(43814);const Y=j.Z.getLogger("esri.support.arcadeOnDemand");let V;function $(){return V||(V=(0,C.Z)(function*(){const H=yield Promise.all([E.e(842),E.e(3866),E.e(4025)]).then(E.bind(E,34025));return{arcade:H.arcade,arcadeUtils:H,Dictionary:H.Dictionary,Feature:H.arcadeFeature}})()),V}const L=(H,N,P)=>R.create(H,N,P,null,["$feature","$view"],[]),x=(H,N,P)=>R.create(H,N,P,null,["$feature","$view"],[]),k=(H,N,P,w)=>R.create(H,N,P,w,["$feature","$view"],[]);class R{constructor(N,P,w,O,I,T,W){this.services=null,this.script=N,this.evaluate=O;const z=Array.isArray(T)?T:T.fields;this.fields=z,this._syntaxTree=w,this._arcade=P,this._arcadeFeature=I,this._spatialReference=W,this._referencesGeometry=P.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(N,P,w,O,I,T){return(0,C.Z)(function*(){const{arcade:W,Feature:z,Dictionary:F}=yield $(),Q=U.Z.fromJSON(P);let J;try{J=W.parseScript(N,T)}catch(ee){return Y.error(new Z.Z("arcade-bad-expression","Failed to parse arcade script",{script:N,error:ee})),null}const oe=I.reduce((ee,ce)=>({...ee,[ce]:null}),{});let se=null;null!=O&&(se=new F(O),se.immutable=!0,oe.$config=null);const ue=W.scriptUsesGeometryEngine(J),he=ue&&W.enableGeometrySupport(),G=W.scriptUsesFeatureSet(J)&&W.enableFeatureSetSupport(),le=W.scriptIsAsync(J),q=le&&W.enableAsyncSupport(),fe={vars:oe,spatialReference:Q,useAsync:!!q};yield Promise.all([he,G,q]);const ge=new Set;yield W.loadDependentModules(ge,J,null,le,ue);const me=new F;me.immutable=!1,me.setField("scale",0);const te=W.compileScript(J,fe);return new R(N,W,J,(ee,ce)=>{const ie=ee.$view?.timeZone;return"$view"in ee&&ee.$view&&(me.setField("scale","object"==typeof ee.$view&&"scale"in ee.$view?ee.$view.scale:void 0),ee.$view=me),se&&(ee.$config=se),te({vars:ee,spatialReference:Q,services:ce,timeZone:ie})},new z,w,Q)})()}repurposeFeature(N){return N.geometry&&!N.geometry.spatialReference&&(N.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(N.geometry,N.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},20940:(Ke,Ee,E)=>{"use strict";function C(Z){const j=atob(Z),U=new Uint8Array(j.length);for(let Y=0;Y<j.length;Y++)U[Y]=j.charCodeAt(Y);return U.buffer}function D(Z){const j=new Uint8Array(Z);let U="";for(let Y=0;Y<j.length;Y++)U+=String.fromCharCode(j[Y]);return btoa(U)}E.d(Ee,{R:()=>C,s:()=>D})},72380:(Ke,Ee,E)=>{"use strict";E.d(Ee,{g:()=>j,s:()=>Y});var C=E(15861),D=E(98930),Z=E(33653);function j(V){return U.apply(this,arguments)}function U(){return(U=(0,C.Z)(function*(V){if(!V)return;const $=V.includes("-vector")?V.slice(0,V.indexOf("-vector")):V.includes("-3d")?V.slice(0,V.indexOf("-3d")):V,L=yield(0,Z.ME)("esri/t9n/basemaps");return L[V]||L[$]})).apply(this,arguments)}const Y={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,D.V)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,D.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},63335:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Bf:()=>k,Df:()=>B,Qs:()=>ce,Us:()=>J,aL:()=>Q,se:()=>R,zb:()=>F});var C=E(7624),D=E(11931),Z=E(83944),j=E(4703),U=E(51172),Y=E(6785),V=E(1535),$=E(99072),L=E(72380);const x=j.Z.getLogger("esri.support.basemapUtils");function B(){return{}}function k(ne){for(const pe in ne)(0,U.SC)(ne[pe]),delete ne[pe]}function R(ne,pe){let ye;if("string"==typeof ne){const re=ne in L.s,ve=!re&&ne.includes("/");if(!re&&!ve){const Oe=Object.entries(L.s).filter(([Me,Se])=>D.default.apiKey&&!Se.classic||!D.default.apiKey&&(Se.classic||Se.is3d)).map(([Me])=>`"${Me}"`).sort().join(", ");return x.warn(`Unable to find basemap definition for: ${ne}. Try one of these: ${Oe}`),null}pe&&(ye=pe[ne]),ye||(ye=re?C.default.fromId(ne):new C.default({style:{id:ne}}),pe&&(pe[ne]=ye))}else ye=(0,V.se)(C.default,ne);return ye?.destroyed&&(x.warn("The provided basemap is already destroyed",{basemap:ye}),ye=null),ye}let O;function F(ne){return!!ne?.baseLayers.concat(ne.referenceLayers).some(Q)}function Q(ne){if(se(ne.url))return!0;if("vector-tile"===ne.type)for(const pe in ne.sourceNameToSource){const ye=ne.sourceNameToSource[pe];if(se(ye?.sourceUrl))return!0}return!1}function J(ne,pe){if(null==pe||null==ne)return{spatialReference:null,updating:!1};if("not-loaded"===pe.loadStatus)return pe.load(),{spatialReference:null,updating:!0};if(pe.spatialReference)return{spatialReference:pe.spatialReference,updating:!1};if(0===pe.baseLayers.length)return{spatialReference:null,updating:!1};const ye=pe.baseLayers.at(0);switch(ye.loadStatus){case"not-loaded":ye.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const re=(("supportedSpatialReferences"in ye?ye.supportedSpatialReferences:null)||["tileInfo"in ye?ye.tileInfo?.spatialReference:ye.spatialReference]).filter(Boolean),ve=ne.spatialReference;return ve?{spatialReference:re.find(Oe=>ve.equals(Oe))??re[0]??null,updating:!1}:{spatialReference:re[0],updating:!1}}const oe=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function se(ne){if(!ne)return!1;const pe=new Y.R9((0,Y.hF)(ne));return!!pe.authority&&oe.test(pe.authority)}function he(ne){return(Z.Z.isCollection(ne)?ne.toArray():ne).map(G)}function G(ne){return{type:ne.type,effect:"effect"in ne?ne.effect:void 0,url:ee("urlTemplate"in ne&&ne.urlTemplate||ne.url||"styleUrl"in ne&&ne.styleUrl||""),minScale:"minScale"in ne&&null!=ne.minScale?ne.minScale:0,maxScale:"maxScale"in ne&&null!=ne.maxScale?ne.maxScale:0,opacity:null!=ne.opacity?ne.opacity:1,visible:null==ne.visible||!!ne.visible,sublayers:"map-image"!==ne.type&&"wms"!==ne.type||null==ne.sublayers?void 0:ne.sublayers?.map(pe=>({id:pe.id,visible:pe.visible})),activeLayerId:"wmts"===ne.type?ne.activeLayer?.id:void 0}}function le(ne){return ne.isReference||"ArcGISSceneServiceLayer"===ne.layerType}function q(ne){return ne?{baseLayers:fe((ne.baseMapLayers??[]).filter(pe=>!le(pe))),referenceLayers:fe((ne.baseMapLayers??[]).filter(pe=>le(pe)))}:null}function fe(ne){return ne.map(pe=>function ge(ne){let pe;switch(ne.layerType){case"VectorTileLayer":pe="vector-tile";break;case"ArcGISTiledMapServiceLayer":pe="tile";break;case"ArcGISSceneServiceLayer":pe="scene";break;default:pe="unknown"}return{type:pe,effect:ne.effect,url:ee(ne.templateUrl||ne.urlTemplate||ne.styleUrl||ne.url),minScale:ne.minScale??0,maxScale:ne.maxScale??0,opacity:ne.opacity??1,visible:null==ne.visibility||!!ne.visibility,sublayers:void 0,activeLayerId:void 0}}(pe))}function me(ne,pe,ye){return null!=ne!=(null!=pe)?"not-equal":ne&&pe?te(ne.baseLayers,pe.baseLayers)?te(ne.referenceLayers,pe.referenceLayers)?"equal":ye.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function te(ne,pe){if(ne.length!==pe.length)return!1;for(let ye=0;ye<ne.length;ye++)if(!ae(ne[ye],pe[ye]))return!1;return!0}function ae(ne,pe){if(ne.type!==pe.type||ne.url!==pe.url||ne.minScale!==pe.minScale||ne.maxScale!==pe.maxScale||ne.visible!==pe.visible||ne.opacity!==pe.opacity||!(0,$.yQ)(ne.effect,pe.effect))return!1;if(null!=ne.activeLayerId||null!=pe.activeLayerId)return ne.activeLayerId===pe.activeLayerId;if(null!=ne.sublayers||null!=pe.sublayers){if(null==ne.sublayers||null==pe.sublayers||ne.sublayers.length!==pe.sublayers.length)return!1;for(let ye=0;ye<ne.sublayers.length;ye++){const re=ne.sublayers.at(ye),ve=pe.sublayers.at(ye);if(re?.id!==ve?.id||re?.visible!==ve?.visible)return!1}}return!0}function ee(ne){return ne?(0,Y.Fv)(ne).replace(/^\s*https?:/i,"").toLowerCase():""}function ce(ne){if(!ne)return null;const{thumbnailUrl:pe}=ne;if(pe)return pe;const ye=function I(ne){if(O)return O(ne);let pe=null;const ye=function ue(ne){return ne?!ne.loaded&&ne.resourceInfo?q(ne.resourceInfo.data):{baseLayers:he(ne.baseLayers),referenceLayers:he(ne.referenceLayers)}:null}(ne),re=!ye?.baseLayers.length;for(const ve in L.s){const Oe=me(ye,q(L.s[ve]),{mustMatchReferences:re});if("equal"===Oe){pe=ve;break}"base-layers-equal"===Oe&&(pe=ve)}return pe}(ne);return ye?L.s[ye].thumbnailUrl:(0,U.ei)(ne.baseLayers,ie)}function ie(ne){return"portalItem"in ne?ne.portalItem?.thumbnailUrl:void 0}},41528:(Ke,Ee,E)=>{"use strict";E.d(Ee,{O:()=>Z,a:()=>D});var C=E(5603);function D(j){return new C.Z({getCollections:()=>[j.tables,j.layers],getChildrenFunction:U=>{const Y=[];return"tables"in U&&Y.push(U.tables),"layers"in U&&Y.push(U.layers),Y},itemFilterFunction:U=>{const Y=U.parent;return!!Y&&"tables"in Y&&Y.tables.includes(U)}})}function Z(j){for(const U of j.values())U?.destroy();j.clear()}},13967:(Ke,Ee,E)=>{"use strict";E.d(Ee,{K3:()=>D,Rx:()=>L});var C=E(14007);const D=()=>!!(0,C.Z)("enable-feature:force-wosr"),L=()=>!!(0,C.Z)("enable-feature:SceneLayer-editing");((R="i3s-patching")=>{switch(C.Z.add("enable-i3s-patching",!1,!0,!0),C.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),C.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),R){case"feature-layer-view":C.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":C.Z.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},33331:(Ke,Ee,E)=>{"use strict";E.d(Ee,{eZ:()=>R});var C=E(62691),D=E(85295),Z=E(20004),V=(E(37462),E(52225),E(49497),E(90629)),B=(E(57229),E(98522),E(23002),E(42271)),k=E(17831);function R({displayField:ue,editFieldsInfo:he,fields:G,objectIdField:le,title:q},fe){if(!G)return null;const ge=function I(ue,he){const G=he?.visibleFieldNames;return function P(ue,he){const G=ue;return he&&(ue=ue.filter(le=>!he.includes(le.type))),ue===G&&(ue=ue.slice()),ue.sort(w),ue}(ue.fields??[],he?.ignoreFieldTypes||se).map(le=>new B.Z({fieldName:le.name,isEditable:(0,D.Hp)(le,ue),label:le.alias,format:z(le),visible:N(le,{...ue,visibleFieldNames:G})}))}({editFieldsInfo:he,fields:G,objectIdField:le},fe);if(!ge.length)return null;const me=function J(ue){const he=(0,D.O5)(ue),{titleBase:G}=ue;return he?`${G}: {${he.trim()}}`:G??""}({titleBase:q,fields:G,displayField:ue}),te=function F(){return[new V.Z,new Z.Z]}();return new C.Z({title:me,content:te,fieldInfos:ge})}const N=(ue,he)=>he.visibleFieldNames?he.visibleFieldNames.has(ue.name):(0,D.Fv)(ue,he);function w(ue,he){return"oid"===ue.type?-1:"oid"===he.type?1:oe(ue)?-1:oe(he)?1:(ue.alias||ue.name).toLocaleLowerCase().localeCompare((he.alias||he.name).toLocaleLowerCase())}function z(ue){switch(ue.type){case"small-integer":case"integer":case"single":return new k.Z({digitSeparator:!0,places:0});case"double":return new k.Z({digitSeparator:!0,places:2});case"string":return(0,D.Ec)(ue.name)?new k.Z({digitSeparator:!0,places:0}):null;default:return null}}function oe(ue){return"name"===(ue.name&&ue.name.toLowerCase())||"name"===(ue.alias&&ue.alias.toLowerCase())}const se=["geometry","blob","raster","guid","xml"]},33258:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Hu:()=>B,Tf:()=>L,fY:()=>Y,jH:()=>k,jz:()=>R});var C=E(15861),D=E(11931),Z=E(14007),j=E(79412),U=E(6785);function Y(N,P,w=!1,O){return new Promise((I,T)=>{if((0,j.Hc)(O))return void T(V());let W=()=>{Q(),T(new Error(`Unable to load ${P}`))},z=()=>{const J=N;Q(),I(J)},F=()=>{if(!N)return;const J=N;Q(),J.src="",T(V())};const Q=()=>{(0,Z.Z)("esri-image-decode")||(N.removeEventListener("error",W),N.removeEventListener("load",z)),W=null,z=null,N=null,O?.removeEventListener("abort",F),F=null,w&&URL.revokeObjectURL(P)};O?.addEventListener("abort",F),(0,Z.Z)("esri-image-decode")?N.decode().then(z,W):(N.addEventListener("error",W),N.addEventListener("load",z))})}function V(){try{return new DOMException("Aborted","AbortError")}catch{const N=new Error;return N.name="AbortError",N}}const $="Timeout exceeded";function L(){return new Error($)}function B(N){D.default.request.crossOriginNoCorsDomains||(D.default.request.crossOriginNoCorsDomains={});const P=D.default.request.crossOriginNoCorsDomains;for(let w of N)w=w.toLowerCase(),/^https?:\/\//.test(w)?P[(0,U.P$)(w)??""]=0:(P[(0,U.P$)("http://"+w)??""]=0,P[(0,U.P$)("https://"+w)??""]=0)}function k(N){const P=D.default.request.crossOriginNoCorsDomains;if(P){let w=(0,U.P$)(N);if(w)return w=w.toLowerCase(),!(0,U.D6)(w,(0,U.TI)())&&P[w]<Date.now()-36e5}return!1}function R(N){return H.apply(this,arguments)}function H(){return(H=(0,C.Z)(function*(N){const P=D.default.request.crossOriginNoCorsDomains,w=(0,U.P$)(N);P&&w&&(P[w.toLowerCase()]=Date.now());const O=(0,U.mN)(N);N=O.path,"json"===O.query?.f&&(N+="?f=json");try{yield fetch(N,{mode:"no-cors",credentials:"include"})}catch{}})).apply(this,arguments)}},89610:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$:()=>D,r:()=>C});const C="20231115",D="a6fcf2901ef678ef17a528e11b93ffe09e3ec267"},55774:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$o:()=>Z,V$:()=>U});const C="calcite-mode-";function Z(){return function D(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}().startsWith("dark")}function U(V){(function Y(V){Array.from(V.classList).forEach($=>{$.startsWith(C)&&V.classList.remove($)})})(V),V.classList.add(function j(){return`${C}${Z()?"dark":"light"}`}())}},71950:(Ke,Ee,E)=>{"use strict";E.d(Ee,{se:()=>X,cT:()=>pe,dU:()=>ye,S9:()=>Oe,LB:()=>re,AH:()=>ve,yK:()=>Se,S6:()=>Ge,QT:()=>Me,f_:()=>xe});var F,C=E(1535),D=E(50106),Z=E(66641),U=(E(29295),E(22225)),L=(E(13714),E(14890),E(86394),E(82108)),x=E(92227),R=(E(91729),E(47326),E(75771)),P=(E(57093),E(42919),E(50484)),w=E(34222),O=E(55768),I=E(80543),T=E(21070),W=E(10141),z=E(43845);let Q=F=class extends U.Z{constructor(...be){super(...be),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(be,Re,Fe,qe){if(be&&"string"!=typeof be&&null==be.imageData)return be;const We={};return be&&(We.url=be),Re&&(We.outline=Re),null!=Fe&&(We.width=(0,O.t_)(Fe)),null!=qe&&(We.height=(0,O.t_)(qe)),We}clone(){const be=new F({color:(0,w.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return be._set("source",(0,w.d9)(this.source)),be}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,P._)([(0,T.J)({esriPFS:"picture-fill"},{readOnly:!0})],Q.prototype,"type",void 0),(0,P._)([(0,I.Cb)(z.KA)],Q.prototype,"url",void 0),(0,P._)([(0,I.Cb)({type:Number,json:{write:!0}})],Q.prototype,"xscale",void 0),(0,P._)([(0,I.Cb)({type:Number,json:{write:!0}})],Q.prototype,"yscale",void 0),(0,P._)([(0,I.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Q.prototype,"width",void 0),(0,P._)([(0,I.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Q.prototype,"height",void 0),(0,P._)([(0,I.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Q.prototype,"xoffset",void 0),(0,P._)([(0,I.Cb)({type:Number,cast:O.t_,json:{write:!0}})],Q.prototype,"yoffset",void 0),(0,P._)([(0,I.Cb)(z.Ds)],Q.prototype,"source",void 0),Q=F=(0,P._)([(0,W.j)("esri.symbols.PictureFillSymbol")],Q);const J=Q;var oe=E(41391),se=E(31110),ue=E(87137),he=E(89481),G=E(66637),le=E(35451),q=E(85601),me=(E(15954),E(78800),E(52248)),ee=(E(2068),E(36856),E(80121));function pe(be){if(!be)return!1;switch(be.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function ye(be){if(!be)return!1;switch(be.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}E(99086),E(84699);const re={base:q.Z,key:"type",typeMap:{"simple-fill":he.Z,"picture-fill":J,"picture-marker":oe.Z,"simple-line":G.Z,"simple-marker":le.Z,text:me.Z,"label-3d":L.Z,"line-3d":x.Z,"mesh-3d":R.Z,"point-3d":se.Z,"polygon-3d":ue.Z,"web-style":ee.Z,cim:Z.Z},errorContext:"symbol"},ve={base:q.Z,key:"type",typeMap:{"picture-marker":oe.Z,"simple-marker":le.Z,text:me.Z,"web-style":ee.Z,cim:Z.Z},errorContext:"symbol"},Oe=(0,D.d)({types:re}),Me={base:q.Z,key:"type",typeMap:{"simple-fill":he.Z,"picture-fill":J,"picture-marker":oe.Z,"simple-line":G.Z,"simple-marker":le.Z,text:me.Z,"line-3d":x.Z,"mesh-3d":R.Z,"point-3d":se.Z,"polygon-3d":ue.Z,"web-style":ee.Z,cim:Z.Z},errorContext:"symbol"},Se={base:q.Z,key:"type",typeMap:{text:me.Z,"label-3d":L.Z},errorContext:"symbol"},xe={base:q.Z,key:"type",typeMap:{"line-3d":x.Z,"mesh-3d":R.Z,"point-3d":se.Z,"polygon-3d":ue.Z,"web-style":ee.Z,cim:Z.Z},errorContext:"symbol"},Ge={base:q.Z,key:"type",typeMap:{"label-3d":L.Z},errorContext:"symbol"},X=(0,C.N7)(re)},66641:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var R,C=E(15861),D=E(50484),Z=E(34222),j=E(72578),U=E(80543),V=(E(1535),E(21070)),$=E(62185),L=E(10141),x=E(7547),B=E(85295),k=E(85601);let H=R=class extends k.Z{constructor(P){super(P),this.data=null,this.type="cim"}readData(P,w){return w}writeData(P,w){Object.assign(w,P)}collectRequiredFields(P,w){var O=this;return(0,C.Z)(function*(){if("CIMSymbolReference"===O.data?.type){const I=O.data.primitiveOverrides;if(I){const T=I.map(W=>(0,B.io)(P,w,W.valueExpressionInfo.expression));yield Promise.all(T)}}})()}clone(){return new R({data:(0,Z.d9)(this.data)})}hash(){return(0,j.hP)(JSON.stringify(this.data)).toString()}};(0,D._)([(0,U.Cb)({json:{write:!1}})],H.prototype,"color",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],H.prototype,"data",void 0),(0,D._)([(0,$.r)("data",["symbol"])],H.prototype,"readData",null),(0,D._)([(0,x.c)("data",{})],H.prototype,"writeData",null),(0,D._)([(0,V.J)({CIMSymbolReference:"cim"},{readOnly:!0})],H.prototype,"type",void 0),H=R=(0,D._)([(0,L.j)("esri.symbols.CIMSymbol")],H);const N=H},29295:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var B,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(21070)),V=E(10141),$=E(78800),L=E(43931),x=E(41647);let k=B=class extends $.Z{constructor(H){super(H),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new B({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,C._)([(0,Y.J)({Extrude:"extrude"},{readOnly:!0})],k.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],k.prototype,"size",void 0),(0,C._)([(0,D.Cb)({type:x.b,json:{write:!0}})],k.prototype,"material",void 0),(0,C._)([(0,D.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],k.prototype,"castShadows",void 0),(0,C._)([(0,D.Cb)(L.Z)],k.prototype,"edges",void 0),k=B=(0,C._)([(0,V.j)("esri.symbols.ExtrudeSymbol3DLayer")],k);const R=k},22225:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(66637),$=E(85601);let L=class extends $.Z{constructor(B){super(B),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,C._)([(0,D.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":V.Z}},json:{default:null,write:!0}})],L.prototype,"outline",void 0),(0,C._)([(0,D.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],L.prototype,"type",void 0),L=(0,C._)([(0,Y.j)("esri.symbols.FillSymbol")],L);const x=L},13714:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ue});var w,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(21070)),V=E(10141),$=E(78800),L=E(43931),x=E(3019),B=E(90646),k=E(76214),R=E(72438),P=(E(4703),E(57964),E(41647));let O=w=class extends P.b{constructor(he){super(he),this.colorMixMode=null}clone(){const he={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new w(he)}};(0,C._)([(0,Y.J)({multiply:"multiply",replace:"replace",tint:"tint"})],O.prototype,"colorMixMode",void 0),O=w=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DFillMaterial")],O);var Q,I=E(66599),T=E(89317),W=E(55768),z=E(34895),F=E(58156);let J=Q=class extends T.wq{constructor(he){super(he),this.color=new I.Z([0,0,0,1]),this.size=(0,W.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const he={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new Q(he)}};var oe;(0,C._)([(0,D.Cb)(z.a)],J.prototype,"color",void 0),(0,C._)([(0,D.Cb)(z.y)],J.prototype,"size",void 0),(0,C._)([(0,D.Cb)(k.D)],J.prototype,"pattern",void 0),(0,C._)([(0,D.Cb)({type:F.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],J.prototype,"patternCap",void 0),J=Q=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DOutline")],J);let se=oe=class extends $.Z{constructor(he){super(he),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const he={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new oe(he)}static fromSimpleFillSymbol(he){const G=he.outline&&he.outline.style&&"inside-frame"!==he.outline.style&&"solid"!==he.outline.style?new x.Z({style:he.outline.style}):null,le={size:he.outline?.width??0,color:(he.outline?.color??R.ix).clone(),pattern:G};return G&&he.outline?.cap&&(le.patternCap=he.outline.cap),new oe({material:new O({color:(he.color??R.l9).clone()}),pattern:he.style&&"solid"!==he.style?new B.Z({style:he.style}):null,outline:le})}};(0,C._)([(0,Y.J)({Fill:"fill"},{readOnly:!0})],se.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:O,json:{write:!0}})],se.prototype,"material",void 0),(0,C._)([(0,D.Cb)(k.q)],se.prototype,"pattern",void 0),(0,C._)([(0,D.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],se.prototype,"castShadows",void 0),(0,C._)([(0,D.Cb)({type:J,json:{write:!0}})],se.prototype,"outline",void 0),(0,C._)([(0,D.Cb)(L.Z)],se.prototype,"edges",void 0),se=oe=(0,C._)([(0,V.j)("esri.symbols.FillSymbol3DLayer")],se);const ue=se},14890:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var x,C=E(50484),D=E(89317),Z=E(55768),j=E(80543),U=E(73018),$=(E(57678),E(14007),E(10141)),L=E(52759);let B=x=class extends D.wq{constructor(R){super(R),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(R){return(0,Z.t_)(R)}clone(){return new x({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,C._)([(0,j.Cb)({type:L.JT,json:{default:"none",write:!0}})],B.prototype,"decoration",void 0),(0,C._)([(0,j.Cb)({type:String,json:{write:!0}})],B.prototype,"family",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:{overridePolicy:(R,H,N)=>({enabled:!N||!N.textSymbol3D})}}})],B.prototype,"size",void 0),(0,C._)([(0,U.p)("size")],B.prototype,"castSize",null),(0,C._)([(0,j.Cb)({type:L.g6,json:{default:"normal",write:!0}})],B.prototype,"style",void 0),(0,C._)([(0,j.Cb)({type:L.vC,json:{default:"normal",write:!0}})],B.prototype,"weight",void 0),B=x=(0,C._)([(0,$.j)("esri.symbols.Font")],B);const k=B},86394:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ue});var O,C=E(50484),D=E(4703),Z=E(6785),j=E(80543),$=(E(1535),E(57678),E(14007),E(21070)),L=E(10141),x=E(78800),B=E(72438),k=E(81218),R=E(34895),H=E(94970),N=E(66599),P=E(89317),w=E(55768);let I=O=class extends P.wq{constructor(he){super(he),this.color=new N.Z([0,0,0,1]),this.size=(0,w.Wz)(1)}clone(){const he={color:null!=this.color?this.color.clone():null,size:this.size};return new O(he)}};(0,C._)([(0,j.Cb)(R.a)],I.prototype,"color",void 0),(0,C._)([(0,j.Cb)(R.y)],I.prototype,"size",void 0),I=O=(0,C._)([(0,L.j)("esri.symbols.support.Symbol3DIconOutline")],I);var W,T=E(41647);const z="esri.symbols.IconSymbol3DLayer";let F=W=class extends x.Z{constructor(he){super(he),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new W({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(he){const G=he.color||B.ix,le=Q(he),q=he.outline&&he.outline.width>0?{size:he.outline.width,color:(he.outline.color||B.ix).clone()}:null;return new W({size:he.size,resource:{primitive:se(he.style)},material:{color:G},outline:q,anchor:le?"relative":void 0,anchorPosition:le})}static fromPictureMarkerSymbol(he){const G=!he.color||(0,B.rx)(he.color)?B.ix:he.color,le=Q(he);return new W({size:he.width<=he.height?he.height:he.width,resource:{href:he.url},material:{color:G.clone()},anchor:le?"relative":void 0,anchorPosition:le})}static fromCIMSymbol(he){return new W({resource:{href:(0,Z._l)({mediaType:"application/json",data:JSON.stringify(he.data)})}})}};function Q(he){const G="width"in he?he.width:he.size,le="height"in he?he.height:he.size,q=J(he.xoffset),fe=J(he.yoffset);return(q||fe)&&G&&le?{x:-q/G,y:fe/le}:null}function J(he){return isFinite(he)?he:0}(0,C._)([(0,j.Cb)({type:T.b,json:{write:!0}})],F.prototype,"material",void 0),(0,C._)([(0,j.Cb)({type:k.b,json:{write:!0}})],F.prototype,"resource",void 0),(0,C._)([(0,$.J)({Icon:"icon"},{readOnly:!0})],F.prototype,"type",void 0),(0,C._)([(0,j.Cb)(R.y)],F.prototype,"size",void 0),(0,C._)([(0,$.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,j.Cb)({json:{default:"center"}})],F.prototype,"anchor",void 0),(0,C._)([(0,j.Cb)({type:H.e,json:{type:[Number],read:{reader:he=>new H.e({x:he[0],y:he[1]})},write:{writer:(he,G)=>{G.anchorPosition=[he.x,he.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],F.prototype,"anchorPosition",void 0),(0,C._)([(0,j.Cb)({type:I,json:{write:!0}})],F.prototype,"outline",void 0),F=W=(0,C._)([(0,L.j)(z)],F);const oe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function se(he){return oe[he]||(D.Z.getLogger(z).warn(`${he} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const ue=F},82108:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var k,C=E(50484),D=E(83944),Z=E(34222),j=E(80543),Y=(E(1535),E(21070)),V=E(10141),$=E(15954),L=E(2068),x=E(58223),B=E(85581);const R=D.Z.ofType({base:null,key:"type",typeMap:{text:L.Z}});let H=k=class extends $.Z{constructor(P){super(P),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new R,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,x.gv)(this)}hasVisibleVerticalOffset(){return(0,x.Uy)(this)}clone(){return new k({styleOrigin:(0,Z.d9)(this.styleOrigin),symbolLayers:(0,Z.d9)(this.symbolLayers),thumbnail:(0,Z.d9)(this.thumbnail),callout:(0,Z.d9)(this.callout),verticalOffset:(0,Z.d9)(this.verticalOffset)})}static fromTextSymbol(P){return new k({symbolLayers:new D.Z([L.Z.fromTextSymbol(P)])})}};(0,C._)([(0,j.Cb)({type:B.Z,json:{write:!0}})],H.prototype,"verticalOffset",void 0),(0,C._)([(0,j.Cb)(x.Y2)],H.prototype,"callout",void 0),(0,C._)([(0,j.Cb)({json:{read:!1,write:!1}})],H.prototype,"styleOrigin",void 0),(0,C._)([(0,j.Cb)({type:R})],H.prototype,"symbolLayers",void 0),(0,C._)([(0,Y.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],H.prototype,"type",void 0),H=k=(0,C._)([(0,V.j)("esri.symbols.LabelSymbol3D")],H);const N=H},92227:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var B,C=E(50484),D=E(83944),Z=E(34222),j=E(80543),Y=(E(1535),E(21070)),V=E(10141),$=E(91729),L=E(42919),x=E(15954);const k=D.Z.ofType({base:null,key:"type",typeMap:{line:$.Z,path:L.Z}}),R=D.Z.ofType({base:null,key:"type",typeMap:{line:$.Z,path:L.Z}});let H=B=class extends x.Z{constructor(P){super(P),this.symbolLayers=new k,this.type="line-3d"}clone(){return new B({styleOrigin:(0,Z.d9)(this.styleOrigin),symbolLayers:(0,Z.d9)(this.symbolLayers),thumbnail:(0,Z.d9)(this.thumbnail)})}static fromSimpleLineSymbol(P){return new B({symbolLayers:new D.Z([$.Z.fromSimpleLineSymbol(P)])})}};(0,C._)([(0,j.Cb)({type:k,json:{type:R}})],H.prototype,"symbolLayers",void 0),(0,C._)([(0,Y.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],H.prototype,"type",void 0),H=B=(0,C._)([(0,V.j)("esri.symbols.LineSymbol3D")],H);const N=H},91729:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Q});var C=E(50484),D=E(55768),Z=E(80543),j=E(1535),V=(E(57678),E(14007),E(21070)),$=E(10141),L=E(66599),x=E(25387),B=E(89317),k=E(30930);let R=class extends((0,x.J)(B.wq)){constructor(J){super(J),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(J){return null!=J&&J.placement===this.placement&&J.style===this.style&&(null==this.color&&null==J.color||null!=this.color&&null!=J.color&&this.color.toJSON()===J.color.toJSON())}};(0,C._)([(0,Z.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],R.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:k.J,json:{default:"begin-end",write:!0}})],R.prototype,"placement",void 0),(0,C._)([(0,Z.Cb)({type:k.k,json:{default:"arrow",write:!0}})],R.prototype,"style",void 0),(0,C._)([(0,Z.Cb)({type:L.Z,json:{type:[j.z8],default:null,write:!0}})],R.prototype,"color",void 0),R=(0,C._)([(0,$.j)("esri.symbols.LineStyleMarker3D")],R);const H=R;var z,N=E(78800),P=E(3019),w=E(76214),O=E(72438),I=E(34895),T=E(41647),W=E(58156);let F=z=class extends N.Z{constructor(J){super(J),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,D.Wz)(1),this.pattern=null,this.marker=null}clone(){const J={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new z(J)}static fromSimpleLineSymbol(J){const oe={enabled:!0,size:J.width??(0,D.Wz)(1),cap:J.cap||"butt",join:J.join||"miter",pattern:J.style&&"inside-frame"!==J.style?new P.Z({style:J.style}):null,material:new T.b({color:(J.color||O.ix).clone()}),marker:J.marker?new H({placement:J.marker.placement,style:J.marker.style,color:J.marker.color?.clone()??null}):null};return new z(oe)}};(0,C._)([(0,Z.Cb)({type:T.b,json:{write:!0}})],F.prototype,"material",void 0),(0,C._)([(0,V.J)({Line:"line"},{readOnly:!0})],F.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:W.w2,json:{write:!0,default:"miter"}})],F.prototype,"join",void 0),(0,C._)([(0,Z.Cb)({type:W.Hc,json:{write:!0,default:"butt"}})],F.prototype,"cap",void 0),(0,C._)([(0,Z.Cb)(I.y)],F.prototype,"size",void 0),(0,C._)([(0,Z.Cb)(w.D)],F.prototype,"pattern",void 0),(0,C._)([(0,Z.Cb)({types:{key:"type",base:H,typeMap:{style:H}},json:{write:!0}})],F.prototype,"marker",void 0),F=z=(0,C._)([(0,$.j)("esri.symbols.LineSymbol3DLayer")],F);const Q=F},47326:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var C=E(50484),D=E(55768),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(85601);let L=class extends $.Z{constructor(B){super(B),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,C._)([(0,Z.Cb)({type:Number,json:{read:B=>B&&-1*B,write:(B,k)=>k.angle=B&&-1*B}})],L.prototype,"angle",void 0),(0,C._)([(0,Z.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],L.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:D.t_,json:{write:!0}})],L.prototype,"xoffset",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:D.t_,json:{write:!0}})],L.prototype,"yoffset",void 0),(0,C._)([(0,Z.Cb)({type:Number,cast:B=>"auto"===B?B:(0,D.t_)(B),json:{write:!0}})],L.prototype,"size",void 0),L=(0,C._)([(0,V.j)("esri.symbols.MarkerSymbol")],L);const x=L},75771:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var x,C=E(50484),D=E(83944),Z=E(34222),j=E(80543),Y=(E(1535),E(21070)),V=E(10141),$=E(13714),L=E(15954);const B=D.Z.ofType({base:null,key:"type",typeMap:{fill:$.Z}});let k=x=class extends L.Z{constructor(H){super(H),this.symbolLayers=new B,this.type="mesh-3d"}clone(){return new x({styleOrigin:(0,Z.d9)(this.styleOrigin),symbolLayers:(0,Z.d9)(this.symbolLayers),thumbnail:(0,Z.d9)(this.thumbnail)})}static fromSimpleFillSymbol(H){return new x({symbolLayers:new D.Z([$.Z.fromSimpleFillSymbol(H)])})}};(0,C._)([(0,j.Cb)({type:B})],k.prototype,"symbolLayers",void 0),(0,C._)([(0,Y.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],k.prototype,"type",void 0),k=x=(0,C._)([(0,V.j)("esri.symbols.MeshSymbol3D")],k);const R=k},57093:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var B,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(21070)),V=E(10141),$=E(78800),L=E(85497),x=E(73514);let k=B=class extends x.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new B({x:this.x,y:this.y,z:this.z})}};(0,C._)([(0,D.Cb)({type:Number})],k.prototype,"x",void 0),(0,C._)([(0,D.Cb)({type:Number})],k.prototype,"y",void 0),(0,C._)([(0,D.Cb)({type:Number})],k.prototype,"z",void 0),k=B=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],k);var H,R=E(41647);let N=H=class extends $.Z{constructor(w){super(w),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new H({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,C._)([(0,D.Cb)({type:R.b,json:{write:!0}})],N.prototype,"material",void 0),(0,C._)([(0,D.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],N.prototype,"castShadows",void 0),(0,C._)([(0,D.Cb)({type:L.k,json:{write:!0}})],N.prototype,"resource",void 0),(0,C._)([(0,Y.J)({Object:"object"},{readOnly:!0})],N.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"width",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"height",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"depth",void 0),(0,C._)([(0,Y.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,D.Cb)({json:{default:"origin"}})],N.prototype,"anchor",void 0),(0,C._)([(0,D.Cb)({type:k,json:{type:[Number],read:{reader:w=>new k({x:w[0],y:w[1],z:w[2]})},write:{writer:(w,O)=>{O.anchorPosition=[w.x,w.y,w.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],N.prototype,"anchorPosition",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"heading",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"tilt",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],N.prototype,"roll",void 0),(0,C._)([(0,D.Cb)({readOnly:!0})],N.prototype,"isPrimitive",null),N=H=(0,C._)([(0,V.j)("esri.symbols.ObjectSymbol3DLayer")],N);const P=N},42919:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var k,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(21070)),V=E(62185),$=E(10141),L=E(78800),x=E(41647),B=E(58156);let R=k=class extends L.Z{constructor(N){super(N),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(N,P){return N??(null==P.height&&null!=P.size?P.size:void 0)}readHeight(N,P){return N??(null==P.width&&null!=P.size?P.size:void 0)}clone(){return new k({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,C._)([(0,D.Cb)({type:x.b,json:{write:!0}})],R.prototype,"material",void 0),(0,C._)([(0,D.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],R.prototype,"castShadows",void 0),(0,C._)([(0,Y.J)({Path:"path"},{readOnly:!0})],R.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],R.prototype,"profile",void 0),(0,C._)([(0,D.Cb)({type:B.w2,json:{write:!0,default:"miter"}})],R.prototype,"join",void 0),(0,C._)([(0,D.Cb)({type:B.KW,json:{write:!0,default:"butt"}})],R.prototype,"cap",void 0),(0,C._)([(0,D.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],R.prototype,"width",void 0),(0,C._)([(0,V.r)("width",["width","size","height"])],R.prototype,"readWidth",null),(0,C._)([(0,D.Cb)({type:Number,json:{write:!0}})],R.prototype,"height",void 0),(0,C._)([(0,V.r)("height",["height","size","width"])],R.prototype,"readHeight",null),(0,C._)([(0,D.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],R.prototype,"anchor",void 0),(0,C._)([(0,D.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],R.prototype,"profileRotation",void 0),R=k=(0,C._)([(0,$.j)("esri.symbols.PathSymbol3DLayer")],R);const H=R},41391:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>R});var B,C=E(50484),D=E(34222),Z=E(55768),j=E(80543),Y=(E(1535),E(21070)),V=E(62185),$=E(10141),L=E(47326),x=E(43845);let k=B=class extends L.Z{constructor(...H){super(...H),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(H,N,P){if(H&&"string"!=typeof H&&null==H.imageData)return H;const w={};return H&&(w.url=H),null!=N&&(w.width=(0,Z.t_)(N)),null!=P&&(w.height=(0,Z.t_)(P)),w}readHeight(H,N){return N.size||H}readWidth(H,N){return N.size||H}clone(){const H=new B({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return H._set("source",(0,D.d9)(this.source)),H}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,C._)([(0,j.Cb)({json:{write:!1}})],k.prototype,"color",void 0),(0,C._)([(0,Y.J)({esriPMS:"picture-marker"},{readOnly:!0})],k.prototype,"type",void 0),(0,C._)([(0,j.Cb)(x.KA)],k.prototype,"url",void 0),(0,C._)([(0,j.Cb)(x.Ds)],k.prototype,"source",void 0),(0,C._)([(0,j.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],k.prototype,"height",void 0),(0,C._)([(0,V.r)("height",["height","size"])],k.prototype,"readHeight",null),(0,C._)([(0,j.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],k.prototype,"width",void 0),(0,C._)([(0,j.Cb)({json:{write:!1}})],k.prototype,"size",void 0),k=B=(0,C._)([(0,$.j)("esri.symbols.PictureMarkerSymbol")],k);const R=k},31110:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>I});var P,C=E(50484),D=E(66599),Z=E(83944),j=E(34222),U=E(80543),V=(E(1535),E(21070)),$=E(10141),L=E(86394),x=E(57093),B=E(15954),k=E(2068),R=E(58223),H=E(99086),N=E(85581);const w=Z.Z.ofType({base:null,key:"type",typeMap:{icon:L.Z,object:x.Z,text:k.Z}});let O=P=class extends B.Z{constructor(T){super(T),this.verticalOffset=null,this.callout=null,this.symbolLayers=new w,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const T of this.symbolLayers.items)switch(T.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,R.gv)(this)}hasVisibleVerticalOffset(){return(0,R.Uy)(this)}clone(){return new P({verticalOffset:(0,j.d9)(this.verticalOffset),callout:(0,j.d9)(this.callout),styleOrigin:(0,j.d9)(this.styleOrigin),symbolLayers:(0,j.d9)(this.symbolLayers),thumbnail:(0,j.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(T){return new P({symbolLayers:new Z.Z([L.Z.fromSimpleMarkerSymbol(T)])})}static fromPictureMarkerSymbol(T){return new P({symbolLayers:new Z.Z([L.Z.fromPictureMarkerSymbol(T)])})}static fromCIMSymbol(T){if("CIMPointSymbol"!==T.data?.symbol?.type)return null;const z=T.data.symbol;return new P(z?.callout?{symbolLayers:new Z.Z([L.Z.fromCIMSymbol(T)]),callout:new H.Z({size:.5,color:new D.Z([0,0,0])}),verticalOffset:new N.Z({screenLength:40})}:{symbolLayers:new Z.Z([L.Z.fromCIMSymbol(T)])})}static fromTextSymbol(T){return new P({symbolLayers:new Z.Z([k.Z.fromTextSymbol(T)])})}};(0,C._)([(0,U.Cb)({type:N.Z,json:{write:!0}})],O.prototype,"verticalOffset",void 0),(0,C._)([(0,U.Cb)(R.Y2)],O.prototype,"callout",void 0),(0,C._)([(0,U.Cb)({type:w,json:{origins:{"web-scene":{write:!0}}}})],O.prototype,"symbolLayers",void 0),(0,C._)([(0,V.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],O.prototype,"type",void 0),O=P=(0,C._)([(0,$.j)("esri.symbols.PointSymbol3D")],O);const I=O},87137:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var I,C=E(50484),D=E(83944),Z=E(93300),j=E(34222),U=E(4703),Y=E(77675),V=E(80543),L=(E(1535),E(21070)),x=E(10141),B=E(29295),k=E(13714),R=E(86394),H=E(91729),N=E(57093),P=E(15954),w=E(2068),O=E(36856);const T=D.Z.ofType({base:null,key:"type",typeMap:{extrude:B.Z,fill:k.Z,icon:R.Z,line:H.Z,object:N.Z,text:w.Z,water:O.Z}});let W=I=class extends P.Z{constructor(F){super(F),this.symbolLayers=new T,this.type="polygon-3d"}initialize(){const F=Q=>{"line"===Q.type&&(0,Z.x9)(U.Z.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===Q.type&&(0,Z.x9)(U.Z.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const Q of this.symbolLayers)F(Q);this.addHandles((0,Y.on)(()=>this.symbolLayers,"after-add",({item:Q})=>F(Q),Y.Z_))}clone(){return new I({styleOrigin:(0,j.d9)(this.styleOrigin),symbolLayers:(0,j.d9)(this.symbolLayers),thumbnail:(0,j.d9)(this.thumbnail)})}static fromJSON(F){const Q=new I;if(Q.read(F),2===Q.symbolLayers.length&&"fill"===Q.symbolLayers.at(0).type&&"line"===Q.symbolLayers.at(1).type){const J=Q.symbolLayers.at(0),oe=Q.symbolLayers.at(1);!oe.enabled||F.symbolLayers?.[1]&&!1===F.symbolLayers[1].enable||(J.outline={size:oe.size,color:null!=oe.material?oe.material.color:null}),Q.symbolLayers.removeAt(1)}return Q}static fromSimpleFillSymbol(F){return new I({symbolLayers:new D.Z([k.Z.fromSimpleFillSymbol(F)])})}};(0,C._)([(0,V.Cb)({type:T,json:{write:!0}})],W.prototype,"symbolLayers",void 0),(0,C._)([(0,L.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],W.prototype,"type",void 0),W=I=(0,C._)([(0,x.j)("esri.symbols.PolygonSymbol3D")],W);const z=W},89481:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var B,C=E(50484),D=E(66599),Z=E(84303),j=E(34222),U=E(80543),V=(E(1535),E(21070)),$=E(10141),L=E(22225),x=E(66637);const k=new Z.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let R=B=class extends L.Z{constructor(...N){super(...N),this.color=new D.Z([0,0,0,.25]),this.outline=new x.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(N,P,w){if(N&&"string"!=typeof N)return N;const O={};return N&&(O.style=N),P&&(O.outline=P),w&&(O.color=w),O}clone(){return new B({color:(0,j.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,C._)([(0,U.Cb)()],R.prototype,"color",void 0),(0,C._)([(0,U.Cb)()],R.prototype,"outline",void 0),(0,C._)([(0,V.J)({esriSFS:"simple-fill"},{readOnly:!0})],R.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:k.apiValues,json:{read:k.read,write:k.write}})],R.prototype,"style",void 0),R=B=(0,C._)([(0,$.j)("esri.symbols.SimpleFillSymbol")],R);const H=R},66637:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>J});var C=E(50484),D=E(84303),Z=E(34222),j=E(55768),U=E(80543),V=(E(1535),E(21070)),$=E(10141),B=(E(57678),E(14007),E(85601));let k=class extends B.Z{constructor(oe){super(oe),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,C._)([(0,V.J)({esriSLS:"simple-line"},{readOnly:!0})],k.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:Number,cast:j.t_,json:{write:!0}})],k.prototype,"width",void 0),k=(0,C._)([(0,$.j)("esri.symbols.LineSymbol")],k);const R=k;var I,H=E(66599),N=E(89317),P=E(62185),w=E(7547),O=E(30930);let T=I=class extends N.wq{constructor(oe){super(oe),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(oe,se,ue,he){se[ue]="web-map"===he?.origin?"arrow":oe}set color(oe){this._set("color",oe)}readColor(oe){return null!=oe?.[0]?[oe[0],oe[1],oe[2],oe[3]/255]:oe}writeColor(oe,se,ue,he){"web-map"===he?.origin||(se[ue]=oe)}clone(){return new I({color:(0,Z.d9)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,C._)([(0,U.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],T.prototype,"placement",void 0),(0,C._)([(0,V.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,U.Cb)({json:{origins:{"web-map":{write:!1}}}})],T.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:O.k})],T.prototype,"style",void 0),(0,C._)([(0,w.c)("style")],T.prototype,"writeStyle",null),(0,C._)([(0,U.Cb)({type:H.Z,value:null,json:{write:{allowNull:!0}}})],T.prototype,"color",null),(0,C._)([(0,P.r)("color")],T.prototype,"readColor",null),(0,C._)([(0,w.c)("color")],T.prototype,"writeColor",null),T=I=(0,C._)([(0,$.j)("esri.symbols.LineSymbolMarker")],T);const W=T;var z;const F=new D.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Q=z=class extends R{constructor(...oe){super(...oe),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(oe,se,ue,he,G,le){if(oe&&"string"!=typeof oe)return oe;const q={};return null!=oe&&(q.style=oe),null!=se&&(q.color=se),null!=ue&&(q.width=(0,j.t_)(ue)),null!=he&&(q.cap=he),null!=G&&(q.join=G),null!=le&&(q.miterLimit=(0,j.t_)(le)),q}clone(){return new z({color:(0,Z.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,C._)([(0,V.J)({esriSLS:"simple-line"},{readOnly:!0})],Q.prototype,"type",void 0),(0,C._)([(0,U.Cb)({type:F.apiValues,json:{read:F.read,write:F.write}})],Q.prototype,"style",void 0),(0,C._)([(0,U.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(oe,se,ue)=>({enabled:"round"!==oe&&null==ue?.origin})}}})],Q.prototype,"cap",void 0),(0,C._)([(0,U.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(oe,se,ue)=>({enabled:"round"!==oe&&null==ue?.origin})}}})],Q.prototype,"join",void 0),(0,C._)([(0,U.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":W}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Q.prototype,"marker",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{read:!1,write:!1}})],Q.prototype,"miterLimit",void 0),Q=z=(0,C._)([(0,$.j)("esri.symbols.SimpleLineSymbol")],Q);const J=Q},35451:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>P});var R,C=E(50484),D=E(66599),Z=E(84303),j=E(34222),U=E(55768),Y=E(80543),$=(E(1535),E(21070)),L=E(10141),x=E(7547),B=E(47326),k=E(66637);const H=new Z.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let N=R=class extends B.Z{constructor(...w){super(...w),this.color=new D.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new k.Z}normalizeCtorArgs(w,O,I,T){if(w&&"string"!=typeof w)return w;const W={};return w&&(W.style=w),null!=O&&(W.size=(0,U.t_)(O)),I&&(W.outline=I),T&&(W.color=T),W}writeColor(w,O){w&&"x"!==this.style&&"cross"!==this.style&&(O.color=w.toJSON()),null===w&&(O.color=null)}set path(w){this.style="path",this._set("path",w)}clone(){return new R({angle:this.angle,color:(0,j.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,C._)([(0,Y.Cb)()],N.prototype,"color",void 0),(0,C._)([(0,x.c)("color")],N.prototype,"writeColor",null),(0,C._)([(0,$.J)({esriSMS:"simple-marker"},{readOnly:!0})],N.prototype,"type",void 0),(0,C._)([(0,Y.Cb)()],N.prototype,"size",void 0),(0,C._)([(0,Y.Cb)({type:H.apiValues,json:{read:H.read,write:H.write}})],N.prototype,"style",void 0),(0,C._)([(0,Y.Cb)({type:String,json:{write:!0}})],N.prototype,"path",null),(0,C._)([(0,Y.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":k.Z}},json:{default:null,write:!0}})],N.prototype,"outline",void 0),N=R=(0,C._)([(0,L.j)("esri.symbols.SimpleMarkerSymbol")],N);const P=N},85601:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var C=E(15861),D=E(50484),Z=E(66599),j=E(84303),U=E(89317),Y=E(80543),x=(E(1535),E(57678),E(14007),E(62185)),B=E(10141);const k=new j.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let R=0,H=class extends U.wq{constructor(P){super(P),this.id="sym"+R++,this.type=null,this.color=new Z.Z([0,0,0,1])}readColor(P){return null!=P?.[0]?[P[0],P[1],P[2],P[3]/255]:P}collectRequiredFields(P,w){return(0,C.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,D._)([(0,Y.Cb)({type:k.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:k.write}}})],H.prototype,"type",void 0),(0,D._)([(0,Y.Cb)({type:Z.Z,json:{write:{allowNull:!0}}})],H.prototype,"color",void 0),(0,D._)([(0,x.r)("color")],H.prototype,"readColor",null),H=(0,D._)([(0,B.j)("esri.symbols.Symbol")],H);const N=H},15954:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>le});var C=E(50484),D=E(83944),Z=E(18626),j=E(4703),U=E(6785),Y=E(23206),V=E(80543),$=E(73018),B=(E(57678),E(14007),E(62185)),k=E(10141),R=E(7547),H=E(61018),N=E(19677),P=E(29295),w=E(13714),O=E(86394),I=E(91729),T=E(57093),W=E(42919),z=E(85601),F=E(78800),Q=E(2068),J=E(36856),oe=E(97888),se=E(16497);const ue={icon:O.Z,object:T.Z,line:I.Z,path:W.Z,fill:w.Z,extrude:P.Z,text:Q.Z,water:J.Z},he=D.Z.ofType({base:F.Z,key:"type",typeMap:ue,errorContext:"symbol-layer"});let G=class extends z.Z{constructor(q){super(q),this.styleOrigin=null,this.thumbnail=null,this.type=null;const fe=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,ge=fe?.type;this._set("symbolLayers",new(ge||D.Z))}get color(){return null}set color(q){this.constructed&&j.Z.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(q){(0,Z.Z)(q,this._get("symbolLayers"))}readStyleOrigin(q,fe,ge){if(q.styleUrl&&q.name){const me=(0,N.f)(q.styleUrl,ge);return new oe.Z({styleUrl:me,name:q.name})}if(q.styleName&&q.name)return new oe.Z({portal:ge?.portal||H.Z.getDefault(),styleName:q.styleName,name:q.name});ge?.messages&&ge.messages.push(new Y.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:ge,definition:q}))}writeStyleOrigin(q,fe,ge,me){if(q.styleUrl&&q.name){let te=(0,N.t)(q.styleUrl,me);(0,U.YP)(te)&&(te=(0,U.Fv)(te)),fe.styleOrigin={styleUrl:te,name:q.name}}else q.styleName&&q.name&&(q.portal&&me?.portal&&!(0,U.tm)(q.portal.restUrl,me.portal.restUrl)?me?.messages&&me.messages.push(new Y.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):fe.styleOrigin={styleName:q.styleName,name:q.name})}normalizeCtorArgs(q){return q instanceof F.Z||q&&ue[q.type]?{symbolLayers:[q]}:Array.isArray(q)?{symbolLayers:q}:q}};(0,C._)([(0,V.Cb)({json:{read:!1,write:!1}})],G.prototype,"color",null),(0,C._)([(0,V.Cb)({type:he,nonNullable:!0,json:{write:!0}}),(0,$.p)(Z.R)],G.prototype,"symbolLayers",null),(0,C._)([(0,V.Cb)({type:oe.Z})],G.prototype,"styleOrigin",void 0),(0,C._)([(0,B.r)("styleOrigin")],G.prototype,"readStyleOrigin",null),(0,C._)([(0,R.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],G.prototype,"writeStyleOrigin",null),(0,C._)([(0,V.Cb)({type:se.p,json:{read:!1}})],G.prototype,"thumbnail",void 0),(0,C._)([(0,V.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],G.prototype,"type",void 0),G=(0,C._)([(0,k.j)("esri.symbols.Symbol3D")],G);const le=G},78800:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(7547);let L=class extends D.wq{constructor(B){super(B),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(B,k,R){B||(k[R]=B)}};(0,C._)([(0,Z.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],L.prototype,"enabled",void 0),(0,C._)([(0,$.c)("enabled")],L.prototype,"writeEnabled",null),(0,C._)([(0,Z.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],L.prototype,"type",void 0),L=(0,C._)([(0,V.j)("esri.symbols.Symbol3DLayer")],L);const x=L},52248:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>N});var R,C=E(50484),D=E(66599),Z=E(34222),j=E(55768),U=E(80543),Y=E(73018),V=E(21070),$=E(10141),L=E(7547),x=E(14890),B=E(85601),k=E(52759);let H=R=class extends B.Z{constructor(...P){super(...P),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new x.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(P,w,O){if(P&&"string"!=typeof P)return P;const I={};return P&&(I.text=P),w&&(I.font=w),O&&(I.color=O),I}writeLineWidth(P,w,O,I){I&&"string"!=typeof I||(w[O]=P)}castLineWidth(P){return(0,j.t_)(P)}writeLineHeight(P,w,O,I){I&&"string"!=typeof I||(w[O]=P)}clone(){return new R({angle:this.angle,backgroundColor:(0,Z.d9)(this.backgroundColor),borderLineColor:(0,Z.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,Z.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,Z.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,C._)([(0,U.Cb)({type:D.Z,json:{write:!0}})],H.prototype,"backgroundColor",void 0),(0,C._)([(0,U.Cb)({type:D.Z,json:{write:!0}})],H.prototype,"borderLineColor",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0},cast:j.t_})],H.prototype,"borderLineSize",void 0),(0,C._)([(0,U.Cb)({type:x.Z,json:{write:!0}})],H.prototype,"font",void 0),(0,C._)([(0,U.Cb)({...k.x0,json:{write:!0}})],H.prototype,"horizontalAlignment",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],H.prototype,"kerning",void 0),(0,C._)([(0,U.Cb)({type:D.Z,json:{write:!0}})],H.prototype,"haloColor",void 0),(0,C._)([(0,U.Cb)({type:Number,cast:j.t_,json:{write:!0}})],H.prototype,"haloSize",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],H.prototype,"rightToLeft",void 0),(0,C._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],H.prototype,"rotated",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],H.prototype,"text",void 0),(0,C._)([(0,V.J)({esriTS:"text"},{readOnly:!0})],H.prototype,"type",void 0),(0,C._)([(0,U.Cb)({...k.Nj,json:{write:!0}})],H.prototype,"verticalAlignment",void 0),(0,C._)([(0,U.Cb)({type:Number,cast:j.t_,json:{write:!0}})],H.prototype,"xoffset",void 0),(0,C._)([(0,U.Cb)({type:Number,cast:j.t_,json:{write:!0}})],H.prototype,"yoffset",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{read:P=>P&&-1*P,write:(P,w)=>w.angle=P&&-1*P}})],H.prototype,"angle",void 0),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],H.prototype,"width",void 0),(0,C._)([(0,U.Cb)({type:Number})],H.prototype,"lineWidth",void 0),(0,C._)([(0,L.c)("lineWidth")],H.prototype,"writeLineWidth",null),(0,C._)([(0,Y.p)("lineWidth")],H.prototype,"castLineWidth",null),(0,C._)([(0,U.Cb)(k.Ck)],H.prototype,"lineHeight",void 0),(0,C._)([(0,L.c)("lineHeight")],H.prototype,"writeLineHeight",null),H=R=(0,C._)([(0,$.j)("esri.symbols.TextSymbol")],H);const N=H},2068:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>Q});var R,C=E(50484),D=E(34222),Z=E(80543),U=(E(1535),E(21070)),Y=E(10141),V=E(7547),$=E(14890),L=E(78800),x=E(34895),B=E(66599),k=E(89317);let H=R=class extends k.wq{constructor(){super(...arguments),this.color=new B.Z([0,0,0,1]),this.size=0}clone(){const J={color:(0,D.d9)(this.color),size:this.size};return new R(J)}};(0,C._)([(0,Z.Cb)(x.a)],H.prototype,"color",void 0),(0,C._)([(0,Z.Cb)(x.y)],H.prototype,"size",void 0),H=R=(0,C._)([(0,Y.j)("esri.symbols.support.Symbol3DHalo")],H);var N=E(41647),P=E(25387);E(57678),E(14007);let I=class extends((0,P.J)(k.wq)){constructor(J){super(J),this.color=null}};(0,C._)([(0,Z.Cb)(x.a)],I.prototype,"color",void 0),I=(0,C._)([(0,Y.j)("esri.symbols.support.Symbol3DTextBackground")],I);var W,T=E(52759);let z=W=class extends L.Z{constructor(J){super(J),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(J){null!=J&&null!=this._userSize&&(J.size=this._userSize),this._set("font",J)}writeFont(J,oe,se,ue){const he={...ue,textSymbol3D:!0};oe.font=J.write({},he),delete oe.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(J){this._userSize=J,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const J=new W({enabled:this.enabled,font:this.font&&(0,D.d9)(this.font),halo:this.halo&&(0,D.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,D.d9)(this.background)});return J._userSize=this._userSize,J}static fromTextSymbol(J){return new W({font:null!=J.font?J.font.clone():new $.Z,halo:F(J.haloColor,J.haloSize),horizontalAlignment:J.horizontalAlignment,lineHeight:J.lineHeight,material:J.color?new N.b({color:J.color.clone()}):null,text:J.text,verticalAlignment:J.verticalAlignment,background:J.backgroundColor?new I({color:J.backgroundColor.clone()}):null})}};function F(J,oe){return J&&null!=oe&&oe>0?new H({color:(0,D.d9)(J),size:oe}):null}(0,C._)([(0,Z.Cb)({type:$.Z,json:{write:!0}})],z.prototype,"font",null),(0,C._)([(0,V.c)("font")],z.prototype,"writeFont",null),(0,C._)([(0,Z.Cb)({type:H,json:{write:!0}})],z.prototype,"halo",void 0),(0,C._)([(0,Z.Cb)({...T.x0,json:{default:"center",write:!0}})],z.prototype,"horizontalAlignment",void 0),(0,C._)([(0,Z.Cb)({...T.Ck,json:{default:1,write:!0}})],z.prototype,"lineHeight",void 0),(0,C._)([(0,Z.Cb)({type:N.b,json:{write:!0}})],z.prototype,"material",void 0),(0,C._)([(0,Z.Cb)({type:I,json:{write:!0}})],z.prototype,"background",void 0),(0,C._)([(0,Z.Cb)(x.y)],z.prototype,"size",null),(0,C._)([(0,Z.Cb)({type:String,json:{write:!0}})],z.prototype,"text",void 0),(0,C._)([(0,U.J)({Text:"text"},{readOnly:!0})],z.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({...T.Nj,json:{default:"baseline",write:!0}})],z.prototype,"verticalAlignment",void 0),z=W=(0,C._)([(0,Y.j)("esri.symbols.TextSymbol3DLayer")],z);const Q=z},36856:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>k});var L,C=E(50484),D=E(66599),Z=E(34222),j=E(80543),U=E(1535),Y=E(21070),V=E(10141),$=E(78800);let x=L=class extends $.Z{constructor(R){super(R),this.color=B.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new L({color:(0,Z.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,C._)([(0,j.Cb)({type:D.Z,nonNullable:!0,json:{type:[U.z8],write:(R,H,N)=>H[N]=R.toArray(D.Z.AlphaMode.UNLESS_OPAQUE),default:()=>B.clone(),defaultEquals:R=>R.toCss(!0)===B.toCss(!0)}})],x.prototype,"color",void 0),(0,C._)([(0,Y.J)({Water:"water"},{readOnly:!0})],x.prototype,"type",void 0),(0,C._)([(0,j.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],x.prototype,"waterbodySize",void 0),(0,C._)([(0,j.Cb)({type:Number,json:{write:!0,default:null}})],x.prototype,"waveDirection",void 0),(0,C._)([(0,j.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],x.prototype,"waveStrength",void 0),x=L=(0,C._)([(0,V.j)("esri.symbols.WaterSymbol3DLayer")],x);const B=new D.Z([0,119,190]),k=x},80121:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>w});var N,C=E(15861),D=E(50484),Z=E(4703),j=E(79412),U=E(80543),L=(E(1535),E(57678),E(14007),E(21070)),x=E(10141),B=E(61018),k=E(19677),R=E(85601),H=E(16497);let P=N=class extends R.Z{constructor(O){super(O),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const O=null!=this.portal?this.portal:B.Z.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${O.user?O.user.username:null}:${O.url}`}read(O,I){this.portal=I?.portal,super.read(O,I)}clone(){return new N({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(O){return this._fetchSymbol("webRef",O)}fetchCIMSymbol(O){return this._fetchSymbol("cimRef",O)}_fetchSymbol(O,I){var T=this;return(0,C.Z)(function*(){const W=null!=I?I.cache:null,z=W?T._fetchCacheKey:null;if(null!=W){const oe=z&&W.get(z);if(oe)return oe.clone()}const{resolveWebStyleSymbol:F}=yield Promise.resolve().then(E.bind(E,76945));(0,j.k_)(I);const Q=F(T,{portal:T.portal},O,I);Q.catch(oe=>{Z.Z.getLogger(T).error("#fetchSymbol()","Failed to create symbol from style",oe)});const J=yield Q;return"webRef"===O&&"point-3d"===J.type||"cimRef"===O&&"cim"===J.type?(W?.set(z,J.clone()),J):null})()}};(0,D._)([(0,U.Cb)({json:{write:!1}})],P.prototype,"color",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],P.prototype,"styleName",void 0),(0,D._)([(0,U.Cb)({type:B.Z,json:{write:!1}})],P.prototype,"portal",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:k.r,write:k.w}})],P.prototype,"styleUrl",void 0),(0,D._)([(0,U.Cb)({type:H.p,json:{read:!1}})],P.prototype,"thumbnail",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],P.prototype,"name",void 0),(0,D._)([(0,L.J)({styleSymbolReference:"web-style"},{readOnly:!0})],P.prototype,"type",void 0),(0,D._)([(0,U.Cb)()],P.prototype,"_fetchCacheKey",null),P=N=(0,D._)([(0,x.j)("esri.symbols.WebStyleSymbol")],P);const w=P},17820:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x),this.visible=!0}clone(){}};(0,C._)([(0,Z.Cb)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),(0,C._)([(0,Z.Cb)({readOnly:!0})],$.prototype,"visible",void 0),$=(0,C._)([(0,V.j)("esri.symbols.callouts.Callout3D")],$);const L=$},99086:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var k,C=E(50484),D=E(66599),Z=E(34222),j=E(55768),U=E(80543),V=(E(1535),E(21070)),$=E(10141),L=E(17820),x=E(84699),B=E(34895);let R=k=class extends L.Z{constructor(N){super(N),this.type="line",this.color=new D.Z([0,0,0,1]),this.size=(0,j.Wz)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new k({color:(0,Z.d9)(this.color),size:this.size,border:(0,Z.d9)(this.border)})}};(0,C._)([(0,V.J)({line:"line"})],R.prototype,"type",void 0),(0,C._)([(0,U.Cb)(B.a)],R.prototype,"color",void 0),(0,C._)([(0,U.Cb)(B.y)],R.prototype,"size",void 0),(0,C._)([(0,U.Cb)({type:x.Z,json:{write:!0}})],R.prototype,"border",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],R.prototype,"visible",null),R=k=(0,C._)([(0,$.j)("esri.symbols.callouts.LineCallout3D")],R);const H=R},84699:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(66599),Z=E(89317),j=E(34222),U=E(80543),V=(E(1535),E(10141)),$=E(34895);let x=L=class extends Z.wq{constructor(k){super(k),this.color=new D.Z("white")}clone(){return new L({color:(0,j.d9)(this.color)})}};(0,C._)([(0,U.Cb)($.a)],x.prototype,"color",void 0),x=L=(0,C._)([(0,V.j)("esri.symbols.callouts.LineCallout3DBorder")],x);const B=x},58223:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Uy:()=>Z,Y2:()=>V,gv:()=>j});var C=E(17820),D=E(99086);function Z($){if(!$)return!1;const L=$.verticalOffset;return!!L&&!(L.screenLength<=0||null!=L.maxWorldLength&&L.maxWorldLength<=0)}function j($){if(!$||!$.supportsCallout||!$.supportsCallout())return!1;const L=$.callout;return!!L&&!!L.visible&&!!Z($)}const V={types:{key:"type",base:C.Z,typeMap:{line:D.Z}},json:{write:!0}}},25896:(Ke,Ee,E)=>{"use strict";function C(fe){return"function"==typeof fe}function D(fe,ge,me,te){return C(fe)?fe(ge,me,te):fe}function Z(fe){return[fe.r,fe.g,fe.b,fe.a]}E.d(Ee,{$Z:()=>oe,BX:()=>Q,Cc:()=>I,E_:()=>V,F:()=>se,FG:()=>he,H1:()=>Y,JW:()=>q,NA:()=>w,NO:()=>B,On:()=>z,QI:()=>L,Qf:()=>G,Qs:()=>$,RI:()=>T,TB:()=>le,TT:()=>x,W7:()=>J,X_:()=>ue,be:()=>k,cO:()=>O,gJ:()=>P,hf:()=>D,k5:()=>N,nn:()=>Z,pJ:()=>W,wO:()=>C,wi:()=>F,yL:()=>H,zL:()=>R});const j=" /-,\n";function U(fe){let ge=fe.length;for(;ge--;)if(!j.includes(fe.charAt(ge)))return!1;return!0}function Y(fe,ge){const me=[];let te=0,ae=-1;do{if(ae=fe.indexOf("[",te),ae>=te){if(ae>te){const ee=fe.substr(te,ae-te);me.push([ee,null,U(ee)])}if(te=ae+1,ae=fe.indexOf("]",te),ae>=te){if(ae>te){const ee=ge[fe.substr(te,ae-te)];ee&&me.push([null,ee,!1])}te=ae+1}}}while(-1!==ae);if(te<fe.length-1){const ee=fe.substr(te);me.push([ee,null,U(ee)])}return me}function V(fe,ge,me){let te="",ae=null;for(const ee of ge){const[ce,ie,ne]=ee;if(ce)ne?ae=ce:(ae&&(te+=ae,ae=null),te+=ce);else{const pe=fe.attributes[ie];pe&&(ae&&(te+=ae,ae=null),te+=pe)}}return L(te,me)}function $(fe,ge,me){const te=Y(ge,fe);return ae=>V(ae,te,me)}function L(fe,ge){switch("string"!=typeof fe&&(fe=String(fe)),ge){case"LowerCase":return fe.toLowerCase();case"Allcaps":return fe.toUpperCase();default:return fe}}function x(fe,ge,me,te,ae,ee,ce=!0){const ie=ge/ae,ne=me/ee,pe=Math.ceil(ie/2),ye=Math.ceil(ne/2);for(let re=0;re<ee;re++)for(let ve=0;ve<ae;ve++){const Oe=4*(ve+(ce?ee-re-1:re)*ae);let Me=0,Se=0,ke=0,xe=0,Ge=0,X=0,be=0;const Re=(re+.5)*ne;for(let Fe=Math.floor(re*ne);Fe<(re+1)*ne;Fe++){const qe=Math.abs(Re-(Fe+.5))/ye,We=(ve+.5)*ie,He=qe*qe;for(let Ne=Math.floor(ve*ie);Ne<(ve+1)*ie;Ne++){let Ce=Math.abs(We-(Ne+.5))/pe;const Pe=Math.sqrt(He+Ce*Ce);Pe>=-1&&Pe<=1&&(Me=2*Pe*Pe*Pe-3*Pe*Pe+1,Me>0&&(Ce=4*(Ne+Fe*ge),be+=Me*fe[Ce+3],ke+=Me,fe[Ce+3]<255&&(Me=Me*fe[Ce+3]/250),xe+=Me*fe[Ce],Ge+=Me*fe[Ce+1],X+=Me*fe[Ce+2],Se+=Me))}}te[Oe]=xe/Se,te[Oe+1]=Ge/Se,te[Oe+2]=X/Se,te[Oe+3]=be/ke}}function B(fe){return fe?{r:fe[0],g:fe[1],b:fe[2],a:fe[3]/255}:{r:0,g:0,b:0,a:0}}function k(fe){return fe.data?.symbol??null}function R(fe){return"CIMVectorMarker"===fe.type||"CIMPictureMarker"===fe.type||"CIMBarChartMarker"===fe.type||"CIMCharacterMarker"===fe.type||"CIMPieChartMarker"===fe.type||"CIMStackedBarChartMarker"===fe.type}function H(fe){return"CIMGradientStroke"===fe.type||"CIMPictureStroke"===fe.type||"CIMSolidStroke"===fe.type}function N(fe){return null!=fe&&("CIMGradientFill"===fe.type||"CIMHatchFill"===fe.type||"CIMPictureFill"===fe.type||"CIMSolidFill"===fe.type||"CIMWaterFill"===fe.type)}function P(fe){return null!=fe&&("CIMMarkerPlacementAlongLineRandomSize"===fe.type||"CIMMarkerPlacementAlongLineSameSize"===fe.type||"CIMMarkerPlacementAlongLineVariableSize"===fe.type||"CIMMarkerPlacementAtExtremities"===fe.type||"CIMMarkerPlacementAtMeasuredUnits"===fe.type||"CIMMarkerPlacementAtRatioPositions"===fe.type||"CIMMarkerPlacementOnLine"===fe.type||"CIMMarkerPlacementOnVertices"===fe.type)}const w=(fe,ge=0)=>null==fe||isNaN(fe)?ge:fe,O=fe=>fe.tintColor?B(fe.tintColor):{r:255,g:255,b:255,a:1},I=fe=>{if(!fe)return!1;for(const ge of fe)switch(ge.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function T(){return Promise.all([E.e(9465),E.e(8592),E.e(7545)]).then(E.bind(E,49574))}function W(fe){if(!fe)return"normal";switch(fe.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function z(fe){if(!fe)return"normal";switch(fe.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function F(fe){let ge="normal",me="normal";if(fe){const te=fe.toLowerCase();te.includes("italic")?ge="italic":te.includes("oblique")&&(ge="oblique"),te.includes("bold")?me="bold":te.includes("light")&&(me="lighter")}return{style:ge,weight:me}}function Q(fe){return fe.underline?"underline":fe.strikethrough?"line-through":"none"}function J(fe){if(!fe)return null;switch(fe.type){case"CIMPolygonSymbol":if(fe.symbolLayers)for(const ge of fe.symbolLayers){const me=J(ge);if(null!=me)return me}break;case"CIMTextSymbol":return J(fe.symbol);case"CIMSolidFill":return fe.color}}function oe(fe){if(fe)switch(fe.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const ge=fe.symbolLayers;if(ge)for(const me of ge){const te=oe(me);if(null!=te)return te}break}case"CIMTextSymbol":return oe(fe.symbol);case"CIMSolidStroke":return fe.color}}function se(fe){if(fe)switch(fe.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(fe.symbolLayers)for(const ge of fe.symbolLayers){const me=se(ge);if(void 0!==me)return me}break;case"CIMTextSymbol":return se(fe.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return fe.width}}function ue(fe){switch(fe){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function he(fe){switch(fe){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function G(fe){return(fe?Object.keys(fe):[]).map(ge=>({name:ge,alias:ge,type:"string"==typeof fe[ge]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const le=fe=>fe.includes("data:image/svg+xml");function q(fe){if(!fe)return null;switch(fe.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},43931:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>F});var C=E(50484),D=E(66599),Z=E(89317),j=E(34222),U=E(55768),Y=E(80543),$=(E(1535),E(10141)),L=E(34895);let x=class extends Z.wq{constructor(Q){super(Q),this.color=new D.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,U.Wz)(1)}clone(){}cloneProperties(){return{color:(0,j.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,C._)([(0,Y.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],x.prototype,"type",void 0),(0,C._)([(0,Y.Cb)(L.a)],x.prototype,"color",void 0),(0,C._)([(0,Y.Cb)({...L.y,json:{write:{overridePolicy:Q=>({enabled:!!Q})}}})],x.prototype,"extensionLength",void 0),(0,C._)([(0,Y.Cb)(L.y)],x.prototype,"size",void 0),x=(0,C._)([(0,$.j)("esri.symbols.edges.Edges3D")],x);const B=x;E(4703),E(57678),E(14007),E(57964);var w,P=E(21070);let O=w=class extends B{constructor(Q){super(Q),this.type="sketch"}clone(){return new w(this.cloneProperties())}};(0,C._)([(0,P.J)({sketch:"sketch"},{readOnly:!0})],O.prototype,"type",void 0),O=w=(0,C._)([(0,$.j)("esri.symbols.edges.SketchEdges3D")],O);const I=O;var T;let W=T=class extends B{constructor(Q){super(Q),this.type="solid"}clone(){return new T(this.cloneProperties())}};(0,C._)([(0,P.J)({solid:"solid"},{readOnly:!0})],W.prototype,"type",void 0),W=T=(0,C._)([(0,$.j)("esri.symbols.support.SolidEdges3D")],W);const F={types:{key:"type",base:B,typeMap:{solid:W,sketch:I}},json:{write:!0}}},40911:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x)}clone(){}};(0,C._)([(0,Z.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.symbols.patterns.LinePattern3D")],$);const L=$},3019:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var B,C=E(50484),D=E(84303),Z=E(80543),V=(E(1535),E(57678),E(14007),E(21070)),$=E(10141),L=E(40911);const k=(0,D.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let R=B=class extends L.Z{constructor(N){super(N),this.type="style",this.style="solid"}clone(){return new B({style:this.style})}};(0,C._)([(0,Z.Cb)({type:["style"]})],R.prototype,"type",void 0),(0,C._)([(0,V.J)(k),(0,Z.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],R.prototype,"style",void 0),R=B=(0,C._)([(0,$.j)("esri.symbols.patterns.LineStylePattern3D")],R);const H=R},17694:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>L});var C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let $=class extends D.wq{constructor(x){super(x)}clone(){}};(0,C._)([(0,Z.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=(0,C._)([(0,V.j)("esri.symbols.patterns.Pattern3D")],$);const L=$},90646:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(80543),Y=(E(1535),E(57678),E(14007),E(10141)),V=E(17694);let x=L=class extends V.Z{constructor(k){super(k),this.type="style",this.style="solid"}clone(){return new L({style:this.style})}};(0,C._)([(0,D.Cb)({type:["style"]})],x.prototype,"type",void 0),(0,C._)([(0,D.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],x.prototype,"style",void 0),x=L=(0,C._)([(0,Y.j)("esri.symbols.patterns.StylePattern3D")],x);const B=x},76214:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D:()=>Y,q:()=>U});var C=E(40911),D=E(3019),Z=E(17694),j=E(90646);const U={types:{key:"type",base:Z.Z,typeMap:{style:j.Z}},json:{write:!0}},Y={types:{key:"type",base:C.Z,typeMap:{style:D.Z}},json:{write:!0}}},86516:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>z});var H,C=E(50484),D=E(84303),Z=E(89317),j=E(51172),U=E(80543),L=(E(1535),E(57678),E(14007),E(62185)),x=E(10141),B=E(7547),k=E(15861),R=E(85295);let N=H=class extends Z.wq{constructor(F){super(F)}collectRequiredFields(F,Q){var J=this;return(0,k.Z)(function*(){return(0,R.io)(F,Q,J.expression)})()}clone(){return new H({expression:this.expression,title:this.title})}equals(F){return this.expression===F.expression&&this.title===F.title}};(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],N.prototype,"expression",void 0),(0,C._)([(0,U.Cb)({type:String,json:{write:!0}})],N.prototype,"title",void 0),N=H=(0,C._)([(0,x.j)("esri.layers.support.FeatureExpressionInfo")],N);const P=N;var O,w=E(1678);const I=(0,D.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),T=new D.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let W=O=class extends Z.wq{constructor(F){super(F),this.offset=null}readFeatureExpressionInfo(F,Q){return F??(Q.featureExpression&&0===Q.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(F,Q,J,oe){Q[J]=F.write({},oe),"0"===F.expression&&(Q.featureExpression={value:0})}get mode(){const{offset:F,featureExpressionInfo:Q}=this;return this._isOverridden("mode")?this._get("mode"):null!=F||Q?"relative-to-ground":"on-the-ground"}set mode(F){this._override("mode",F)}set unit(F){this._set("unit",F)}write(F,Q){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(F,Q):null}clone(){return new O({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(F){return this.mode===F.mode&&this.offset===F.offset&&this.unit===F.unit&&(0,j._W)(this.featureExpressionInfo,F.featureExpressionInfo)}};(0,C._)([(0,U.Cb)({type:P,json:{write:!0}})],W.prototype,"featureExpressionInfo",void 0),(0,C._)([(0,L.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],W.prototype,"readFeatureExpressionInfo",null),(0,C._)([(0,B.c)("featureExpressionInfo",{featureExpressionInfo:{type:P},"featureExpression.value":{type:[0]}})],W.prototype,"writeFeatureExpressionInfo",null),(0,C._)([(0,U.Cb)({type:I.apiValues,nonNullable:!0,json:{type:I.jsonValues,read:I.read,write:{writer:I.write,isRequired:!0}}})],W.prototype,"mode",null),(0,C._)([(0,U.Cb)({type:Number,json:{write:!0}})],W.prototype,"offset",void 0),(0,C._)([(0,U.Cb)({type:w.f9,json:{type:String,read:T.read,write:T.write}})],W.prototype,"unit",null),W=O=(0,C._)([(0,x.j)("esri.layers.support.ElevationInfo")],W);const z=W},81218:(Ke,Ee,E)=>{"use strict";E.d(Ee,{S:()=>w,b:()=>P});var H,C=E(50484),D=E(84303),Z=E(89317),j=E(6785),U=E(80543),L=(E(1535),E(57678),E(14007),E(21070)),x=E(62185),B=E(10141),k=E(7547),R=E(19677);const N=(0,D.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let P=H=class extends Z.wq{constructor(O){super(O)}readHref(O,I,T){return O?(0,R.f)(O,T):I.dataURI}writeHref(O,I,T,W){O&&((0,j.HK)(O)?I.dataURI=O:(I.href=(0,R.t)(O,W),(0,j.YP)(I.href)&&(I.href=(0,j.Fv)(I.href))))}clone(){return new H({href:this.href,primitive:this.primitive})}};(0,C._)([(0,U.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],P.prototype,"href",void 0),(0,C._)([(0,x.r)("href")],P.prototype,"readHref",null),(0,C._)([(0,k.c)("href",{href:{type:String},dataURI:{type:String}})],P.prototype,"writeHref",null),(0,C._)([(0,L.J)(N)],P.prototype,"primitive",void 0),P=H=(0,C._)([(0,B.j)("esri.symbols.support.IconSymbol3DLayerResource")],P);const w="circle"},85497:(Ke,Ee,E)=>{"use strict";E.d(Ee,{S:()=>H,k:()=>R});var B,C=E(50484),D=E(84303),Z=E(89317),j=E(80543),$=(E(1535),E(57678),E(14007),E(21070)),L=E(10141),x=E(19677);const k=(0,D.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let R=B=class extends Z.wq{clone(){return new B({href:this.href,primitive:this.primitive})}};(0,C._)([(0,j.Cb)({type:String,json:{read:x.r,write:x.w}})],R.prototype,"href",void 0),(0,C._)([(0,$.J)(k)],R.prototype,"primitive",void 0),R=B=(0,C._)([(0,L.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],R);const H="sphere"},97888:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(73514),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(61018);let x=L=class extends D.Z{constructor(k){super(k),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new L({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,C._)([(0,Z.Cb)({type:String})],x.prototype,"name",void 0),(0,C._)([(0,Z.Cb)({type:String})],x.prototype,"styleUrl",void 0),(0,C._)([(0,Z.Cb)({type:String})],x.prototype,"styleName",void 0),(0,C._)([(0,Z.Cb)({type:$.Z})],x.prototype,"portal",void 0),x=L=(0,C._)([(0,V.j)("esri.symbols.support.StyleOrigin")],x);const B=x},94970:(Ke,Ee,E)=>{"use strict";E.d(Ee,{e:()=>L});var $,C=E(50484),D=E(73514),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new $({x:this.x,y:this.y})}};(0,C._)([(0,Z.Cb)({type:Number})],L.prototype,"x",void 0),(0,C._)([(0,Z.Cb)({type:Number})],L.prototype,"y",void 0),L=$=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],L)},41647:(Ke,Ee,E)=>{"use strict";E.d(Ee,{b:()=>x});var L,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(34895);let x=L=class extends D.wq{constructor(B){super(B),this.color=null}clone(){const B={color:null!=this.color?this.color.clone():null};return new L(B)}};(0,C._)([(0,Z.Cb)($.a)],x.prototype,"color",void 0),x=L=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DMaterial")],x)},85581:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var L,C=E(50484),D=E(89317),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141)),$=E(34895);let x=L=class extends D.wq{constructor(k){super(k),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new L({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,C._)([(0,Z.Cb)($.y)],x.prototype,"screenLength",void 0),(0,C._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],x.prototype,"minWorldLength",void 0),(0,C._)([(0,Z.Cb)({type:Number,json:{write:!0}})],x.prototype,"maxWorldLength",void 0),x=L=(0,C._)([(0,V.j)("esri.symbols.support.Symbol3DVerticalOffset")],x);const B=x},16497:(Ke,Ee,E)=>{"use strict";E.d(Ee,{p:()=>L});var $,C=E(50484),D=E(73514),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));let L=$=class extends D.Z{constructor(){super(...arguments),this.url=""}clone(){return new $({url:this.url})}};(0,C._)([(0,Z.Cb)({type:String})],L.prototype,"url",void 0),L=$=(0,C._)([(0,V.j)("esri.symbols.support.Thumbnail")],L)},52830:(Ke,Ee,E)=>{"use strict";E.d(Ee,{FW:()=>V,ZB:()=>R,iW:()=>x});var C=E(66599),D=E(25896);function Y(O,I,T,W){if(O)if("CIMTextSymbol"!==O.type){if(T&&O.effects)for(const z of O.effects)L(z,I);if(O.symbolLayers)for(const z of O.symbolLayers)switch(z.type){case"CIMPictureMarker":case"CIMVectorMarker":V(z,I,W);break;case"CIMPictureStroke":case"CIMSolidStroke":!W?.preserveOutlineWidth&&z.width&&(z.width*=I);break;case"CIMPictureFill":z.height&&(z.height*=I),z.offsetX&&(z.offsetX*=I),z.offsetY&&(z.offsetY*=I);break;case"CIMHatchFill":Y(z.lineSymbol,I,!0,{...W,preserveOutlineWidth:!1}),z.offsetX&&(z.offsetX*=I),z.offsetY&&(z.offsetY*=I),z.separation&&(z.separation*=I)}}else null!=O.height&&(O.height*=I)}function V(O,I,T){if(O&&(O.markerPlacement&&function $(O,I){switch((0,D.gJ)(O)&&O.offset&&(O.offset*=I),O.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(O.customEndingOffset&&(O.customEndingOffset*=I),O.offsetAlongLine&&(O.offsetAlongLine*=I),O.placementTemplate&&O.placementTemplate.length){const T=O.placementTemplate.map(W=>W*I);O.placementTemplate=T}break;case"CIMMarkerPlacementAlongLineVariableSize":if(O.maxRandomOffset&&(O.maxRandomOffset*=I),O.placementTemplate&&O.placementTemplate.length){const T=O.placementTemplate.map(W=>W*I);O.placementTemplate=T}break;case"CIMMarkerPlacementOnLine":O.startPointOffset&&(O.startPointOffset*=I);break;case"CIMMarkerPlacementAtExtremities":O.offsetAlongLine&&(O.offsetAlongLine*=I);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":O.beginPosition&&(O.beginPosition*=I),O.endPosition&&(O.endPosition*=I);break;case"CIMMarkerPlacementPolygonCenter":O.offsetX&&(O.offsetX*=I),O.offsetY&&(O.offsetY*=I);break;case"CIMMarkerPlacementInsidePolygon":O.offsetX&&(O.offsetX*=I),O.offsetY&&(O.offsetY*=I),O.stepX&&(O.stepX*=I),O.stepY&&(O.stepY*=I)}}(O.markerPlacement,I),O.offsetX&&(O.offsetX*=I),O.offsetY&&(O.offsetY*=I),O.anchorPoint&&"Absolute"===O.anchorPointUnits&&(O.anchorPoint={x:O.anchorPoint.x*I,y:O.anchorPoint.y*I}),O.size=null!=O.size?O.size*I:0,"CIMVectorMarker"===O.type&&O.markerGraphics))for(const W of O.markerGraphics)O.scaleSymbolsProportionally||Y(W.symbol,I,!0,T)}function L(O,I){switch(O.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":O.width&&(O.width*=I);break;case"CIMGeometricEffectBuffer":O.size&&(O.size*=I);break;case"CIMGeometricEffectCut":O.beginCut&&(O.beginCut*=I),O.endCut&&(O.endCut*=I),O.middleCut&&(O.middleCut*=I);break;case"CIMGeometricEffectDashes":if(O.customEndingOffset&&(O.customEndingOffset*=I),O.offsetAlongLine&&(O.offsetAlongLine*=I),O.dashTemplate&&O.dashTemplate.length){const T=O.dashTemplate.map(W=>W*I);O.dashTemplate=T}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":O.length&&(O.length*=I);break;case"CIMGeometricEffectMove":O.offsetX&&(O.offsetX*=I),O.offsetY&&(O.offsetY*=I);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":O.offset&&(O.offset*=I);break;case"CIMGeometricEffectRegularPolygon":O.radius&&(O.radius*=I);break;case"CIMGeometricEffectTaperedPolygon":O.fromWidth&&(O.fromWidth*=I),O.length&&(O.length*=I),O.toWidth&&(O.toWidth*=I);break;case"CIMGeometricEffectWave":O.amplitude&&(O.amplitude*=I),O.period&&(O.period*=I)}}function x(O){const I=[];return B((0,D.be)(O),I),I.length?new C.Z((0,D.NO)(I[0])):null}function B(O,I){if(!O)return;let T;T="CIMTextSymbol"===O.type?O.symbol:O;const W="CIMPolygonSymbol"===O.type;if(T?.symbolLayers)for(const z of T.symbolLayers)if(!(z.colorLocked||W&&((0,D.yL)(z)||(0,D.zL)(z)&&z.markerPlacement&&(0,D.gJ)(z.markerPlacement))))switch(z.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":z.tintColor&&k(I,z.tintColor);break;case"CIMVectorMarker":z.markerGraphics?.forEach(F=>{B(F.symbol,I)});break;case"CIMSolidStroke":case"CIMSolidFill":k(I,z.color);break;case"CIMHatchFill":B(z.lineSymbol,I)}}function k(O,I){for(const T of O)if(T.join(".")===I.join("."))return;O.push(I)}function R(O,I,T){I instanceof C.Z||(I=new C.Z(I));const W=(0,D.be)(O);W&&H(W,I,T)}function H(O,I,T){if(!O)return;let W;W="CIMTextSymbol"===O.type?O.symbol:O;const z="CIMPolygonSymbol"===W?.type;if(W?.symbolLayers)for(const F of W.symbolLayers){if(F.colorLocked)continue;if(z)if(T){const{layersToColor:J}=T;if(((0,D.yL)(F)||(0,D.zL)(F)&&F.markerPlacement&&(0,D.gJ)(F.markerPlacement))&&"fill"===J||(0,D.k5)(F)&&"outline"===J)continue}else if((0,D.yL)(F)||(0,D.zL)(F)&&F.markerPlacement&&(0,D.gJ)(F.markerPlacement))continue;const Q=I.toArray();switch(F.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":F.tintColor=Q;break;case"CIMVectorMarker":F.markerGraphics?.forEach(J=>{H(J.symbol,I,T)});break;case"CIMSolidStroke":case"CIMSolidFill":F.color=Q;break;case"CIMHatchFill":H(F.lineSymbol,I,T)}}}},72438:(Ke,Ee,E)=>{"use strict";E.d(Ee,{ix:()=>D,l9:()=>j,rx:()=>U});var C=E(66599);const D=new C.Z("white"),j=(new C.Z("black"),new C.Z([255,255,255,0]));function U(Y){return 0===Y.r&&0===Y.g&&0===Y.b}},26981:(Ke,Ee,E)=>{"use strict";E.d(Ee,{CJ:()=>$,G:()=>k,Rz:()=>x,kD:()=>H,mW:()=>R,xA:()=>V,z3:()=>L}),E(14007);var D=E(89481),Z=E(66637),j=E(35451),U=E(52248),Y=E(19579);const V=j.Z.fromJSON(Y.I4),$=Z.Z.fromJSON(Y.ET),L=D.Z.fromJSON(Y.lF),x=U.Z.fromJSON(Y.qP),k=j.Z.fromJSON(Y.eG),R=Z.Z.fromJSON(Y.wW),H=D.Z.fromJSON(Y.lj)},19579:(Ke,Ee,E)=>{"use strict";E.d(Ee,{ET:()=>j,I4:()=>Z,eG:()=>V,lF:()=>U,lj:()=>L,qP:()=>Y,wW:()=>$});const C=[252,146,31,255],Z={type:"esriSMS",style:"esriSMSCircle",size:6,color:C,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},j={type:"esriSLS",style:"esriSLSSolid",width:.75,color:C},U={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Y={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},V={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},$={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},L={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},1010:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ne:()=>O,Od:()=>N,Sp:()=>w,_M:()=>H,mx:()=>P});var C=E(98930),D=E(66599),Z=E(66476),j=E(52540),U=E(55768),Y=E(52830);const V="picture-fill",$="simple-fill",L="simple-line",x="simple-marker",B="text",k="cim",R=new j.z(1e3);function H(I){const T=I.style;let W=null;if(I)switch(I.type){case x:"cross"!==T&&"x"!==T&&(W=I.color);break;case $:"solid"===T?W=I.color:"none"!==T&&(W={type:"pattern",x:0,y:0,src:(0,C.V)(`esri/symbols/patterns/${T}.png`),width:5,height:5});break;case V:W={type:"pattern",src:I.url,width:(0,U.F2)(I.width)*I.xscale,height:(0,U.F2)(I.height)*I.yscale,x:(0,U.F2)(I.xoffset),y:(0,U.F2)(I.yoffset)};break;case B:W=I.color;break;case k:W=(0,Y.iW)(I)}return W}function N(I,T){const W=I+"-"+T;return void 0!==R.get(W)?Promise.resolve(R.get(W)):(0,Z.Z)(I,{responseType:"image"}).then(z=>{const F=z.data,Q=F.naturalWidth,J=F.naturalHeight,oe=document.createElement("canvas");oe.width=Q,oe.height=J;const se=oe.getContext("2d");se.fillStyle=T,se.fillRect(0,0,Q,J),se.globalCompositeOperation="destination-in",se.drawImage(F,0,0);const ue=oe.toDataURL();return R.put(W,ue),ue})}function P(I){if(!I)return null;let T=null;switch(I.type){case $:case V:case x:T=P(I.outline);break;case L:{const W=(0,U.F2)(I.width);null!=I.style&&"none"!==I.style&&0!==W&&(T={color:I.color,style:w(I.style),width:W,cap:I.cap,join:"miter"===I.join?(0,U.F2)(I.miterLimit):I.join});break}default:T=null}return T}const w=(()=>{const I={};return T=>{if(I[T])return I[T];const W=T.replaceAll("-","");return I[T]=W,W}})(),O=new D.Z([128,128,128])},15532:(Ke,Ee,E)=>{"use strict";E.d(Ee,{cW:()=>V,im:()=>B,vX:()=>$});var C=E(71950),D=E(57964),Z=E(85971),j=E(15954),U=E(34113),Y=E(80121);function V(k,R,H,N){const P=x(k,{},{context:N,isLabelSymbol:!1});null!=P&&(R[H]=P)}function $(k,R,H,N){const P=x(k,{},{context:N,isLabelSymbol:!0});null!=P&&(R[H]=P)}function L(k){return k instanceof j.Z||k instanceof Y.Z}function x(k,R,H){if(null==k)return null;const{context:N,isLabelSymbol:P}=H,w=N?.origin,O=N?.messages;if("web-scene"===w&&!L(k)){const I=(0,U.q)(k,{retainCIM:!0,hasLabelingContext:P});return null!=I.symbol?I.symbol.write(R,N):(O?.push(new D.Z("symbol:unsupported",`Symbols of type '${k.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:k,context:N,error:I.error})),null)}return("web-map"===w||"portal-item"===w&&!(0,Z.A2)(N?.layer))&&L(k)?(O?.push(new D.Z("symbol:unsupported",`Symbols of type '${k.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:k,context:N})),null):k.write(R,N)}function B(k,R){return(0,C.S9)(k,null,R)}},30930:(Ke,Ee,E)=>{"use strict";E.d(Ee,{J:()=>C,k:()=>D});const C=["begin","end","begin-end"],D=["arrow","circle","square","diamond","cross","x"]},34895:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>V,y:()=>$});var C=E(66599),D=E(55768),Z=E(1535),j=E(39437);const V={type:C.Z,json:{type:[Z.z8],default:null,read:{source:["color","transparency"],reader:function U(L,x){const B=null!=x.transparency?(0,j.b)(x.transparency):1,k=x.color;return k&&Array.isArray(k)?new C.Z([k[0]||0,k[1]||0,k[2]||0,B]):null}},write:{target:{color:{type:[Z.z8]},transparency:{type:Z.z8}},writer:function Y(L,x){x.color=L.toJSON().slice(0,3);const B=(0,j.a)(L.a);0!==B&&(x.transparency=B)}}}},$={type:Number,cast:D.t_,json:{write:!0}}},64063:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{getPatternDescriptor:()=>oe,getSizeFromOptions:()=>ge,getSymbolLayerFill:()=>J,previewSymbol3D:()=>ne});var C=E(15861),D=E(98930),Z=E(70794),U=(E(14007),E(57964)),Y=E(4703),V=E(55768),$=E(1010),L=E(81218),x=E(85497),B=E(86336),k=E(36232),R=E(62616),H=E(76945);const N=B.b_.size,P=B.b_.maxSize,w=B.b_.maxOutlineSize,O=B.b_.lineWidth,I=B.b_.tallSymbolWidth;function T(pe){const ye=pe.outline,re=null!=pe.material?pe.material.color:null,ve=null!=re?re.toHex():null;if(null==ye||"pattern"in ye&&null!=ye.pattern&&"style"===ye.pattern.type&&"none"===ye.pattern.style)return"fill"===pe.type&&"#ffffff"===ve?{color:"#bdc3c7",width:.75}:null;const Oe=(0,V.F2)(ye.size)||0;return{color:"rgba("+(null!=ye.color?ye.color.toRgba():"255,255,255,1")+")",width:Math.min(Oe,w),style:"pattern"in ye&&null!=ye.pattern&&"style"===ye.pattern.type?(0,$.Sp)(ye.pattern.style):null,join:"butt",cap:"patternCap"in ye?ye.patternCap:"butt"}}function z(){return(z=(0,C.Z)(function*(pe,ye){if(pe.thumbnail?.url)return pe.thumbnail.url;if("icon"===ye.type&&ye?.resource?.href)return(0,R.nf)(ye);const re=(0,D.V)("esri/images/Legend/legend3dsymboldefault.png");if(pe.styleOrigin&&(pe.styleOrigin.styleName||pe.styleOrigin.styleUrl)){const ve=yield(0,H.resolveWebStyleSymbol)(pe.styleOrigin,{portal:pe.styleOrigin.portal},"webRef").catch(()=>null);if(ve&&"thumbnail"in ve&&ve.thumbnail?.url)return ve.thumbnail.url}return re})).apply(this,arguments)}function F(pe,ye=1){const re=pe.a,ve=(0,Z._Y)(pe),Oe=ve.h,Me=ve.s/ye,Se=100-(100-ve.v)/ye,{r:ke,g:xe,b:Ge}=(0,Z.xr)({h:Oe,s:Me,v:Se});return[ke,xe,Ge,re]}function Q(pe){return"water"===pe.type?null==pe.color?null:pe.color:null==pe.material?.color?null:pe.material.color}function J(pe,ye=0){const re=Q(pe);if(!re){if("fill"===pe.type)return null;const Me=(0,B.uH)($.Ne.r,ye);return[Me,Me,Me,100]}const ve=re.toRgba();for(let Oe=0;Oe<3;Oe++)ve[Oe]=(0,B.uH)(ve[Oe],ye);return ve}function oe(pe,ye){return se.apply(this,arguments)}function se(){return(se=(0,C.Z)(function*(pe,ye){const re=pe.style;return"none"===re?null:{type:"pattern",x:0,y:0,src:yield(0,$.Od)((0,D.V)(`esri/symbols/patterns/${re}.png`),ye.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function ue(pe){return pe.outline?T(pe):{color:"rgba(0, 0, 0, 1)",width:1.5}}function he(pe,ye){const re=Q(pe);if(!re)return null;let ve="rgba(";return ve+=(0,B.uH)(re.r,ye)+",",ve+=(0,B.uH)(re.g,ye)+",",ve+=(0,B.uH)(re.b,ye)+",",ve+re.a+");"}function G(pe,ye){const re=he(pe,ye);return re?"pattern"in pe&&null!=pe.pattern&&"style"===pe.pattern.type&&"none"===pe.pattern.style?null:{color:re,width:Math.min(pe.size?(0,V.F2)(pe.size):.75,w),style:"pattern"in pe&&null!=pe.pattern&&"style"===pe.pattern.type?(0,$.Sp)(pe.pattern.style):null,cap:"cap"in pe?pe.cap:null,join:"join"in pe?"miter"===pe.join?(0,V.F2)(2):pe.join:null}:{}}function le(pe,ye,re){const ve=null!=re?.75*re:0;return{type:"linear",x1:ve?.25*ve:0,y1:ve?.5*ve:0,x2:ve||4,y2:ve?.5*ve:4,colors:[{color:pe,offset:0},{color:ye,offset:1}]}}function ge(pe){const ye="number"==typeof pe?.size?pe?.size:null;return ye?(0,V.F2)(ye):null}function ae(){return ae=(0,C.Z)(function*(pe,ye){const re=ge(ye),ve=ye?.maxSize?(0,V.F2)(ye.maxSize):null,Oe=ye?.disableUpsampling??!1,Me=pe.symbolLayers,Se=[];let ke=0,xe=0;const Ge=Me.at(-1);let X;Ge&&"icon"===Ge.type&&(X=Ge.size&&(0,V.F2)(Ge.size)),Me.forEach(Fe=>{if("icon"!==Fe.type&&"object"!==Fe.type)return;const qe="icon"===Fe.type?Fe.size&&(0,V.F2)(Fe.size):0,We=re||qe?Math.ceil(Math.min(re||qe,ve||P)):N;if(Fe?.resource?.href){const He=function W(pe,ye){return z.apply(this,arguments)}(pe,Fe).then(Ne=>{const Ce=Fe?.material?.color,Pe=function me(pe){return"icon"===pe.type?"multiply":"tint"}(Fe);return(0,k.rG)(Ne,We,Ce,Pe,Oe)}).then(Ne=>{const Ce=Ne.width,Pe=Ne.height;return ke=Math.max(ke,Ce),xe=Math.max(xe,Pe),[{shape:{type:"image",x:0,y:0,width:Ce,height:Pe,src:Ne.url},fill:null,stroke:null}]});Se.push(He)}else{let He=We;"icon"===Fe.type&&X&&re&&(He=We*(qe/X));const Ne="tall"===ye?.symbolConfig||ye?.symbolConfig?.isTall||"object"===Fe.type&&function q(pe){const ye=pe.depth,re=pe.height,ve=pe.width;return 0!==ve&&0!==ye&&0!==re&&ve===ye&&null!=ve&&null!=re&&ve<re}(Fe);ke=Math.max(ke,Ne?I:He),xe=Math.max(xe,He),Se.push(Promise.resolve(function fe(pe,ye,re){const ve=[];if(!pe)return ve;switch(pe.type){case"icon":{const Se=ye,ke=ye;switch(pe.resource&&pe.resource.primitive||L.S){case"circle":ve.push({shape:{type:"circle",cx:0,cy:0,r:.5*ye},fill:J(pe,0),stroke:T(pe)});break;case"square":ve.push({shape:{type:"path",path:[{command:"M",values:[0,ke]},{command:"L",values:[0,0]},{command:"L",values:[Se,0]},{command:"L",values:[Se,ke]},{command:"Z",values:[]}]},fill:J(pe,0),stroke:T(pe)});break;case"triangle":ve.push({shape:{type:"path",path:[{command:"M",values:[0,ke]},{command:"L",values:[.5*Se,0]},{command:"L",values:[Se,ke]},{command:"Z",values:[]}]},fill:J(pe,0),stroke:T(pe)});break;case"cross":ve.push({shape:{type:"path",path:[{command:"M",values:[.5*Se,0]},{command:"L",values:[.5*Se,ke]},{command:"M",values:[0,.5*ke]},{command:"L",values:[Se,.5*ke]}]},stroke:ue(pe)});break;case"x":ve.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[Se,ke]},{command:"M",values:[Se,0]},{command:"L",values:[0,ke]}]},stroke:ue(pe)});break;case"kite":ve.push({shape:{type:"path",path:[{command:"M",values:[0,.5*ke]},{command:"L",values:[.5*Se,0]},{command:"L",values:[Se,.5*ke]},{command:"L",values:[.5*Se,ke]},{command:"Z",values:[]}]},fill:J(pe,0),stroke:T(pe)})}break}case"object":switch(pe.resource&&pe.resource.primitive||x.S){case"cone":{const Oe=le(J(pe,0),J(pe,-.6),re?I:ye),Me=(0,B.TE)(ye,re);ve.push({shape:Me[0],fill:Oe},{shape:Me[1],fill:Oe});break}case"inverted-cone":{const Oe=J(pe,0),Me=le(Oe,J(pe,-.6),ye),Se=(0,B.DY)(ye);ve.push({shape:Se[0],fill:Me},{shape:Se[1],fill:Oe});break}case"cube":{const Oe=(0,B.Pc)(ye,re);ve.push({shape:Oe[0],fill:J(pe,0)},{shape:Oe[1],fill:J(pe,-.3)},{shape:Oe[2],fill:J(pe,-.5)});break}case"cylinder":{const Oe=le(J(pe,0),J(pe,-.6),re?I:ye),Me=(0,B.EB)(ye,re);ve.push({shape:Me[0],fill:Oe},{shape:Me[1],fill:Oe},{shape:Me[2],fill:J(pe,0)});break}case"diamond":{const Oe=(0,B.XX)(ye);ve.push({shape:Oe[0],fill:J(pe,-.3)},{shape:Oe[1],fill:J(pe,0)},{shape:Oe[2],fill:J(pe,-.3)},{shape:Oe[3],fill:J(pe,-.7)});break}case"sphere":{const Oe=le(J(pe,0),J(pe,-.6));Oe.x1=0,Oe.y1=0,Oe.x2=.25*ye,Oe.y2=.25*ye,ve.push({shape:{type:"circle",cx:0,cy:0,r:.5*ye},fill:Oe});break}case"tetrahedron":{const Oe=(0,B.tp)(ye);ve.push({shape:Oe[0],fill:J(pe,-.3)},{shape:Oe[1],fill:J(pe,0)},{shape:Oe[2],fill:J(pe,-.6)});break}}}return ve}(Fe,He,Ne)))}});const be=yield Promise.allSettled(Se),Re=[];return be.forEach(Fe=>{"fulfilled"===Fe.status?Re.push(Fe.value):Fe.reason&&Y.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",Fe.reason)}),(0,k.wh)(Re,[ke,xe],{node:ye?.node,scale:!1,opacity:ye?.opacity,ariaLabel:ye?.ariaLabel})}),ae.apply(this,arguments)}function ie(){return(ie=(0,C.Z)(function*(pe,ye){const re="mesh-3d"===pe.type,ve=pe.symbolLayers,Oe=ge(ye),Me=ye?.maxSize?(0,V.F2)(ye.maxSize):null,Se=Oe||N,ke=[];let xe=0,Ge=0,X=!1;for(let be=0;be<ve.length;be++){const Re=ve.at(be),Fe=[];if(!re||"fill"===Re.type){switch(Re.type){case"fill":{const qe=Math.min(Se,Me||P);if(xe=Math.max(xe,qe),Ge=Math.max(Ge,qe),X=!0,re){const We=B.JZ.meshSymbol3DFill,He=he(Re,-.4),Ne=He?{color:He,width:1,join:"round"}:{};Fe.push({shape:We[0],fill:J(Re,0),stroke:Ne},{shape:We[1],fill:J(Re,-.2),stroke:Ne},{shape:We[2],fill:J(Re,-.6),stroke:Ne})}else{let We=J(Re,0);const He="pattern"in Re?Re.pattern:null,Ne=T(Re),Ce=Q(Re);null!=He&&"style"===He.type&&"solid"!==He.style&&Ce&&(We=yield oe(He,Ce)),Fe.push({shape:B.JZ.fill[0],fill:We,stroke:Ne})}break}case"line":{const qe=G(Re,0);if(null==qe)break;const We={stroke:qe,shape:B.JZ.fill[0]};xe=Math.max(xe,N),Ge=Math.max(Ge,N),Fe.push(We);break}case"extrude":{const qe={join:"round",width:1,...G(Re,-.4)},We=J(Re,0),He=J(Re,-.2),Ne=Math.min(Se,Me||P),Ce=(0,B.EV)(Ne);qe.width=1,Fe.push({shape:Ce[0],fill:He,stroke:qe},{shape:Ce[1],fill:He,stroke:qe},{shape:Ce[2],fill:We,stroke:qe});const Ae=.7*N+.5*Ne;xe=Math.max(xe,N),Ge=Math.max(Ge,Ae);break}case"water":{const qe=Q(Re),We=F(qe),He=F(qe,2),Ne=F(qe,3),Ce=(0,B.ht)();X=!0,Fe.push({shape:Ce[0],fill:We},{shape:Ce[1],fill:He},{shape:Ce[2],fill:Ne});const Pe=Math.min(Se,Me||P);xe=Math.max(xe,Pe),Ge=Math.max(Ge,Pe);break}}ke.push(Fe)}}return(0,k.wh)(ke,[xe,Ge],{node:ye?.node,scale:X,opacity:ye?.opacity,ariaLabel:ye?.ariaLabel})})).apply(this,arguments)}function ne(pe,ye){if(0===pe.symbolLayers.length)return Promise.reject(new U.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(pe.type){case"point-3d":return function te(pe,ye){return ae.apply(this,arguments)}(pe,ye);case"line-3d":return function ee(pe,ye){const re=pe.symbolLayers,ve=[],Oe=(0,R.YW)(pe),Me=ge(ye),Se=(ye?.maxSize?(0,V.F2)(ye.maxSize):null)||w;let ke,xe=0,Ge=0;return re.forEach((X,be)=>{if(!X||"line"!==X.type&&"path"!==X.type)return;const Re=[];switch(X.type){case"line":{const Fe=G(X,0);if(null==Fe)break;const qe=Fe?.width||0;0===be&&(ke=qe);const We=Math.min(Me||qe,Se),He=0===be?We:Me?We*(qe/ke):We,Ne=He>O/2?2*He:O;Ge=Math.max(Ge,He),xe=Math.max(xe,Ne),Fe.width=He,Re.push({shape:{type:"path",path:[{command:"M",values:[0,.5*Ge]},{command:"L",values:[xe,.5*Ge]}]},stroke:Fe});break}case"path":{const Fe=Math.min(Me||N,Se),qe=J(X,0),We=J(X,-.2),He=he(X,-.4),Ne=He?{color:He,width:1}:{};if("quad"===X.profile){const Ce=X.width,Pe=X.height,Ae=(0,B.eb)(Ce&&Pe?Ce/Pe:1,0===Pe,0===Ce),Be={...Ne,join:"bevel"};Re.push({shape:Ae[0],fill:We,stroke:Be},{shape:Ae[1],fill:We,stroke:Be},{shape:Ae[2],fill:qe,stroke:Be})}else Re.push({shape:B.JZ.pathSymbol3DLayer[0],fill:We,stroke:Ne},{shape:B.JZ.pathSymbol3DLayer[1],fill:qe,stroke:Ne});Ge=Math.max(Ge,Fe),xe=Ge}}ve.push(Re)}),Promise.resolve((0,k.wh)(ve,[xe,Ge],{node:ye?.node,scale:Oe,opacity:ye?.opacity,ariaLabel:ye?.ariaLabel}))}(pe,ye);case"polygon-3d":case"mesh-3d":return function ce(pe,ye){return ie.apply(this,arguments)}(pe,ye)}return Promise.reject(new U.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},86336:(Ke,Ee,E)=>{"use strict";E.d(Ee,{DY:()=>x,EB:()=>$,EV:()=>U,JZ:()=>Z,Pc:()=>V,TE:()=>L,XX:()=>B,b_:()=>D,dc:()=>H,eb:()=>j,ht:()=>Y,tp:()=>k,uH:()=>R});var D,N,C=E(66599);(N=D||(D={}))[N.size=22]="size",N[N.lineWidth=50]="lineWidth",N[N.maxSize=120]="maxSize",N[N.maxOutlineSize=80]="maxOutlineSize",N[N.tallSymbolWidth=20]="tallSymbolWidth";const Z={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function j(N,P,w){const O=D.size;let I=O,T=O;N<1?I*=.75:N>1&&(T*=1.25);let F=O,Q=O;return P&&w&&(I=T=F=Q=0),[{type:"path",path:[{command:"M",values:[F,0]},{command:"L",values:[w?F:.875*F,0]},{command:"L",values:[w?I-.5*F:0,T-.5*Q]},{command:"L",values:[I-.5*F,T-.5*Q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[F,0]},{command:"L",values:[F,P?0:.125*Q]},{command:"L",values:[I-.5*F,P?T-.5*Q:Q]},{command:"L",values:[I-.5*F,T-.5*Q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[I-.5*F,T-.5*Q]},{command:"L",values:[w?I-.5*F:0,T-.5*Q]},{command:"L",values:[w?I-.5*F:0,P?T-.5*Q:Q]},{command:"L",values:[I-.5*F,P?T-.5*Q:Q]},{command:"Z",values:[]}]}]}function U(N){const P=D.size,w=.5*N;return[{type:"path",path:[{command:"M",values:[0,.7*P*.5]},{command:"L",values:[.3*P,.7*P]},{command:"L",values:[.3*P,.7*P+w]},{command:"L",values:[0,.7*P+w-.7*P*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*P,.7*P]},{command:"L",values:[.3*P,.7*P+w]},{command:"L",values:[P,w]},{command:"L",values:[P,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*P,0]},{command:"L",values:[P,0]},{command:"L",values:[.3*P,.7*P]},{command:"L",values:[0,.7*P*.5]},{command:"Z",values:[]}]}]}function Y(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function V(N,P){let w=P?D.tallSymbolWidth:N;const I=P?4:6;w-=w<=D.size?.5*I:I;const z=P?.35*w:.5*w;return[{type:"path",path:[{command:"M",values:[.5*w,0]},{command:"L",values:[w,.5*z]},{command:"L",values:[.5*w,z]},{command:"L",values:[0,.5*z]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*z]},{command:"L",values:[.5*w,z]},{command:"L",values:[.5*w,N]},{command:"L",values:[0,N-.5*z]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*w,z]},{command:"L",values:[.5*w,N]},{command:"L",values:[w,N-.5*z]},{command:"L",values:[w,.5*z]},{command:"Z",values:[]}]}]}function $(N,P){let w=P?D.tallSymbolWidth:N;const I=P?4:6;w-=w<=D.size?.5*I:I;const T=.5*w,W=.15*w,F=N-W;return[{type:"ellipse",cx:.5*w,cy:F,rx:T,ry:W},{type:"path",path:[{command:"M",values:[0,W]},{command:"L",values:[0,F]},{command:"L",values:[w,F]},{command:"L",values:[w,W]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*w,cy:W,rx:T,ry:W}]}function L(N,P){let w=P?D.tallSymbolWidth:N;const I=P?4:6;w-=w<=D.size?.5*I:I;const T=.15*w,W=N-T;return[{type:"ellipse",cx:.5*w,cy:W,rx:.5*w,ry:T},{type:"path",path:[{command:"M",values:[.5*w,0]},{command:"L",values:[w,W]},{command:"L",values:[0,W]},{command:"Z",values:[]}]}]}function x(N){let P=N;P-=P<D.size?3:6;const I=.15*P;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[P,0]},{command:"L",values:[.5*P,N-I]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*P,cy:0,rx:.5*P,ry:I}]}function B(N){let P=N;const w=N;P-=P<D.size?2:4;const W=P,z=w,F=Math.floor(N/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[W,.5*z-F]},{command:"L",values:[.45*W-F,.5*z+F]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,0]},{command:"L",values:[.45*W-F,.5*z+F]},{command:"L",values:[0,.5*z-F]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*z-F]},{command:"L",values:[.45*W-F,.5*z+F]},{command:"L",values:[.45*W,w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*W,w]},{command:"L",values:[W,.5*z-F]},{command:"L",values:[.45*W-F,.5*z+F]},{command:"Z",values:[]}]}]}function k(N){let O=N;return O-=O<D.size?1:2,[{type:"path",path:[{command:"M",values:[.45*N,0]},{command:"L",values:[N,O]},{command:"L",values:[.45*N,.6*O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*N,0]},{command:"L",values:[.45*N,.6*O]},{command:"L",values:[0,O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,O]},{command:"L",values:[.45*N,.6*O]},{command:"L",values:[N,O]},{command:"Z",values:[]}]}]}function R(N,P){return Math.round(Math.min(Math.max(N+255*P*.75,0),255))}function H(N,P){if(null==N)return new C.Z;if("type"in N&&("linear"===N.type||"pattern"===N.type))return N;const w=new C.Z(N);return new C.Z([R(w.r,P),R(w.g,P),R(w.b,P),w.a])}},36232:(Ke,Ee,E)=>{"use strict";E.d(Ee,{rG:()=>w,wh:()=>k});var C=E(26152),D=E(66476),Z=E(70794),j=E(57964),U=E(14007),V=(E(33740),E(58242)),$=E(96936),L=E(62616);const x=(0,V.E)();function k(O,I,T){const W=Math.ceil(I[0]),z=Math.ceil(I[1]);if(!O.some(Q=>!!Q.length))return null;const F=T?.node||document.createElement("div");return null!=T.opacity&&(F.style.opacity=T.opacity.toString()),null!=T.effectView&&(F.style.filter=(0,L.wJ)(T.effectView)),function B(O,I){x.append(O,I),x.detach(I)}(F,()=>(0,$.KB)(O,W,z,T)),F}function P(O,I,T,W,z){switch(z){case"multiply":O[I]*=T[0],O[I+1]*=T[1],O[I+2]*=T[2],O[I+3]*=T[3];break;default:{const F=(0,Z._Y)({r:O[I],g:O[I+1],b:O[I+2]});F.h=W.h,F.s=W.s,F.v=F.v/100*W.v;const Q=(0,Z.xr)(F);O[I]=Q.r,O[I+1]=Q.g,O[I+2]=Q.b,O[I+3]*=T[3];break}}}function w(O,I,T,W,z){return function H(O,I,T){return O?(0,D.Z)(O,{responseType:"image"}).then(W=>{const z=W.data,F=z.width,Q=z.height,J=F/Q;let oe=I;if(T){const se=Math.max(F,Q);oe=Math.min(oe,se)}return{image:z,width:J<=1?Math.ceil(oe*J):oe,height:J<=1?oe:Math.ceil(oe/J)}}):Promise.reject(new j.Z("renderUtils: imageDataSize","href not provided."))}(O,I,z).then(F=>{const Q=F.width??I,J=F.height??I;if(F.image&&function N(O,I){return!(!O||"ignore"===I||"multiply"===I&&255===O.r&&255===O.g&&255===O.b&&1===O.a)}(T,W)){let oe=F.image.width,se=F.image.height;(0,U.Z)("edge")&&/\.svg$/i.test(O)&&(oe-=1,se-=1);const ue=function R(O,I){O=Math.ceil(O),I=Math.ceil(I);const T=document.createElement("canvas");T.width=O,T.height=I,T.style.width=O+"px",T.style.height=I+"px";const W=T.getContext("2d");return W.clearRect(0,0,O,I),W}(Q,J);ue.drawImage(F.image,0,0,oe,se,0,0,Q,J);const he=ue.getImageData(0,0,Q,J),G=[T.r/255,T.g/255,T.b/255,T.a],le=(0,Z._Y)(T);for(let q=0;q<he.data.length;q+=4)P(he.data,q,G,le,W);ue.putImageData(he,0,0),O=ue.canvas.toDataURL("image/png")}else{const oe=C.id?.findCredential(O);if(oe?.token){const se=O.includes("?")?"&":"?";O=`${O}${se}token=${oe.token}`}}return{url:O,width:Q,height:J}}).catch(()=>({url:O,width:I,height:I}))}},18007:(Ke,Ee,E)=>{"use strict";E.d(Ee,{EJ:()=>O,KV:()=>P,n2:()=>N,v9:()=>w,wm:()=>W});var C=E(15861),D=E(66476),Z=E(57964),j=E(79412),U=E(6785),Y=E(61018),V=E(78149),$=E(13967);let L={};function B(){return(B=(0,C.Z)(function*(z,F){try{return{data:(yield O(z,F)).data,baseUrl:(0,U.Yd)(z),styleUrl:z}}catch(Q){return(0,j.r9)(Q),null}})).apply(this,arguments)}function N(z,F,Q){return null!=z?.styleUrl?function x(z,F){return B.apply(this,arguments)}(z.styleUrl,Q):null!=z?.styleName?function k(z,F,Q){const J=null!=F.portal?F.portal:Y.Z.getDefault();let oe;const se=`${J.url} - ${J.user&&J.user.username} - ${z}`;return L[se]||(L[se]=function H(z,F,Q){return F.load(Q).then(()=>{const J=new V.Z({disableExtraQuery:!0,query:`owner:${I} AND type:${T} AND typekeywords:"${z}"`});return F.queryItems(J,Q)}).then(({results:J})=>{let oe=null;const se=z.toLowerCase();if(J&&Array.isArray(J))for(const ue of J)if(ue.typeKeywords?.some(G=>G.toLowerCase()===se)&&ue.type===T&&ue.owner===I){oe=ue;break}if(!oe)throw new Z.Z("symbolstyleutils:style-not-found",`The style '${z}' could not be found`,{styleName:z});return oe.load(Q)})}(z,J,Q).then(ue=>(oe=ue,ue.fetchData())).then(ue=>({data:ue,baseUrl:oe.itemUrl??"",styleName:z}))),L[se]}(z.styleName,F,Q):Promise.reject(new Z.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function P(z){return null===z||"CIMSymbolReference"===z.type?z:{type:"CIMSymbolReference",symbol:z}}function w(z,F,Q=["gltf"]){if("cimRef"===F)return z.cimRef;if(z.formatInfos&&!(0,$.K3)())for(const J of Q){const oe=z.formatInfos.find(se=>se.type===J);if(oe)return oe.href}return z.webRef}function O(z,F){const Q={responseType:"json",query:{f:"json"},...F};return(0,D.Z)((0,U.Fv)(z),Q)}const I="esri_en",T="Style",W="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},96936:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A5:()=>me,KB:()=>ce,al:()=>te,ch:()=>oe,iL:()=>ae,jA:()=>F,kQ:()=>Q,vq:()=>z});var C=E(66599),D=E(14007),Z=E(51172),j=E(89921),U=E(86662),V=(E(40846),E(2485));const $="http://www.w3.org/2000/svg";let L=0,x=0;const B=(0,D.Z)("android"),k=(0,D.Z)("chrome")||B&&B>=4?"auto":"optimizeLegibility",R={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},H=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let N={},P={};const w={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},O=Math.PI;let I=1;function T(ie,ne){const pe=ie*(O/180);return Math.abs(ne*Math.sin(pe))+Math.abs(ne*Math.cos(pe))}function W(ie){return ie.map(ne=>`${ne.command} ${ne.values.join(" ")}`).join(" ").trim()}function z(ie,ne,pe,ye){if(ie){if("circle"===ie.type)return(0,V.u)("circle",{cx:ie.cx,cy:ie.cy,fill:ne,"fill-rule":"evenodd",r:ie.r,stroke:pe.color,"stroke-dasharray":pe.dashArray,"stroke-dashoffset":pe.dashOffset,"stroke-linecap":pe.cap,"stroke-linejoin":pe.join,"stroke-miterlimit":"4","stroke-width":pe.width});if("ellipse"===ie.type)return(0,V.u)("ellipse",{cx:ie.cx,cy:ie.cy,fill:ne,"fill-rule":"evenodd",rx:ie.rx,ry:ie.ry,stroke:pe.color,"stroke-dasharray":pe.dashArray,"stroke-linecap":pe.cap,"stroke-linejoin":pe.join,"stroke-miterlimit":"4","stroke-width":pe.width});if("rect"===ie.type)return(0,V.u)("rect",{fill:ne,"fill-rule":"evenodd",height:ie.height,stroke:pe.color,"stroke-dasharray":pe.dashArray,"stroke-linecap":pe.cap,"stroke-linejoin":pe.join,"stroke-miterlimit":"4","stroke-width":pe.width,width:ie.width,x:ie.x,y:ie.y});if("image"===ie.type)return(0,V.u)("image",{height:ie.height,href:ie.src,preserveAspectRatio:"none",width:ie.width,x:ie.x,y:ie.y});if("path"===ie.type){const re="string"!=typeof ie.path?W(ie.path):ie.path;return(0,V.u)("path",{d:re,fill:ne,"fill-rule":"evenodd",stroke:pe.color,"stroke-dasharray":pe.dashArray,"stroke-linecap":pe.cap,"stroke-linejoin":pe.join,"stroke-miterlimit":"4","stroke-width":pe.width})}if("text"===ie.type)return(0,Z.O3)(ye),(0,V.u)("text",{"dominant-baseline":ye.dominantBaseline,fill:ne,"fill-rule":"evenodd","font-family":ye.font.family,"font-size":ye.font.size,"font-style":ye.font.style,"font-variant":ye.font.variant,"font-weight":ye.font.weight,kerning:ye.kerning,rotate:ye.rotate,stroke:pe.color,"stroke-dasharray":pe.dashArray,"stroke-linecap":pe.cap,"stroke-linejoin":pe.join,"stroke-miterlimit":"4","stroke-width":pe.width,"text-anchor":ye.align,"text-decoration":ye.decoration,"text-rendering":k,x:ie.x,y:ie.y},ie.text)}return null}function F(ie){const ne={fill:"none",pattern:null,linearGradient:null};if(ie)if("type"in ie&&"pattern"===ie.type){const pe="patternId-"+ ++L;ne.fill=`url(#${pe})`,ne.pattern={id:pe,x:ie.x,y:ie.y,width:ie.width,height:ie.height,image:{x:0,y:0,width:ie.width,height:ie.height,href:ie.src}}}else if("type"in ie&&"linear"===ie.type){const pe="linearGradientId-"+ ++x;ne.fill=`url(#${pe})`,ne.linearGradient={id:pe,x1:ie.x1,y1:ie.y1,x2:ie.x2,y2:ie.y2,stops:ie.colors.map(ye=>({offset:ye.offset,color:ye.color&&new C.Z(ye.color).toString()}))}}else if(ie){const pe=new C.Z(ie);ne.fill=pe.toString()}return ne}function Q(ie){const ne={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(ie&&(null!=ie.width&&(ne.width=ie.width),ie.cap&&(ne.cap=ie.cap),ie.join&&(ne.join=ie.join.toString()),ie.color&&(ne.color=new C.Z(ie.color).toString()),ie.dashArray&&(ne.dashArray=ie.dashArray),ie.dashArray&&(ne.dashOffset=ie.dashoffset),ie.style)){let pe=null;if(ie.style in w&&(pe=w[ie.style]),Array.isArray(pe)){pe=pe.slice(0);const ye=ie.width??0;for(let re=0;re<pe.length;++re)pe[re]*=ye;if("butt"!==ie.cap){for(let re=0;re<pe.length;re+=2)pe[re]-=ye,pe[re]<1&&(pe[re]=1);for(let re=1;re<pe.length;re+=2)pe[re]+=ye}pe=pe.join(",")}ne.dashArray=pe}return ne}function J(ie,ne){const pe={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(ie){const ye=ie.alignBaseline,re="baseline"===ye?"auto":"top"===ye?"text-top":"bottom"===ye?"hanging":ye;pe.align=ie.align,pe.dominantBaseline=re,pe.decoration=ie.decoration,pe.kerning=ie.kerning?"auto":"0",pe.rotate=ie.rotated?"90":"0",(0,Z.O3)(ne),pe.font.style=ne.style||"normal",pe.font.variant=ne.variant||"normal",pe.font.weight=ne.weight||"normal",pe.font.size=ne.size&&ne.size.toString()||"10pt",pe.font.family=ne.family||"serif"}return pe}function oe(ie){const{pattern:ne,linearGradient:pe}=ie;if(ne)return(0,V.u)("pattern",{height:ne.height,id:ne.id,patternUnits:"userSpaceOnUse",width:ne.width,x:ne.x,y:ne.y},(0,V.u)("image",{height:ne.image.height,href:ne.image.href,width:ne.image.width,x:ne.image.x,y:ne.image.y}));if(pe){const ye=pe.stops.map((re,ve)=>(0,V.u)("stop",{key:`${ve}-stop`,offset:re.offset,"stop-color":re.color}));return(0,V.u)("linearGradient",{gradientUnits:"userSpaceOnUse",id:pe.id,x1:pe.x1,x2:pe.x2,y1:pe.y1,y2:pe.y2},ye)}return null}function se(ie,ne){if(!ie||0===ie.length)return null;const pe=[];for(const ye of ie){const{shape:re,fill:ve,stroke:Oe,font:Me}=ye,Se=F(ve),ke=Q(Oe),xe="text"===re.type?J(re,Me):null,Ge=z(re,Se.fill,ke,xe);Ge&&pe.push(Ge)}return(0,V.u)("mask",{id:ne,maskUnits:"userSpaceOnUse"},(0,V.u)("g",null,pe))}function ue(ie,ne,pe){return(0,U.t)(ie,(0,U.c)(ie),[ne,pe])}function he(ie,ne,pe,ye,re){return(0,U.s)(ie,(0,U.c)(ie),[ne,pe]),ie[4]=ie[4]*ne-ye*ne+ye,ie[5]=ie[5]*pe-re*pe+re,ie}function le(ie,ne){N&&"left"in N?(null!=N.left&&N.left>ie&&(N.left=ie),(null==N.right||N.right<ie)&&(N.right=ie),(null==N.top||N.top>ne)&&(N.top=ne),(null==N.bottom||N.bottom<ne)&&(N.bottom=ne)):N={left:ie,bottom:ne,right:ie,top:ne}}function q(ie){const ne=ie.args,pe=ne.length;let ye;switch(ie.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(ye=0;ye<pe;ye+=2)le(ne[ye],ne[ye+1]);P.x=ne[pe-2],P.y=ne[pe-1];break;case"H":for(ye=0;ye<pe;++ye)le(ne[ye],P.y);P.x=ne[pe-1];break;case"V":for(ye=0;ye<pe;++ye)le(P.x,ne[ye]);P.y=ne[pe-1];break;case"m":{let re=0;for(("x"in P||(le(P.x=ne[0],P.y=ne[1]),re=2),ye=re);ye<pe;ye+=2)le(P.x+=ne[ye],P.y+=ne[ye+1]);break}case"l":case"t":for(ye=0;ye<pe;ye+=2)le(P.x+=ne[ye],P.y+=ne[ye+1]);break;case"h":for(ye=0;ye<pe;++ye)le(P.x+=ne[ye],P.y);break;case"v":for(ye=0;ye<pe;++ye)le(P.x,P.y+=ne[ye]);break;case"c":for(ye=0;ye<pe;ye+=6)le(P.x+ne[ye],P.y+ne[ye+1]),le(P.x+ne[ye+2],P.y+ne[ye+3]),le(P.x+=ne[ye+4],P.y+=ne[ye+5]);break;case"s":case"q":for(ye=0;ye<pe;ye+=4)le(P.x+ne[ye],P.y+ne[ye+1]),le(P.x+=ne[ye+2],P.y+=ne[ye+3]);break;case"A":for(ye=0;ye<pe;ye+=7)le(ne[ye+5],ne[ye+6]);P.x=ne[pe-2],P.y=ne[pe-1];break;case"a":for(ye=0;ye<pe;ye+=7)le(P.x+=ne[ye+5],P.y+=ne[ye+6])}}function fe(ie,ne,pe){const ye=R[ie.toLowerCase()];let re;"number"==typeof ye&&(ye?ne.length>=ye&&(re={action:ie,args:ne.slice(0,ne.length-ne.length%ye)},pe.push(re),q(re)):(re={action:ie,args:[]},pe.push(re),q(re)))}function me(ie){const ne={x:0,y:0,width:0,height:0};if("circle"===ie.type)ne.x=ie.cx-ie.r,ne.y=ie.cy-ie.r,ne.width=2*ie.r,ne.height=2*ie.r;else if("ellipse"===ie.type)ne.x=ie.cx-ie.rx,ne.y=ie.cy-ie.ry,ne.width=2*ie.rx,ne.height=2*ie.ry;else if("image"===ie.type||"rect"===ie.type)ne.x=ie.x,ne.y=ie.y,ne.width=ie.width,ne.height=ie.height;else if("path"===ie.type){const pe=function ge(ie){const ne=("string"!=typeof ie.path?W(ie.path):ie.path).match(H),pe=[];if(N={},P={},!ne)return null;let ye="",re=[];const ve=ne.length;for(let Me=0;Me<ve;++Me){const Se=ne[Me],ke=parseFloat(Se);isNaN(ke)?(ye&&fe(ye,re,pe),re=[],ye=Se):re.push(ke)}fe(ye,re,pe);const Oe={x:0,y:0,width:0,height:0};return N&&"left"in N&&(Oe.x=N.left,Oe.y=N.top,Oe.width=N.right-N.left,Oe.height=N.bottom-N.top),Oe}(ie);ne.x=pe.x,ne.y=pe.y,ne.width=pe.width,ne.height=pe.height}return ne}function te(ie){const ne={x:0,y:0,width:0,height:0};let pe=null,ye=Number.NEGATIVE_INFINITY,re=Number.NEGATIVE_INFINITY;for(const ve of ie)pe?(pe.x=Math.min(pe.x,ve.x),pe.y=Math.min(pe.y,ve.y),ye=Math.max(ye,ve.x+ve.width),re=Math.max(re,ve.y+ve.height)):(pe=ne,pe.x=ve.x,pe.y=ve.y,ye=ve.x+ve.width,re=ve.y+ve.height);return pe&&(pe.width=ye-pe.x,pe.height=re-pe.y),pe}function ae(ie,ne,pe,ye,re,ve,Oe,Me,Se){let ke=(Oe&&ve?T(ve,ne):ne)/2,xe=(Oe&&ve?T(ve,pe):pe)/2;if(Se){const He=Se[0],Ne=Se[1];ke=(Oe&&ve?T(ve,He):He)/2,xe=(Oe&&ve?T(ve,Ne):Ne)/2}const Ge=ie.width+ye,X=ie.height+ye,be=(0,j.c)(),Re=(0,j.c)();let Fe=!1;if(re&&0!==Ge&&0!==X){const He=ne!==pe?ne/pe:Ge/X,Ne=ne>pe?ne:pe;let Ce=1,Pe=1;isNaN(Ne)||(He>1?(Ce=Ne/Ge,Pe=Ne/He/X):(Pe=Ne/X,Ce=Ne*He/Ge)),(0,U.m)(Re,Re,he(be,Ce,Pe,ke,xe)),Fe=!0}const qe=ie.x+(Ge-ye)/2,We=ie.y+(X-ye)/2;if((0,U.m)(Re,Re,ue(be,ke-qe,xe-We)),!Fe&&(Ge>ne||X>pe)){const He=Ge/ne>X/pe,Ne=(He?ne:pe)/(He?Ge:X);(0,U.m)(Re,Re,he(be,Ne,Ne,qe,We))}return ve&&(0,U.m)(Re,Re,function G(ie,ne,pe,ye){const re=ne%360*Math.PI/180;(0,U.r)(ie,(0,U.c)(ie),re);const ve=Math.cos(re),Oe=Math.sin(re),Me=ie[4],Se=ie[5];return ie[4]=Me*ve-Se*Oe+ye*Oe-pe*ve+pe,ie[5]=Se*ve+Me*Oe-pe*Oe-ye*ve+ye,ie}(be,ve,qe,We)),Me&&(0,U.m)(Re,Re,ue(be,Me[0],Me[1])),`matrix(${Re[0]},${Re[1]},${Re[2]},${Re[3]},${Re[4]},${Re[5]})`}function ce(ie,ne,pe,ye={}){const re=[],ve=[],Oe=++I,Me=function ee(ie,ne,pe){const ye=ie?.effects.find(ke=>"bloom"===ke.type);if(!ye)return null;const{strength:re,radius:ve}=ye,Oe=re>0?ve:0,Me=(re+Oe)*ne,Se=4*re+1;return(0,V.u)("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${pe}`,width:"300%",x:"-100%",y:"-100%"},(0,V.u)("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(re+.5*Oe)*(5**(ne/100)*(.4+ne/100)),result:"dilate"}),(0,V.u)("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:Me/25}),(0,V.u)("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:Me/50}),(0,V.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,V.u)("feFuncR",{slope:Se,type:"linear"}),(0,V.u)("feFuncG",{slope:Se,type:"linear"}),(0,V.u)("feFuncB",{slope:Se,type:"linear"})),(0,V.u)("feMerge",null,(0,V.u)("feMergeNode",{in:"intensityBlur"}),(0,V.u)("feMergeNode",{in:"intensityBrightness"}),(0,V.u)("feGaussianBlur",{stdDeviation:re/10})))}(ye.effectView,ne,Oe);let Se=null;if(Me){const xe=ye.effectView?.effects.find(Re=>"bloom"===Re.type),Ge=(xe.strength?xe.strength+xe.radius/2:0)/3,be=pe+pe*Ge;Se=[Math.max(ne+ne*Ge,10),Math.max(be,10)]}for(let xe=0;xe<ie.length;xe++){const Ge=ie[xe],X=[],be=[];let Re=0,Fe=0,qe=0;for(const Ne of Ge){const{shape:Ce,fill:Pe,stroke:Ae,font:Be,offset:ze}=Ne;ye.ignoreStrokeWidth||"text"===Ce.type||(Re+=Ae?.width||0);const st=F(Pe),Xe=Q(Ae),ot="text"===Ce.type?J(Ce,Be):null;re.push(oe(st)),X.push(z(Ce,st.fill,Xe,ot)),be.push(me(Ce)),ze&&(Fe+=ze[0],qe+=ze[1])}const We=ae(te(be),ne,pe,Re,ye.scale??!1,ye.rotation,ye.useRotationSize??!1,[Fe,qe],Se);let He=null;if(ye.masking){const Ne=`mask-${xe}`;re.push(se(ye.masking[xe],Ne)),He=`url(#${Ne})`}ve.push(He?(0,V.u)("g",{mask:He},(0,V.u)("g",{transform:We},X)):(0,V.u)("g",{transform:We},X))}return ye.useRotationSize&&ye.rotation&&(ne=T(ye.rotation,ne),pe=T(ye.rotation,pe)),Me&&((0,Z.O3)(Se),ne=Se[0],pe=Se[1]),(0,V.u)("svg",{"aria-labelledby":ye.ariaLabel,focusable:!1,height:pe,role:"img",style:"display: block;",width:ne,xmlns:$},Me,(0,V.u)("defs",null,re),Me?(0,V.u)("g",{filter:`url(#bloom${Oe})`},ve):ve)}},34113:(Ke,Ee,E)=>{"use strict";E.d(Ee,{q:()=>N});var C=E(71950),D=E(57964),Z=E(80121),j=E(31110),U=E(66637),Y=E(92227),V=E(35451),$=E(41391),L=E(89481),x=E(75771),B=E(87137),k=E(52248),R=E(82108);const H={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function N(P,w=H){if(!P)return{symbol:null};const{retainId:O=H.retainId,ignoreDrivers:I=H.ignoreDrivers,hasLabelingContext:T=H.hasLabelingContext,retainCIM:W=H.retainCIM}=w;let z=null;if((0,C.dU)(P)||P instanceof Z.Z)z=P.clone();else if("cim"===P.type){const F=P.data?.symbol?.type;if("CIMPointSymbol"!==F)return{error:new D.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${F||"unknown"}' is unsupported in 3D`,{symbol:P})};z=W?P.clone():j.Z.fromCIMSymbol(P)}else if(P instanceof U.Z)z=Y.Z.fromSimpleLineSymbol(P);else if(P instanceof V.Z)z=j.Z.fromSimpleMarkerSymbol(P);else if(P instanceof $.Z)z=j.Z.fromPictureMarkerSymbol(P);else if(P instanceof L.Z)z=w.geometryType&&"mesh"===w.geometryType?x.Z.fromSimpleFillSymbol(P):B.Z.fromSimpleFillSymbol(P);else{if(!(P instanceof k.Z))return{error:new D.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${P.type||P.declaredClass}' is unsupported in 3D`,{symbol:P})};z=T?R.Z.fromTextSymbol(P):j.Z.fromTextSymbol(P)}return O&&z&&"cim"!==z.type&&(z.id=P.id),I&&(0,C.dU)(z)&&z.symbolLayers.forEach(F=>F.ignoreDrivers=!0),{symbol:z}}},58156:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Hc:()=>L,KW:()=>x,Uz:()=>$,w2:()=>B}),E(14007),E(8554);var Z=E(27048);const U=(0,Z.al)(-.5,-.5,-.5,.5,.5,.5),Y=(0,Z.al)(-.5,-.5,0,.5,.5,1),V=(0,Z.al)(-.5,-.5,0,.5,.5,.5);function $(k){switch(k){case"sphere":case"cube":case"diamond":return U;case"cylinder":case"cone":case"inverted-cone":return Y;case"tetrahedron":return V;default:return}}const L=["butt","square","round"],x=[...L,"none"],B=["miter","bevel","round"]},38826:(Ke,Ee,E)=>{"use strict";E.d(Ee,{LC:()=>H,jT:()=>P,k:()=>R,l3:()=>O,zd:()=>W});var C=E(15861),Z=(E(14007),E(4978)),j=E(1010),U=E(86336),Y=E(36232),V=E(62616);E(84399),E(82339);let x=null;const B=[255,255,255];function k(J,oe){return Math.floor(Math.random()*(oe-J+1)+J)}function R(J,oe,se){const{backgroundColor:ue,outline:he,dotSize:G}=J,le=se?.swatchSize||U.b_.size,fe=Math.round(le*le/G**2*.8),ge=window.devicePixelRatio,me=document.createElement("canvas"),te=le*ge;me.width=te,me.height=te,me.style.width=me.width/ge+"px",me.style.height=me.height/ge+"px";const ae=me.getContext("2d");if(ue&&(ae.fillStyle=ue.toCss(!0),ae.fillRect(0,0,te,te),ae.fill()),ae.fillStyle=oe?.toCss(!0)??"",x&&x.length/2===fe)for(let ce=0;ce<2*fe;ce+=2)ae.fillRect(x[ce],x[ce+1],G*ge,G*ge),ae.fill();else{x=[];for(let ce=0;ce<2*fe;ce+=2){const ie=k(0,te),ne=k(0,te);x.push(ie,ne),ae.fillRect(ie,ne,G*ge,G*ge),ae.fill()}}he&&(he.color&&(ae.strokeStyle=he.color.toCss(!0)),ae.lineWidth=he.width,ae.strokeRect(0,0,te,te));const ee=new Image(le,le);return ee.src=me.toDataURL(),ee.ariaLabel=se?.ariaLabel??null,ee.alt=se?.ariaLabel??"",ee}function H(J,oe={}){const se=oe.radius||40,ue=2*Math.PI*se,he=J.length,G=ue/he,le=[],q=(0,j.mx)(oe.outline);null!=q?.width&&(q.width*=2),(q||oe.backgroundColor)&&le.push({shape:{type:"circle",cx:se,cy:se,r:se},fill:oe.backgroundColor,stroke:q,offset:[0,0]});const fe=oe.values,ge=fe&&fe.length===he&&100===fe.reduce((ce,ie)=>ce+ie,0),me=[0];for(let ce=0;ce<he;ce++){let ie=null;ge&&(ie=fe[ce]*ue/100,me.push(ie+me[ce])),le.push({shape:{type:"circle",cx:se,cy:se,r:se/2},fill:[0,0,0,0],stroke:{width:se,dashArray:`${(ie??G)/2} ${ue}`,dashoffset:"-"+(ge?me[ce]/2:ce*(G/2)),color:J[ce]},offset:[0,0]})}let te=null;const ae=2*se+(q?.width||0),ee=oe.holePercentage;if(ee){q&&le.push({shape:{type:"circle",cx:se,cy:se,r:se*ee},fill:null,stroke:q,offset:[0,0]});const ce=ae/2;te=[[{shape:{type:"circle",cx:ce,cy:ce,r:ce},fill:B,stroke:q?{...q,color:B}:null,offset:[0,0]},{shape:{type:"circle",cx:ce,cy:ce,r:se*ee},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return(0,Y.wh)([le],[ae,ae],{effectView:oe.effectList,ignoreStrokeWidth:!0,masking:te,rotation:-90,ariaLabel:oe.ariaLabel})}function P(J,oe={}){const he="horizontal"===oe.align,q=oe.width??(he?75:24),fe=oe.height??(he?24:75),ge=oe.gradient??!0,me=window.devicePixelRatio,te=q*me,ae=fe*me,ee=document.createElement("canvas");ee.width=te,ee.height=ae,ee.ariaLabel=oe.ariaLabel??null,ee.style.width=`${q}px`,ee.style.height=`${fe}px`;const ce=ee.getContext("2d");if(ge){const ye=ce.createLinearGradient(0,0,he?te:0,he?0:ae),re=J.length,ve=1===re?0:1/(re-1);J.forEach((Oe,Me)=>ye.addColorStop(Me*ve,Oe.toString())),ce.fillStyle=ye,ce.fillRect(0,0,te,ae)}else{const ye=he?te/J.length:te,re=he?ae:ae/J.length;let ve=0,Oe=0;for(const Me of J)ce.fillStyle=Me.toString(),ce.fillRect(ve,Oe,ye,re),ve=he?ve+ye:0,Oe=he?0:Oe+re}const pe=document.createElement("div");return pe.style.width=`${q}px`,pe.style.height=`${fe}px`,function w(J,oe){if(!oe)return;J.style.filter=(0,V.wJ)(oe);const se=oe.effects;if(se)for(const ue of se)if("drop-shadow"===ue?.type){ue.offsetX<0?J.style.marginLeft=`${Math.abs(ue.offsetX)}px`:J.style.marginRight=`${ue.offsetX}px`;break}}(pe,oe?.effectList),pe.appendChild(ee),pe}function O(J,oe){return I.apply(this,arguments)}function I(){return(I=(0,C.Z)(function*(J,oe){switch(J.type){case"web-style":{const{previewWebStyleSymbol:se}=yield E.e(4397).then(E.bind(E,64397));return se(J,O,oe)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:se}=yield Promise.resolve().then(E.bind(E,64063));return se(J,oe)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:se}=yield E.e(6266).then(E.bind(E,46266));return se(J,oe)}case"cim":{const{previewCIMSymbol:se}=yield Promise.all([E.e(9968),E.e(693),E.e(9231),E.e(8592),E.e(1583)]).then(E.bind(E,42074));return se(J,oe)}default:return}})).apply(this,arguments)}function T(J){return J&&"opacity"in J?J.opacity*T(J.parent):1}function W(J,oe){return z.apply(this,arguments)}function z(){return(z=(0,C.Z)(function*(J,oe){if(!J)return;const se=J.sourceLayer,ue=(null!=oe&&oe.useSourceLayer?se:J.layer)??se,he=T(ue);if(null!=J.symbol&&(null==oe||!0!==oe.ignoreGraphicSymbol)){const re="web-style"===J.symbol.type?yield(0,V.Q8)(J.symbol,{...oe,cache:null!=oe?oe.webStyleCache:null}):J.symbol.clone();return(0,V.tb)(re,null,he),re}const G=(null!=oe?oe.renderer:null)??(ue&&"renderer"in ue?ue.renderer:null);let le=G&&"getSymbolAsync"in G?yield G.getSymbolAsync(J,oe):null;if(!le)return;if(le="web-style"===le.type?yield le.fetchSymbol({...oe,cache:null!=oe?oe.webStyleCache:null}):le.clone(),!G||!("visualVariables"in G)||!G.visualVariables?.length)return(0,V.tb)(le,null,he),le;if("arcadeRequiredForVisualVariables"in G&&G.arcadeRequiredForVisualVariables&&null==oe?.arcade){const re={...oe};re.arcade=yield(0,Z.LC)(),oe=re}const{getColor:q,getOpacity:fe,getAllSizes:ge,getRotationAngle:me}=yield Promise.resolve().then(E.bind(E,37157)),te=[],ae=[],ee=[],ce=[];for(const re of G.visualVariables)switch(re.type){case"color":te.push(re);break;case"opacity":ae.push(re);break;case"rotation":ce.push(re);break;case"size":re.target||ee.push(re)}const ie=!!te.length&&te[te.length-1],ne=ie?q(ie,J,oe):null,pe=!!ae.length&&ae[ae.length-1];let ye=pe?fe(pe,J,oe):null;if(null!=he&&(ye=null!=ye?ye*he:he),(0,V.tb)(le,ne,ye),ee.length){const re=ge(ee,J,oe);yield(0,V.e3)(le,re)}for(const re of ce)(0,V.BR)(le,me(re,J,oe),re.axis);return le})).apply(this,arguments)}},52759:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ck:()=>Y,JT:()=>Z,Nj:()=>x,c9:()=>B,g6:()=>j,vC:()=>U,x0:()=>L});var C=E(55117),D=E(1535);const Z=["none","underline","line-through"],j=["normal","italic","oblique"],U=["normal","lighter","bold","bolder"],Y={type:Number,cast:k=>{const R=(0,D.q9)(k);return 0===R?1:(0,C.uZ)(R,.1,4)},nonNullable:!0},L={type:["left","right","center"],nonNullable:!0},x={type:["baseline","top","middle","bottom"],nonNullable:!0},B=8},1678:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z7:()=>Z,f9:()=>U});var C=E(44526);function Z(Y){return 1/(C.a[Y]||1)}const U=function j(){const Y=Object.keys(C.a);return Y.sort(),Y}()},43845:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Ds:()=>V,KA:()=>Y});var C=E(6785),D=E(19677);function j(L,x){return function $(L){return!(null==L||"service"!==L.origin&&"portal-item"!==L.origin||"feature"!==L.layer?.type&&"stream"!==L.layer?.type)}(x)&&!(0,C.YP)(L)&&x?.layer?.parsedUrl?(0,C.v_)(x.layer.parsedUrl.path,"images",L):(0,D.f)(L,x)}const Y={json:{read:{source:["imageData","url"],reader:function Z(L,x,B){return x.imageData?(0,C._l)({mediaType:x.contentType||"image/png",isBase64:!0,data:x.imageData}):j(x.url,B)}},write:{writer(L,x,B,k){!function U(L,x,B,k){if((0,C.HK)(L)){const R=(0,C.sJ)(L);if(!R)return;x.contentType=R.mediaType,x.imageData=R.data,B&&B.imageData===x.imageData&&B.url&&(0,D.w)(B.url,x,"url",k)}else(0,D.w)(L,x,"url",k)}(L,x,this.source,k)}}}},V={readOnly:!0,json:{read:{source:["imageData","url"],reader(L,x,B){const k={};return x.imageData&&(k.imageData=x.imageData),x.contentType&&(k.contentType=x.contentType),x.url&&(k.url=j(x.url,B)),k}}}}},62616:(Ke,Ee,E)=>{"use strict";E.d(Ee,{BR:()=>ie,Q8:()=>ye,Y6:()=>H,YW:()=>N,_h:()=>w,e3:()=>ee,nf:()=>P,tb:()=>z,wJ:()=>ne});var C=E(15861),D=E(66599),Z=E(71950),j=E(37636),Y=(E(14007),E(55768)),V=E(8554),$=E(53984),L=E(52830),x=E(1010),B=E(41647);const k=new D.Z("white");function H(ve){if(!ve)return 0;if((0,Z.dU)(ve)){const Oe=function R(ve){const Oe=ve.symbolLayers?.at(-1);if(Oe&&"outline"in Oe)return Oe?.outline?.size}(ve);return Oe??0}return(0,Y.Wz)((0,x.mx)(ve)?.width)}function N(ve){if(null==ve||!("symbolLayers"in ve)||null==ve.symbolLayers)return!1;switch(ve.type){case"point-3d":return ve.symbolLayers.some(Oe=>"object"===Oe.type);case"line-3d":return ve.symbolLayers.some(Oe=>"path"===Oe.type);case"polygon-3d":return ve.symbolLayers.some(Oe=>"object"===Oe.type||"extrude"===Oe.type);default:return!1}}function P(ve){return ve.resource?.href??""}function w(ve,Oe){if(!ve)return null;let Me=null;return(0,Z.dU)(ve)?Me=function O(ve){const Oe=ve.symbolLayers;if(!Oe)return null;let Me=null;return Oe.forEach(Se=>{"object"===Se.type&&Se.resource?.href||(Me="water"===Se.type?Se.color:Se.material?Se.material.color:null)}),Me?new D.Z(Me):null}(ve):(0,Z.cT)(ve)&&(Me="cim"===ve.type?(0,L.iW)(ve):ve.color?new D.Z(ve.color):null),Me?I(Me,Oe):null}function I(ve,Oe){if(null==Oe||null==ve)return ve;const Me=ve.toRgba();return Me[3]=Me[3]*Oe,new D.Z(Me)}function z(ve,Oe,Me){ve&&(Oe||null!=Me)&&(Oe&&(Oe=new D.Z(Oe)),(0,Z.dU)(ve)?function T(ve,Oe,Me){const Se=ve.symbolLayers;if(!Se)return;const ke=xe=>I(Oe=Oe??xe??(null!=Me?k:null),Me);Se.forEach(xe=>{if("object"!==xe.type||!xe.resource?.href||Oe)if("water"===xe.type)xe.color=ke(xe.color);else{const X=ke(null!=xe.material?xe.material.color:null);null==xe.material?xe.material=new B.b({color:X}):xe.material.color=X,null!=Me&&"outline"in xe&&null!=xe.outline?.color&&(xe.outline.color=I(xe.outline.color,Me))}})}(ve,Oe,Me):(0,Z.cT)(ve)&&function W(ve,Oe,Me){(Oe=Oe??ve.color)&&(ve.color=I(Oe,Me)),null!=Me&&"outline"in ve&&ve.outline?.color&&(ve.outline.color=I(ve.outline.color,Me))}(ve,Oe,Me))}function Q(){return Q=(0,C.Z)(function*(ve,Oe){const Me=ve.symbolLayers;Me&&(yield(0,j.Ed)(Me,function(){var Se=(0,C.Z)(function*(ke){return function J(ve,Oe){return oe.apply(this,arguments)}(ke,Oe)});return function(ke){return Se.apply(this,arguments)}}()))}),Q.apply(this,arguments)}function oe(){return oe=(0,C.Z)(function*(ve,Oe){switch(ve.type){case"extrude":!function he(ve,Oe){ve.size="number"==typeof Oe[2]?Oe[2]:0}(ve,Oe);break;case"icon":case"line":case"text":!function se(ve,Oe){const Me=ue(Oe);null!=Me&&(ve.size=Me)}(ve,Oe);break;case"path":!function q(ve,Oe){const Me=fe(Oe,V.O,[ve.width,void 0,ve.height]);ve.width=te(Oe[0],ve.width,1,Me),ve.height=te(Oe[2],ve.height,1,Me)}(ve,Oe);break;case"object":yield function G(ve,Oe){return le.apply(this,arguments)}(ve,Oe)}}),oe.apply(this,arguments)}function ue(ve){for(const Oe of ve)if("number"==typeof Oe)return Oe;return null}function le(){return le=(0,C.Z)(function*(ve,Oe){const{resourceSize:Me,symbolSize:Se}=yield function ge(ve){return me.apply(this,arguments)}(ve),ke=fe(Oe,Me,Se);ve.width=te(Oe[0],Se[0],Me[0],ke),ve.depth=te(Oe[1],Se[1],Me[1],ke),ve.height=te(Oe[2],Se[2],Me[2],ke)}),le.apply(this,arguments)}function fe(ve,Oe,Me){for(let Se=0;Se<3;Se++){const ke=ve[Se];switch(ke){case"symbol-value":{const xe=Me[Se];return null!=xe?xe/Oe[Se]:1}case"proportional":break;default:if(ke&&Oe[Se])return ke/Oe[Se]}}return 1}function me(){return(me=(0,C.Z)(function*(ve){const{computeObjectLayerResourceSize:Oe}=yield E.e(6207).then(E.bind(E,36207)),Me=yield Oe(ve,10),{width:Se,height:ke,depth:xe}=ve,Ge=[Se,xe,ke];let X=1;for(let be=0;be<3;be++){const Re=Ge[be];if(null!=Re){X=Re/Me[be];break}}for(let be=0;be<3;be++)null==Ge[be]&&(Ge[be]=Me[be]*X);return{resourceSize:Me,symbolSize:Ge}})).apply(this,arguments)}function te(ve,Oe,Me,Se){switch(ve){case"proportional":return Me*Se;case"symbol-value":return Oe??Me;default:return ve}}function ee(ve,Oe){return ce.apply(this,arguments)}function ce(){return ce=(0,C.Z)(function*(ve,Oe){if(ve&&Oe)return(0,Z.dU)(ve)?function F(ve,Oe){return Q.apply(this,arguments)}(ve,Oe):void((0,Z.cT)(ve)&&function ae(ve,Oe){const Me=ue(Oe);if(null!=Me)switch(ve.type){case"simple-marker":ve.size=Me;break;case"picture-marker":{const Se=ve.width/ve.height;Se>1?(ve.width=Me,ve.height=Me*Se):(ve.width=Me*Se,ve.height=Me);break}case"simple-line":ve.width=Me;break;case"text":ve.font.size=Me}}(ve,Oe))}),ce.apply(this,arguments)}function ie(ve,Oe,Me){if(ve&&null!=Oe)if((0,Z.dU)(ve)){const Se=ve.symbolLayers;Se&&Se.forEach(ke=>{if(ke&&"object"===ke.type)switch(Me){case"tilt":ke.tilt=Oe;break;case"roll":ke.roll=Oe;break;default:ke.heading=Oe}})}else(0,Z.cT)(ve)&&("simple-marker"!==ve.type&&"picture-marker"!==ve.type&&"text"!==ve.type||(ve.angle=Oe))}function ne(ve){if(!ve)return null;const Oe=ve.effects.filter(Me=>"bloom"!==Me.type).map(Me=>Me.toJSON());return(0,$.rM)(Oe)}function ye(ve,Oe){return re.apply(this,arguments)}function re(){return(re=(0,C.Z)(function*(ve,Oe){return(yield ve.fetchSymbol(Oe))||ve.fetchCIMSymbol(Oe)})).apply(this,arguments)}},76945:(Ke,Ee,E)=>{"use strict";E.r(Ee),E.d(Ee,{fetchSymbolFromStyle:()=>R,getStyleItemFromStyle:()=>k,resolveWebStyleSymbol:()=>B});var C=E(71950),D=E(70751),Z=E(57964),j=E(6785),U=E(61018),Y=E(19677),V=E(15532),$=E(97888),L=E(18007),x=E(16497);function B(N,P,w,O){const I=N.name;return null==I?Promise.reject(new Z.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):N.styleName&&"Esri2DPointSymbolsStyle"===N.styleName?function H(N,P,w){const O=L.wm.replaceAll(/\{SymbolName\}/gi,N),I=null!=P.portal?P.portal:U.Z.getDefault();return(0,L.EJ)(O,w).then(T=>{const W=(0,L.KV)(T.data);return(0,V.im)(W,{portal:I,url:(0,j.mN)((0,j.Yd)(O)),origin:"portal-item"})})}(I,P,O):(0,L.n2)(N,P,O).then(T=>R(T,I,P,w,L.v9,O))}function k(N,P){return P.items.find(w=>w.name===N)}function R(N,P,w,O,I,T){const W=null!=w?.portal?w.portal:U.Z.getDefault(),z={portal:W,url:(0,j.mN)(N.baseUrl),origin:"portal-item"},F=k(P,N.data);if(!F)return Promise.reject(new Z.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${P}' could not be found`,{symbolName:P}));let Q=(0,Y.f)(I(F,O),z),J=F.thumbnail?.href??null;const oe=F.thumbnail?.imageData;(0,D.XO)()&&(Q=(0,D.pJ)(Q)??"",J=(0,D.pJ)(J));const se={portal:W,url:(0,j.mN)((0,j.Yd)(Q)),origin:"portal-item"};return(0,L.EJ)(Q,T).then(ue=>{const he="cimRef"===O?(0,L.KV)(ue.data):ue.data,G=(0,V.im)(he,se);if(G&&(0,C.dU)(G)){if(J){const le=(0,Y.f)(J,z);G.thumbnail=new x.p({url:le})}else oe&&(G.thumbnail=new x.p({url:`data:image/png;base64,${oe}`}));N.styleUrl?G.styleOrigin=new $.Z({portal:w.portal,styleUrl:N.styleUrl,name:P}):N.styleName&&(G.styleOrigin=new $.Z({portal:w.portal,styleName:N.styleName,name:P}))}return G})}},764:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Jv:()=>B,Np:()=>N,By:()=>Z,o5:()=>Y,mi:()=>x,_4:()=>j,pt:()=>U});const C=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var D=E(25037);const Z="system",j="unknown",U="UTC",Y=Intl.DateTimeFormat().resolvedOptions().timeZone,V="shortOffset";function x(w,O=!1){return{json:{read:{source:w,reader:(I,T)=>T[w]?B(T[w]):null},write:!!O&&{allowNull:!0,writer(I,T){T[w]=I?function k(w){return{timeZoneIANA:w}}(I):null}}}}}function B(w,O=Z){return w?function $(w){return"timeZoneIANA"in w}(w)?w.timeZoneIANA:function R(w,O=Z){if(!w||!C.has(w.timeZone))return O;const I=C.get(w.timeZone);return function L(w){return w.startsWith("UTC")}(w.timeZone)||w.respectsDaylightSaving?I:function H(w){const O=D.ou.local().setZone(w),I=Math.min(O.set({month:1,day:1}).offset,O.set({month:5}).offset);return 0===I?"Etc/UTC":`Etc/GMT${D.Qf.instance(-I).formatOffset(0,"narrow")}`}(I)}(w,O):O}function N(w,O,I,T,W){if(O&&"date"===W)return{timeZone:U,timeZoneName:void 0};const F=I===j;return{timeZone:F?"timestamp-offset"===W?void 0:w??U:I,timeZoneName:F&&(T.timeStyle||T.hour)?V:void 0}}},93604:(Ke,Ee,E)=>{"use strict";E.d(Ee,{JV:()=>L,Jp:()=>j,Px:()=>V,U8:()=>Z});var C=E(15861);const Z=(0,E(19986).dG)(),j=new Map,U=new Map;function V(x,B){return $.apply(this,arguments)}function $(){return($=(0,C.Z)(function*(x,B,k=!1){if(!x||!B)return!0;const R=x.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),H=U.get(R)?.entries();if(H)for(const[N,P]of H)if(P.name===B){const w=!P.stack?.hasForwardEdits();if(!w&&k){const[{deleteForwardEdits:O},{default:I}]=yield Promise.all([E.e(1015).then(E.bind(E,51015)),E.e(560).then(E.bind(E,80560))]);return O(R,N,new I({sessionId:Z,moment:P.moment}))}return w}return!0})).apply(this,arguments)}function L(x,B){if(!x)return!1;const k=x.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),R=U.get(k)?.entries();if(R)for(const[H,N]of R)if(N.name===B)return"edit"===N.lockType;return!1}},82726:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var C=E(88278),D=E(14007),Z=E(62168),j=E(11667),U=E(26894),Y=E(45425),V=E(31886),$=E(54529);class L{constructor(P,w){this.key=new $.Z(0,0,0,0),this.bounds=(0,Y.Ue)(),this.objectIds=new Set,this.key.set(w);const O=P.getLODInfoAt(this.key);this.tileInfoView=P,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=O.resolution,this.scale=O.scale,this.level=O.level}get id(){return this.key.id}get extent(){return U.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const P=this.key.getChildKeys(),w=j.Z.acquire();for(let O=0;O<P.length;O++)w[O]=new L(this.tileInfoView,P[O]);return w}getQuantizationParameters(){return V.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}var x=E(22879);const B={added:[],removed:[]},k=new Set,R=new $.Z(0,0,0,0);class H extends C.Z{constructor(P){super(),this._tiles=new Map,this._index=(0,Z.r)(9,(0,D.Z)("esri-csp-restrictions")?w=>({minX:w.bounds[0],minY:w.bounds[1],maxX:w.bounds[2],maxY:w.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=P}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(P){return this._tiles.has(P)}get(P){return this._tiles.get(P)}boundsIntersections(P){return this._index.search({minX:P[0],minY:P[1],maxX:P[2],maxY:P[3]})}updateTiles(P){const w={added:[],removed:[]};for(const O of P.added)if(!this.has(O)){const I=new L(this.tileScheme,O);this._tiles.set(O,I),this._index.insert(I),w.added.push(I)}for(const O of P.removed)if(this.has(O)){const I=this.get(O);this._tiles.delete(O),this._index.remove(I),w.removed.push(I)}this.tiles.length=0,this._tiles.forEach(O=>this.tiles.push(O)),(w.added.length||w.removed.length)&&this.emit("update",w)}setViewState(P){const w=this.tileScheme.getTileCoverage(P,0);if(!w)return;const{spans:O,lodInfo:I}=w,{level:T}=I;if(O.length>0)for(const{row:W,colFrom:z,colTo:F}of O)for(let Q=z;Q<=F;Q++){const J=R.set(T,W,I.normalizeCol(Q),I.getWorldForColumn(Q)).id;if(k.add(J),!this.has(J)){const oe=new L(this.tileScheme,J);this._tiles.set(J,oe),this._index.insert(oe),this.tiles.push(oe),B.added.push(oe)}}for(let W=this.tiles.length-1;W>=0;W--){const z=this.tiles[W];k.has(z.id)||(this._tiles.delete(z.id),this.tiles.splice(W,1),this._index.remove(z),B.removed.push(z))}(B.added.length||B.removed.length)&&this.emit("update",B),x.Z.pool.release(w),k.clear(),B.added.length=0,B.removed.length=0}}},7351:(Ke,Ee,E)=>{"use strict";E.d(Ee,{aV:()=>J,S1:()=>W,os:()=>z,st:()=>F,yR:()=>oe});var w,C=E(57964),D=E(14007),Z=E(4703),j=E(19799),U=E(53883),Y=E(88367),V=E(62501),$=E(67285),L=E(44991),x=E(50484),B=E(34222),k=E(80543),H=(E(1535),E(10141)),N=E(7547),P=E(50532);let O=w=class extends $.Z{writeLevels(G,le,q){for(const fe in G)return void(le.stops=this.levels[fe])}clone(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,P.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,P.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(G=>G.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone(),levels:(0,B.d9)(this.levels)})}};(0,x._)([(0,k.Cb)()],O.prototype,"levels",void 0),(0,x._)([(0,N.c)("levels")],O.prototype,"writeLevels",null),O=w=(0,x._)([(0,H.j)("esri.views.2d.engine.LevelDependentSizeVariable")],O);const I=Z.Z.getLogger("esri.views.2d.layers.support.clusterUtils");D.Z.add("esri-cluster-arcade-enabled",!0);const T=(0,D.Z)("esri-cluster-arcade-enabled"),W=(G,le,q,fe,ge)=>{const me=le.clone();if(!oe(me))return me;if(me.authoringInfo||(me.authoringInfo=new V.Z),me.authoringInfo.isAutoGenerated=!0,"visualVariables"in me){const te=(me.visualVariables||[]).filter(ee=>"$view.scale"!==ee.valueExpression),ae=z(te);te.forEach(ee=>{"rotation"===ee.type?ee.field?ee.field=he(G,ee.field,"avg_angle","number"):ee.valueExpression&&(ee.field=ue(G,ee.valueExpression,"avg_angle","number"),ee.valueExpression=null):ee.normalizationField?(ee.field=he(G,ee.field,"avg_norm","number",ee.normalizationField),ee.normalizationField=null):ee.field?ee.field=he(G,ee.field,"avg","number"):ee.valueExpression&&(ee.field=ue(G,ee.valueExpression,"avg","number"),ee.valueExpression=null)}),null==ae&&!Q(te)&&ge&&(te.push(J(q,fe)),me.dynamicClusterSize=!0),me.visualVariables=te}switch(me.type){case"simple":break;case"pie-chart":for(const te of me.attributes)te.field?te.field=he(G,te.field,"sum","number"):te.valueExpression&&(te.field=ue(G,te.valueExpression,"sum","number"),te.valueExpression=null);break;case"unique-value":me.field?me.field=he(G,me.field,"mode","string"):me.valueExpression&&(me.field=ue(G,me.valueExpression,"mode","string"),me.valueExpression=null);break;case"class-breaks":me.normalizationField?(me.field=he(G,me.field,"avg_norm","number",me.normalizationField),me.normalizationField=null):me.field?me.field=he(G,me.field,"avg","number"):me.valueExpression&&(me.field=ue(G,me.valueExpression,"avg","number"),me.valueExpression=null)}return me},z=G=>{for(const le of G)if("size"===le.type)return le;return null};function F(G,le,q){const fe=G.clone();let ge=!1;if("visualVariables"in fe){const me=(fe.visualVariables||[]).filter(te=>"$view.scale"!==te.valueExpression);null==z(me)&&(fe.visualVariables||(fe.visualVariables=[]),fe.visualVariables.push(J(le,q)),fe.dynamicClusterSize=!0,ge=!0)}return{renderer:fe,didInject:ge}}const Q=G=>{for(const le of G)if("cluster_count"===le.field)return!0;return!1},J=(G,le)=>{const q=[new L.Z({value:0,size:0}),new L.Z({value:1})];if(null==le)return new $.Z({field:"cluster_count",stops:[...q,new L.Z({value:2,size:0})]});const fe=Object.keys(le).reduce((ge,me)=>({...ge,[me]:[...q,new L.Z({value:Math.max(2,le[me].minValue),size:G.clusterMinSize}),new L.Z({value:Math.max(3,le[me].maxValue),size:G.clusterMaxSize})]}),{});return new O({field:"cluster_count",levels:fe})},oe=G=>{const le=q=>I.error(new C.Z("Unsupported-renderer",q,{renderer:G}));if(!G)return!1;switch(G.type){case"unique-value":if(G.field2||G.field3)return le("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(G.normalizationField){const q=G.normalizationType;if("field"!==q)return le(`FeatureReductionCluster does not support a normalizationType of ${q}`),!1}break;case"simple":case"pie-chart":break;default:return le(`FeatureReductionCluster does not support renderers of type ${G.type}`),!1}if(!T){if("valueExpression"in G&&G.valueExpression)return le("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in G&&G.visualVariables||[]).some(q=>!(!("valueExpression"in q)||!q.valueExpression)))return le("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function ue(G,le,q,fe){const ge=(0,j.F)(le),me="mode"===q?`cluster_type_${ge}`:"sum"===q?`cluster_sum_${ge}`:`cluster_avg_${ge}`;return G.some(te=>te.name===me)||G.push(new U.Z({name:me,isAutoGenerated:!0,onStatisticExpression:new Y.Z({expression:le,returnType:fe}),statisticType:q})),me}function he(G,le,q,fe,ge){if("cluster_count"===le||G.some(te=>te.name===le))return le;const me=function se(G,le,q){switch(G){case"sum":return`cluster_sum_${le}`;case"avg":case"avg_angle":return`cluster_avg_${le}`;case"mode":return`cluster_type_${le}`;case"avg_norm":{const fe=q,ge="field",me=le.toLowerCase()+",norm:"+ge+","+fe.toLowerCase();return"cluster_avg_"+(0,j.F)(me)}}}(q,le,ge);return G.some(te=>te.name===me)||G.push(new U.Z("avg_norm"===q?{name:me,isAutoGenerated:!0,onStatisticExpression:new Y.Z({expression:`$feature.${le} / $feature.${ge}`,returnType:fe}),statisticType:"avg"}:{name:me,isAutoGenerated:!0,onStatisticField:le,statisticType:q})),me}},30640:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x});var C=E(50484),D=E(66599),Z=E(73514),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141));let L=class extends Z.Z{constructor(){super(...arguments),this.color=new D.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(B){return this.color.equals(B.color)&&(this.haloColor||this.color).equals(B.haloColor||B.color)&&this.haloOpacity===B.haloOpacity&&this.fillOpacity===B.fillOpacity}};(0,C._)([(0,j.Cb)({type:D.Z})],L.prototype,"color",void 0),(0,C._)([(0,j.Cb)({type:D.Z})],L.prototype,"haloColor",void 0),(0,C._)([(0,j.Cb)()],L.prototype,"haloOpacity",void 0),(0,C._)([(0,j.Cb)()],L.prototype,"fillOpacity",void 0),L=(0,C._)([(0,$.j)("esri.views.2d.support.HighlightOptions")],L);const x=L},76363:(Ke,Ee,E)=>{"use strict";E.d(Ee,{T:()=>D});class D{constructor(){this._names=new Map}begin(j){this._names.has(j)||(this._names.set(j,!1),j.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${j}.Start`))}end(j){this._names.has(j)&&!this._names.get(j)&&(this._names.set(j,!0),performance.mark(`Esri.${j}.End`))}record(j){this._names.has(j)||(this._names.set(j,!0),performance.mark(`Esri.${j}`))}}},22879:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>D});var C=E(51479);class D{constructor(){this.spans=[]}acquire(j){this.lodInfo=j}release(){this.lodInfo=null,this.spans.length=0}forEach(j,U){const{spans:Y,lodInfo:V}=this,{level:$}=V;if(0!==Y.length)for(const{row:L,colFrom:x,colTo:B}of Y)for(let k=x;k<=B;k++)j.call(U,$,L,V.normalizeCol(k),V.getWorldForColumn(k))}}D.pool=new C.Z(D)},6777:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>H});var C=E(33721),D=E(54529);function Z(N,P){return[N,P]}function j(N,P,w){return N[0]=P,N[1]=w,N}const Y=new D.Z("0/0/0/0");class V{static create(P,w,O=null){const I=(0,C.C5)(P.spatialReference),T=w.origin||Z(P.origin.x,P.origin.y),W=Z(P.size[0]*w.resolution,P.size[1]*w.resolution),z=Z(-1/0,-1/0),F=Z(1/0,1/0),Q=Z(1/0,1/0);null!=O&&(j(z,Math.max(0,Math.floor((O.xmin-T[0])/W[0])),Math.max(0,Math.floor((T[1]-O.ymax)/W[1]))),j(F,Math.max(0,Math.floor((O.xmax-T[0])/W[0])),Math.max(0,Math.floor((T[1]-O.ymin)/W[1]))),j(Q,F[0]-z[0]+1,F[1]-z[1]+1));const{cols:J,rows:oe}=w;let se,ue,he,G;return!O&&J&&oe&&(j(z,J[0],oe[0]),j(F,J[1],oe[1]),j(Q,J[1]-J[0]+1,oe[1]-oe[0]+1)),P.isWrappable?(se=Z(Math.ceil(Math.round((I.valid[1]-I.valid[0])/w.resolution)/P.size[0]),Q[1]),ue=Z(Math.floor((I.origin[0]-T[0])/W[0]),z[1]),he=Z(se[0]+ue[0]-1,F[1]),G=!0):(ue=z,he=F,se=Q,G=!1),new V(w.level,w.resolution,w.scale,T,z,F,Q,W,ue,he,se,G)}constructor(P,w,O,I,T,W,z,F,Q,J,oe,se){this.level=P,this.resolution=w,this.scale=O,this.origin=I,this.first=T,this.last=W,this.size=z,this.norm=F,this.worldStart=Q,this.worldEnd=J,this.worldSize=oe,this.wrap=se}normalizeCol(P){if(!this.wrap)return P;const w=this.worldSize[0];return P<0?w-1-Math.abs((P+1)%w):P%w}denormalizeCol(P,w){return this.wrap?this.worldSize[0]*w+P:P}getWorldForColumn(P){return this.wrap?Math.floor(P/this.worldSize[0]):0}getFirstColumnForWorld(P){return P*this.worldSize[0]+this.first[0]}getLastColumnForWorld(P){return P*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(P){return(P-this.origin[0])/this.norm[0]}getXForColumn(P){return this.origin[0]+P*this.norm[0]}getRowForY(P){return(this.origin[1]-P)/this.norm[1]}getYForRow(P){return this.origin[1]-P*this.norm[1]}getTileBounds(P,w,O=!1){Y.set(w);const I=O?Y.col:this.denormalizeCol(Y.col,Y.world),T=Y.row;return function U(N,P,w,O,I){N[0]=P,N[1]=w,N[2]=O,N[3]=I}(P,this.getXForColumn(I),this.getYForRow(T+1),this.getXForColumn(I+1),this.getYForRow(T)),P}getTileCoords(P,w,O=!1){Y.set(w);const I=O?Y.col:this.denormalizeCol(Y.col,Y.world);return Array.isArray(P)?j(P,this.getXForColumn(I),this.getYForRow(Y.row)):(P.x=this.getXForColumn(I),P.y=this.getYForRow(Y.row)),P}}var $=E(22879);class L{constructor(P,w,O){this.row=P,this.colFrom=w,this.colTo=O}}const x=new D.Z("0/0/0/0");class B{static create(P,w){P[1]>w[1]&&([P,w]=[w,P]);const[O,I]=P,[T,W]=w,z=T-O,F=W-I,Q=0!==F?z/F:0,J=(Math.ceil(I)-I)*Q,oe=(Math.floor(I)-I)*Q;return new B(O,Math.floor(I),Math.ceil(W),Q,z<0?J:oe,z<0?oe:J,z<0?T:O,z<0?O:T)}constructor(P,w,O,I,T,W,z,F){this.x=P,this.ymin=w,this.ymax=O,this.invM=I,this.leftAdjust=T,this.rightAdjust=W,this.leftBound=z,this.rightBound=F}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const k=[[0,0],[0,0],[0,0],[0,0]];class H{constructor(P,w=null,O=P.lods[0].level,I=P.lods[P.lods.length-1].level){this.tileInfo=P,this.fullExtent=w,this.scales=[],this._infoByScale={},this._infoByLevel={};const T=P.lods.filter(z=>z.level>=O&&z.level<=I);this.minScale=T[0].scale,this.maxScale=T[T.length-1].scale;const W=this._lodInfos=T.map(z=>V.create(P,z,w));T.forEach((z,F)=>{this._infoByLevel[z.level]=W[F],this._infoByScale[z.scale]=W[F],this.scales[F]=z.scale},this),this._wrap=P.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(P){return this._infoByLevel["number"==typeof P?P:P.level]}getTileBounds(P,w,O=!1){x.set(w);const I=this._infoByLevel[x.level];return I?I.getTileBounds(P,x,O):P}getTileCoords(P,w,O=!1){x.set(w);const I=this._infoByLevel[x.level];return I?I.getTileCoords(P,x,O):P}getTileCoverage(P,w=192,O=!0,I="closest"){if(!O&&(P.scale>this.minScale||P.scale<this.maxScale))return null;const T="closest"===I?this.getClosestInfoForScale(P.scale):this.getSmallestInfoForScale(P.scale),W=$.Z.pool.acquire(T),z=this._wrap;let F,Q,J,oe=1/0,se=-1/0;const ue=W.spans;k[0][0]=k[0][1]=k[1][1]=k[3][0]=-w,k[1][0]=k[2][0]=P.size[0]+w,k[2][1]=k[3][1]=P.size[1]+w;for(const q of k)P.toMap(q,q),q[0]=T.getColumnForX(q[0]),q[1]=T.getRowForY(q[1]);const he=[];let G=3;for(let q=0;q<4;q++){if(k[q][1]===k[G][1]){G=q;continue}const fe=B.create(k[q],k[G]);oe=Math.min(fe.ymin,oe),se=Math.max(fe.ymax,se),void 0===he[fe.ymin]&&(he[fe.ymin]=[]),he[fe.ymin].push(fe),G=q}if(null==oe||null==se||se-oe>100)return null;let le=[];for(F=oe;F<se;){null!=he[F]&&(le=le.concat(he[F])),Q=1/0,J=-1/0;for(let q=le.length-1;q>=0;q--){const fe=le[q];Q=Math.min(Q,fe.getLeftCol()),J=Math.max(J,fe.getRightCol())}if(Q=Math.floor(Q),J=Math.floor(J),F>=T.first[1]&&F<=T.last[1])if(z)if(T.size[0]<T.worldSize[0]){const q=Math.floor(J/T.worldSize[0]);for(let fe=Math.floor(Q/T.worldSize[0]);fe<=q;fe++)ue.push(new L(F,Math.max(T.getFirstColumnForWorld(fe),Q),Math.min(T.getLastColumnForWorld(fe),J)))}else ue.push(new L(F,Q,J));else Q>T.last[0]||J<T.first[0]||(Q=Math.max(Q,T.first[0]),J=Math.min(J,T.last[0]),ue.push(new L(F,Q,J)));F+=1;for(let q=le.length-1;q>=0;q--){const fe=le[q];fe.ymax>=F?fe.incrRow():le.splice(q,1)}}return W}getTileParentId(P){x.set(P);const O=this._lodInfos.indexOf(this._infoByLevel[x.level])-1;return O<0?null:(this._getTileIdAtLOD(x,this._lodInfos[O],x),x.id)}getTileResolution(P){const w=this._infoByLevel["object"==typeof P?P.level:P];return w?w.resolution:-1}getTileScale(P){const w=this._infoByLevel[P.level];return w?w.scale:-1}intersects(P,w){x.set(w);const O=this._infoByLevel[x.level],I=P.lodInfo;if(I.resolution>O.resolution){this._getTileIdAtLOD(x,I,x);const W=I.denormalizeCol(x.col,x.world);for(const z of P.spans)if(z.row===x.row&&z.colFrom<=W&&z.colTo>=W)return!0}if(I.resolution<O.resolution){const[W,z,F,Q]=P.spans.reduce((G,le)=>(G[0]=Math.min(G[0],le.row),G[1]=Math.max(G[1],le.row),G[2]=Math.min(G[2],le.colFrom),G[3]=Math.max(G[3],le.colTo),G),[1/0,-1/0,1/0,-1/0]),J=O.denormalizeCol(x.col,x.world),oe=I.getColumnForX(O.getXForColumn(J)),se=I.getRowForY(O.getYForRow(x.row)),ue=I.getColumnForX(O.getXForColumn(J+1))-1,he=I.getRowForY(O.getYForRow(x.row+1))-1;return!(oe>Q||ue<F||se>z||he<W)}const T=I.denormalizeCol(x.col,x.world);return P.spans.some(W=>W.row===x.row&&W.colFrom<=T&&W.colTo>=T)}normalizeBounds(P,w,O){if(P[0]=w[0],P[1]=w[1],P[2]=w[2],P[3]=w[3],this._wrap){const I=(0,C.C5)(this.tileInfo.spatialReference),T=-O*(I.valid[1]-I.valid[0]);P[0]+=T,P[2]+=T}return P}getSmallestInfoForScale(P){const w=this.scales;if(this._infoByScale[P])return this._infoByScale[P];if(P>w[0])return this._infoByScale[w[0]];for(let O=1;O<w.length-1;O++)if(P>w[O]+1e-6)return this._infoByScale[w[O-1]];return this._infoByScale[w[w.length-1]]}getClosestInfoForScale(P){const w=this.scales;return this._infoByScale[P]||(P=w.reduce((O,I)=>Math.abs(I-P)<Math.abs(O-P)?I:O,w[0])),this._infoByScale[P]}scaleToLevel(P){const w=this.scales;if(this._infoByScale[P])return this._infoByScale[P].level;for(let O=w.length-1;O>=0;O--)if(P<w[O])return O===w.length-1?this._infoByScale[w[w.length-1]].level:this._infoByScale[w[O]].level+(w[O]-P)/(w[O]-w[O+1]);return this._infoByScale[w[0]].level}scaleToZoom(P){return this.tileInfo.scaleToZoom(P)}_getTileIdAtLOD(P,w,O){const I=this._infoByLevel[O.level];return P.set(O),w.resolution<I.resolution?null:(w.resolution===I.resolution||(P.level=w.level,P.col=Math.floor(O.col*I.resolution/w.resolution+.01),P.row=Math.floor(O.row*I.resolution/w.resolution+.01)),P)}}},54529:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>D});var C=E(51479);class D{static getId(j,U,Y,V){return"object"==typeof j?`${j.level}/${j.row}/${j.col}/${j.world}`:`${j}/${U}/${Y}/${V}`}constructor(j,U,Y,V){this.set(j,U,Y,V)}get key(){return this}get id(){return this.toString()}set id(j){this.set(j)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(j,U,Y,V){this.set(j,U,Y,V)}contains(j){const U=j.level-this.level;return U>=0&&this.row===j.row>>U&&this.col===j.col>>U&&this.world===j.world}equals(j){return this.level===j.level&&this.row===j.row&&this.col===j.col&&this.world===j.world}clone(){return new D(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(j,U,Y,V){if(null==j)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof j)this.level=j.level||0,this.row=j.row||0,this.col=j.col||0,this.world=j.world||0;else if("string"==typeof j){const[$,L,x,B]=j.split("/");this.level=parseFloat($),this.row=parseFloat(L),this.col=parseFloat(x),this.world=parseFloat(B)}else this.level=+j,this.row=+U,this.col=+Y,this.world=+V||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new D(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const j=this.level+1,U=this.row<<1,Y=this.col<<1,V=this.world;return[new D(j,U,Y,V),new D(j,U,Y+1,V),new D(j,U+1,Y,V),new D(j,U+1,Y+1,V)]}compareRowMajor(j){return this.row<j.row?-1:this.row>j.row?1:this.col<j.col?-1:this.col>j.col?1:0}}D.pool=new C.Z(D,null,null,25,50)},87766:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>w});var C=E(50484),D=E(73514),Z=E(51172),j=E(80543),$=(E(1535),E(57678),E(14007),E(10141)),L=E(46033),x=E(89178);const k=new Set,R=[],H=new Map,N=[0,0];let P=class extends D.Z{constructor(O){super(O),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:O,process:I,strategy:T}=this;this._queue=new x.e({concurrency:O,process:(W,z)=>{const F=this._keyToItem.get(W);return I(F,{signal:z})},peeker:"scale-first"===T?W=>this._peekByScaleFirst(W):W=>this._peekByCenterFirst(W)})}destroy(){this.clear(),this._queue=(0,Z.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(O){this._queue.abort("string"==typeof O?O:O.id)}clear(){this._queue.clear(),this._keyToItem.clear()}has(O){return this._keyToItem.has("string"==typeof O?O:O.id)}isOngoing(O){const I="string"==typeof O?O:O.id;return this.has(I)&&this._queue.isOngoing(I)}pause(){this._queue.pause()}push(O){const I=O.key.id;if(this._queue.has(I))return this._queue.get(I);const T=this._queue.push(I),W=()=>{this._keyToItem.delete(I)};return this._keyToItem.set(I,O),T.then(W,W),T}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(O){if(!this.state)return O.values().next().value;const I=this.tileInfoView;let T=Number.NEGATIVE_INFINITY,W=Number.POSITIVE_INFINITY;O.forEach(se=>{const ue=this._keyToItem.get(se),he=this.tileInfoView.getTileScale(ue.key);H.has(he)||(H.set(he,[]),T=Math.max(he,T),W=Math.min(he,W)),H.get(he).push(ue.key),k.add(he)});let z=this.state.scale;H.has(z)||(function B(O,I){O.length=0,I.forEach(T=>O.push(T))}(R,k),R.sort((se,ue)=>se-ue),z=R.reduce((se,ue)=>Math.abs(ue-z)<Math.abs(se-z)?ue:se,R[0])),z=Math.min(z,T),z=Math.max(z,W);const F=H.get(z),Q=I.getClosestInfoForScale(z),J=Q.getColumnForX(this.state.center[0]),oe=Q.getRowForY(this.state.center[1]);return F.sort((se,ue)=>{const he=Q.denormalizeCol(se.col,se.world),G=Q.denormalizeCol(ue.col,ue.world);return Math.sqrt((J-he)*(J-he)+(oe-se.row)*(oe-se.row))-Math.sqrt((J-G)*(J-G)+(oe-ue.row)*(oe-ue.row))}),k.clear(),H.clear(),F[0].id}_peekByCenterFirst(O){if(!this.state)return O.values().next().value;const I=this.tileInfoView,T=this.state.center;let W,z=Number.POSITIVE_INFINITY;return O.forEach(F=>{const Q=this._keyToItem.get(F);I.getTileCoords(N,Q.key);const J=(0,L.d)(N,T);J<z&&(z=J,W=Q.key)}),W.id}};(0,C._)([(0,j.Cb)({constructOnly:!0})],P.prototype,"concurrency",void 0),(0,C._)([(0,j.Cb)({constructOnly:!0})],P.prototype,"process",void 0),(0,C._)([(0,j.Cb)()],P.prototype,"state",void 0),(0,C._)([(0,j.Cb)({constructOnly:!0})],P.prototype,"strategy",void 0),(0,C._)([(0,j.Cb)({constructOnly:!0})],P.prototype,"tileInfoView",void 0),P=(0,C._)([(0,$.j)("esri.views.2d.tiling.TileQueue")],P);const w=P},40394:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>B});var C=E(45425),D=E(46033);class Z{constructor(R,H,N){this.maxSize=R,this._tileInfoView=H,this._removedFunc=N,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(R){return this._tilePerId.has(R)}get(R){return this._tilePerId.get(R)}pop(R){const H=this._tilePerId.get(R);if(!H)return;const P=this._tileKeysPerLevel[H.key.level];j(this._tilePerId,R);for(let w=0;w<P.length;w++)if(P[w].id===R){P.splice(w,1);break}return H.visible=!0,H}add(R){R.visible=!1;const H=R.key,N=H.id;if(this._tilePerId.has(N))return;this._tilePerId.set(N,R);const P=H.level;this._tileKeysPerLevel[P]||(this._tileKeysPerLevel[P]=[]),this._tileKeysPerLevel[P].push(H)}prune(R,H,N){let P=this._tilePerId.size;if(P<=this.maxSize)return;let w=this._tileKeysPerLevel.length-1;for(;P>this.maxSize&&w>=0;)w!==R&&(P=this._pruneAroundCenterTile(P,H,N,w)),w--;P>this.maxSize&&(P=this._pruneAroundCenterTile(P,H,N,R))}_pruneAroundCenterTile(R,H,N,P){const w=this._tileKeysPerLevel[P];if(!w||0===w.length)return R;const{size:O,origin:I}=this._tileInfoView.tileInfo,T=N*O[0],W=N*O[1],z=[0,0],F=[0,0];for(w.sort((Q,J)=>(z[0]=I.x+T*(Q.col+.5),z[1]=I.y-W*(Q.row+.5),F[0]=I.x+T*(J.col+.5),F[1]=I.y-W*(J.row+.5),(0,D.k)(z,H)-(0,D.k)(F,H)));w.length>0;){const Q=w.pop();if(this._removeTile(Q.id),--R===this.maxSize)break}return R}_removeTile(R){const H=this._tilePerId.get(R);this._removedFunc&&H&&this._removedFunc(H),j(this._tilePerId,R)}}function j(k,R){k.delete(R)}var U=E(22879);const V=new(E(54529).Z)(0,0,0,0),$=new Map,L=[],x=[];class B{constructor(R){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=R.acquireTile,this.releaseTile=R.releaseTile,this.tileInfoView=R.tileInfoView,null!=R.resampling&&(this.resampling=R.resampling),R.cachePolicy&&(this.cachePolicy=R.cachePolicy),R.coveragePolicy&&(this.coveragePolicy=R.coveragePolicy),null!=R.buffer&&(this.buffer=R.buffer),R.cacheSize&&(this._tileCache=new Z(R.cacheSize,this.tileInfoView,H=>{this.releaseTile(H)}))}destroy(){this.tileIndex.clear()}update(R){const{resampling:H,tileIndex:N}=this,{scale:P,center:w,resolution:O}=R.state,{minScale:I,maxScale:T}=this.tileInfoView,W=!R.stationary&&P>this._previousScale;if(this._previousScale=P,!H&&(P>I||P<T))return this.tiles.length=0,void this.clear();const z=this.tileInfoView.getTileCoverage(R.state,this.buffer,this.resampling,this.coveragePolicy);if(!z)return this.tiles.length=0,void this.clear();const{spans:F,lodInfo:Q}=z,{level:J}=Q;this.tiles.length=0,N.forEach(he=>he.visible=!0);let oe=0,se=0;if(F.length>0)for(const{row:he,colFrom:G,colTo:le}of F)for(let q=G;q<=le;q++){oe++;const fe=V.set(J,he,Q.normalizeCol(q),Q.getWorldForColumn(q)).id;let ge=N.get(fe);if(ge)ge.isReady?($.set(fe,ge),se++):W||this._addParentTile(fe,$);else{if(this._tileCache?.has(fe)){if(ge=this._tileCache.pop(fe),this.tileIndex.set(fe,ge),ge.isReady){$.set(fe,ge),se++;continue}}else ge=this.acquireTile(V),this.tileIndex.set(fe,ge);W||this._addParentTile(fe,$)}}const ue=se===oe;for(const[he,G]of N){if($.has(he))continue;V.set(he);const le=this.tileInfoView.intersects(z,V),q="purge"===this.cachePolicy?V.level!==J:V.level>J;!le||!W&&ue?!q&&le||L.push(G):G.isReady?q&&"purge"===this.cachePolicy&&this._hasReadyAncestor(V,J)?L.push(G):x.push(G):q&&L.push(G)}for(const he of x)he.isReady&&$.set(he.key.id,he);for(const he of L)this._tileCache?this._tileCache.add(he):this.releaseTile(he),N.delete(he.key.id);for(const he of $.values())this.tiles.push(he);for(const he of N.values())$.has(he.key.id)||(he.visible=!1);this._tileCache?.prune(J,w,O),U.Z.pool.release(z),x.length=0,L.length=0,$.clear()}clear(){const{tileIndex:R}=this;for(const H of R.values())this.releaseTile(H);R.clear()}refresh(R){for(const H of this.tileIndex.values())this.tiles.includes(H)?R(H):L.push(H);for(const H of L)this.releaseTile(H),this.tileIndex.delete(H.key.id);this._tileCache?.clear()}updateCacheSize(R){this._tileCache&&(this._tileCache.maxSize=R)}_addParentTile(R,H){let N=R,P=null;for(;N=this.tileInfoView.getTileParentId(N),N;)if(this.tileIndex.has(N)){if(P=this.tileIndex.get(N),P?.isReady){H.has(P.key.id)||H.set(P.key.id,P);break}}else if(this._tileCache?.has(N)&&(P=this._tileCache.pop(N),this.tileIndex.set(N,P),P?.isReady)){H.has(P.key.id)||H.set(P.key.id,P);break}}_hasReadyAncestor(R,H){const N=(0,C.Ue)();this.tileInfoView.getTileBounds(N,R,!0);for(const P of this.tileIndex.values())if(P.isReady&&P.key.level>=H&&P.key.level<R.level){const w=(0,C.Ue)();if(this.tileInfoView.getTileBounds(w,P.key,!0),(0,C.r3)(w,N))return!0}return!1}}},46503:(Ke,Ee,E)=>{"use strict";function C(U,Y,V,$){const L=3*U,x=3*(V-U)-L,B=1-L-x,k=3*Y,R=3*($-Y)-k,H=1-k-R;function N(I){return((B*I+x)*I+L)*I}function w(I){return(3*B*I+2*x)*I+L}return function(I,T=1e-6){return function P(I){return((H*I+R)*I+k)*I}(function O(I,T){let W,z,F,Q,J,oe;for(F=I,oe=0;oe<8;oe++){if(Q=N(F)-I,Math.abs(Q)<T)return F;if(J=w(F),Math.abs(J)<1e-6)break;F-=Q/J}if(W=0,z=1,F=I,F<W)return W;if(F>z)return z;for(;W<z;){if(Q=N(F),Math.abs(Q-I)<T)return F;I>Q?W=F:z=F,F=.5*(z-W)+W}return F}(I,T))}}E.d(Ee,{LI:()=>Z,Qc:()=>j,n_:()=>C});const D=/^cubic-bezier\((.*)\)/,Z={};function j(U){let Y=Z[U]||null;if(!Y){const V=D.exec(U);if(V){const $=V[1].split(",").map(L=>parseFloat(L.trim()));4!==$.length||$.some(L=>isNaN(L))||(Y=C.apply(C,$))}}return Y}Z.ease=C(.25,.1,.25,1),Z.linear=C(0,0,1,1),Z.easeIn=Z["ease-in"]=C(.42,0,1,1),Z.easeOut=Z["ease-out"]=C(0,0,.58,1),Z.easeInOut=Z["ease-in-out"]=C(.42,0,.58,1)},31898:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$H:()=>Ge,Ck:()=>ye,Dq:()=>me,EK:()=>F,H4:()=>Se,Hy:()=>Re,JG:()=>G,Jp:()=>re,L2:()=>Oe,Rb:()=>pe,Rx:()=>Ne,SI:()=>xe,UZ:()=>Fe,Ue:()=>ue,YQ:()=>X,bk:()=>q,dI:()=>Me,gG:()=>qe,ni:()=>le,o2:()=>ke,qf:()=>fe,uG:()=>ae,ut:()=>ve});var C=E(15861),D=E(78570),Z=E(83944),j=E(49602),U=E(52593),Y=E(86662),V=E(18755),$=E(46033),L=E(51675),x=E(26894),B=E(32184),k=E(85039),R=E(83821),H=E(43814),N=E(93566),P=E(33721);const w=96,O=39.37,I=180/Math.PI;function T(Ce){return Ce.wkid?Ce:Ce.spatialReference||H.Z.WGS84}function W(Ce,Pe){return Pe.type?(0,$.s)(Ce,Pe.x,Pe.y):(0,$.j)(Ce,Pe)}function z(Ce){return(0,j.c9)(Ce)}function F(Ce,Pe){const Ae=Math.max(1,Pe[0]),Be=Math.max(1,Pe[1]);return Math.max(Ce.width/Ae,Ce.height/Be)*function ie(Ce){return(0,P.JY)(Ce)?z(Ce)*O*w:1}(Ce.spatialReference)}function Q(Ce,Pe,Ae,Be){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(Ce,Pe,Ae,Be){let ze,st;if(!Ce||Array.isArray(Ce)&&!Ce.length)return null;if(Z.Z.isCollection(Ce)&&(Ce=Ce.toArray()),Array.isArray(Ce)&&Ce.length&&"object"==typeof Ce[0]){const ot=Ce.every(Lt=>"attributes"in Lt),ut=Ce.some(Lt=>!Lt.geometry);let Et=Ce;if(ot&&ut&&Pe&&Pe.allLayerViews){const Lt=new Map;for(const qt of Ce){const un=qt.layer,yt=Lt.get(un)||[],ft=qt.attributes[un.objectIdField];null!=ft&&yt.push(ft),Lt.set(un,yt)}const Ut=[];Lt.forEach((qt,un)=>{const yt=Pe.allLayerViews.find(ft=>ft.layer.id===un.id);if(yt&&"queryFeatures"in yt){const ft=un.createQuery();ft.objectIds=qt,ft.returnGeometry=!0,Ut.push(yt.queryFeatures(ft))}});const kt=yield Promise.all(Ut),Xt=[];for(const qt of kt)if(qt&&qt.features&&qt.features.length)for(const un of qt.features)null!=un.geometry&&Xt.push(un.geometry);Et=Xt}for(const Lt of Et)Be=yield Q(Lt,Pe,Ae,Be);return Be}if(Array.isArray(Ce)&&2===Ce.length&&"number"==typeof Ce[0]&&"number"==typeof Ce[1])ze=new k.Z(Ce);else if(Ce instanceof B.Z)ze=Ce;else if("geometry"in Ce)if(Ce.geometry)ze=Ce.geometry;else if(Ce.layer){const ot=Ce.layer,ut=Pe.allLayerViews.find(Et=>Et.layer.id===ot.id);if(ut&&"queryFeatures"in ut){const Et=ot.createQuery();Et.objectIds=[Ce.attributes[ot.objectIdField]],Et.returnGeometry=!0,ze=(yield ut.queryFeatures(Et))?.features?.[0]?.geometry}}if(null==ze)return null;switch(ze.type){case"point":st=new x.Z({xmin:ze.x,ymin:ze.y,xmax:ze.x,ymax:ze.y,spatialReference:ze.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":st=(0,N.wK)(ze);break;default:st=ze.extent}if(!st)return null;(0,R.isLoaded)()||(0,R.canProjectWithoutEngine)(st.spatialReference,Ae)||(yield(0,R.load)());const Xe=(0,R.project)(st,Ae);return Xe?Be=Be?Be.union(Xe):Xe:null})).apply(this,arguments)}function se(Ce,Pe){return(0,P.fS)(T(Ce),Pe)?Ce:(0,R.project)(Ce,Pe)}function ue(Ce,Pe){return he.apply(this,arguments)}function he(){return(he=(0,C.Z)(function*(Ce,Pe){if(!Ce||!Pe)return new D.Z({targetGeometry:new k.Z,scale:0,rotation:0});let Ae=Pe.spatialReference;const{constraints:Be,padding:ze,viewpoint:st,size:Xe}=Pe,ot=[ze?Xe[0]-ze.left-ze.right:Xe[0],ze?Xe[1]-ze.top-ze.bottom:Xe[1]];let ut=null;Ce instanceof D.Z?ut=Ce:Ce.viewpoint?ut=Ce.viewpoint:Ce.target&&"esri.Viewpoint"===Ce.target.declaredClass&&(ut=Ce.target);let Et=null;ut?.targetGeometry?Et=ut.targetGeometry:Ce instanceof x.Z?Et=Ce:(Ce||Ce&&("center"in Ce||"extent"in Ce||"target"in Ce))&&(Et=(yield Q(Ce.center,Pe,Ae))||(yield Q(Ce.extent,Pe,Ae))||(yield Q(Ce.target,Pe,Ae))||(yield Q(Ce,Pe,Ae))),!Et&&st?.targetGeometry?Et=st.targetGeometry:!Et&&Pe.extent&&(Et=Pe.extent),Ae||(Ae=T(Pe.spatialReference||Pe.extent||Et)),(0,R.isLoaded)()||(0,P.fS)(Et.spatialReference,Ae)||(0,R.canProjectWithoutEngine)(Et.spatialReference,Ae)||(yield(0,R.load)());const Lt=se("center"in Et?Et.center:Et,Ae);!1!==Pe.pickClosestTarget&&"point"===Lt.type&&"point"===st.targetGeometry?.type&&(Lt.x=(0,N.it)(Lt.x,st.targetGeometry.x,Lt.spatialReference));let Ut=0;if(null!=ut?.targetGeometry&&"point"===ut.targetGeometry.type)Ut=ut.scale;else if("scale"in Ce&&Ce.scale)Ut=Ce.scale;else if("zoom"in Ce&&-1!==Ce.zoom&&Be&&Be.effectiveLODs)Ut=Be.zoomToScale(Ce.zoom);else if(Array.isArray(Et)||"point"===Et.type||"extent"===Et.type&&0===Et.width&&0===Et.height){const un=se(Pe.extent,Ae);Ut=null!=un?F(un,ot):Pe.extent?F(Pe.extent,ot):st.scale}else Ut=F(se(Et.extent,Ae),ot);const kt=function oe(Ce){if(Ce&&(!Array.isArray(Ce)||"number"!=typeof Ce[0])&&("object"==typeof Ce||Array.isArray(Ce)&&"object"==typeof Ce[0])){if("layer"in Ce&&null!=Ce.layer?.minScale&&null!=Ce.layer.maxScale){const Pe=Ce.layer;return{min:Pe.minScale,max:Pe.maxScale}}if(Array.isArray(Ce)&&Ce.length&&Ce.every(Pe=>"layer"in Pe)){let Pe=0,Ae=0;for(const Be of Ce){const ze=Be.layer;ze?.minScale&&ze.maxScale&&(Pe=ze.minScale<Pe?ze.minScale:Pe,Ae=ze.maxScale>Ae?ze.maxScale:Ae)}return Pe&&Ae?{min:Pe,max:Ae}:null}}}(Ce.target??Ce);kt&&(kt.min&&kt.min<Ut?Ut=kt.min:kt.max&&kt.max>Ut&&(Ut=kt.max));let Xt=0;ut?Xt=ut.rotation:Ce.hasOwnProperty("rotation")?Xt=Ce.rotation:st&&(Xt=st.rotation);let qt=new D.Z({targetGeometry:Lt,scale:Ut,rotation:Xt});return Be&&(qt=Be.fit(qt),Be.constrainByGeometry(qt),Be.rotationEnabled||(qt.rotation=st.rotation)),qt})).apply(this,arguments)}function G(Ce,Pe){const Ae=Ce.targetGeometry,Be=Pe.targetGeometry;return Ae.x=Be.x,Ae.y=Be.y,Ae.spatialReference=Be.spatialReference,Ce.scale=Pe.scale,Ce.rotation=Pe.rotation,Ce}function le(Ce,Pe,Ae){return Ae?(0,$.s)(Ce,.5*(Pe[0]-Ae.right+Ae.left),.5*(Pe[1]-Ae.bottom+Ae.top)):(0,$.a)(Ce,Pe,.5)}const q=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be){const ze=Ae.targetGeometry;W(Ce,ze);const st=.5*ae(Ae);return Pe.xmin=Ce[0]-st*Be[0],Pe.ymin=Ce[1]-st*Be[1],Pe.xmax=Ce[0]+st*Be[0],Pe.ymax=Ce[1]+st*Be[1],Pe.spatialReference=ze.spatialReference,Pe}}();function fe(Ce,Pe,Ae,Be,ze){return ke(Ce,Pe,Ae.center),Ce.scale=F(Ae,Be),ze?.constraints?.constrain(Ce),Ce}const me=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be){return(0,$.b)(Pe,function ne(Ce,Pe){return(0,$.a)(Ce,Pe,.5)}(Pe,Ae),le(Ce,Ae,Be))}}(),te=function(){const Ce=(0,V.c)(),Pe=(0,L.a)();return function(Ae,Be,ze,st){const Xe=ae(Be),ot=ce(Be);return(0,$.s)(Pe,Xe,Xe),(0,Y.f)(Ce,Pe),(0,Y.r)(Ce,Ce,ot),(0,Y.t)(Ce,Ce,me(Pe,ze,st)),(0,Y.t)(Ce,Ce,[0,st.top-st.bottom]),(0,$.s)(Ae,Ce[4],Ce[5])}}();function ae(Ce){return Ce.scale*function ee(Ce){return null!=Ce&&(0,P.JY)(Ce.spatialReference)?1/(z(Ce.spatialReference)*O*w):1}(Ce.targetGeometry)}function ce(Ce){return(0,U.t)(Ce.rotation)||0}const pe=function(){const Ce=(0,L.a)(),Pe=(0,L.a)(),Ae=(0,L.a)();return function(Be,ze,st,Xe,ot,ut){return(0,$.n)(Ce,ze),(0,$.a)(Pe,st,.5*ut),(0,$.s)(Ae,1/Xe*ut,-1/Xe*ut),(0,Y.a)(Be,Pe),ot&&(0,Y.r)(Be,Be,ot),(0,Y.s)(Be,Be,Ae),(0,Y.t)(Be,Be,Ce),Be}}(),ye=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze){const st=ae(Ae),Xe=ce(Ae);return W(Ce,Ae.targetGeometry),pe(Pe,Ce,Be,st,Xe,ze)}}(),re=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze){const st=ae(Ae);return W(Ce,Ae.targetGeometry),pe(Pe,Ce,Be,st,0,ze)}}();function ve(Ce){const Pe=(0,P.C5)(Ce);return Pe?Pe.valid[1]-Pe.valid[0]:0}function Oe(Ce,Pe){return Math.round(ve(Ce)/Pe)}const Me=function(){const Ce=(0,L.a)(),Pe=(0,L.a)(),Ae=[0,0,0];return function(Be,ze,st){(0,$.c)(Ce,Be,ze),(0,$.e)(Ce,Ce),(0,$.c)(Pe,Be,st),(0,$.e)(Pe,Pe),(0,$.f)(Ae,Ce,Pe);let Xe=Math.acos((0,$.g)(Ce,Pe)/((0,$.h)(Ce)*(0,$.h)(Pe)))*I;return Ae[2]<0&&(Xe=-Xe),isNaN(Xe)&&(Xe=0),Xe}}(),Se=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze){const st=Pe.targetGeometry;return G(Pe,Ae),te(Ce,Ae,Be,ze),st.x+=Ce[0],st.y+=Ce[1],Pe}}(),ke=function(Ce,Pe,Ae){G(Ce,Pe);const Be=Ce.targetGeometry;return Be.x=Ae.x,Be.y=Ae.y,Be.spatialReference=Ae.spatialReference,Ce},xe=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze,st){st||(st="center"),(0,$.b)(Ce,Be,ze),(0,$.a)(Ce,Ce,.5);const Xe=Ce[0],ot=Ce[1];switch(st){case"center":(0,$.s)(Ce,0,0);break;case"left":(0,$.s)(Ce,-Xe,0);break;case"top":(0,$.s)(Ce,0,ot);break;case"right":(0,$.s)(Ce,Xe,0);break;case"bottom":(0,$.s)(Ce,0,-ot);break;case"top-left":(0,$.s)(Ce,-Xe,ot);break;case"bottom-left":(0,$.s)(Ce,-Xe,-ot);break;case"top-right":(0,$.s)(Ce,Xe,ot);break;case"bottom-right":(0,$.s)(Ce,Xe,-ot)}return Ne(Pe,Ae,Ce),Pe}}();function Ge(Ce,Pe,Ae){return G(Ce,Pe),Ce.rotation+=Ae,Ce}function X(Ce,Pe,Ae){return G(Ce,Pe),Ce.rotation=Ae,Ce}const be=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze,st){return G(Pe,Ae),isNaN(Be)||0===Be||(We(Ce,ze,Ae,st),Pe.scale=Ae.scale*Be,He(Ce,Ce,Pe,st),Ne(Pe,Pe,(0,$.s)(Ce,Ce[0]-ze[0],ze[1]-Ce[1]))),Pe}}();function Re(Ce,Pe,Ae){return G(Ce,Pe),Ce.scale=Ae,Ce}const Fe=function(){const Ce=(0,L.a)();return function(Pe,Ae,Be,ze,st,Xe){return G(Pe,Ae),isNaN(Be)||0===Be||(We(Ce,st,Ae,Xe),Pe.scale=Ae.scale*Be,Pe.rotation+=ze,He(Ce,Ce,Pe,Xe),Ne(Pe,Pe,(0,$.s)(Ce,Ce[0]-st[0],st[1]-Ce[1]))),Pe}}(),qe=function(){const Ce=(0,L.a)(),Pe=(0,L.a)();return function(Ae,Be,ze,st,Xe,ot,ut){return me(Pe,ot,ut),(0,$.i)(Ce,Xe,Pe),st?Fe(Ae,Be,ze,st,Ce,ot):be(Ae,Be,ze,Ce,ot)}}(),We=function(){const Ce=(0,V.c)();return function(Pe,Ae,Be,ze){return(0,$.t)(Pe,Ae,function ge(Ce,Pe,Ae,Be){return ye(Ce,Pe,Ae,Be),(0,Y.i)(Ce,Ce)}(Ce,Be,ze,1))}}(),He=function(){const Ce=(0,V.c)();return function(Pe,Ae,Be,ze){return(0,$.t)(Pe,Ae,ye(Ce,Be,ze,1))}}(),Ne=function(){const Ce=(0,L.a)(),Pe=(0,V.c)();return function(Ae,Be,ze){G(Ae,Be);const st=ae(Be),Xe=Ae.targetGeometry;return(0,Y.b)(Pe,ce(Be)),(0,Y.s)(Pe,Pe,(0,L.f)(st,st)),(0,$.t)(Ce,ze,Pe),Xe.x+=Ce[0],Xe.y+=Ce[1],Ae}}()},92867:(Ke,Ee,E)=>{"use strict";var C,j;E.d(Ee,{JY:()=>C}),(j=C||(C={}))[j.Global=1]="Global",j[j.Local=2]="Local"},27041:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>j});var C=E(4703);class D{constructor($,L=[]){this.eventType=$,this.keyModifiers=L}matches($){if($.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const L=$.modifiers;for(const x of this.keyModifiers)if(!L.has(x))return!1;return!0}}const Z=C.Z.getLogger("esri.views.input.InputHandler");class j{constructor($){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=$}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const $ in this._incoming){const L=this._incoming[$];for(const x of L)this._incomingEventMatches.push(x.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map($=>$.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall($){this._manager?Z.error("This InputHandler has already been registered with an InputManager"):($.setEventCallback(L=>this._handleEvent(L)),$.setUninstallCallback(()=>this._onUninstall()),this._manager=$)}onUninstall(){}registerIncoming($,L,x){let B;"function"==typeof L?(x=L,B=[]):B=L||[];const k="string"==typeof $?new D($,B):$,R=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},H=w=>{const O=this._incoming[w.match.eventType];if(O){const I=O.indexOf(w);O.splice(I,1),R(),this._manager&&this._manager.updateDependencies()}},N=new U(k,x,{onPause:H,onRemove:H,onResume:w=>{const O=this._incoming[w.match.eventType];O&&!O.includes(w)&&(O.push(w),R(),this._manager&&this._manager.updateDependencies())}});let P=this._incoming[k.eventType];return P||(P=[],this._incoming[k.eventType]=P),P.push(N),R(),this._manager&&this._manager.updateDependencies(),N}registerOutgoing($){if(this._outgoing[$])throw new Error("There is already a callback registered for this outgoing InputEvent: "+$);const L=new Y($,{onEmit:(x,B,k,R)=>{this._manager?.emit(x.eventType,B,k,R)},onRemove:x=>{delete this._outgoing[x.eventType],this._manager?.updateDependencies()}});return this._outgoing[$]=L,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),L}startCapturingPointer($){this._manager?.setPointerCapture($,!0)}stopCapturingPointer($){this._manager?.setPointerCapture($,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):Z.error("This InputHandler is not registered with an InputManager")}_handleEvent($){const L=this._incoming[$.type];if(L)for(const x of L)if(x.match.matches($)&&(x.callback?.($),$.shouldStopPropagation()))break}}class U{constructor($,L,x){this.match=$,this._callback=L,this._handler=x}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class Y{constructor($,L){this.eventType=$,this._removed=!1,this._handler=L}emit($,L,x){this._removed||this._handler.onEmit(this,$,L,x)}remove(){this._removed=!0,this._handler.onRemove(this)}}},77192:(Ke,Ee,E)=>{"use strict";E.d(Ee,{$:()=>O,f:()=>W});var C=E(50484),D=E(73514),Z=E(4703),j=E(65430),U=E(80543),L=(E(1535),E(57678),E(14007),E(10141)),x=E(14467),B=E(12926);class k{constructor(J,oe){this._owner=oe,this._properties={},this._afterDispatchHandle=null;for(const se in J){const he=new x.e(J[se],void 0,void 0,2,2);this._properties[se]={pool:he,acquired:[]}}this._afterDispatchHandle=(0,B.Fs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const J in this._properties){const oe=this._properties[J];for(const se of oe.acquired)(0,B.NC)(se)||oe.pool.release(se);oe.pool.destroy(),oe.pool=null,oe.acquired=null}this._properties=null,this._owner=null}get(J){const oe=this._owner._get(J),se=this._properties[J];let ue=se.pool.acquire();for(se.acquired.push(ue);ue===oe;)se.acquired.push(ue),ue=se.pool.acquire();return ue}_release(){for(const J in this._properties){const oe=this._properties[J];let se=0;for(const ue of oe.acquired)(0,B.NC)(ue)?oe.acquired[se++]=ue:oe.pool.release(ue);oe.acquired.length=se}}}var R=E(79259),H=E(27041);class N extends H.a{constructor(J){super(!0),this._onChange=J,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",oe=>{this._update(oe.data)})}_update(J){const oe="touch"===J.native.pointerType?"touch":"mouse",{x:se,y:ue}=J;oe===this._value&&this._x===se&&this._y===ue||(this._value=oe,this._x=se,this._y=ue,this._onChange(oe,se,ue))}}var P=E(45974);class w extends H.a{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,P.t)(!1),this._onPointerAdd=({data:J})=>{"touch"===J.pointerType&&(this._activeTouchPointerIds.add(J.native.pointerId),this._update())},this._onPointerRemove=({data:J})=>{"touch"===J.pointerType&&(this._activeTouchPointerIds.delete(J.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}let O=class extends D.Z{constructor(Q){super(Q),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=R.CK,this._latestPointerType="mouse",this._propertiesPool=new k({latestPointerLocation:F},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const Q=Object.keys(this._nameToGroup);for(const J of Q)this.uninstallHandlers(J);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(Q=>Q.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(Q,J,oe=W.INTERNAL){if(this._nameToGroup[Q])return void Z.Z.getLogger(this).error("There is already an InputHandler group registered under the name `"+Q+"`");if(0===J.length)return void Z.Z.getLogger(this).error("Can't register a group of zero handlers");const se={name:Q,handlers:J.map(ue=>({handler:ue,active:!0,removed:!1,priorityIndex:0,groupPriority:oe,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[Q]=se;for(let ue=se.handlers.length-1;ue>=0;ue--){const he=se.handlers[ue];this._handlers.push(he),he.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(G,le,q,fe,ge)=>{this._emitInputEvent(he.priorityIndex+1,G,le,q,ge,fe)},setPointerCapture:(G,le)=>{this._setPointerCapture(se,he,G,le)},setEventCallback:G=>{he.eventCallback=G},setUninstallCallback:G=>{he.uninstallCallback=G},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(Q){const J=this._nameToGroup[Q];J?(J.handlers.forEach(oe=>{oe.removed=!0,oe.uninstallCallback?.()}),delete this._nameToGroup[Q],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Z.Z.getLogger(this).error("There is no InputHandler group registered under the name `"+Q+"`")}hasHandlers(Q){return void 0!==this._nameToGroup[Q]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const Q=new Set,J=new Set;this._handlersPriority=[];for(let oe=this._handlers.length-1;oe>=0;oe--){const se=this._handlers[oe];se.priorityIndex=oe,this._handlersPriority.push(se)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let oe=this._handlersPriority.length-1;oe>=0;oe--){const se=this._handlersPriority[oe];se.priorityIndex=oe;let ue=se.handler.hasSideEffects;if(!ue)for(const he of se.handler.outgoingEventTypes)if(Q.has(he)){ue=!0;break}if(ue)for(const he of se.handler.incomingEventMatches){Q.add(he.eventType);for(const G of he.keyModifiers)(0,R.wj)(G)||J.add(G)}se.active=ue}this._sourceEvents=Q,this._keyModifiers=J,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(Q,J,oe){this._latestPointerType=Q;const se=this._get("latestPointerLocation");if(null==se||se.x!==J||se.y!==oe){const ue=this._propertiesPool.get("latestPointerLocation");ue.x=J,ue.y=oe,this._set("latestPointerLocation",ue)}}_onEventReceived(Q,J){"pointer-capture-lost"===Q&&this._pointerCaptures.delete(J.native.pointerId),this._updateKeyModifiers(Q,J),this._emitInputEventFromSource(Q,J,null!=this.test.timestamp?this.test.timestamp:J.native?J.native.timestamp:void 0,J.native?J.native.cancelable:void 0)}_updateKeyModifiers(Q,J){if(!J)return;let oe=!1;const se=()=>{if(!oe){const G=new Set;this._activeKeyModifiers.forEach(le=>{G.add(le)}),this._activeKeyModifiers=G,oe=!0}},ue=(G,le)=>{le&&!this._activeKeyModifiers.has(G)?(se(),this._activeKeyModifiers.add(G)):!le&&this._activeKeyModifiers.has(G)&&(se(),this._activeKeyModifiers.delete(G))};if("key-down"===Q||"key-up"===Q){const G=J.key;this._keyModifiers.has(G)&&ue(G,"key-down"===Q)}const he=J.native;ue("Alt",!(!he||!he.altKey)),ue("Ctrl",!(!he||!he.ctrlKey)),ue("Shift",!(!he||!he.shiftKey)),ue("Meta",!(!he||!he.metaKey)),ue("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new N((Q,J,oe)=>this._setLatestPointer(Q,J,oe)),this._multiTouchHandler=new w,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],W.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,W.INTERNAL)}_setPointerCapture(Q,J,oe,se){const ue=Q.name+"-"+J.priorityIndex,he=this._pointerCaptures.get(oe.pointerId)||new Set;this._pointerCaptures.set(oe.pointerId,he),se?(he.add(ue),1===he.size&&this.eventSource&&this.eventSource.setPointerCapture(oe,!0)):he.has(ue)&&(he.delete(ue),0===he.size&&(this._pointerCaptures.delete(oe.pointerId),this.eventSource&&this.eventSource.setPointerCapture(oe,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(Q=>!Q.removed),this.updateDependencies()}_emitInputEventFromSource(Q,J,oe,se){this._emitInputEvent(0,Q,J,oe,se)}_emitInputEvent(Q,J,oe,se,ue,he){const G=void 0!==se?se:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),q={event:new I(J,oe,G,he||this._activeKeyModifiers,void 0!==ue&&ue),priorityIndex:Q};this._currentPropagation?this._currentPropagation.events.push(q):this._doNewPropagation(q)}_doNewPropagation(Q){this._currentPropagation={events:new j.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:Q.event.timestamp},this._currentPropagation.events.push(Q),this._continuePropagation()}_continuePropagation(){this._paused=!1;const Q=this._currentPropagation;if(Q){for(;Q.events.length>0;){const{event:J,priorityIndex:oe}=Q.events.pop(),se=J.data?.eventId;if(null==se||!this._stoppedPropagationEventIds.has(se))for(Q.currentHandler=this._handlersPriority[oe];Q.currentHandler;){if(Q.currentHandler.removed)Q.needsHandlerGarbageCollect=!0;else{if(Q.currentHandler.active&&!J.shouldStopPropagation()&&Q.currentHandler.eventCallback?.(J),J.shouldStopPropagation()){null!=se&&this._stoppedPropagationEventIds.add(se);break}if(J.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:J,priorityIndex:Q.currentHandler.priorityIndex+1})}Q.currentHandler=this._handlersPriority[Q.currentHandler.priorityIndex+1]}}Q.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(Q){const J=new j.Z;J.push(Q);const oe=this._currentPropagation;if(oe){for(;oe.events.length;)J.push(oe.events.pop());oe.events=J,oe.currentHandler=null,this._paused=!0}}_compareHandlerPriority(Q,J){if(Q.handler.hasSideEffects!==J.handler.hasSideEffects)return Q.handler.hasSideEffects?1:-1;if(Q.groupPriority!==J.groupPriority)return Q.groupPriority>J.groupPriority?-1:1;for(const oe of Q.handler.incomingEventMatches)for(const se of J.handler.incomingEventMatches){if(oe.eventType!==se.eventType)continue;const ue=oe.keyModifiers.filter(he=>se.keyModifiers.includes(he));if(ue.length===oe.keyModifiers.length!=(ue.length===se.keyModifiers.length))return oe.keyModifiers.length>se.keyModifiers.length?-1:1}return Q.priorityIndex>J.priorityIndex?-1:1}_sortHandlersPriority(Q){const J=[];for(const oe of Q){let se=0;for(;se<J.length&&this._compareHandlerPriority(oe,J[se])>=0;)se++;J.splice(se,0,oe)}return J}get debug(){const Q=J=>{const oe=this._setPointerCapture;this._setPointerCapture=()=>{},J(),this._setPointerCapture=oe};return{injectEvent:(J,oe)=>{Q(()=>{this._onEventReceived(J,oe)})},disablePointerCapture:Q}}};(0,C._)([(0,U.Cb)({readOnly:!0})],O.prototype,"hasPendingInputs",null),(0,C._)([(0,U.Cb)({constructOnly:!0})],O.prototype,"eventSource",void 0),(0,C._)([(0,U.Cb)({constructOnly:!0})],O.prototype,"recognizers",void 0),(0,C._)([(0,U.Cb)()],O.prototype,"_latestPointerType",void 0),(0,C._)([(0,U.Cb)()],O.prototype,"latestPointerType",null),(0,C._)([(0,U.Cb)()],O.prototype,"multiTouchActive",null),(0,C._)([(0,U.Cb)({readOnly:!0})],O.prototype,"latestPointerLocation",void 0),(0,C._)([(0,U.Cb)()],O.prototype,"_paused",void 0),(0,C._)([(0,U.Cb)({readOnly:!0})],O.prototype,"updating",null),O=(0,C._)([(0,L.j)("esri.views.input.InputManager")],O);class I{constructor(J,oe,se,ue,he){this.type=J,this.data=oe,this.timestamp=se,this.modifiers=ue,this.cancelable=he,this._propagationState=T.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=T.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&T.STOPPED)}async(J){this._propagationState|=T.PAUSED;const oe=(se,ue)=>{this._propagationState&=~T.PAUSED;const he=this._resumeCallback;if(this._resumeCallback=null,he&&he(),ue)throw se;return se};return("function"==typeof J?J():J).then(se=>oe(se,!1),se=>oe(se,!0))}shouldPausePropagation(J){return!!(this._propagationState&T.PAUSED)&&(this._resumeCallback=J,!0)}preventDefault(){this.data.native.preventDefault()}}var T,Q;(Q=T||(T={}))[Q.NONE=0]="NONE",Q[Q.STOPPED=1]="STOPPED",Q[Q.PAUSED=2]="PAUSED";const W={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},F=class z{}},79259:(Ke,Ee,E)=>{"use strict";E.d(Ee,{CK:()=>Z,kK:()=>U,wj:()=>Y});var C=E(90984);const Z=(0,E(14007).Z)("mac")?"Meta":"Ctrl",j={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let V=48;V<58;V++)j[V]=String.fromCharCode(V);for(let V=1;V<25;V++)j[111+V]=`F${V}`;for(let V=65;V<91;V++)j[V]=[String.fromCharCode(V+32),String.fromCharCode(V)];function U(V){if(void 0!==V.key)return(0,C.kK)(V);const $=j[V.keyCode];return Array.isArray($)?V.shiftKey?$[1]:$[0]:$}function Y(V){switch(V){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},89178:(Ke,Ee,E)=>{"use strict";E.d(Ee,{e:()=>x});var C=E(51172),D=E(79412),Z=E(65430),j=E(56295),U=E(19994);class Y{constructor(){this._map=new Map,this._observable=new U.s}get size(){return(0,j.it)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(k){const R=this._map.delete(k);return R&&this._observable.notify(),R}entries(){return(0,j.it)(this._observable),this._map.entries()}forEach(k,R){(0,j.it)(this._observable),this._map.forEach((H,N)=>k.call(R,H,N,this),R)}get(k){return(0,j.it)(this._observable),this._map.get(k)}has(k){return(0,j.it)(this._observable),this._map.has(k)}keys(){return(0,j.it)(this._observable),this._map.keys()}set(k,R){return this._map.set(k,R),this._observable.notify(),this}values(){return(0,j.it)(this._observable),this._map.values()}[Symbol.iterator](){return(0,j.it)(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}var V=E(66679),$=E(45974);class L{constructor(k,R){this.item=k,this.controller=R,this.promise=null}}class x{constructor(k){this._schedule=null,this._task=null,this._deferreds=new Y,this._controllers=new Y,this._processingItems=new Y,this._pausedSignal=(0,$.t)(!1),this.concurrency=1,k.concurrency&&(this.concurrency=k.concurrency),this._queue=new Z.Z(k.peeker),this.process=k.process;const R=k.scheduler;k.priority&&R&&(this._task=R.registerTask(k.priority,this))}destroy(){this.clear(),this._schedule=(0,C.hw)(this._schedule),this._task=(0,C.hw)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(k){const R=this._controllers.get(k);R&&R.abort()}clear(){this._queue.clear();const k=[];this._controllers.forEach(R=>k.push(R)),this._controllers.clear(),k.forEach(R=>R.abort()),this._processingItems.clear(),this._cancelNext()}forEach(k){this._deferreds.forEach((R,H)=>k(H))}get(k){const R=this._deferreds.get(k);return R?R.promise:void 0}isOngoing(k){return this._processingItems.has(k)}has(k){return this._deferreds.has(k)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(k,R){const H=this.get(k);if(H)return H;const N=new AbortController;let P=null;R&&(P=(0,D.fu)(R,()=>N.abort()));const O=()=>{I.remove(),P?.remove(),this._deferreds.delete(k),this._controllers.delete(k),this._queue.remove(k),this._processingItems.delete(k),this._scheduleNext()},I=(0,D.$F)(N.signal,()=>{const W=this._processingItems.get(k);W&&W.controller.abort(),O(),T.reject((0,D.zE)())}),T=(0,D.hh)();return this._deferreds.set(k,T),this._controllers.set(k,N),T.promise.then(O,O),this._queue.push(k),this._scheduleNext(),T.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const k=[];this._processingItems.forEach(R=>k.push(R)),this._processingItems.clear();for(const R of k)this._queue.push(R.item),R.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const k=[];for(;this._queue.length;)k.push(this._queue.pop());return this.clear(),k}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(k){for(;!k.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),k.madeProgress()}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,V.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(k,R){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).resolve(R))}_processError(k,R){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).reject(R))}_canProcessFulfillment(k){return!!this._deferreds.get(k.item)&&this._processingItems.get(k.item)===k}_process(k){if(null==k)return;let R;const H=new AbortController,N=new L(k,H);this._processingItems.set(k,N);try{R=this.process(k,H.signal)}catch(P){this._processError(N,P)}(0,D.y8)(R)?(N.promise=R,R.then(P=>this._processResult(N,P),P=>this._processError(N,P))):this._processResult(N,R)}get test(){return{update:k=>this.runTask(k)}}}},82871:(Ke,Ee,E)=>{"use strict";E.d(Ee,{LI:()=>P,RZ:()=>w,TT:()=>O,cv:()=>L,v8:()=>x}),E(14007);var D=E(55117);function L(fe,ge,me){const{ctx:te,canvas:ae}=B(fe,me),ee=te.getImageData(0,0,fe.width,fe.height),ce=function N(fe,ge){return fe.toDataURL(ue[ge.format],ge.quality/100)}(ae,ge);return k(ae),{dataUrl:ce,data:ee}}function x(fe,ge){const{ctx:me,canvas:te}=B(fe,ge),ae=me.getImageData(0,0,fe.width,fe.height);return k(te),ae}function B(fe,ge){const me=function R(){return null==H&&(H=document.createElement("canvas")),H}();ge.premultipliedAlpha&&function se(fe){const ge=fe.data,me=ge.length;for(let te=0;te<me;te+=4){const ae=ge[te+3];if(255!==ae&&ae>0){const ee=255/ae;ge[te]=ge[te]*ee,ge[te+1]=ge[te+1]*ee,ge[te+2]=ge[te+2]*ee}}}(fe),me.width=fe.width,me.height=fe.height;const te=me.getContext("2d",{willReadFrequently:!0});return te.putImageData(fe,0,0),ge.flipY&&function oe(fe){fe.save(),fe.globalCompositeOperation="copy",fe.scale(1,-1),fe.translate(0,-fe.canvas.height),fe.drawImage(fe.canvas,0,0),fe.restore()}(te),{ctx:te,canvas:me}}function k(fe){fe.width=0,fe.height=0}E(26517);let H=null;function P(fe,ge){const me=function J(fe){switch(fe){case"png":case"jpg":case"jpeg":return fe;default:return G}}(fe);return{format:me,quality:(0,D.uZ)(ge??le[me],0,100)}}function w(fe,ge){return ge/Math.max(fe[0],fe[1])}function O(fe,ge,me,te=0,ae=0,ee=fe.width-te,ce=fe.height-ae,ie=!1){const{data:ne}=fe,{width:pe,height:ye,data:re}=ge,ve=ee/pe,Oe=ce/ye,Me=Math.ceil(ve/2),Se=Math.ceil(Oe/2),ke=fe.width;for(let xe=0;xe<ye;xe++)for(let Ge=0;Ge<pe;Ge++){const X=4*(Ge+(ie?ye-xe-1:xe)*pe);let be=0,Re=0,Fe=0,qe=0,We=0,He=0;const Ne=(xe+.5)*Oe;for(let Ce=Math.floor(xe*Oe);Ce<(xe+1)*Oe;Ce++){const Pe=Math.abs(Ne-(Ce+.5))/Se,Ae=(Ge+.5)*ve,Be=Pe*Pe;for(let ze=Math.floor(Ge*ve);ze<(Ge+1)*ve;ze++){const st=Math.abs(Ae-(ze+.5))/Me,Xe=Math.sqrt(Be+st*st);if(Xe>=1)continue;let ot=2*Xe*Xe*Xe-3*Xe*Xe+1;const ut=4*(te+ze+(ae+Ce)*ke);He+=ot*ne[ut+3],Re+=ot,!me&&ne[ut+3]<255&&(ot=ot*ne[ut+3]/255),Fe+=ot*ne[ut],qe+=ot*ne[ut+1],We+=ot*ne[ut+2],be+=ot}}re[X]=Fe/be,re[X+1]=qe/be,re[X+2]=We/be,re[X+3]=He/Re}return ge}const ue={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},G="png",le={png:100,jpg:98,jpeg:98}},19903:(Ke,Ee,E)=>{"use strict";E.d(Ee,{hc:()=>j});var C=E(99273);let D,Z;function j(H){const N=(0,C.Sh)(H);for(;N.length>1;){const P=U(N.shift());if(P.available)return P}return U(N.shift())}function U(H){switch(H){case C.zO.WEBGL1:return function Y(){return D||(D=function k(){const H=new L,N=B(C.zO.WEBGL1,H);return null==N||(H.supportsElementIndexUint=null!==N.getExtension("OES_element_index_uint"),H.supportsStandardDerivatives=null!==N.getExtension("OES_standard_derivatives"),H.supportsInstancedArrays=null!==N.getExtension("ANGLE_instanced_arrays"),H.supportsTextureFloat=null!==N.getExtension("OES_texture_float"),H.supportsTextureHalfFloat=null!==N.getExtension("OES_texture_half_float"),H.supportsColorBufferFloat=null!==N.getExtension("WEBGL_color_buffer_float"),H.supportsColorBufferFloatBlend=null!==N.getExtension("EXT_float_blend"),H.supportsColorBufferHalfFloat=null!==N.getExtension("EXT_color_buffer_half_float")),H}()),D}();case C.zO.WEBGL2:return function V(){return Z||(Z=function R(){const H=new x,N=B(C.zO.WEBGL2,H);return null==N||(H.supportsColorBufferFloat=null!==N.getExtension("EXT_color_buffer_float"),H.supportsColorBufferFloatBlend=null!==N.getExtension("EXT_float_blend"),H.supportsColorBufferHalfFloat=H.supportsColorBufferFloat||null!==N.getExtension("EXT_color_buffer_half_float")),H}()),Z}()}}class ${constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class L extends ${constructor(){super(...arguments),this.type=C.zO.WEBGL1}}class x extends ${constructor(){super(...arguments),this.type=C.zO.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function B(H,N){if(H===C.zO.WEBGL1&&typeof WebGLRenderingContext>"u"||H===C.zO.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const P=document.createElement("canvas");if(!P)return null;let w=(0,C.kr)(P,H,{failIfMajorPerformanceCaveat:!0});if(null==w&&(w=(0,C.kr)(P,H),null!=w&&(N.majorPerformanceCaveat=!0)),null==w)return w;if(H===C.zO.WEBGL1){const I=w.getParameter(w.VERSION),T=I?.match(/^WebGL\s+([\d.]*)/);if(T){const W=parseFloat(T[1]);N.available=W>=.94}}else N.available=!0;N.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE),N.supportsVertexShaderSamplers=w.getParameter(w.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const O=w.getShaderPrecisionFormat(w.FRAGMENT_SHADER,w.HIGH_FLOAT);return O&&(N.supportsHighPrecisionFragment=O.precision>0),w}},99273:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Sh:()=>U,dz:()=>j,kr:()=>Z,zO:()=>D});var D,Y,C=E(14007);function Z(Y,V,$={}){return Y.getContext(V===D.WEBGL1?"webgl":"webgl2",$)||null}function j(Y,V,$={}){const L=U(Y);for(const x of L){const B=Z(V,x,$);if(B)return B}return null}function U(Y){if("3d"===Y)return[D.WEBGL2];const V=(0,C.Z)("esri-force-webgl");return V===D.WEBGL1||V===D.WEBGL2?[V]:(0,C.Z)("mac")&&(0,C.Z)("chrome")?[D.WEBGL1,D.WEBGL2]:[D.WEBGL2,D.WEBGL1]}(Y=D||(D={}))[Y.WEBGL1=1]="WEBGL1",Y[Y.WEBGL2=2]="WEBGL2"},84735:(Ke,Ee,E)=>{"use strict";var C,D;E.d(Ee,{x:()=>C}),(D=C||(C={}))[D.SAVE=0]="SAVE",D[D.SAVE_AS=1]="SAVE_AS"},39437:(Ke,Ee,E)=>{"use strict";E.d(Ee,{a:()=>D,b:()=>Z});var C=E(1535);function D(j){const U=(0,C.vU)(100*(1-j));return Math.max(0,Math.min(U,100))}function Z(j){return Math.max(0,Math.min(1-j/100,1))}},5538:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Nw:()=>N});var C=E(57964),D=E(34222),Z=E(71763),j=E(73710),U=E(85971);const Y=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),V=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function R(P,w){"maxScale"in P&&(w.maxScale=(0,j.k)(P.maxScale)??void 0),"minScale"in P&&(w.minScale=(0,j.k)(P.minScale)??void 0)}function N(P,w,O){if(!P.persistenceEnabled)return null;if(!("write"in P)||!P.write)return O?.messages&&O.messages.push(new C.Z("layer:unsupported",`Layers (${P.title}, ${P.id}) of type '${P.declaredClass}' cannot be persisted`,{layer:P})),null;if((0,U.rQ)(P)&&!P.isTable)w=P.resourceInfo;else if(function B(P,w){if(w.restrictedWebMapWriting){const O=function x(P){return"basemap"===P.layerContainerType?Y:"operational-layers"===P.layerContainerType?V:null}(w);return null==O||O.has(P.type)&&!(0,U.rQ)(P)}return!0}(P,O)){const I={};return P.write(I,O)?I:null}return null!=w&&function H(P,w){if(function k(P,w){if(w)if((0,U.rQ)(P)){const O=(0,Z.hS)("featureCollection.layers",w),I=O?.[0]?.layerDefinition;I&&R(P,I)}else"group"!==P.type&&R(P,w)}(P,w),w&&(w.id=P.id,"blendMode"in P&&(w.blendMode=P.blendMode,"normal"===w.blendMode&&delete w.blendMode),w.opacity=(0,j.k)(P.opacity)??void 0,w.title=P.title||"Layer",w.visibility=P.visible,"legendEnabled"in P&&"wmts"!==P.type))if((0,U.rQ)(P)){const O=w.featureCollection;O&&(O.showLegend=P.legendEnabled)}else w.showLegend=P.legendEnabled}(P,w=(0,D.d9)(w)),w}},19399:(Ke,Ee,E)=>{"use strict";E.d(Ee,{i:()=>D});const C="esri-feature",D={base:C,container:`${C}__size-container`,title:`${C}__title`,main:`${C}__main-container`,btn:`${C}__button`,icon:`${C}__icon`,content:`${C}__content`,contentNode:`${C}__content-node`,contentNodeText:`${C}__content-node--text`,contentElement:`${C}__content-element`,text:`${C}__text`,lastEditedInfo:`${C}__last-edited-info`,fields:`${C}__fields`,fieldHeader:`${C}__field-header`,fieldData:`${C}__field-data`,fieldDataDate:`${C}__field-data--date`,loadingSpinnerContainer:`${C}__loading-container`,spinner:`${C}__loading-spinner`}},84399:(Ke,Ee,E)=>{"use strict";E.d(Ee,{g:()=>x});var C=E(96936),D=E(62616),Z=E(40846),j=E(2485);const U="esri-relationship-ramp",Y=`${U}--diamond`,V=`${U}--square`,$="http://www.w3.org/2000/svg",L={diamondContainer:`${Y}__container`,diamondLeftCol:`${Y}__left-column`,diamondRightCol:`${Y}__right-column`,diamondMidCol:`${Y}__middle-column`,diamondMidColLabel:`${Y}__middle-column--label`,diamondMidColRamp:`${Y}__middle-column--ramp`,squareTable:`${V}__table`,squareTableRow:`${V}__table-row`,squareTableCell:`${V}__table-cell`,squareTableLabel:`${V}__table-label`,squareTableLabelLeftBottom:`${V}__table-label--left-bottom`,squareTableLabelRightBottom:`${V}__table-label--right-bottom`,squareTableLabelLeftTop:`${V}__table-label--left-top`,squareTableLabelRightTop:`${V}__table-label--right-top`};function x(R,H,N={}){const{focus:P,labels:w}=R,O=!!P,I=function k(R,H,N={}){const{focus:P,numClasses:w,colors:O,rotation:I}=R,{opacity:T,effectList:W,ariaLabel:z}=N,F=N.size??60,Q=!!P,J=Math.sqrt(F**2+F**2)+(Q?0:5),oe=[],se=[],ue=[],he=(F||75)/w;for(let ne=0;ne<w;ne++){const pe=ne*he;for(let ye=0;ye<w;ye++){const re=ye*he,ve=(0,C.jA)(O[ne][ye]),Oe=(0,C.kQ)(null),Me={type:"rect",x:re,y:pe,width:he,height:he},Se=(0,C.ch)(ve);Se&&oe.push(Se);const ke=(0,C.vq)(Me,ve.fill,Oe,null);ke&&se.push(ke),ue.push((0,C.A5)(Me))}}let ge=null;Q||(ge="margin: -15px -15px -18px -15px");const me=B("left",P,H),te=B("right",P,H),ae=(0,C.al)(ue),ee=(0,C.iL)(ae,J,J,0,!1,I,!1),ce=(0,C.iL)(ae,J,J,0,!1,Q?-45:null,!1),ie={filter:(0,D.wJ)(W)??void 0,opacity:null==T?"":`${T}`};return(0,j.u)("div",{class:Q?L.diamondMidColRamp:L.squareTableCell,styles:ie},(0,j.u)("svg",{"aria-labelledBy":z,focusable:!1,height:J,role:"image",style:ge,width:J,xmlns:$},(0,j.u)("defs",null,(0,j.u)("marker",{id:`${H}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},(0,j.u)("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),(0,j.u)("marker",{id:`${H}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},(0,j.u)("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),oe),(0,j.u)("g",{transform:ee},se),(0,j.u)("g",{transform:ce},(0,j.u)("line",{fill:"none","marker-end":me.markerEnd,"marker-start":me.markerStart,stroke:"#555555","stroke-width":"1",x1:-10,x2:-10,y1:F-15,y2:15}),(0,j.u)("line",{fill:"none","marker-end":te.markerEnd,"marker-start":te.markerStart,stroke:"#555555","stroke-width":"1",x1:15,x2:F-15,y1:F+10,y2:F+10}))))}(R,H,N),W=(0,Z.dZ)();return O?(0,j.u)("div",{class:L.diamondContainer,styles:{justifyContent:"center"}},(0,j.u)("div",{class:L.diamondLeftCol},W?w.right:w.left),(0,j.u)("div",{class:L.diamondMidCol},(0,j.u)("div",{class:L.diamondMidColLabel},w.top),I,(0,j.u)("div",{class:L.diamondMidColLabel},w.bottom)),(0,j.u)("div",{class:L.diamondRightCol},W?w.left:w.right)):(0,j.u)("div",{class:L.squareTable},(0,j.u)("div",{class:L.squareTableRow},(0,j.u)("div",{class:(0,Z.Sh)(L.squareTableCell,L.squareTableLabel,L.squareTableLabelRightBottom)},W?w.top:w.left),(0,j.u)("div",{class:L.squareTableCell}),(0,j.u)("div",{class:(0,Z.Sh)(L.squareTableCell,L.squareTableLabel,L.squareTableLabelLeftBottom)},W?w.left:w.top)),(0,j.u)("div",{class:L.squareTableRow},(0,j.u)("div",{class:L.squareTableCell}),I,(0,j.u)("div",{class:L.squareTableCell})),(0,j.u)("div",{class:L.squareTableRow},(0,j.u)("div",{class:(0,Z.Sh)(L.squareTableCell,L.squareTableLabel,L.squareTableLabelRightTop)},W?w.right:w.bottom),(0,j.u)("div",{class:L.squareTableCell}),(0,j.u)("div",{class:(0,Z.Sh)(L.squareTableCell,L.squareTableLabel,L.squareTableLabelLeftTop)},W?w.bottom:w.right)))}function B(R,H,N){const P=`${N}_arrowStart`,w=`${N}_arrowEnd`,O="left"===R,I={markerStart:null,markerEnd:null};switch(H){case"HL":O?I.markerStart=`url(#${w})`:I.markerEnd=`url(#${P})`;break;case"LL":I.markerStart=`url(#${w})`;break;case"LH":O?I.markerEnd=`url(#${P})`:I.markerStart=`url(#${w})`;break;default:I.markerEnd=`url(#${P})`}return I}},87463:(Ke,Ee,E)=>{"use strict";E.d(Ee,{NA:()=>x,QQ:()=>B,fD:()=>R,pO:()=>Y});var C=E(15861),D=E(66599),Z=E(36999);const j=new D.Z([64,64,64]);function U(H,N){const P=[],w=H.length-1;return 5===H.length?P.push(0,2,4):P.push(0,w),H.map((O,I)=>P.includes(I)?(0,Z.MN)(O,I,w,N):null)}function Y(H,N,P){return V.apply(this,arguments)}function V(){return V=(0,C.Z)(function*(H,N,P){let w=!1,O=[],I=[];if(H.stops){const F=H.stops;O=F.map(Q=>Q.value),w=F.some(Q=>!!Q.label),w&&(I=F.map(Q=>Q.label))}if(null==O[0]&&null==O[O.length-1])return null;const z=w?null:U(O,P);return(yield Promise.all(O.map(function(){var F=(0,C.Z)(function*(Q,J){return{value:Q,color:"opacity"===H.type?yield $(Q,H,N):(yield Promise.resolve().then(E.bind(E,37157))).getColor(H,Q),label:w?I[J]:z?.[J]??""}});return function(Q,J){return F.apply(this,arguments)}}()))).reverse()}),V.apply(this,arguments)}function $(H,N,P){return L.apply(this,arguments)}function L(){return(L=(0,C.Z)(function*(H,N,P){const w=new D.Z(P??j),O=(yield Promise.resolve().then(E.bind(E,37157))).getOpacity(N,H);return null!=O&&(w.a=O),w})).apply(this,arguments)}function x(H){let N=!1,P=[],w=[];if(P=H.map(W=>W.value),N=H.some(W=>!!W.label),N&&(w=H.map(W=>W.label??"")),null==P[0]&&null==P[P.length-1])return null;const T=N?null:U(P);return P.map((W,z)=>({value:W,color:B(W,H),label:N?w[z]:T?.[z]??""})).reverse()}function B(H,N){const{startIndex:P,endIndex:w,weight:O}=function k(H,N){let P=0,w=N.length-1;return N.some((O,I)=>H<O.value?(w=I,!0):(P=I,!1)),{startIndex:P,endIndex:w,weight:(H-N[P].value)/(N[w].value-N[P].value)}}(H,N);if(P===w)return N[P].color;const I=D.Z.blendColors(N[P].color,N[w].color,O);return new D.Z(I)}function R(H,N){let P=[];if(H&&"multipart"===H.type)H.colorRamps.reverse().forEach((w,O)=>{P.push(0===O?{value:N.max,color:new D.Z(w.toColor),label:"high"}:{value:null,color:new D.Z(w.toColor),label:""}),P.push(O===H.colorRamps.length-1?{value:N.min,color:new D.Z(w.fromColor),label:"low"}:{value:null,color:new D.Z(w.fromColor),label:""})});else{let w,O;H&&"algorithmic"===H.type?(w=H.fromColor,O=H.toColor):(w=[0,0,0,1],O=[255,255,255,1]),P=[{value:N.max,color:new D.Z(O),label:"high"},{value:N.min,color:new D.Z(w),label:"low"}]}return P}},10750:(Ke,Ee,E)=>{"use strict";E.d(Ee,{h:()=>D});var C=E(61197);function D(Z){if(!Z.colorStops)return[];const j=[...Z.colorStops].filter(Y=>Y.color?.a>0);let U=j.length-1;if(j&&j[0]){const Y=j[U];Y&&1!==Y.ratio&&(j.push(new C.Z({ratio:1,color:Y.color})),U++)}return j.map((Y,V)=>{let $="";return 0===V?$=Z.legendOptions?.minLabel||"low":V===U&&($=Z.legendOptions?.maxLabel||"high"),{color:Y.color,label:$,ratio:Y.ratio}}).reverse()}},82339:(Ke,Ee,E)=>{"use strict";E.d(Ee,{N_:()=>x,mg:()=>L}),E(34222);var D=E(1010),Z=E(64063);const j={HH:315,HL:45,LL:135,LH:225},U={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function Y(B){if(!B)return;const{type:k}=B;if(k.includes("3d"))return(0,Z.getSymbolLayerFill)(B.symbolLayers.at(0));if("simple-line"===k){const R=(0,D.mx)(B);return R&&R.color}if("simple-marker"===B.type&&("x"===B.style||"cross"===B.style)){const R=(0,D.mx)(B);return R&&R.color}return(0,D._M)(B)}function V(B,k){const R=k.HH.label,H=k.LL.label,N=k.HL.label,P=k.LH.label;switch(B){case"HH":default:return{top:R,bottom:H,left:N,right:P};case"HL":return{top:N,bottom:P,left:H,right:R};case"LL":return{top:H,bottom:R,left:P,right:N};case"LH":return{top:P,bottom:N,left:R,right:H}}}function L(B){const{focus:k,infos:R,numClasses:H}=B,N=U[H],P={};R.forEach(O=>{P[O.value]={label:O.label,fill:Y(O.symbol)}});const w=[];for(let O=0;O<H;O++){const I=[];for(let T=0;T<H;T++)I.push(P[N[O][T]].fill);w.push(I)}return{type:"relationship-ramp",numClasses:H,focus:k,colors:w,labels:V(k,P),rotation:x(k)}}function x(B){let k=j[B];return B&&null==k&&(k=j.HH),k||0}},36999:(Ke,Ee,E)=>{"use strict";E.d(Ee,{MN:()=>$,S8:()=>H,Z8:()=>V,iP:()=>L,jb:()=>x,y$:()=>k,z4:()=>Y});var C=E(15861),Z=(E(71950),E(46052)),j=E(43157),U=E(66637);const Y="<",V=">";function $(N,P,w,O){let I="";return 0===P?I=`${Y} `:P===w&&(I=`${V} `),I+(O?(0,j.$8)(N,O):(0,Z.WU)(N))}const L=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];function x(N){return B.apply(this,arguments)}function B(){return(B=(0,C.Z)(function*(N){if(!("visualVariables"in N)||!N.visualVariables)return null;const P=N.visualVariables.find(W=>"color"===W.type);if(!P)return null;let w=null,O=null;if(P.stops){if(1===P.stops.length)return P.stops[0].color;w=P.stops[0].value,O=P.stops[P.stops.length-1].value}const I=null!=w&&null!=O?w+(O-w)/2:0,{getColor:T}=yield Promise.resolve().then(E.bind(E,37157));return T(P,I)??null})).apply(this,arguments)}function k(N,P){return R.apply(this,arguments)}function R(){return(R=(0,C.Z)(function*(N,P){const w=N.trailCap,O=N.trailWidth||1,I=P||(yield x(N))||N.color;return new U.Z({cap:w,color:I,width:O})})).apply(this,arguments)}function H(N){return null!=N&&"object"==typeof N&&"min"in N&&"max"in N}},53021:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>ke});var C=E(15861),D=E(50484),j=(E(91531),E(93300)),U=E(66081),Y=E(88278),V=E(90984),L=(E(14007),E(34222)),x=E(4703),B=E(51172),k=E(47868),R=E(79412),H=E(77675),N=E(19986),P=E(80543),w=E(73018),O=E(10141),I=E(56295),T=E(714),W=E(73322);E(58242);const F={handleInterceptedEvent:(xe,Ge,X,be)=>(xe.scheduleRender(),Ge.properties[`on${be.type}`].apply(Ge.properties.bind||X,[be]))},Q={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(xe,Ge,X)=>{"-"===Ge.charAt(0)?xe.style.setProperty(Ge,X):xe.style[Ge]=X}},ue=(xe,Ge,X=!1)=>{let be=xe;return Ge.forEach((Re,Fe)=>{const qe=be?.children?((xe,Ge)=>xe.find(We=>We.domNode===Re))(be.children):void 0;X&&!qe&&Fe!==Ge.length-1||(be=qe)}),be};var G=E(90643),le=E(54132),q=E(70868),fe=E(23260);const ge=new Set;var ne,ae=E(57885),ee=E(40846),ce=E(55829),ie=E(33653);let ye=0;const re={widgetIcon:q.W.checkboxUnchecked};function ve(xe,Ge){for(const X in Ge)null!=xe[X]&&("object"==typeof xe[X]&&"object"==typeof Ge[X]?ve(xe[X],Ge?.[X]):xe[X]=Ge[X]);return xe}const Oe=(xe=>{let Ge;const X={...F,...xe},be=(xe=>({...Q,...xe}))(X),Re=be.performanceLogger;let Fe,qe=!0,We=!1;const He=[],Ne=[],Ce=(Ae,Be,ze)=>{let st;be.eventHandlerInterceptor=(ot,ut,Et,Lt)=>function(Ut){let kt;Re("domEvent",Ut);const Xt=((xe,Ge)=>{const X=[];for(;xe&&xe!==Ge;)X.push(xe),xe=xe.parentNode;return X})(Ut.currentTarget,st.domNode),qt=Xt.some(yt=>customElements.get(yt?.tagName?.toLowerCase()));if(Ut.eventPhase!==Event.CAPTURING_PHASE&&qt){const yt=Ut.composedPath(),ft=yt.slice(yt.indexOf(Ut.currentTarget),yt.indexOf(st.domNode)).reverse();kt=ue(st.getLastRender(),ft,!0)}else Xt.reverse(),kt=ue(st.getLastRender(),Xt);let un;return kt&&(un=X.handleInterceptedEvent(Ge,kt,this,Ut)),Re("domEventProcessed",Ut),un},X.postProcessProjectionOptions?.(be);const Xe=ze();st=Ae(Be,Xe,be),be.eventHandlerInterceptor=void 0,He.push(st),Ne.push(ze),X.afterFirstVNodeRendered&&X.afterFirstVNodeRendered(st,Xe)};let Pe=()=>{if(Fe=void 0,qe){qe=!1,Re("renderStart",void 0);for(let Ae=0;Ae<He.length;Ae++){const Be=Ne[Ae]();Re("rendered",void 0),He[Ae].update(Be),Re("patched",void 0)}Re("renderDone",void 0),qe=!0}};return X.modifyDoRenderImplementation&&(Pe=X.modifyDoRenderImplementation(Pe,He,Ne)),Ge={renderNow:Pe,scheduleRender:()=>{Fe||We||(Fe=requestAnimationFrame(Pe))},stop:()=>{Fe&&(cancelAnimationFrame(Fe),Fe=void 0),We=!0},resume:()=>{We=!1,qe=!0,Ge.scheduleRender()},append:(Ae,Be)=>{Ce(W.v.append,Ae,Be)},insertBefore:(Ae,Be)=>{Ce(W.v.insertBefore,Ae,Be)},merge:(Ae,Be)=>{Ce(W.v.merge,Ae,Be)},replace:(Ae,Be)=>{Ce(W.v.replace,Ae,Be)},detach:Ae=>{for(let Be=0;Be<Ne.length;Be++)if(Ne[Be]===Ae)return Ne.splice(Be,1),He.splice(Be,1)[0];throw new Error("renderFunction was not found")}},Ge})({postProcessProjectionOptions(xe){const Ge=xe.eventHandlerInterceptor,X=/capture$/i;xe.eventHandlerInterceptor=(be,Re,Fe,qe)=>{const We=Ge?.(be,Re,Fe,qe),He=X.test(be);if(!((be=be.replace(X,"")).toLowerCase()in Fe)||He){const Ne=be[2].toLowerCase()+be.slice(3),Ce=Be=>We?.call(Fe,Be);Fe.addEventListener(Ne,Ce,He);const Pe=()=>Fe.removeEventListener(Ne,Ce,He),Ae=qe.afterRemoved;qe.afterRemoved=Be=>{Ae?.(Be),Pe()}}return We}},handleInterceptedEvent(xe,Ge,X,be){const{eventPhase:Re,type:Fe}=be,qe=Re===Event.CAPTURING_PHASE;let We=`on${Fe}${qe?"capture":""}`;const He=Ge.properties;(He&&We in He||(We=`on${Fe[0].toUpperCase()}${Fe.slice(1)}${qe?"Capture":""}`,He&&We in He))&&((0,ae.Uy)(),xe.scheduleRender(),He[We].call(He.bind||X,be))}});let Me=!1,Se=class extends((0,k.v)(Y.Z.EventedAccessor)){constructor(xe,Ge){var X;super(xe,Ge),X=this,this._attached=!1,this._projector=Oe,this._readyForTrueRender=!1,this.iconClass=re.widgetIcon,this.icon=null,this.key=this,this._loadLocale=(0,R.Ds)((0,C.Z)(function*(){if(X._messageBundleProps?.length){const We=yield Promise.allSettled(X._messageBundleProps.map(function(){var He=(0,C.Z)(function*({bundlePath:Ne,propertyName:Ce}){if(X.destroyed)return;let Pe=yield(0,ie.ME)(Ne);X.uiStrings&&Object.keys(X.uiStrings)&&(Pe=ve((0,L.d9)(Pe),X.uiStrings)),X[Ce]=Pe});return function(Ne){return He.apply(this,arguments)}}()));if(X.destroyed)return;for(const He of We)"rejected"===He.status&&x.Z.getLogger(X).error("widget-intl:locale-error",X.declaredClass,He.reason)}yield X.loadLocale()})),(0,G.B)();const be="esri-widget-uid-"+(0,N.DO)(),Re=this.render.bind(this);this._trackingTarget=new T.M(()=>this.scheduleRender());const Fe=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const We=Re();let{properties:He}=We;He||(We.properties=He={});const{key:Ne}=He;if(Ne||(He.key=be),(0,le.Z)(We.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${be}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?He.styles||(He.styles={}):(He.class="",He.styles={display:"none"}),He.styles.display||(He.styles.display="");let Ce=0;return We.children?.forEach(Pe=>{if((0,le.Z)(Pe.vnodeSelector))return;let{properties:Ae}=Pe;Ae||(Pe.properties=Ae={}),Ae.key||(Ae.key=`${this.id}--${Ce++}`)}),(0,le.d)(this,We)};this.render=()=>{if(Me)return Fe();let We=(0,ae.O9)(this)??null;if(We)return We;this._trackingTarget.clear(),Me=!0;try{We=(0,I.LJ)(this._trackingTarget,Fe)}catch(He){throw console.error(He),He}finally{Me=!1}return We&&(0,ae.KF)(this,We),We};const qe=this.beforeFirstRender();qe?this._resourcesFetch=qe.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function me(xe){ge.add(xe),xe.finally(()=>ge.delete(xe))}(this._resourcesFetch)}normalizeCtorArgs(xe,Ge){const X={...xe};return Ge&&(X.container=Ge),X}postInitialize(){}beforeFirstRender(){const xe=this.loadDependencies();return this._messageBundleProps?.length||xe?Promise.all([xe,this._loadLocale()]).then(()=>{}).catch(R.H9):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,B.SC)(this._trackingTarget),(0,B.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,ae.w7)(this))}set container(xe){this._get("container")||this._set("container",xe)}castContainer(xe){return(0,U.L7)(xe)}get domNode(){return this.container}set domNode(xe){this.container=xe}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+ye++}set id(xe){xe&&this._set("id",xe)}get label(){return this.declaredClass.split(".").pop()}set label(xe){this._overrideIfSome("label",xe)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(xe){this._set("visible",xe)}get[(ne=fe.R,fe.T)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,ae.w7)(this),this._projector.scheduleRender())}own(xe){(0,j.XV)(x.Z.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(xe)}classes(...xe){return ee.Sh.apply(this,xe)}renderNow(){(0,ae.w7)(this),this._projector.renderNow()}_postInitialize(){var xe=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,H.YP)(()=>this.viewModel,(X,be)=>{be&&this.removeHandles("delegated-events"),X&&(0,V.vT)(X)&&this.addHandles(this._delegatedEventNames.map(Re=>(0,V.on)(X,Re,Fe=>{this.emit(Re,Fe)})),"delegated-events")},H.tX)),this.postInitialize();const Ge=function(){var X=(0,C.Z)(function*(){yield xe._loadLocale().catch(R.H9),xe.scheduleRender()});return function(){return X.apply(this,arguments)}}();this.addHandles([(0,ce.qe)(Ge),(0,H.YP)(()=>this.uiStrings,Ge),(0,H.gx)(()=>this.container,X=>{this.destroyed||this._attach(X)},{initial:!0,once:!0})])}_attach(xe){xe&&(this._projector.merge(xe,this.render),this._attached=!0)}_detach(xe){this._attached&&(this._projector.detach(this.render),this._attached=!1),xe?.parentNode?.removeChild(xe)}};Se[ne]=!0,(0,D._)([(0,P.Cb)()],Se.prototype,"_readyForTrueRender",void 0),(0,D._)([(0,P.Cb)({value:null})],Se.prototype,"container",null),(0,D._)([(0,w.p)("container")],Se.prototype,"castContainer",null),(0,D._)([(0,P.Cb)()],Se.prototype,"iconClass",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"icon",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"id",null),(0,D._)([(0,P.Cb)()],Se.prototype,"label",null),(0,D._)([(0,P.Cb)()],Se.prototype,"renderable",null),(0,D._)([(0,P.Cb)()],Se.prototype,"uiStrings",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"viewModel",void 0),(0,D._)([(0,P.Cb)({value:!0})],Se.prototype,"visible",null),(0,D._)([(0,P.Cb)()],Se.prototype,"key",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"children",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"afterCreate",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"afterUpdate",void 0),(0,D._)([(0,P.Cb)()],Se.prototype,"afterRemoved",void 0),Se=(0,D._)([(0,O.j)("esri.widgets.Widget")],Se);const ke=Se},42704:(Ke,Ee,E)=>{"use strict";E.d(Ee,{_:()=>$});var C=E(50484),D=E(51172),Z=E(80543),V=(E(1535),E(57678),E(14007),E(10141));const $=L=>{let x=class extends L{constructor(...B){super(...B),this.goToOverride=null,this.view=null}callGoTo(B){const{view:k}=this;return(0,D.O3)(k),this.goToOverride?this.goToOverride(k,B):k.goTo(B.target,B.options)}};return(0,C._)([(0,Z.Cb)()],x.prototype,"goToOverride",void 0),(0,C._)([(0,Z.Cb)()],x.prototype,"view",void 0),x=(0,C._)([(0,V.j)("esri.widgets.support.GoTo")],x),x}},83022:(Ke,Ee,E)=>{"use strict";E.d(Ee,{M:()=>V,X:()=>U});var C=E(55117),D=E(89219),Z=E(40846),j=E(2485);function U({level:$,class:L,...x},B){const k=Y($);return(0,j.u)(`h${k}`,{...x,"aria-level":String(k),class:(0,Z.Sh)(D.z.heading,L),role:"heading"},B)}function Y($){return(0,C.uZ)(Math.ceil($),1,6)}function V($,L=1){return Y($+L)}},90643:(Ke,Ee,E)=>{"use strict";E.d(Ee,{B:()=>x,h:()=>B});var C=E(55369),D=E(12115);function Z(){const{classList:k}=document.body,R=window.matchMedia("(prefers-color-scheme: dark)").matches,H=()=>k.contains(D.d)||k.contains(D.a)&&R?"dark":"light",N=O=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:O}})),P=O=>{w!==O&&N(O),w=O};let w=H();N(w),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",O=>P(O.matches?"dark":"light")),new MutationObserver(()=>P(H())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}!function j(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&("interactive"===document.readyState?Z():document.addEventListener("DOMContentLoaded",()=>Z(),{once:!0}))}();var Y=E(98930),$=(E(14007),E(6785));let L;function x(){try{(0,C.K3)(".")}catch{(0,C.YY)((0,$.hF)((0,Y.V)(L)))}}function B(k){const R=[];for(const H of Object.keys(k))customElements.get(`calcite-${H}`)||R.push(k[H]?.());return R.length>0?Promise.all(R):null}L="components/assets"},42534:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A9:()=>ge,US:()=>te,bk:()=>me}),E(91531),E(14007),E(57964),E(55117),E(94678),E(764);var V=E(25037);E(55829);const k="yyyy-MM-dd";var H,ee;(ee=H||(H={})).HM="HH:mm",ee.HMS="HH:mm:ss",ee.HMS_MS="HH:mm:ss.SSS";const N=[H.HMS_MS,H.HMS,H.HM,"TT"];function ge(ee){return V.ou.fromFormat(ee,k)}function me(ee){let ce=null;return N.find(ie=>(ce=V.ou.fromFormat(ee,ie),ce.isValid)),ce}function te(ee){return V.ou.fromISO(ee)}},86269:(Ke,Ee,E)=>{"use strict";E.d(Ee,{h:()=>D});var C=E(40846);function D(){return function(U,Y){if(!U[Y])throw new TypeError(`Cannot auto bind undefined function '${String(Y)}'`);return{value:j(U[Y])}}}function j(U){return function(Y,...V){!function Z(U){const Y=U?.type;return U instanceof KeyboardEvent||"keyup"===Y||"keydown"===Y||"keypress"===Y}(Y)?U.call(this,Y,...V):(0,C.pf)(Y.key)&&(Y.preventDefault(),Y.stopPropagation(),Y.target.click())}}},26440:(Ke,Ee,E)=>{"use strict";function C(D){return(Z,j)=>{Z.hasOwnProperty("_messageBundleProps")||(Z._messageBundleProps=Z._messageBundleProps?Z._messageBundleProps.slice():[]),Z._messageBundleProps.push({bundlePath:D,propertyName:j})}}E.d(Ee,{H:()=>C})},92795:(Ke,Ee,E)=>{"use strict";function C(Z){return j=>{j.hasOwnProperty("_delegatedEventNames")||(j._delegatedEventNames=j._delegatedEventNames?j._delegatedEventNames.slice():[]);const U=j._delegatedEventNames,Y=Array.isArray(Z)?Z:function D(Z){return Z.split(",").map(j=>j.trim())}(Z);U.push(...Y)}}E.d(Ee,{s:()=>C})},89219:(Ke,Ee,E)=>{"use strict";E.d(Ee,{z:()=>C});const C={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},2485:(Ke,Ee,E)=>{"use strict";E.d(Ee,{D:()=>Y,u:()=>U});var C=E(54132),D=function(V){return{vnodeSelector:"",properties:void 0,children:void 0,text:V.toString(),domNode:null}},Z=function(V,$){for(var L=0,x=V.length;L<x;L++){var B=V[L];Array.isArray(B)?Z(B,$):null!=B&&!1!==B&&(B.hasOwnProperty("vnodeSelector")||(B=D(B)),$.push(B))}},j=function(V,$){for(var L=[],x=2;x<arguments.length;x++)L[x-2]=arguments[x];if(1===L.length&&"string"==typeof L[0])return{vnodeSelector:V,properties:$||void 0,children:void 0,text:L[0],domNode:null};var B=[];return Z(L,B),{vnodeSelector:V,properties:$||void 0,children:B,text:void 0,domNode:null}};function U(V,$,...L){return"function"!=typeof V||(0,C.Z)(V)?j(V,$,...L):V($,...L)}function Y(...V){return V}},54132:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Z:()=>x,d:()=>Y});var C=E(1258),D=E(23260);const Z=[],j={},U=new WeakMap;function Y(B,k){let R=k.children;if(R?.length)for(let N=0;N<R.length;++N)R[N]=Y(B,R[N]);else R=Z;const H=k.vnodeSelector;if(x(H)){const N=k.properties||j,P=N.key||H;return{vnodeSelector:"div",properties:{key:P,afterCreate:V,afterUpdate:$,afterRemoved:L,parentWidget:B,widgetConstructor:H,widgetProperties:{...N,key:P,children:R}},children:void 0,text:void 0,domNode:null}}return k}function V(B,k,R,{parentWidget:H,widgetConstructor:N,widgetProperties:P}){const w=new N(P);w.container=B,U.set(B,w),w.afterCreate?.(w,B),H.addHandles((0,C.kB)(()=>L(B))),queueMicrotask(()=>{w[D.T].projector.renderNow()})}function $(B,k,R,{widgetProperties:H}){const N=U.get(B);N&&(N.set(H),N.afterUpdate?.(N,B))}function L(B){const k=U.get(B);k&&(k.afterRemoved?.(k,B),k.destroy(),U.delete(B))}function x(B){return"function"==typeof B&&B[D.R]}},70868:(Ke,Ee,E)=>{"use strict";E.d(Ee,{W:()=>C});const C={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"}},23260:(Ke,Ee,E)=>{"use strict";E.d(Ee,{R:()=>C,T:()=>D});const C=Symbol("widget"),D=Symbol("widget-test-data")},57885:(Ke,Ee,E)=>{"use strict";E.d(Ee,{KF:()=>j,O9:()=>Z,Uy:()=>D,w7:()=>U});const C=new Map;function D(){C.clear()}function Z(Y){return C.get(Y)}function j(Y,V){C.set(Y,V)}function U(Y){C.delete(Y)}},36911:(Ke,Ee,E)=>{"use strict";function j(Y){return Y&&"function"==typeof Y.render}function U(Y){return Y&&"function"==typeof Y.postMixInProperties&&"function"==typeof Y.buildRendering&&"function"==typeof Y.postCreate&&"function"==typeof Y.startup}E.d(Ee,{Qd:()=>j,o:()=>U}),E(86269),E(2485),E(40846)},40846:(Ke,Ee,E)=>{"use strict";E.d(Ee,{Sh:()=>ar,pV:()=>as,pf:()=>Pt,dZ:()=>Qt,w3:()=>Qe,Yo:()=>Mn});var D={exports:{}},Z={},j={exports:{}},U={};function Y(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var L=/javascript\s*\:/gim;U.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},U.getDefaultWhiteList=Y,U.onAttr=function V(Ie,ct,ht){},U.onIgnoreAttr=function $(Ie,ct,ht){},U.safeAttrValue=function x(Ie,ct){return L.test(ct)?"":ct};var k_trim=function(Ie){return String.prototype.trim?Ie.trim():Ie.replace(/(^\s*)|(\s*$)/g,"")},k_trimRight=function(Ie){return String.prototype.trimRight?Ie.trimRight():Ie.replace(/(\s*$)/g,"")},N=U;function w(Ie){return null==Ie}function I(Ie){(Ie=function O(Ie){var ct={};for(var ht in Ie)ct[ht]=Ie[ht];return ct}(Ie||{})).whiteList=Ie.whiteList||N.whiteList,Ie.onAttr=Ie.onAttr||N.onAttr,Ie.onIgnoreAttr=Ie.onIgnoreAttr||N.onIgnoreAttr,Ie.safeAttrValue=Ie.safeAttrValue||N.safeAttrValue,this.options=Ie}I.prototype.process=function(Ie){if(!(Ie=(Ie=Ie||"").toString()))return"";var ht=this.options,et=ht.whiteList,lt=ht.onAttr,_t=ht.onIgnoreAttr,It=ht.safeAttrValue;return function R(Ie,ct){";"!==(Ie=k_trimRight(Ie))[Ie.length-1]&&(Ie+=";");var ht=Ie.length,et=!1,lt=0,_t=0,It="";function en(){if(!et){var Rn=k_trim(Ie.slice(lt,_t)),$n=Rn.indexOf(":");if(-1!==$n){var Ir=k_trim(Rn.slice(0,$n)),_r=k_trim(Rn.slice($n+1));if(Ir){var jr=ct(lt,It.length,Ir,_r,Rn);jr&&(It+=jr+"; ")}}}lt=_t+1}for(;_t<ht;_t++){var tn=Ie[_t];if("/"===tn&&"*"===Ie[_t+1]){var Bn=Ie.indexOf("*/",_t+2);if(-1===Bn)break;lt=(_t=Bn+1)+1,et=!1}else"("===tn?et=!0:")"===tn?et=!1:";"===tn?et||en():"\n"===tn&&en()}return k_trim(It)}(Ie,function(tn,Bn,Rn,$n,Ir){var _r=et[Rn],jr=!1;if(!0===_r?jr=_r:"function"==typeof _r?jr=_r($n):_r instanceof RegExp&&(jr=_r.test($n)),!0!==jr&&(jr=!1),$n=It(Rn,$n)){var En,Os={position:Bn,sourcePosition:tn,source:Ir,isWhite:jr};if(jr)return w(En=lt(Rn,$n,Os))?Rn+":"+$n:En;if(!w(En=_t(Rn,$n,Os)))return En}})};var T=I;!function(Ie,ct){var ht=U,et=T;for(var _t in(ct=Ie.exports=function lt(It,en){return new et(en).process(It)}).FilterCSS=et,ht)ct[_t]=ht[_t]}(j,j.exports);var W={indexOf:function(Ie,ct){var ht,et;if(Array.prototype.indexOf)return Ie.indexOf(ct);for(ht=0,et=Ie.length;ht<et;ht++)if(Ie[ht]===ct)return ht;return-1},forEach:function(Ie,ct,ht){var et,lt;if(Array.prototype.forEach)return Ie.forEach(ct,ht);for(et=0,lt=Ie.length;et<lt;et++)ct.call(ht,Ie[et],et,Ie)},trim:function(Ie){return String.prototype.trim?Ie.trim():Ie.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Ie){var ht=/\s|\n|\t/.exec(Ie);return ht?ht.index:-1}},F=j.exports.getDefaultWhiteList,Q=W;var oe=new(0,j.exports.FilterCSS);function le(Ie){return Ie.replace(fe,"&lt;").replace(ge,"&gt;")}var fe=/</g,ge=/>/g,me=/"/g,te=/&quot;/g,ae=/&#([a-zA-Z0-9]*);?/gim,ee=/&colon;?/gim,ce=/&newline;?/gim,ie=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,ne=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pe=/u\s*r\s*l\s*\(.*/gi;function ye(Ie){return Ie.replace(me,"&quot;")}function re(Ie){return Ie.replace(te,'"')}function ve(Ie){return Ie.replace(ae,function(ht,et){return String.fromCharCode("x"===et[0]||"X"===et[0]?parseInt(et.substr(1),16):parseInt(et,10))})}function Oe(Ie){return Ie.replace(ee,":").replace(ce," ")}function Me(Ie){for(var ct="",ht=0,et=Ie.length;ht<et;ht++)ct+=Ie.charCodeAt(ht)<32?" ":Ie.charAt(ht);return Q.trim(ct)}function Se(Ie){return Me(Ie=Oe(Ie=ve(Ie=re(Ie))))}function ke(Ie){return le(Ie=ye(Ie))}Z.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},Z.getDefaultWhiteList=function J(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},Z.onTag=function se(Ie,ct,ht){},Z.onIgnoreTag=function ue(Ie,ct,ht){},Z.onTagAttr=function he(Ie,ct,ht){},Z.onIgnoreTagAttr=function G(Ie,ct,ht){},Z.safeAttrValue=function q(Ie,ct,ht,et){if(ht=Se(ht),"href"===ct||"src"===ct){if("#"===(ht=Q.trim(ht)))return"#";if("http://"!==ht.substr(0,7)&&"https://"!==ht.substr(0,8)&&"mailto:"!==ht.substr(0,7)&&"tel:"!==ht.substr(0,4)&&"data:image/"!==ht.substr(0,11)&&"ftp://"!==ht.substr(0,6)&&"./"!==ht.substr(0,2)&&"../"!==ht.substr(0,3)&&"#"!==ht[0]&&"/"!==ht[0])return""}else if("background"===ct){if(ie.lastIndex=0,ie.test(ht))return""}else if("style"===ct){if(ne.lastIndex=0,ne.test(ht)||(pe.lastIndex=0,pe.test(ht)&&(ie.lastIndex=0,ie.test(ht))))return"";!1!==et&&(ht=(et=et||oe).process(ht))}return ke(ht)},Z.escapeHtml=le,Z.escapeQuote=ye,Z.unescapeQuote=re,Z.escapeHtmlEntities=ve,Z.escapeDangerHtml5Entities=Oe,Z.clearNonPrintableCharacter=Me,Z.friendlyAttrValue=Se,Z.escapeAttrValue=ke,Z.onIgnoreTagStripAll=function xe(){return""},Z.StripTagBody=function Ge(Ie,ct){"function"!=typeof ct&&(ct=function(){});var ht=!Array.isArray(Ie),lt=[],_t=!1;return{onIgnoreTag:function(It,en,tn){if(function et(It){return!!ht||-1!==Q.indexOf(Ie,It)}(It)){if(tn.isClosing){return lt.push([!1!==_t?_t:tn.position,tn.position+10]),_t=!1,"[/removed]"}return _t||(_t=tn.position),"[removed]"}return ct(It,en,tn)},remove:function(It){var en="",tn=0;return Q.forEach(lt,function(Bn){en+=It.slice(tn,Bn[0]),tn=Bn[1]}),en+=It.slice(tn)}}},Z.stripCommentTag=function X(Ie){for(var ct="",ht=0;ht<Ie.length;){var et=Ie.indexOf("\x3c!--",ht);if(-1===et){ct+=Ie.slice(ht);break}ct+=Ie.slice(ht,et);var lt=Ie.indexOf("--\x3e",et);if(-1===lt)break;ht=lt+3}return ct},Z.stripBlankChar=function be(Ie){var ct=Ie.split("");return(ct=ct.filter(function(ht){var et=ht.charCodeAt(0);return!(127===et||et<=31&&10!==et&&13!==et)})).join("")},Z.cssFilter=oe,Z.getDefaultCSSWhiteList=F;var Re={},Fe=W;function qe(Ie){var ht,ct=Fe.spaceIndex(Ie);return ht=Ie.slice(1,-1===ct?-1:ct+1),"/"===(ht=Fe.trim(ht).toLowerCase()).slice(0,1)&&(ht=ht.slice(1)),"/"===ht.slice(-1)&&(ht=ht.slice(0,-1)),ht}function We(Ie){return"</"===Ie.slice(0,2)}var Ne=/[^a-zA-Z0-9\\_:.-]/gim;function Pe(Ie,ct){for(;ct<Ie.length;ct++){var ht=Ie[ct];if(" "!==ht)return"="===ht?ct:-1}}function Ae(Ie,ct){for(;ct<Ie.length;ct++){var ht=Ie[ct];if(" "!==ht)return"'"===ht||'"'===ht?ct:-1}}function Be(Ie,ct){for(;ct>0;ct--){var ht=Ie[ct];if(" "!==ht)return"="===ht?ct:-1}}function st(Ie){return function ze(Ie){return'"'===Ie[0]&&'"'===Ie[Ie.length-1]||"'"===Ie[0]&&"'"===Ie[Ie.length-1]}(Ie)?Ie.substr(1,Ie.length-2):Ie}Re.parseTag=function He(Ie,ct,ht){var et="",lt=0,_t=!1,It=!1,en=0,tn=Ie.length,Bn="",Rn="";e:for(en=0;en<tn;en++){var $n=Ie.charAt(en);if(!1===_t){if("<"===$n){_t=en;continue}}else if(!1===It){if("<"===$n){et+=ht(Ie.slice(lt,en)),_t=en,lt=en;continue}if(">"===$n){et+=ht(Ie.slice(lt,_t)),Bn=qe(Rn=Ie.slice(_t,en+1)),et+=ct(_t,et.length,Bn,Rn,We(Rn)),lt=en+1,_t=!1;continue}if('"'===$n||"'"===$n)for(var Ir=1,_r=Ie.charAt(en-Ir);""===_r.trim()||"="===_r;){if("="===_r){It=$n;continue e}_r=Ie.charAt(en-++Ir)}}else if($n===It){It=!1;continue}}return lt<Ie.length&&(et+=ht(Ie.substr(lt))),et},Re.parseAttr=function Ce(Ie,ct){var ht=0,et=0,lt=[],_t=!1,It=Ie.length;function en(Ir,_r){if(!((Ir=(Ir=Fe.trim(Ir)).replace(Ne,"").toLowerCase()).length<1)){var jr=ct(Ir,_r||"");jr&&lt.push(jr)}}for(var tn=0;tn<It;tn++){var $n,Bn=Ie.charAt(tn);if(!1!==_t||"="!==Bn)if(!1===_t||tn!==et){if(/\s|\n|\t/.test(Bn)){if(Ie=Ie.replace(/\s|\n|\t/g," "),!1===_t){if(-1===($n=Pe(Ie,tn))){en(Fe.trim(Ie.slice(ht,tn))),_t=!1,ht=tn+1;continue}tn=$n-1;continue}if(-1===($n=Be(Ie,tn-1))){en(_t,st(Fe.trim(Ie.slice(ht,tn)))),_t=!1,ht=tn+1;continue}}}else{if(-1===($n=Ie.indexOf(Bn,tn+1)))break;en(_t,Fe.trim(Ie.slice(et+1,$n))),_t=!1,ht=(tn=$n)+1}else _t=Ie.slice(ht,tn),et='"'===Ie.charAt(ht=tn+1)||"'"===Ie.charAt(ht)?ht:Ae(Ie,tn+1)}return ht<Ie.length&&(!1===_t?en(Ie.slice(ht)):en(_t,st(Fe.trim(Ie.slice(ht))))),Fe.trim(lt.join(" "))};var Xe=j.exports.FilterCSS,ot=Z,Et=Re.parseTag,Lt=Re.parseAttr,Ut=W;function kt(Ie){return null==Ie}function yt(Ie){(Ie=function qt(Ie){var ct={};for(var ht in Ie)ct[ht]=Ie[ht];return ct}(Ie||{})).stripIgnoreTag&&(Ie.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Ie.onIgnoreTag=ot.onIgnoreTagStripAll),Ie.whiteList=Ie.whiteList||Ie.allowList?function un(Ie){var ct={};for(var ht in Ie)Array.isArray(Ie[ht])?ct[ht.toLowerCase()]=Ie[ht].map(function(et){return et.toLowerCase()}):ct[ht.toLowerCase()]=Ie[ht];return ct}(Ie.whiteList||Ie.allowList):ot.whiteList,Ie.onTag=Ie.onTag||ot.onTag,Ie.onTagAttr=Ie.onTagAttr||ot.onTagAttr,Ie.onIgnoreTag=Ie.onIgnoreTag||ot.onIgnoreTag,Ie.onIgnoreTagAttr=Ie.onIgnoreTagAttr||ot.onIgnoreTagAttr,Ie.safeAttrValue=Ie.safeAttrValue||ot.safeAttrValue,Ie.escapeHtml=Ie.escapeHtml||ot.escapeHtml,this.options=Ie,!1===Ie.css?this.cssFilter=!1:(Ie.css=Ie.css||{},this.cssFilter=new Xe(Ie.css))}yt.prototype.process=function(Ie){if(!(Ie=(Ie=Ie||"").toString()))return"";var ht=this.options,et=ht.whiteList,lt=ht.onTag,_t=ht.onIgnoreTag,It=ht.onTagAttr,en=ht.onIgnoreTagAttr,tn=ht.safeAttrValue,Bn=ht.escapeHtml,Rn=this.cssFilter;ht.stripBlankChar&&(Ie=ot.stripBlankChar(Ie)),ht.allowCommentTag||(Ie=ot.stripCommentTag(Ie));var $n=!1;ht.stripIgnoreTagBody&&($n=ot.StripTagBody(ht.stripIgnoreTagBody,_t),_t=$n.onIgnoreTag);var Ir=Et(Ie,function(_r,jr,Os,En,ir){var vo={sourcePosition:_r,position:jr,isClosing:ir,isWhite:Object.prototype.hasOwnProperty.call(et,Os)},ui=lt(Os,En,vo);if(!kt(ui))return ui;if(vo.isWhite){if(vo.isClosing)return"</"+Os+">";var Wo=function Xt(Ie){var ct=Ut.spaceIndex(Ie);if(-1===ct)return{html:"",closing:"/"===Ie[Ie.length-2]};var ht="/"===(Ie=Ut.trim(Ie.slice(ct+1,-1)))[Ie.length-1];return ht&&(Ie=Ut.trim(Ie.slice(0,-1))),{html:Ie,closing:ht}}(En),Rt=et[Os],yr=Lt(Wo.html,function(Ts,Tn){var Eo=-1!==Ut.indexOf(Rt,Ts),_n=It(Os,Ts,Tn,Eo);return kt(_n)?Eo?(Tn=tn(Os,Ts,Tn,Rn))?Ts+'="'+Tn+'"':Ts:kt(_n=en(Os,Ts,Tn,Eo))?void 0:_n:_n});return En="<"+Os,yr&&(En+=" "+yr),Wo.closing&&(En+=" /"),En+">"}return kt(ui=_t(Os,En,vo))?Bn(En):ui},Bn);return $n&&(Ir=$n.remove(Ir)),Ir};var ft=yt;!function(Ie,ct){var ht=Z,et=Re,lt=ft;function _t(en,tn){return new lt(tn).process(en)}(ct=Ie.exports=_t).filterXSS=_t,ct.FilterXSS=lt,function(){for(var en in ht)ct[en]=ht[en];for(var tn in et)ct[tn]=et[tn]}(),function It(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=Ie.exports)}(D,D.exports);var Ot=function(){function Ie(ct,ht){var lt,et=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(_t,It,en,tn){return"a"===_t&&"href"===It||("img"===_t||"source"===_t)&&"src"===It?et.sanitizeUrl(en):D.exports.safeAttrValue(_t,It,en,tn)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},ct&&!ht?lt=ct:ct&&ht?(lt=Object.create(this.arcgisFilterOptions),Object.keys(ct).forEach(function(_t){"whiteList"===_t?lt.whiteList=et._extendObjectOfArrays([et.arcgisWhiteList,ct.whiteList||{}]):lt[_t]=ct[_t]})):(lt=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=lt,this._xssFilter=new D.exports.FilterXSS(lt)}return Ie.prototype.sanitize=function(ct,ht){switch(void 0===ht&&(ht={}),typeof ct){case"number":return isNaN(ct)||!isFinite(ct)?null:ct;case"boolean":return ct;case"string":return this._xssFilter.process(ct);case"object":return this._iterateOverObject(ct,ht);default:return ht.allowUndefined&&typeof ct>"u"?void 0:null}},Ie.prototype.sanitizeUrl=function(ct,ht){var et=(ht??{}).isProtocolRequired,lt=void 0===et||et,_t=this._trim(ct.substring(0,ct.indexOf(":"))),It="/"===ct,en=/^#/.test(ct),tn=_t&&this.allowedProtocols.indexOf(_t.toLowerCase())>-1;return It||en||tn?D.exports.escapeAttrValue(ct):_t||lt?"":D.exports.escapeAttrValue("https://".concat(ct))},Ie.prototype.sanitizeHTMLAttribute=function(ct,ht,et,lt){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ct,ht,et,lt):D.exports.safeAttrValue(ct,ht,et,lt)},Ie.prototype.validate=function(ct,ht){void 0===ht&&(ht={});var et=this.sanitize(ct,ht);return{isValid:ct===et,sanitized:et}},Ie.prototype.encodeHTML=function(ct){var ht=this;return String(ct).replace(/[&<>"'\/]/g,function(et){return ht._entityMap[et]})},Ie.prototype.encodeAttrValue=function(ct){var ht=/^[a-zA-Z0-9]$/;return String(ct).replace(/[\x00-\xFF]/g,function(et,lt){return ht.test(et)?et:"&#x".concat(Number(ct.charCodeAt(lt)).toString(16),";")})},Ie.prototype._extendObjectOfArrays=function(ct){var ht={};return ct.forEach(function(et){Object.keys(et).forEach(function(lt){ht[lt]=Array.isArray(et[lt])&&Array.isArray(ht[lt])?ht[lt].concat(et[lt]):et[lt]})}),ht},Ie.prototype._iterateOverObject=function(ct,ht){var et=this;void 0===ht&&(ht={});try{var lt=!1,_t=void 0;if(Array.isArray(ct))_t=ct.reduce(function(en,tn){var Bn=et.validate(tn,ht);return Bn.isValid?en.concat([tn]):(lt=!0,en.concat([Bn.sanitized]))},[]);else{if(!function(Ie){if("object"!=typeof Ie||null===Ie||"[object Object]"!==Object.prototype.toString.call(Ie))return!1;var ct=Object.getPrototypeOf(Ie);if(null===ct)return!0;for(;null!==Object.getPrototypeOf(ct);)ct=Object.getPrototypeOf(ct);return Object.getPrototypeOf(Ie)===ct}(ct))return ht.allowUndefined&&typeof ct>"u"?void 0:null;_t=Object.keys(ct).reduce(function(en,tn){var Bn=ct[tn],Rn=et.validate(Bn,ht);return Rn.isValid?en[tn]=Bn:(lt=!0,en[tn]=Rn.sanitized),en},{})}return lt?_t:ct}catch{return null}},Ie.prototype._trim=function(ct){return String.prototype.trim?ct.trim():ct.replace(/(^\s*)|(\s*$)/g,"")},Ie}(),Tt=E(11667),nn=(E(1258),E(14007),E(4703)),mn=(E(77675),E(57885));nn.Z.getLogger("esri.widgets.support.widgetUtils");function ar(Ie){const ct=Tt.Z.acquire();for(let et=0;et<arguments.length;et++){const lt=arguments[et],_t=typeof lt;if("string"===_t)ct.push(lt);else if(Array.isArray(lt))ct.push.apply(ct,lt);else if("object"===_t)for(const It in lt)lt[It]&&ct.push(It)}const ht=ct.join(" ");return Tt.Z.release(ct),ht}function Qt(Ie){const ct=Ie?.closest("[dir]");return null!==ct&&ct instanceof HTMLElement&&"rtl"===ct.dir||"rtl"===document.dir}function as(Ie){this[Ie.getAttribute("data-node-ref")]=null}function Mn(Ie){this[Ie.getAttribute("data-node-ref")]=Ie}(()=>{const Ie=new Map;new ResizeObserver(et=>{(0,mn.Uy)();for(const lt of et)Ie.get(lt.target)?.(lt)})})();const Nt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Ie,ct)=>(Ie[ct]=[],Ie),{}),Je=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Qe=new Ot({whiteList:Nt,onTagAttr:(Ie,ct,ht)=>{const et=`${ct}="${ht}"`;if(Je.includes(ct))return et},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Pt(Ie){return"Enter"===Ie||" "===Ie}},12115:(Ke,Ee,E)=>{"use strict";E.d(Ee,{A:()=>me,B:()=>te,C:()=>U,D:()=>P,E:()=>ee,F:()=>ce,a:()=>D,b:()=>ye,c:()=>xe,d:()=>Z,e:()=>Ut,f:()=>We,g:()=>Ne,h:()=>ze,j:()=>Xt,k:()=>Fe,n:()=>Oe,q:()=>ke,s:()=>kt,t:()=>Xe,w:()=>ot,x:()=>be,y:()=>un,z:()=>ge});var C=E(15861);const D="calcite-mode-auto",Z="calcite-mode-dark",U={autoMode:D,darkMode:Z,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};var Y=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],V=Y.join(","),$=typeof Element>"u",L=$?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,x=!$&&Element.prototype.getRootNode?function(yt){var ft;return null==yt||null===(ft=yt.getRootNode)||void 0===ft?void 0:ft.call(yt)}:function(yt){return yt?.ownerDocument},B=function yt(ft,Ot){var Tt;void 0===Ot&&(Ot=!0);var Vt=null==ft||null===(Tt=ft.getAttribute)||void 0===Tt?void 0:Tt.call(ft,"inert");return""===Vt||"true"===Vt||Ot&&ft&&yt(ft.parentNode)},R=function(ft,Ot,Tt){if(B(ft))return[];var Vt=Array.prototype.slice.apply(ft.querySelectorAll(V));return Ot&&L.call(ft,V)&&Vt.unshift(ft),Vt.filter(Tt)},H=function yt(ft,Ot,Tt){for(var Vt=[],ln=Array.from(ft);ln.length;){var nn=ln.shift();if(!B(nn,!1))if("SLOT"===nn.tagName){var an=nn.assignedElements(),Cn=yt(an.length?an:nn.children,!0,Tt);Tt.flatten?Vt.push.apply(Vt,Cn):Vt.push({scopeParent:nn,candidates:Cn})}else{L.call(nn,V)&&Tt.filter(nn)&&(Ot||!ft.includes(nn))&&Vt.push(nn);var hr=nn.shadowRoot||"function"==typeof Tt.getShadowRoot&&Tt.getShadowRoot(nn),xn=!B(hr,!1)&&(!Tt.shadowRootFilter||Tt.shadowRootFilter(nn));if(hr&&xn){var Xn=yt(!0===hr?nn.children:hr.children,!0,Tt);Tt.flatten?Vt.push.apply(Vt,Xn):Vt.push({scopeParent:nn,candidates:Xn})}else ln.unshift.apply(ln,nn.children)}}return Vt},N=function(ft){return!isNaN(parseInt(ft.getAttribute("tabindex"),10))},P=function(ft){if(!ft)throw new Error("No node provided");return ft.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(ft.tagName)||function(ft){var Ot,Tt=null==ft||null===(Ot=ft.getAttribute)||void 0===Ot?void 0:Ot.call(ft,"contenteditable");return""===Tt||"true"===Tt}(ft))&&!N(ft)?0:ft.tabIndex},O=function(ft,Ot){return ft.tabIndex===Ot.tabIndex?ft.documentOrder-Ot.documentOrder:ft.tabIndex-Ot.tabIndex},I=function(ft){return"INPUT"===ft.tagName},se=function(ft){var Ot=ft.getBoundingClientRect();return 0===Ot.width&&0===Ot.height},G=function(ft,Ot){return!(Ot.disabled||B(Ot)||function(ft){return I(ft)&&"hidden"===ft.type}(Ot)||function(ft,Ot){var Tt=Ot.displayCheck,Vt=Ot.getShadowRoot;if("hidden"===getComputedStyle(ft).visibility)return!0;var ln=L.call(ft,"details>summary:first-of-type");if(L.call(ln?ft.parentElement:ft,"details:not([open]) *"))return!0;if(Tt&&"full"!==Tt&&"legacy-full"!==Tt){if("non-zero-area"===Tt)return se(ft)}else{if("function"==typeof Vt){for(var an=ft;ft;){var mn=ft.parentElement,Cn=x(ft);if(mn&&!mn.shadowRoot&&!0===Vt(mn))return se(ft);ft=ft.assignedSlot?ft.assignedSlot:mn||Cn===ft.ownerDocument?mn:Cn.host}ft=an}if(function(ft){var Ot,nn,an,mn,Tt=ft&&x(ft),Vt=null===(Ot=Tt)||void 0===Ot?void 0:Ot.host,ln=!1;if(Tt&&Tt!==ft)for(ln=!!(null!==(nn=Vt)&&void 0!==nn&&null!==(an=nn.ownerDocument)&&void 0!==an&&an.contains(Vt)||null!=ft&&null!==(mn=ft.ownerDocument)&&void 0!==mn&&mn.contains(ft));!ln&&Vt;){var Cn,vn,hr;ln=!(null===(vn=Vt=null===(Cn=Tt=x(Vt))||void 0===Cn?void 0:Cn.host)||void 0===vn||null===(hr=vn.ownerDocument)||void 0===hr||!hr.contains(Vt))}return ln}(ft))return!ft.getClientRects().length;if("legacy-full"!==Tt)return!0}return!1}(Ot,ft)||function(ft){return"DETAILS"===ft.tagName&&Array.prototype.slice.apply(ft.children).some(function(Tt){return"SUMMARY"===Tt.tagName})}(Ot)||function(ft){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(ft.tagName))for(var Ot=ft.parentElement;Ot;){if("FIELDSET"===Ot.tagName&&Ot.disabled){for(var Tt=0;Tt<Ot.children.length;Tt++){var Vt=Ot.children.item(Tt);if("LEGEND"===Vt.tagName)return!!L.call(Ot,"fieldset[disabled] *")||!Vt.contains(ft)}return!0}Ot=Ot.parentElement}return!1}(Ot))},le=function(ft,Ot){return!(function(ft){return function(ft){return I(ft)&&"radio"===ft.type}(ft)&&!function(ft){if(!ft.name)return!0;var Vt,Ot=ft.form||x(ft),Tt=function(an){return Ot.querySelectorAll('input[type="radio"][name="'+an+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)Vt=Tt(window.CSS.escape(ft.name));else try{Vt=Tt(ft.name)}catch(nn){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",nn.message),!1}var ln=function(ft,Ot){for(var Tt=0;Tt<ft.length;Tt++)if(ft[Tt].checked&&ft[Tt].form===Ot)return ft[Tt]}(Vt,ft.form);return!ln||ln===ft}(ft)}(Ot)||P(Ot)<0||!G(ft,Ot))},q=function(ft){var Ot=parseInt(ft.getAttribute("tabindex"),10);return!!(isNaN(Ot)||Ot>=0)},fe=function yt(ft){var Ot=[],Tt=[];return ft.forEach(function(Vt,ln){var nn=!!Vt.scopeParent,an=nn?Vt.scopeParent:Vt,mn=function(ft,Ot){var Tt=P(ft);return Tt<0&&Ot&&!N(ft)?0:Tt}(an,nn),Cn=nn?yt(Vt.candidates):an;0===mn?nn?Ot.push.apply(Ot,Cn):Ot.push(an):Tt.push({documentOrder:ln,tabIndex:mn,item:Vt,isScope:nn,content:Cn})}),Tt.sort(O).reduce(function(Vt,ln){return ln.isScope?Vt.push.apply(Vt,ln.content):Vt.push(ln.content),Vt},[]).concat(Ot)},ge=function(ft,Ot){var Tt;return Tt=(Ot=Ot||{}).getShadowRoot?H([ft],Ot.includeContainer,{filter:le.bind(null,Ot),flatten:!1,getShadowRoot:Ot.getShadowRoot,shadowRootFilter:q}):R(ft,Ot.includeContainer,le.bind(null,Ot)),fe(Tt)},me=function(ft,Ot){return(Ot=Ot||{}).getShadowRoot?H([ft],Ot.includeContainer,{filter:G.bind(null,Ot),flatten:!0,getShadowRoot:Ot.getShadowRoot}):R(ft,Ot.includeContainer,G.bind(null,Ot))},te=function(ft,Ot){if(Ot=Ot||{},!ft)throw new Error("No node provided");return!1!==L.call(ft,V)&&le(Ot,ft)},ae=Y.concat("iframe").join(","),ee=function(ft,Ot){if(Ot=Ot||{},!ft)throw new Error("No node provided");return!1!==L.call(ft,ae)&&G(Ot,ft)};const ce={getShadowRoot:!0};function ye(yt){const Tt=xe(yt,"[dir]");return Tt?Tt.getAttribute("dir"):"ltr"}function ve(yt){return yt.getRootNode()}function Oe(yt){const ft=ve(yt);return"host"in ft?ft:null}function Se(yt){return yt.host||null}function ke(yt,{selector:ft,id:Ot}){return function Tt(Vt){if(!Vt)return null;Vt.assignedSlot&&(Vt=Vt.assignedSlot);const ln=ve(Vt),nn=Ot?"getElementById"in ln?ln.getElementById(Ot):null:ft?ln.querySelector(ft):null,an=Se(ln);return nn||(an?Tt(an):null)}(yt)}function xe(yt,ft){return function Ot(Tt){return Tt?Tt.closest(ft)||Ot(Se(ve(Tt))):null}(yt)}function Ge(yt,ft){return X(yt,ft)}function X(yt,ft){if(!yt)return;const Ot=ft(yt);if(void 0!==Ot)return Ot;const{parentNode:Tt}=yt;return X(Tt instanceof ShadowRoot?Tt.host:Tt,ft)}function be(yt,ft){return!!Ge(ft,Ot=>Ot===yt||void 0)}function Fe(yt){return qe.apply(this,arguments)}function qe(){return(qe=(0,C.Z)(function*(yt){if(yt)return function Re(yt){return"function"==typeof yt?.setFocus}(yt)?yt.setFocus():yt.focus()})).apply(this,arguments)}function We(yt){yt&&(ge(yt,ce)[0]||yt).focus()}const He=":not([slot])";function Ne(yt,ft,Ot){ft&&!Array.isArray(ft)&&"string"!=typeof ft&&(Ot=ft,ft=null);const Tt=ft?Array.isArray(ft)?ft.map(Vt=>`[slot="${Vt}"]`).join(","):`[slot="${ft}"]`:He;return Ot?.all?function Pe(yt,ft,Ot){let Tt=ft===He?Ce(yt,He):Array.from(yt.querySelectorAll(ft));Tt=Ot&&!1===Ot.direct?Tt:Tt.filter(ln=>ln.parentElement===yt),Tt=Ot?.matches?Tt.filter(ln=>ln?.matches(Ot.matches)):Tt;const Vt=Ot?.selector;return Vt?Tt.map(ln=>Array.from(ln.querySelectorAll(Vt))).reduce((ln,nn)=>[...ln,...nn],[]).filter(ln=>!!ln):Tt}(yt,Tt,Ot):function Ae(yt,ft,Ot){let Tt=ft===He?Ce(yt,He)[0]||null:yt.querySelector(ft);Tt=Ot&&!1===Ot.direct||Tt?.parentElement===yt?Tt:null,Tt=Ot?.matches?Tt?.matches(Ot.matches)?Tt:null:Tt;const Vt=Ot?.selector;return Vt?Tt?.querySelector(Vt):Tt}(yt,Tt,Ot)}function Ce(yt,ft){return yt?Array.from(yt.children||[]).filter(Ot=>Ot?.matches(ft)):[]}function ze(yt,ft,Ot){return"string"==typeof ft&&""!==ft?ft:""===ft?yt[Ot]:void 0}function Xe(yt){return(!!yt).toString()}function ot(yt){return Ut(yt)||function Et(yt){return!!function ut(yt){return function Lt(yt){return yt.target.assignedNodes({flatten:!0})}(yt).filter(ft=>ft.nodeType===Node.TEXT_NODE).map(ft=>ft.textContent).join("").trim()}(yt)}(yt)}function Ut(yt){return!!kt(yt).length}function kt(yt){return yt.target.assignedElements({flatten:!0})}function Xt(yt){return!(!yt.isPrimary||0!==yt.button)}function un(yt,ft){if(yt.parentNode!==ft.parentNode)return!1;const Ot=Array.from(yt.parentNode.children);return Ot.indexOf(yt)<Ot.indexOf(ft)}},25037:(Ke,Ee,E)=>{"use strict";E.d(Ee,{ou:()=>Qn,Qf:()=>ut,vF:()=>ye,ld:()=>ge});class C extends Error{}class D extends C{constructor(_e){super(`Invalid DateTime: ${_e.toMessage()}`)}}class Z extends C{constructor(_e){super(`Invalid Interval: ${_e.toMessage()}`)}}class j extends C{constructor(_e){super(`Invalid Duration: ${_e.toMessage()}`)}}class U extends C{}class Y extends C{constructor(_e){super(`Invalid unit ${_e}`)}}class V extends C{}class $ extends C{constructor(){super("Zone is an abstract class")}}const L="numeric",x="short",B="long",k={year:L,month:L,day:L},R={year:L,month:x,day:L},H={year:L,month:x,day:L,weekday:x},N={year:L,month:B,day:L},P={year:L,month:B,day:L,weekday:B},w={hour:L,minute:L},O={hour:L,minute:L,second:L},I={hour:L,minute:L,second:L,timeZoneName:x},T={hour:L,minute:L,second:L,timeZoneName:B},W={hour:L,minute:L,hourCycle:"h23"},z={hour:L,minute:L,second:L,hourCycle:"h23"},F={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:x},Q={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:B},J={year:L,month:L,day:L,hour:L,minute:L},oe={year:L,month:L,day:L,hour:L,minute:L,second:L},se={year:L,month:x,day:L,hour:L,minute:L},ue={year:L,month:x,day:L,hour:L,minute:L,second:L},he={year:L,month:x,day:L,weekday:x,hour:L,minute:L},G={year:L,month:B,day:L,hour:L,minute:L,timeZoneName:x},le={year:L,month:B,day:L,hour:L,minute:L,second:L,timeZoneName:x},q={year:L,month:B,day:L,weekday:B,hour:L,minute:L,timeZoneName:B},fe={year:L,month:B,day:L,weekday:B,hour:L,minute:L,second:L,timeZoneName:B};class ge{get type(){throw new $}get name(){throw new $}get ianaName(){return this.name}get isUniversal(){throw new $}offsetName(_e,Ue){throw new $}formatOffset(_e,Ue){throw new $}offset(_e){throw new $}equals(_e){throw new $}get isValid(){throw new $}}let me=null;class te extends ge{static get instance(){return null===me&&(me=new te),me}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(_e,{format:Ue,locale:Ze}){return vo(_e,Ue,Ze)}formatOffset(_e,Ue){return yr(this.offset(_e),Ue)}offset(_e){return-new Date(_e).getTimezoneOffset()}equals(_e){return"system"===_e.type}get isValid(){return!0}}let ae={};const ce={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pe={};class ye extends ge{static create(_e){return pe[_e]||(pe[_e]=new ye(_e)),pe[_e]}static resetCache(){pe={},ae={}}static isValidSpecifier(_e){return this.isValidZone(_e)}static isValidZone(_e){if(!_e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:_e}).format(),!0}catch{return!1}}constructor(_e){super(),this.zoneName=_e,this.valid=ye.isValidZone(_e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(_e,{format:Ue,locale:Ze}){return vo(_e,Ue,Ze,this.name)}formatOffset(_e,Ue){return yr(this.offset(_e),Ue)}offset(_e){const Ue=new Date(_e);if(isNaN(Ue))return NaN;const Ze=function ee(je){return ae[je]||(ae[je]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:je,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ae[je]}(this.name);let[it,vt,wt,jt,zt,on,Nn]=Ze.formatToParts?function ne(je,_e){const Ue=je.formatToParts(_e),Ze=[];for(let it=0;it<Ue.length;it++){const{type:vt,value:wt}=Ue[it],jt=ce[vt];"era"===vt?Ze[jt]=wt:Mn(jt)||(Ze[jt]=parseInt(wt,10))}return Ze}(Ze,Ue):function ie(je,_e){const Ue=je.format(_e).replace(/\u200E/g,""),Ze=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Ue),[,it,vt,wt,jt,zt,on,Nn]=Ze;return[wt,it,vt,jt,zt,on,Nn]}(Ze,Ue);"BC"===jt&&(it=1-Math.abs(it));let Hn=+Ue;const Ks=Hn%1e3;return Hn-=Ks>=0?Ks:1e3+Ks,(jr({year:it,month:vt,day:wt,hour:24===zt?0:zt,minute:on,second:Nn,millisecond:0})-Hn)/6e4}equals(_e){return"iana"===_e.type&&_e.name===this.name}get isValid(){return this.valid}}let re={},Oe={};function Me(je,_e={}){const Ue=JSON.stringify([je,_e]);let Ze=Oe[Ue];return Ze||(Ze=new Intl.DateTimeFormat(je,_e),Oe[Ue]=Ze),Ze}let Se={},xe={},X=null,Re={};function Ce(je,_e,Ue,Ze){const it=je.listingMode();return"error"===it?null:"en"===it?Ue(_e):Ze(_e)}class Ae{constructor(_e,Ue,Ze){this.padTo=Ze.padTo||0,this.floor=Ze.floor||!1;const{padTo:it,floor:vt,...wt}=Ze;if(!Ue||Object.keys(wt).length>0){const jt={useGrouping:!1,...Ze};Ze.padTo>0&&(jt.minimumIntegerDigits=Ze.padTo),this.inf=function ke(je,_e={}){const Ue=JSON.stringify([je,_e]);let Ze=Se[Ue];return Ze||(Ze=new Intl.NumberFormat(je,_e),Se[Ue]=Ze),Ze}(_e,jt)}}format(_e){if(this.inf){const Ue=this.floor?Math.floor(_e):_e;return this.inf.format(Ue)}return It(this.floor?Math.floor(_e):Rn(_e,3),this.padTo)}}class Be{constructor(_e,Ue,Ze){let it;if(this.opts=Ze,this.originalZone=void 0,this.opts.timeZone)this.dt=_e;else if("fixed"===_e.zone.type){const wt=_e.offset/60*-1,jt=wt>=0?`Etc/GMT+${wt}`:`Etc/GMT${wt}`;0!==_e.offset&&ye.create(jt).valid?(it=jt,this.dt=_e):(it="UTC",this.dt=0===_e.offset?_e:_e.setZone("UTC").plus({minutes:_e.offset}),this.originalZone=_e.zone)}else"system"===_e.zone.type?this.dt=_e:"iana"===_e.zone.type?(this.dt=_e,it=_e.zone.name):(it="UTC",this.dt=_e.setZone("UTC").plus({minutes:_e.offset}),this.originalZone=_e.zone);const vt={...this.opts};vt.timeZone=vt.timeZone||it,this.dtf=Me(Ue,vt)}format(){return this.originalZone?this.formatToParts().map(({value:_e})=>_e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const _e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?_e.map(Ue=>{if("timeZoneName"===Ue.type){const Ze=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...Ue,value:Ze}}return Ue}):_e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ze{constructor(_e,Ue,Ze){this.opts={style:"long",...Ze},!Ue&&Qe()&&(this.rtf=function Ge(je,_e={}){const{base:Ue,...Ze}=_e,it=JSON.stringify([je,Ze]);let vt=xe[it];return vt||(vt=new Intl.RelativeTimeFormat(je,_e),xe[it]=vt),vt}(_e,Ze))}format(_e,Ue){return this.rtf?this.rtf.format(_e,Ue):function Dr(je,_e,Ue="always",Ze=!1){const it={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},vt=-1===["hours","minutes","seconds"].indexOf(je);if("auto"===Ue&&vt){const pr="days"===je;switch(_e){case 1:return pr?"tomorrow":`next ${it[je][0]}`;case-1:return pr?"yesterday":`last ${it[je][0]}`;case 0:return pr?"today":`this ${it[je][0]}`}}const wt=Object.is(_e,-0)||_e<0,jt=Math.abs(_e),zt=1===jt,on=it[je],Nn=Ze?zt?on[1]:on[2]||on[1]:zt?it[je][0]:je;return wt?`${jt} ${Nn} ago`:`in ${jt} ${Nn}`}(Ue,_e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(_e,Ue){return this.rtf?this.rtf.formatToParts(_e,Ue):[]}}const st={firstDay:1,minimalDays:4,weekend:[6,7]};class Xe{static fromOpts(_e){return Xe.create(_e.locale,_e.numberingSystem,_e.outputCalendar,_e.weekSettings,_e.defaultToEN)}static create(_e,Ue,Ze,it,vt=!1){const wt=_e||Tt.defaultLocale,jt=wt||(vt?"en-US":function be(){return X||(X=(new Intl.DateTimeFormat).resolvedOptions().locale,X)}()),zt=Ue||Tt.defaultNumberingSystem,on=Ze||Tt.defaultOutputCalendar,Nn=et(it)||Tt.defaultWeekSettings;return new Xe(jt,zt,on,Nn,wt)}static resetCache(){X=null,Oe={},Se={},xe={}}static fromObject({locale:_e,numberingSystem:Ue,outputCalendar:Ze,weekSettings:it}={}){return Xe.create(_e,Ue,Ze,it)}constructor(_e,Ue,Ze,it,vt){const[wt,jt,zt]=function qe(je){const _e=je.indexOf("-x-");-1!==_e&&(je=je.substring(0,_e));const Ue=je.indexOf("-u-");if(-1===Ue)return[je];{let Ze,it;try{Ze=Me(je).resolvedOptions(),it=je}catch{const zt=je.substring(0,Ue);Ze=Me(zt).resolvedOptions(),it=zt}const{numberingSystem:vt,calendar:wt}=Ze;return[it,vt,wt]}}(_e);this.locale=wt,this.numberingSystem=Ue||jt||null,this.outputCalendar=Ze||zt||null,this.weekSettings=it,this.intl=function We(je,_e,Ue){return(Ue||_e)&&(je.includes("-u-")||(je+="-u"),Ue&&(je+=`-ca-${Ue}`),_e&&(je+=`-nu-${_e}`)),je}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=vt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Pe(je){return(!je.numberingSystem||"latn"===je.numberingSystem)&&("latn"===je.numberingSystem||!je.locale||je.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(je.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(_e){return _e&&0!==Object.getOwnPropertyNames(_e).length?Xe.create(_e.locale||this.specifiedLocale,_e.numberingSystem||this.numberingSystem,_e.outputCalendar||this.outputCalendar,et(_e.weekSettings)||this.weekSettings,_e.defaultToEN||!1):this}redefaultToEN(_e={}){return this.clone({..._e,defaultToEN:!0})}redefaultToSystem(_e={}){return this.clone({..._e,defaultToEN:!1})}months(_e,Ue=!1){return Ce(this,_e,Yn,()=>{const Ze=Ue?{month:_e,day:"numeric"}:{month:_e},it=Ue?"format":"standalone";return this.monthsCache[it][_e]||(this.monthsCache[it][_e]=function He(je){const _e=[];for(let Ue=1;Ue<=12;Ue++){const Ze=Qn.utc(2009,Ue,1);_e.push(je(Ze))}return _e}(vt=>this.extract(vt,Ze,"month"))),this.monthsCache[it][_e]})}weekdays(_e,Ue=!1){return Ce(this,_e,ci,()=>{const Ze=Ue?{weekday:_e,year:"numeric",month:"long",day:"numeric"}:{weekday:_e},it=Ue?"format":"standalone";return this.weekdaysCache[it][_e]||(this.weekdaysCache[it][_e]=function Ne(je){const _e=[];for(let Ue=1;Ue<=7;Ue++){const Ze=Qn.utc(2016,11,13+Ue);_e.push(je(Ze))}return _e}(vt=>this.extract(vt,Ze,"weekday"))),this.weekdaysCache[it][_e]})}meridiems(){return Ce(this,void 0,()=>$o,()=>{if(!this.meridiemCache){const _e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Qn.utc(2016,11,13,9),Qn.utc(2016,11,13,19)].map(Ue=>this.extract(Ue,_e,"dayperiod"))}return this.meridiemCache})}eras(_e){return Ce(this,_e,Rs,()=>{const Ue={era:_e};return this.eraCache[_e]||(this.eraCache[_e]=[Qn.utc(-40,1,1),Qn.utc(2017,1,1)].map(Ze=>this.extract(Ze,Ue,"era"))),this.eraCache[_e]})}extract(_e,Ue,Ze){const wt=this.dtFormatter(_e,Ue).formatToParts().find(jt=>jt.type.toLowerCase()===Ze);return wt?wt.value:null}numberFormatter(_e={}){return new Ae(this.intl,_e.forceSimple||this.fastNumbers,_e)}dtFormatter(_e,Ue={}){return new Be(_e,this.intl,Ue)}relFormatter(_e={}){return new ze(this.intl,this.isEnglish(),_e)}listFormatter(_e={}){return function ve(je,_e={}){const Ue=JSON.stringify([je,_e]);let Ze=re[Ue];return Ze||(Ze=new Intl.ListFormat(je,_e),re[Ue]=Ze),Ze}(this.intl,_e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:bt()?function Fe(je){let _e=Re[je];if(!_e){const Ue=new Intl.Locale(je);_e="getWeekInfo"in Ue?Ue.getWeekInfo():Ue.weekInfo,Re[je]=_e}return _e}(this.locale):st}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(_e){return this.locale===_e.locale&&this.numberingSystem===_e.numberingSystem&&this.outputCalendar===_e.outputCalendar}}let ot=null;class ut extends ge{static get utcInstance(){return null===ot&&(ot=new ut(0)),ot}static instance(_e){return 0===_e?ut.utcInstance:new ut(_e)}static parseSpecifier(_e){if(_e){const Ue=_e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Ue)return new ut(ui(Ue[1],Ue[2]))}return null}constructor(_e){super(),this.fixed=_e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${yr(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${yr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(_e,Ue){return yr(this.fixed,Ue)}get isUniversal(){return!0}offset(){return this.fixed}equals(_e){return"fixed"===_e.type&&_e.fixed===this.fixed}get isValid(){return!0}}class Et extends ge{constructor(_e){super(),this.zoneName=_e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Lt(je,_e){if(Mn(je)||null===je)return _e;if(je instanceof ge)return je;if(function Nt(je){return"string"==typeof je}(je)){const Ze=je.toLowerCase();return"default"===Ze?_e:"local"===Ze||"system"===Ze?te.instance:"utc"===Ze||"gmt"===Ze?ut.utcInstance:ut.parseSpecifier(Ze)||ye.create(je)}return ns(je)?ut.instance(je):"object"==typeof je&&"offset"in je&&"function"==typeof je.offset?je:new Et(je)}let ft,Ut=()=>Date.now(),kt="system",Xt=null,qt=null,un=null,yt=60,Ot=null;class Tt{static get now(){return Ut}static set now(_e){Ut=_e}static set defaultZone(_e){kt=_e}static get defaultZone(){return Lt(kt,te.instance)}static get defaultLocale(){return Xt}static set defaultLocale(_e){Xt=_e}static get defaultNumberingSystem(){return qt}static set defaultNumberingSystem(_e){qt=_e}static get defaultOutputCalendar(){return un}static set defaultOutputCalendar(_e){un=_e}static get defaultWeekSettings(){return Ot}static set defaultWeekSettings(_e){Ot=et(_e)}static get twoDigitCutoffYear(){return yt}static set twoDigitCutoffYear(_e){yt=_e%100}static get throwOnInvalid(){return ft}static set throwOnInvalid(_e){ft=_e}static resetCaches(){Xe.resetCache(),ye.resetCache()}}class Vt{constructor(_e,Ue){this.reason=_e,this.explanation=Ue}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ln=[0,31,59,90,120,151,181,212,243,273,304,334],nn=[0,31,60,91,121,152,182,213,244,274,305,335];function an(je,_e){return new Vt("unit out of range",`you specified ${_e} (of type ${typeof _e}) as a ${je}, which is invalid`)}function mn(je,_e,Ue){const Ze=new Date(Date.UTC(je,_e-1,Ue));je<100&&je>=0&&Ze.setUTCFullYear(Ze.getUTCFullYear()-1900);const it=Ze.getUTCDay();return 0===it?7:it}function Cn(je,_e,Ue){return Ue+($n(je)?nn:ln)[_e-1]}function vn(je,_e){const Ue=$n(je)?nn:ln,Ze=Ue.findIndex(vt=>vt<_e);return{month:Ze+1,day:_e-Ue[Ze]}}function hr(je,_e){return(je-_e+7)%7+1}function xn(je,_e=4,Ue=1){const{year:Ze,month:it,day:vt}=je,wt=Cn(Ze,it,vt),jt=hr(mn(Ze,it,vt),Ue);let on,zt=Math.floor((wt-jt+14-_e)/7);return zt<1?(on=Ze-1,zt=En(on,_e,Ue)):zt>En(Ze,_e,Ue)?(on=Ze+1,zt=1):on=Ze,{weekYear:on,weekNumber:zt,weekday:jt,...Ts(je)}}function Xn(je,_e=4,Ue=1){const{weekYear:Ze,weekNumber:it,weekday:vt}=je,wt=hr(mn(Ze,1,_e),Ue),jt=Ir(Ze);let on,zt=7*it+vt-wt-7+_e;zt<1?(on=Ze-1,zt+=Ir(on)):zt>jt?(on=Ze+1,zt-=Ir(Ze)):on=Ze;const{month:Nn,day:pr}=vn(on,zt);return{year:on,month:Nn,day:pr,...Ts(je)}}function $t(je){const{year:_e,month:Ue,day:Ze}=je;return{year:_e,ordinal:Cn(_e,Ue,Ze),...Ts(je)}}function rn(je){const{year:_e,ordinal:Ue}=je,{month:Ze,day:it}=vn(_e,Ue);return{year:_e,month:Ze,day:it,...Ts(je)}}function ar(je,_e){if(Mn(je.localWeekday)&&Mn(je.localWeekNumber)&&Mn(je.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!Mn(je.weekday)||!Mn(je.weekNumber)||!Mn(je.weekYear))throw new U("Cannot mix locale-based week fields with ISO-based week fields");return Mn(je.localWeekday)||(je.weekday=je.localWeekday),Mn(je.localWeekNumber)||(je.weekNumber=je.localWeekNumber),Mn(je.localWeekYear)||(je.weekYear=je.localWeekYear),delete je.localWeekday,delete je.localWeekNumber,delete je.localWeekYear,{minDaysInFirstWeek:_e.getMinDaysInFirstWeek(),startOfWeek:_e.getStartOfWeek()}}function Kr(je){const _e=rt(je.year),Ue=lt(je.month,1,12),Ze=lt(je.day,1,_r(je.year,je.month));return _e?Ue?!Ze&&an("day",je.day):an("month",je.month):an("year",je.year)}function as(je){const{hour:_e,minute:Ue,second:Ze,millisecond:it}=je,vt=lt(_e,0,23)||24===_e&&0===Ue&&0===Ze&&0===it,wt=lt(Ue,0,59),jt=lt(Ze,0,59),zt=lt(it,0,999);return vt?wt?jt?!zt&&an("millisecond",it):an("second",Ze):an("minute",Ue):an("hour",_e)}function Mn(je){return typeof je>"u"}function ns(je){return"number"==typeof je}function rt(je){return"number"==typeof je&&je%1==0}function Qe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function bt(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Ie(je,_e,Ue){if(0!==je.length)return je.reduce((Ze,it)=>{const vt=[_e(it),it];return Ze&&Ue(Ze[0],vt[0])===Ze[0]?Ze:vt},null)[1]}function ht(je,_e){return Object.prototype.hasOwnProperty.call(je,_e)}function et(je){if(null==je)return null;if("object"!=typeof je)throw new V("Week settings must be an object");if(!lt(je.firstDay,1,7)||!lt(je.minimalDays,1,7)||!Array.isArray(je.weekend)||je.weekend.some(_e=>!lt(_e,1,7)))throw new V("Invalid week settings");return{firstDay:je.firstDay,minimalDays:je.minimalDays,weekend:Array.from(je.weekend)}}function lt(je,_e,Ue){return rt(je)&&je>=_e&&je<=Ue}function It(je,_e=2){let Ze;return Ze=je<0?"-"+(""+-je).padStart(_e,"0"):(""+je).padStart(_e,"0"),Ze}function en(je){if(!Mn(je)&&null!==je&&""!==je)return parseInt(je,10)}function tn(je){if(!Mn(je)&&null!==je&&""!==je)return parseFloat(je)}function Bn(je){if(!Mn(je)&&null!==je&&""!==je){const _e=1e3*parseFloat("0."+je);return Math.floor(_e)}}function Rn(je,_e,Ue=!1){const Ze=10**_e;return(Ue?Math.trunc:Math.round)(je*Ze)/Ze}function $n(je){return je%4==0&&(je%100!=0||je%400==0)}function Ir(je){return $n(je)?366:365}function _r(je,_e){const Ue=function _t(je,_e){return je-_e*Math.floor(je/_e)}(_e-1,12)+1;return 2===Ue?$n(je+(_e-Ue)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ue-1]}function jr(je){let _e=Date.UTC(je.year,je.month-1,je.day,je.hour,je.minute,je.second,je.millisecond);return je.year<100&&je.year>=0&&(_e=new Date(_e),_e.setUTCFullYear(je.year,je.month-1,je.day)),+_e}function Os(je,_e,Ue){return-hr(mn(je,1,_e),Ue)+_e-1}function En(je,_e=4,Ue=1){const Ze=Os(je,_e,Ue),it=Os(je+1,_e,Ue);return(Ir(je)-Ze+it)/7}function ir(je){return je>99?je:je>Tt.twoDigitCutoffYear?1900+je:2e3+je}function vo(je,_e,Ue,Ze=null){const it=new Date(je),vt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ze&&(vt.timeZone=Ze);const wt={timeZoneName:_e,...vt},jt=new Intl.DateTimeFormat(Ue,wt).formatToParts(it).find(zt=>"timezonename"===zt.type.toLowerCase());return jt?jt.value:null}function ui(je,_e){let Ue=parseInt(je,10);Number.isNaN(Ue)&&(Ue=0);const Ze=parseInt(_e,10)||0;return 60*Ue+(Ue<0||Object.is(Ue,-0)?-Ze:Ze)}function Wo(je){const _e=Number(je);if("boolean"==typeof je||""===je||Number.isNaN(_e))throw new V(`Invalid unit value ${je}`);return _e}function Rt(je,_e){const Ue={};for(const Ze in je)if(ht(je,Ze)){const it=je[Ze];if(null==it)continue;Ue[_e(Ze)]=Wo(it)}return Ue}function yr(je,_e){const Ue=Math.trunc(Math.abs(je/60)),Ze=Math.trunc(Math.abs(je%60)),it=je>=0?"+":"-";switch(_e){case"short":return`${it}${It(Ue,2)}:${It(Ze,2)}`;case"narrow":return`${it}${Ue}${Ze>0?`:${Ze}`:""}`;case"techie":return`${it}${It(Ue,2)}${It(Ze,2)}`;default:throw new RangeError(`Value format ${_e} is out of range for property format`)}}function Ts(je){return function ct(je,_e){return _e.reduce((Ue,Ze)=>(Ue[Ze]=je[Ze],Ue),{})}(je,["hour","minute","second","millisecond"])}const Eo=["January","February","March","April","May","June","July","August","September","October","November","December"],_n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vo=["J","F","M","A","M","J","J","A","S","O","N","D"];function Yn(je){switch(je){case"narrow":return[...Vo];case"short":return[..._n];case"long":return[...Eo];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const fa=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],jl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bi=["M","T","W","T","F","S","S"];function ci(je){switch(je){case"narrow":return[...bi];case"short":return[...jl];case"long":return[...fa];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $o=["AM","PM"],jn=["Before Christ","Anno Domini"],ko=["BC","AD"],vc=["B","A"];function Rs(je){switch(je){case"narrow":return[...vc];case"short":return[...ko];case"long":return[...jn];default:return null}}function Cr(je,_e){let Ue="";for(const Ze of je)Ue+=Ze.literal?Ze.val:_e(Ze.val);return Ue}const ya={D:k,DD:R,DDD:N,DDDD:P,t:w,tt:O,ttt:I,tttt:T,T:W,TT:z,TTT:F,TTTT:Q,f:J,ff:se,fff:G,ffff:q,F:oe,FF:ue,FFF:le,FFFF:fe};class bn{static create(_e,Ue={}){return new bn(_e,Ue)}static parseFormat(_e){let Ue=null,Ze="",it=!1;const vt=[];for(let wt=0;wt<_e.length;wt++){const jt=_e.charAt(wt);"'"===jt?(Ze.length>0&&vt.push({literal:it||/^\s+$/.test(Ze),val:Ze}),Ue=null,Ze="",it=!it):it||jt===Ue?Ze+=jt:(Ze.length>0&&vt.push({literal:/^\s+$/.test(Ze),val:Ze}),Ze=jt,Ue=jt)}return Ze.length>0&&vt.push({literal:it||/^\s+$/.test(Ze),val:Ze}),vt}static macroTokenToFormatOpts(_e){return ya[_e]}constructor(_e,Ue){this.opts=Ue,this.loc=_e,this.systemLoc=null}formatWithSystemDefault(_e,Ue){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(_e,{...this.opts,...Ue}).format()}dtFormatter(_e,Ue={}){return this.loc.dtFormatter(_e,{...this.opts,...Ue})}formatDateTime(_e,Ue){return this.dtFormatter(_e,Ue).format()}formatDateTimeParts(_e,Ue){return this.dtFormatter(_e,Ue).formatToParts()}formatInterval(_e,Ue){return this.dtFormatter(_e.start,Ue).dtf.formatRange(_e.start.toJSDate(),_e.end.toJSDate())}resolvedOptions(_e,Ue){return this.dtFormatter(_e,Ue).resolvedOptions()}num(_e,Ue=0){if(this.opts.forceSimple)return It(_e,Ue);const Ze={...this.opts};return Ue>0&&(Ze.padTo=Ue),this.loc.numberFormatter(Ze).format(_e)}formatDateTimeFromString(_e,Ue){const Ze="en"===this.loc.listingMode(),it=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,vt=(Hn,Ks)=>this.loc.extract(_e,Hn,Ks),wt=Hn=>_e.isOffsetFixed&&0===_e.offset&&Hn.allowZ?"Z":_e.isValid?_e.zone.formatOffset(_e.ts,Hn.format):"",zt=(Hn,Ks)=>Ze?function ma(je,_e){return Yn(_e)[je.month-1]}(_e,Hn):vt(Ks?{month:Hn}:{month:Hn,day:"numeric"},"month"),on=(Hn,Ks)=>Ze?function Ul(je,_e){return ci(_e)[je.weekday-1]}(_e,Hn):vt(Ks?{weekday:Hn}:{weekday:Hn,month:"long",day:"numeric"},"weekday"),Nn=Hn=>{const Ks=bn.macroTokenToFormatOpts(Hn);return Ks?this.formatWithSystemDefault(_e,Ks):Hn},pr=Hn=>Ze?function il(je,_e){return Rs(_e)[je.year<0?0:1]}(_e,Hn):vt({era:Hn},"era");return Cr(bn.parseFormat(Ue),Hn=>{switch(Hn){case"S":return this.num(_e.millisecond);case"u":case"SSS":return this.num(_e.millisecond,3);case"s":return this.num(_e.second);case"ss":return this.num(_e.second,2);case"uu":return this.num(Math.floor(_e.millisecond/10),2);case"uuu":return this.num(Math.floor(_e.millisecond/100));case"m":return this.num(_e.minute);case"mm":return this.num(_e.minute,2);case"h":return this.num(_e.hour%12==0?12:_e.hour%12);case"hh":return this.num(_e.hour%12==0?12:_e.hour%12,2);case"H":return this.num(_e.hour);case"HH":return this.num(_e.hour,2);case"Z":return wt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return wt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return wt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return _e.zone.offsetName(_e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return _e.zone.offsetName(_e.ts,{format:"long",locale:this.loc.locale});case"z":return _e.zoneName;case"a":return Ze?function An(je){return $o[je.hour<12?0:1]}(_e):vt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return it?vt({day:"numeric"},"day"):this.num(_e.day);case"dd":return it?vt({day:"2-digit"},"day"):this.num(_e.day,2);case"c":case"E":return this.num(_e.weekday);case"ccc":return on("short",!0);case"cccc":return on("long",!0);case"ccccc":return on("narrow",!0);case"EEE":return on("short",!1);case"EEEE":return on("long",!1);case"EEEEE":return on("narrow",!1);case"L":return it?vt({month:"numeric",day:"numeric"},"month"):this.num(_e.month);case"LL":return it?vt({month:"2-digit",day:"numeric"},"month"):this.num(_e.month,2);case"LLL":return zt("short",!0);case"LLLL":return zt("long",!0);case"LLLLL":return zt("narrow",!0);case"M":return it?vt({month:"numeric"},"month"):this.num(_e.month);case"MM":return it?vt({month:"2-digit"},"month"):this.num(_e.month,2);case"MMM":return zt("short",!1);case"MMMM":return zt("long",!1);case"MMMMM":return zt("narrow",!1);case"y":return it?vt({year:"numeric"},"year"):this.num(_e.year);case"yy":return it?vt({year:"2-digit"},"year"):this.num(_e.year.toString().slice(-2),2);case"yyyy":return it?vt({year:"numeric"},"year"):this.num(_e.year,4);case"yyyyyy":return it?vt({year:"numeric"},"year"):this.num(_e.year,6);case"G":return pr("short");case"GG":return pr("long");case"GGGGG":return pr("narrow");case"kk":return this.num(_e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(_e.weekYear,4);case"W":return this.num(_e.weekNumber);case"WW":return this.num(_e.weekNumber,2);case"n":return this.num(_e.localWeekNumber);case"nn":return this.num(_e.localWeekNumber,2);case"ii":return this.num(_e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(_e.localWeekYear,4);case"o":return this.num(_e.ordinal);case"ooo":return this.num(_e.ordinal,3);case"q":return this.num(_e.quarter);case"qq":return this.num(_e.quarter,2);case"X":return this.num(Math.floor(_e.ts/1e3));case"x":return this.num(_e.ts);default:return Nn(Hn)}})}formatDurationFromString(_e,Ue){const Ze=zt=>{switch(zt[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},vt=bn.parseFormat(Ue),wt=vt.reduce((zt,{literal:on,val:Nn})=>on?zt:zt.concat(Nn),[]);return Cr(vt,(zt=>on=>{const Nn=Ze(on);return Nn?this.num(zt.get(Nn),on.length):on})(_e.shiftTo(...wt.map(Ze).filter(zt=>zt))))}}const Mu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ps(...je){const _e=je.reduce((Ue,Ze)=>Ue+Ze.source,"");return RegExp(`^${_e}$`)}function bo(...je){return _e=>je.reduce(([Ue,Ze,it],vt)=>{const[wt,jt,zt]=vt(_e,it);return[{...Ue,...wt},jt||Ze,zt]},[{},null,1]).slice(0,2)}function Gr(je,..._e){if(null==je)return[null,null];for(const[Ue,Ze]of _e){const it=Ue.exec(je);if(it)return Ze(it)}return[null,null]}function Zo(...je){return(_e,Ue)=>{const Ze={};let it;for(it=0;it<je.length;it++)Ze[je[it]]=en(_e[Ue+it]);return[Ze,null,Ue+it]}}const Ji=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ft=RegExp(`${Zt.source}(?:${Ji.source}?(?:\\[(${Mu.source})\\])?)?`),Un=RegExp(`(?:T${Ft.source})?`),ga=Zo("weekYear","weekNumber","weekDay"),Tr=Zo("year","ordinal"),Ye=RegExp(`${Zt.source} ?(?:${Ji.source}|(${Mu.source}))?`),tt=RegExp(`(?: ${Ye.source})?`);function dt(je,_e,Ue){const Ze=je[_e];return Mn(Ze)?Ue:en(Ze)}function Dt(je,_e){return[{hours:dt(je,_e,0),minutes:dt(je,_e+1,0),seconds:dt(je,_e+2,0),milliseconds:Bn(je[_e+3])},null,_e+4]}function xt(je,_e){const Ue=!je[_e]&&!je[_e+1],Ze=ui(je[_e+1],je[_e+2]);return[{},Ue?null:ut.instance(Ze),_e+3]}function Wt(je,_e){return[{},je[_e]?ye.create(je[_e]):null,_e+1]}const Bt=RegExp(`^T?${Zt.source}$`),Ht=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function pn(je){const[_e,Ue,Ze,it,vt,wt,jt,zt,on]=je,Nn="-"===_e[0],pr=zt&&"-"===zt[0],hs=(Hn,Ks=!1)=>void 0!==Hn&&(Ks||Hn&&Nn)?-Hn:Hn;return[{years:hs(tn(Ue)),months:hs(tn(Ze)),weeks:hs(tn(it)),days:hs(tn(vt)),hours:hs(tn(wt)),minutes:hs(tn(jt)),seconds:hs(tn(zt),"-0"===zt),milliseconds:hs(Bn(on),pr)}]}const Dn={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wn(je,_e,Ue,Ze,it,vt,wt){const jt={year:2===_e.length?ir(en(_e)):en(_e),month:_n.indexOf(Ue)+1,day:en(Ze),hour:en(it),minute:en(vt)};return wt&&(jt.second=en(wt)),je&&(jt.weekday=je.length>3?fa.indexOf(je)+1:jl.indexOf(je)+1),jt}const ls=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Vs(je){const[,_e,Ue,Ze,it,vt,wt,jt,zt,on,Nn,pr]=je,hs=Wn(_e,it,Ze,Ue,vt,wt,jt);let Hn;return Hn=zt?Dn[zt]:on?0:ui(Nn,pr),[hs,new ut(Hn)]}const Yi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,js=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Nl=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _a(je){const[,_e,Ue,Ze,it,vt,wt,jt]=je;return[Wn(_e,it,Ze,Ue,vt,wt,jt),ut.utcInstance]}function di(je){const[,_e,Ue,Ze,it,vt,wt,jt]=je;return[Wn(_e,jt,Ue,Ze,it,vt,wt),ut.utcInstance]}const Bl=Ps(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Un),xg=Ps(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Un),va=Ps(/(\d{4})-?(\d{3})/,Un),Lg=Ps(Ft),or=bo(function Mt(je,_e){return[{year:dt(je,_e),month:dt(je,_e+1,1),day:dt(je,_e+2,1)},null,_e+3]},Dt,xt,Wt),Zf=bo(ga,Dt,xt,Wt),yn=bo(Tr,Dt,xt,Wt),Ec=bo(Dt,xt,Wt),Ug=bo(Dt),bc=Ps(/(\d{4})-(\d\d)-(\d\d)/,tt),Qi=Ps(Ye),Co=bo(Dt,xt,Wt),Ri="Invalid Duration",Lh={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Rh={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Lh},Ci=365.2425,ol=30.436875,Su={years:{quarters:4,months:12,weeks:Ci/7,days:Ci,hours:24*Ci,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Ci/28,days:Ci/4,hours:24*Ci/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ol/7,days:ol,hours:24*ol,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Lh},Ea=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],zf=Ea.slice(0).reverse();function ba(je,_e,Ue=!1){const Ze={values:Ue?_e.values:{...je.values,..._e.values||{}},loc:je.loc.clone(_e.loc),conversionAccuracy:_e.conversionAccuracy||je.conversionAccuracy,matrix:_e.matrix||je.matrix};return new qn(Ze)}function jh(je,_e){let Ue=_e.milliseconds??0;for(const Ze of zf.slice(1))_e[Ze]&&(Ue+=_e[Ze]*je[Ze].milliseconds);return Ue}function Kf(je,_e){const Ue=jh(je,_e)<0?-1:1;Ea.reduceRight((Ze,it)=>{if(Mn(_e[it]))return Ze;if(Ze){const wt=je[it][Ze],jt=Math.floor(_e[Ze]*Ue/wt);_e[it]+=jt*Ue,_e[Ze]-=jt*wt*Ue}return it},null),Ea.reduce((Ze,it)=>{if(Mn(_e[it]))return Ze;if(Ze){const vt=_e[Ze]%1;_e[Ze]-=vt,_e[it]+=vt*je[Ze][it]}return it},null)}class qn{constructor(_e){const Ue="longterm"===_e.conversionAccuracy||!1;let Ze=Ue?Su:Rh;_e.matrix&&(Ze=_e.matrix),this.values=_e.values,this.loc=_e.loc||Xe.create(),this.conversionAccuracy=Ue?"longterm":"casual",this.invalid=_e.invalid||null,this.matrix=Ze,this.isLuxonDuration=!0}static fromMillis(_e,Ue){return qn.fromObject({milliseconds:_e},Ue)}static fromObject(_e,Ue={}){if(null==_e||"object"!=typeof _e)throw new V("Duration.fromObject: argument expected to be an object, got "+(null===_e?"null":typeof _e));return new qn({values:Rt(_e,qn.normalizeUnit),loc:Xe.fromObject(Ue),conversionAccuracy:Ue.conversionAccuracy,matrix:Ue.matrix})}static fromDurationLike(_e){if(ns(_e))return qn.fromMillis(_e);if(qn.isDuration(_e))return _e;if("object"==typeof _e)return qn.fromObject(_e);throw new V(`Unknown duration argument ${_e} of type ${typeof _e}`)}static fromISO(_e,Ue){const[Ze]=function jg(je){return Gr(je,[Ht,pn])}(_e);return Ze?qn.fromObject(Ze,Ue):qn.invalid("unparsable",`the input "${_e}" can't be parsed as ISO 8601`)}static fromISOTime(_e,Ue){const[Ze]=function zo(je){return Gr(je,[Bt,Ug])}(_e);return Ze?qn.fromObject(Ze,Ue):qn.invalid("unparsable",`the input "${_e}" can't be parsed as ISO 8601`)}static invalid(_e,Ue=null){if(!_e)throw new V("need to specify a reason the Duration is invalid");const Ze=_e instanceof Vt?_e:new Vt(_e,Ue);if(Tt.throwOnInvalid)throw new j(Ze);return new qn({invalid:Ze})}static normalizeUnit(_e){const Ue={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[_e&&_e.toLowerCase()];if(!Ue)throw new Y(_e);return Ue}static isDuration(_e){return _e&&_e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(_e,Ue={}){const Ze={...Ue,floor:!1!==Ue.round&&!1!==Ue.floor};return this.isValid?bn.create(this.loc,Ze).formatDurationFromString(this,_e):Ri}toHuman(_e={}){if(!this.isValid)return Ri;const Ue=Ea.map(Ze=>{const it=this.values[Ze];return Mn(it)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",..._e,unit:Ze.slice(0,-1)}).format(it)}).filter(Ze=>Ze);return this.loc.listFormatter({type:"conjunction",style:_e.listStyle||"narrow",..._e}).format(Ue)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let _e="P";return 0!==this.years&&(_e+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(_e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(_e+=this.weeks+"W"),0!==this.days&&(_e+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(_e+="T"),0!==this.hours&&(_e+=this.hours+"H"),0!==this.minutes&&(_e+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(_e+=Rn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===_e&&(_e+="T0S"),_e}toISOTime(_e={}){if(!this.isValid)return null;const Ue=this.toMillis();return Ue<0||Ue>=864e5?null:(_e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",..._e,includeOffset:!1},Qn.fromMillis(Ue,{zone:"UTC"}).toISOTime(_e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?jh(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(_e){if(!this.isValid)return this;const Ue=qn.fromDurationLike(_e),Ze={};for(const it of Ea)(ht(Ue.values,it)||ht(this.values,it))&&(Ze[it]=Ue.get(it)+this.get(it));return ba(this,{values:Ze},!0)}minus(_e){if(!this.isValid)return this;const Ue=qn.fromDurationLike(_e);return this.plus(Ue.negate())}mapUnits(_e){if(!this.isValid)return this;const Ue={};for(const Ze of Object.keys(this.values))Ue[Ze]=Wo(_e(this.values[Ze],Ze));return ba(this,{values:Ue},!0)}get(_e){return this[qn.normalizeUnit(_e)]}set(_e){return this.isValid?ba(this,{values:{...this.values,...Rt(_e,qn.normalizeUnit)}}):this}reconfigure({locale:_e,numberingSystem:Ue,conversionAccuracy:Ze,matrix:it}={}){return ba(this,{loc:this.loc.clone({locale:_e,numberingSystem:Ue}),matrix:it,conversionAccuracy:Ze})}as(_e){return this.isValid?this.shiftTo(_e).get(_e):NaN}normalize(){if(!this.isValid)return this;const _e=this.toObject();return Kf(this.matrix,_e),ba(this,{values:_e},!0)}rescale(){return this.isValid?ba(this,{values:function Ng(je){const _e={};for(const[Ue,Ze]of Object.entries(je))0!==Ze&&(_e[Ue]=Ze);return _e}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(..._e){if(!this.isValid)return this;if(0===_e.length)return this;_e=_e.map(wt=>qn.normalizeUnit(wt));const Ue={},Ze={},it=this.toObject();let vt;for(const wt of Ea)if(_e.indexOf(wt)>=0){vt=wt;let jt=0;for(const on in Ze)jt+=this.matrix[on][wt]*Ze[on],Ze[on]=0;ns(it[wt])&&(jt+=it[wt]);const zt=Math.trunc(jt);Ue[wt]=zt,Ze[wt]=(1e3*jt-1e3*zt)/1e3}else ns(it[wt])&&(Ze[wt]=it[wt]);for(const wt in Ze)0!==Ze[wt]&&(Ue[vt]+=wt===vt?Ze[wt]:Ze[wt]/this.matrix[vt][wt]);return Kf(this.matrix,Ue),ba(this,{values:Ue},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const _e={};for(const Ue of Object.keys(this.values))_e[Ue]=0===this.values[Ue]?0:-this.values[Ue];return ba(this,{values:_e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(_e){if(!this.isValid||!_e.isValid||!this.loc.equals(_e.loc))return!1;function Ue(Ze,it){return void 0===Ze||0===Ze?void 0===it||0===it:Ze===it}for(const Ze of Ea)if(!Ue(this.values[Ze],_e.values[Ze]))return!1;return!0}}const Fl="Invalid Interval";class us{constructor(_e){this.s=_e.start,this.e=_e.end,this.invalid=_e.invalid||null,this.isLuxonInterval=!0}static invalid(_e,Ue=null){if(!_e)throw new V("need to specify a reason the Interval is invalid");const Ze=_e instanceof Vt?_e:new Vt(_e,Ue);if(Tt.throwOnInvalid)throw new Z(Ze);return new us({invalid:Ze})}static fromDateTimes(_e,Ue){const Ze=no(_e),it=no(Ue),vt=function Gf(je,_e){return je&&je.isValid?_e&&_e.isValid?_e<je?us.invalid("end before start",`The end of an interval must be after its start, but you had start=${je.toISO()} and end=${_e.toISO()}`):null:us.invalid("missing or invalid end"):us.invalid("missing or invalid start")}(Ze,it);return vt??new us({start:Ze,end:it})}static after(_e,Ue){const Ze=qn.fromDurationLike(Ue),it=no(_e);return us.fromDateTimes(it,it.plus(Ze))}static before(_e,Ue){const Ze=qn.fromDurationLike(Ue),it=no(_e);return us.fromDateTimes(it.minus(Ze),it)}static fromISO(_e,Ue){const[Ze,it]=(_e||"").split("/",2);if(Ze&&it){let vt,wt,jt,zt;try{vt=Qn.fromISO(Ze,Ue),wt=vt.isValid}catch{wt=!1}try{jt=Qn.fromISO(it,Ue),zt=jt.isValid}catch{zt=!1}if(wt&&zt)return us.fromDateTimes(vt,jt);if(wt){const on=qn.fromISO(it,Ue);if(on.isValid)return us.after(vt,on)}else if(zt){const on=qn.fromISO(Ze,Ue);if(on.isValid)return us.before(jt,on)}}return us.invalid("unparsable",`the input "${_e}" can't be parsed as ISO 8601`)}static isInterval(_e){return _e&&_e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(_e="milliseconds"){return this.isValid?this.toDuration(_e).get(_e):NaN}count(_e="milliseconds",Ue){if(!this.isValid)return NaN;const Ze=this.start.startOf(_e,Ue);let it;return it=Ue?.useLocaleWeeks?this.end.reconfigure({locale:Ze.locale}):this.end,it=it.startOf(_e,Ue),Math.floor(it.diff(Ze,_e).get(_e))+(it.valueOf()!==this.end.valueOf())}hasSame(_e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,_e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(_e){return!!this.isValid&&this.s>_e}isBefore(_e){return!!this.isValid&&this.e<=_e}contains(_e){return!!this.isValid&&this.s<=_e&&this.e>_e}set({start:_e,end:Ue}={}){return this.isValid?us.fromDateTimes(_e||this.s,Ue||this.e):this}splitAt(..._e){if(!this.isValid)return[];const Ue=_e.map(no).filter(wt=>this.contains(wt)).sort((wt,jt)=>wt.toMillis()-jt.toMillis()),Ze=[];let{s:it}=this,vt=0;for(;it<this.e;){const wt=Ue[vt]||this.e,jt=+wt>+this.e?this.e:wt;Ze.push(us.fromDateTimes(it,jt)),it=jt,vt+=1}return Ze}splitBy(_e){const Ue=qn.fromDurationLike(_e);if(!this.isValid||!Ue.isValid||0===Ue.as("milliseconds"))return[];let vt,{s:Ze}=this,it=1;const wt=[];for(;Ze<this.e;){const jt=this.start.plus(Ue.mapUnits(zt=>zt*it));vt=+jt>+this.e?this.e:jt,wt.push(us.fromDateTimes(Ze,vt)),Ze=vt,it+=1}return wt}divideEqually(_e){return this.isValid?this.splitBy(this.length()/_e).slice(0,_e):[]}overlaps(_e){return this.e>_e.s&&this.s<_e.e}abutsStart(_e){return!!this.isValid&&+this.e==+_e.s}abutsEnd(_e){return!!this.isValid&&+_e.e==+this.s}engulfs(_e){return!!this.isValid&&this.s<=_e.s&&this.e>=_e.e}equals(_e){return!(!this.isValid||!_e.isValid)&&this.s.equals(_e.s)&&this.e.equals(_e.e)}intersection(_e){if(!this.isValid)return this;const Ue=this.s>_e.s?this.s:_e.s,Ze=this.e<_e.e?this.e:_e.e;return Ue>=Ze?null:us.fromDateTimes(Ue,Ze)}union(_e){return this.isValid?us.fromDateTimes(this.s<_e.s?this.s:_e.s,this.e>_e.e?this.e:_e.e):this}static merge(_e){const[Ue,Ze]=_e.sort((it,vt)=>it.s-vt.s).reduce(([it,vt],wt)=>vt?vt.overlaps(wt)||vt.abutsStart(wt)?[it,vt.union(wt)]:[it.concat([vt]),wt]:[it,wt],[[],null]);return Ze&&Ue.push(Ze),Ue}static xor(_e){let Ue=null,Ze=0;const it=[],vt=_e.map(zt=>[{time:zt.s,type:"s"},{time:zt.e,type:"e"}]),jt=Array.prototype.concat(...vt).sort((zt,on)=>zt.time-on.time);for(const zt of jt)Ze+="s"===zt.type?1:-1,1===Ze?Ue=zt.time:(Ue&&+Ue!=+zt.time&&it.push(us.fromDateTimes(Ue,zt.time)),Ue=null);return us.merge(it)}difference(..._e){return us.xor([this].concat(_e)).map(Ue=>this.intersection(Ue)).filter(Ue=>Ue&&!Ue.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Fl}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(_e=k,Ue={}){return this.isValid?bn.create(this.s.loc.clone(Ue),_e).formatInterval(this):Fl}toISO(_e){return this.isValid?`${this.s.toISO(_e)}/${this.e.toISO(_e)}`:Fl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fl}toISOTime(_e){return this.isValid?`${this.s.toISOTime(_e)}/${this.e.toISOTime(_e)}`:Fl}toFormat(_e,{separator:Ue=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(_e)}${Ue}${this.e.toFormat(_e)}`:Fl}toDuration(_e,Ue){return this.isValid?this.e.diff(this.s,_e,Ue):qn.invalid(this.invalidReason)}mapEndpoints(_e){return us.fromDateTimes(_e(this.s),_e(this.e))}}class Cc{static hasDST(_e=Tt.defaultZone){const Ue=Qn.now().setZone(_e).set({month:12});return!_e.isUniversal&&Ue.offset!==Ue.set({month:6}).offset}static isValidIANAZone(_e){return ye.isValidZone(_e)}static normalizeZone(_e){return Lt(_e,Tt.defaultZone)}static getStartOfWeek({locale:_e=null,locObj:Ue=null}={}){return(Ue||Xe.create(_e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:_e=null,locObj:Ue=null}={}){return(Ue||Xe.create(_e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:_e=null,locObj:Ue=null}={}){return(Ue||Xe.create(_e)).getWeekendDays().slice()}static months(_e="long",{locale:Ue=null,numberingSystem:Ze=null,locObj:it=null,outputCalendar:vt="gregory"}={}){return(it||Xe.create(Ue,Ze,vt)).months(_e)}static monthsFormat(_e="long",{locale:Ue=null,numberingSystem:Ze=null,locObj:it=null,outputCalendar:vt="gregory"}={}){return(it||Xe.create(Ue,Ze,vt)).months(_e,!0)}static weekdays(_e="long",{locale:Ue=null,numberingSystem:Ze=null,locObj:it=null}={}){return(it||Xe.create(Ue,Ze,null)).weekdays(_e)}static weekdaysFormat(_e="long",{locale:Ue=null,numberingSystem:Ze=null,locObj:it=null}={}){return(it||Xe.create(Ue,Ze,null)).weekdays(_e,!0)}static meridiems({locale:_e=null}={}){return Xe.create(_e).meridiems()}static eras(_e="short",{locale:Ue=null}={}){return Xe.create(Ue,null,"gregory").eras(_e)}static features(){return{relative:Qe(),localeWeek:bt()}}}function Hf(je,_e){const Ue=it=>it.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Ze=Ue(_e)-Ue(je);return Math.floor(qn.fromMillis(Ze).as("days"))}const Uh={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Yf={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Fg=Uh.hanidec.replace(/[\[|\]]/g,"").split("");function Xi({numberingSystem:je},_e=""){return new RegExp(`${Uh[je||"latn"]}${_e}`)}function vr(je,_e=(Ue=>Ue)){return{regex:je,deser:([Ue])=>_e(function Nh(je){let _e=parseInt(je,10);if(isNaN(_e)){_e="";for(let Ue=0;Ue<je.length;Ue++){const Ze=je.charCodeAt(Ue);if(-1!==je[Ue].search(Uh.hanidec))_e+=Fg.indexOf(je[Ue]);else for(const it in Yf){const[vt,wt]=Yf[it];Ze>=vt&&Ze<=wt&&(_e+=Ze-vt)}}return parseInt(_e,10)}return _e}(Ue))}}const ti="[ \xa0]",si=new RegExp(ti,"g");function ur(je){return je.replace(/\./g,"\\.?").replace(si,ti)}function Cs(je){return je.replace(/\./g,"").replace(si," ").toLowerCase()}function Ur(je,_e){return null===je?null:{regex:RegExp(je.map(ur).join("|")),deser:([Ue])=>je.findIndex(Ze=>Cs(Ue)===Cs(Ze))+_e}}function Ko(je,_e){return{regex:je,deser:([,Ue,Ze])=>ui(Ue,Ze),groups:_e}}function As(je){return{regex:je,deser:([_e])=>_e}}function Qf(je){return je.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Mc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Pn=null;function $s(je,_e){return Array.prototype.concat(...je.map(Ue=>function qi(je,_e){if(je.literal)return je;const Ze=Nr(bn.macroTokenToFormatOpts(je.val),_e);return null==Ze||Ze.includes(void 0)?je:Ze}(Ue,_e)))}function ji(je,_e,Ue){const Ze=$s(bn.parseFormat(Ue),je),it=Ze.map(wt=>function Xf(je,_e){const Ue=Xi(_e),Ze=Xi(_e,"{2}"),it=Xi(_e,"{3}"),vt=Xi(_e,"{4}"),wt=Xi(_e,"{6}"),jt=Xi(_e,"{1,2}"),zt=Xi(_e,"{1,3}"),on=Xi(_e,"{1,6}"),Nn=Xi(_e,"{1,9}"),pr=Xi(_e,"{2,4}"),hs=Xi(_e,"{4,6}"),Hn=Jo=>({regex:RegExp(Qf(Jo.val)),deser:([Tu])=>Tu,literal:!0}),Ou=(Jo=>{if(je.literal)return Hn(Jo);switch(Jo.val){case"G":return Ur(_e.eras("short"),0);case"GG":return Ur(_e.eras("long"),0);case"y":return vr(on);case"yy":case"kk":return vr(pr,ir);case"yyyy":case"kkkk":return vr(vt);case"yyyyy":return vr(hs);case"yyyyyy":return vr(wt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return vr(jt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return vr(Ze);case"MMM":return Ur(_e.months("short",!0),1);case"MMMM":return Ur(_e.months("long",!0),1);case"LLL":return Ur(_e.months("short",!1),1);case"LLLL":return Ur(_e.months("long",!1),1);case"o":case"S":return vr(zt);case"ooo":case"SSS":return vr(it);case"u":return As(Nn);case"uu":return As(jt);case"uuu":case"E":case"c":return vr(Ue);case"a":return Ur(_e.meridiems(),0);case"EEE":return Ur(_e.weekdays("short",!1),1);case"EEEE":return Ur(_e.weekdays("long",!1),1);case"ccc":return Ur(_e.weekdays("short",!0),1);case"cccc":return Ur(_e.weekdays("long",!0),1);case"Z":case"ZZ":return Ko(new RegExp(`([+-]${jt.source})(?::(${Ze.source}))?`),2);case"ZZZ":return Ko(new RegExp(`([+-]${jt.source})(${Ze.source})?`),2);case"z":return As(/[a-z_+-/]{1,256}?/i);case" ":return As(/[^\S\n\r]/);default:return Hn(Jo)}})(je)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Ou.token=je,Ou}(wt,je)),vt=it.find(wt=>wt.invalidReason);if(vt)return{input:_e,tokens:Ze,invalidReason:vt.invalidReason};{const[wt,jt]=function kg(je){return[`^${je.map(Ue=>Ue.regex).reduce((Ue,Ze)=>`${Ue}(${Ze.source})`,"")}$`,je]}(it),zt=RegExp(wt,"i"),[on,Nn]=function cs(je,_e,Ue){const Ze=je.match(_e);if(Ze){const it={};let vt=1;for(const wt in Ue)if(ht(Ue,wt)){const jt=Ue[wt],zt=jt.groups?jt.groups+1:1;!jt.literal&&jt.token&&(it[jt.token.val[0]]=jt.deser(Ze.slice(vt,vt+zt))),vt+=zt}return[Ze,it]}return[Ze,{}]}(_e,zt,jt),[pr,hs,Hn]=Nn?function dn(je){let Ze,Ue=null;return Mn(je.z)||(Ue=ye.create(je.z)),Mn(je.Z)||(Ue||(Ue=new ut(je.Z)),Ze=je.Z),Mn(je.q)||(je.M=3*(je.q-1)+1),Mn(je.h)||(je.h<12&&1===je.a?je.h+=12:12===je.h&&0===je.a&&(je.h=0)),0===je.G&&je.y&&(je.y=-je.y),Mn(je.u)||(je.S=Bn(je.u)),[Object.keys(je).reduce((vt,wt)=>{const jt=(vt=>{switch(vt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(wt);return jt&&(vt[jt]=je[wt]),vt},{}),Ue,Ze]}(Nn):[null,null,void 0];if(ht(Nn,"a")&&ht(Nn,"H"))throw new U("Can't include meridiem when specifying 24-hour format");return{input:_e,tokens:Ze,regex:zt,rawMatches:on,matches:Nn,result:pr,zone:hs,specificOffset:Hn}}}function Nr(je,_e){if(!je)return null;const Ze=bn.create(_e,je).dtFormatter(function gs(){return Pn||(Pn=Qn.fromMillis(1555555555555)),Pn}()),it=Ze.formatToParts(),vt=Ze.resolvedOptions();return it.map(wt=>function $g(je,_e,Ue){const{type:Ze,value:it}=je;if("literal"===Ze){const zt=/^\s+$/.test(it);return{literal:!zt,val:zt?" ":it}}let wt=Ze;"hour"===Ze&&(wt=null!=_e.hour12?_e.hour12?"hour12":"hour24":null!=_e.hourCycle?"h11"===_e.hourCycle||"h12"===_e.hourCycle?"hour12":"hour24":Ue.hour12?"hour12":"hour24");let jt=Mc[wt];if("object"==typeof jt&&(jt=jt[_e[Ze]]),jt)return{literal:!1,val:jt}}(wt,je,vt))}const ks="Invalid DateTime",eo=864e13;function kn(je){return new Vt("unsupported zone",`the zone "${je.name}" is not supported`)}function al(je){return null===je.weekData&&(je.weekData=xn(je.c)),je.weekData}function Dc(je){return null===je.localWeekData&&(je.localWeekData=xn(je.c,je.loc.getMinDaysInFirstWeek(),je.loc.getStartOfWeek())),je.localWeekData}function Ui(je,_e){const Ue={ts:je.ts,zone:je.zone,c:je.c,o:je.o,loc:je.loc,invalid:je.invalid};return new Qn({...Ue,..._e,old:Ue})}function Hr(je,_e,Ue){let Ze=je-60*_e*1e3;const it=Ue.offset(Ze);if(_e===it)return[Ze,_e];Ze-=60*(it-_e)*1e3;const vt=Ue.offset(Ze);return it===vt?[Ze,it]:[je-60*Math.min(it,vt)*1e3,Math.max(it,vt)]}function Ca(je,_e){const Ue=new Date(je+=60*_e*1e3);return{year:Ue.getUTCFullYear(),month:Ue.getUTCMonth()+1,day:Ue.getUTCDate(),hour:Ue.getUTCHours(),minute:Ue.getUTCMinutes(),second:Ue.getUTCSeconds(),millisecond:Ue.getUTCMilliseconds()}}function Go(je,_e,Ue){return Hr(jr(je),_e,Ue)}function to(je,_e){const Ue=je.o,Ze=je.c.year+Math.trunc(_e.years),it=je.c.month+Math.trunc(_e.months)+3*Math.trunc(_e.quarters),vt={...je.c,year:Ze,month:it,day:Math.min(je.c.day,_r(Ze,it))+Math.trunc(_e.days)+7*Math.trunc(_e.weeks)},wt=qn.fromObject({years:_e.years-Math.trunc(_e.years),quarters:_e.quarters-Math.trunc(_e.quarters),months:_e.months-Math.trunc(_e.months),weeks:_e.weeks-Math.trunc(_e.weeks),days:_e.days-Math.trunc(_e.days),hours:_e.hours,minutes:_e.minutes,seconds:_e.seconds,milliseconds:_e.milliseconds}).as("milliseconds"),jt=jr(vt);let[zt,on]=Hr(jt,Ue,je.zone);return 0!==wt&&(zt+=wt,on=je.zone.offset(zt)),{ts:zt,o:on}}function Ho(je,_e,Ue,Ze,it,vt){const{setZone:wt,zone:jt}=Ue;if(je&&0!==Object.keys(je).length||_e){const zt=_e||jt,on=Qn.fromObject(je,{...Ue,zone:zt,specificOffset:vt});return wt?on:on.setZone(jt)}return Qn.invalid(new Vt("unparsable",`the input "${it}" can't be parsed as ${Ze}`))}function wu(je,_e,Ue=!0){return je.isValid?bn.create(Xe.create("en-US"),{allowZ:Ue,forceSimple:!0}).formatDateTimeFromString(je,_e):null}function Mo(je,_e){const Ue=je.c.year>9999||je.c.year<0;let Ze="";return Ue&&je.c.year>=0&&(Ze+="+"),Ze+=It(je.c.year,Ue?6:4),_e?(Ze+="-",Ze+=It(je.c.month),Ze+="-",Ze+=It(je.c.day)):(Ze+=It(je.c.month),Ze+=It(je.c.day)),Ze}function Iu(je,_e,Ue,Ze,it,vt){let wt=It(je.c.hour);return _e?(wt+=":",wt+=It(je.c.minute),(0!==je.c.millisecond||0!==je.c.second||!Ue)&&(wt+=":")):wt+=It(je.c.minute),(0!==je.c.millisecond||0!==je.c.second||!Ue)&&(wt+=It(je.c.second),(0!==je.c.millisecond||!Ze)&&(wt+=".",wt+=It(je.c.millisecond,3))),it&&(je.isOffsetFixed&&0===je.offset&&!vt?wt+="Z":je.o<0?(wt+="-",wt+=It(Math.trunc(-je.o/60)),wt+=":",wt+=It(Math.trunc(-je.o%60))):(wt+="+",wt+=It(Math.trunc(je.o/60)),wt+=":",wt+=It(Math.trunc(je.o%60)))),vt&&(wt+="["+je.zone.ianaName+"]"),wt}const Ma={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Bh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Vl=["year","month","day","hour","minute","second","millisecond"],Do=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Sc=["year","ordinal","hour","minute","second","millisecond"];function ds(je){switch(je.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function $l(je){const _e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[je.toLowerCase()];if(!_e)throw new Y(je);return _e}(je)}}function wc(je,_e){const Ue=Lt(_e.zone,Tt.defaultZone),Ze=Xe.fromObject(_e),it=Tt.now();let vt,wt;if(Mn(je.year))vt=it;else{for(const on of Vl)Mn(je[on])&&(je[on]=Ma[on]);const jt=Kr(je)||as(je);if(jt)return Qn.invalid(jt);const zt=Ue.offset(it);[vt,wt]=Go(je,zt,Ue)}return new Qn({ts:vt,zone:Ue,loc:Ze,o:wt})}function Zs(je,_e,Ue){const Ze=!!Mn(Ue.round)||Ue.round,it=(wt,jt)=>(wt=Rn(wt,Ze||Ue.calendary?0:2,!0),_e.loc.clone(Ue).relFormatter(Ue).format(wt,jt)),vt=wt=>Ue.calendary?_e.hasSame(je,wt)?0:_e.startOf(wt).diff(je.startOf(wt),wt).get(wt):_e.diff(je,wt).get(wt);if(Ue.unit)return it(vt(Ue.unit),Ue.unit);for(const wt of Ue.units){const jt=vt(wt);if(Math.abs(jt)>=1)return it(jt,wt)}return it(je>_e?-0:0,Ue.units[Ue.units.length-1])}function zs(je){let Ue,_e={};return je.length>0&&"object"==typeof je[je.length-1]?(_e=je[je.length-1],Ue=Array.from(je).slice(0,je.length-1)):Ue=Array.from(je),[_e,Ue]}class Qn{constructor(_e){const Ue=_e.zone||Tt.defaultZone;let Ze=_e.invalid||(Number.isNaN(_e.ts)?new Vt("invalid input"):null)||(Ue.isValid?null:kn(Ue));this.ts=Mn(_e.ts)?Tt.now():_e.ts;let it=null,vt=null;if(!Ze)if(_e.old&&_e.old.ts===this.ts&&_e.old.zone.equals(Ue))[it,vt]=[_e.old.c,_e.old.o];else{const jt=Ue.offset(this.ts);it=Ca(this.ts,jt),Ze=Number.isNaN(it.year)?new Vt("invalid input"):null,it=Ze?null:it,vt=Ze?null:jt}this._zone=Ue,this.loc=_e.loc||Xe.create(),this.invalid=Ze,this.weekData=null,this.localWeekData=null,this.c=it,this.o=vt,this.isLuxonDateTime=!0}static now(){return new Qn({})}static local(){const[_e,Ue]=zs(arguments),[Ze,it,vt,wt,jt,zt,on]=Ue;return wc({year:Ze,month:it,day:vt,hour:wt,minute:jt,second:zt,millisecond:on},_e)}static utc(){const[_e,Ue]=zs(arguments),[Ze,it,vt,wt,jt,zt,on]=Ue;return _e.zone=ut.utcInstance,wc({year:Ze,month:it,day:vt,hour:wt,minute:jt,second:zt,millisecond:on},_e)}static fromJSDate(_e,Ue={}){const Ze=function Je(je){return"[object Date]"===Object.prototype.toString.call(je)}(_e)?_e.valueOf():NaN;if(Number.isNaN(Ze))return Qn.invalid("invalid input");const it=Lt(Ue.zone,Tt.defaultZone);return it.isValid?new Qn({ts:Ze,zone:it,loc:Xe.fromObject(Ue)}):Qn.invalid(kn(it))}static fromMillis(_e,Ue={}){if(ns(_e))return _e<-eo||_e>eo?Qn.invalid("Timestamp out of range"):new Qn({ts:_e,zone:Lt(Ue.zone,Tt.defaultZone),loc:Xe.fromObject(Ue)});throw new V(`fromMillis requires a numerical input, but received a ${typeof _e} with value ${_e}`)}static fromSeconds(_e,Ue={}){if(ns(_e))return new Qn({ts:1e3*_e,zone:Lt(Ue.zone,Tt.defaultZone),loc:Xe.fromObject(Ue)});throw new V("fromSeconds requires a numerical input")}static fromObject(_e,Ue={}){_e=_e||{};const Ze=Lt(Ue.zone,Tt.defaultZone);if(!Ze.isValid)return Qn.invalid(kn(Ze));const it=Xe.fromObject(Ue),vt=Rt(_e,ds),{minDaysInFirstWeek:wt,startOfWeek:jt}=ar(vt,it),zt=Tt.now(),on=Mn(Ue.specificOffset)?Ze.offset(zt):Ue.specificOffset,Nn=!Mn(vt.ordinal),pr=!Mn(vt.year),hs=!Mn(vt.month)||!Mn(vt.day),Hn=pr||hs,Ks=vt.weekYear||vt.weekNumber;if((Hn||Nn)&&Ks)throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(hs&&Nn)throw new U("Can't mix ordinal dates with month/day");const Ou=Ks||vt.weekday&&!Hn;let Jo,Tu,Ic=Ca(zt,on);Ou?(Jo=Do,Tu=Gn,Ic=xn(Ic,wt,jt)):Nn?(Jo=Sc,Tu=Bh,Ic=$t(Ic)):(Jo=Vl,Tu=Ma);let Zg=!1;for(const ro of Jo)Mn(vt[ro])?vt[ro]=Zg?Tu[ro]:Ic[ro]:Zg=!0;const qf=Ou?function ts(je,_e=4,Ue=1){const Ze=rt(je.weekYear),it=lt(je.weekNumber,1,En(je.weekYear,_e,Ue)),vt=lt(je.weekday,1,7);return Ze?it?!vt&&an("weekday",je.weekday):an("week",je.weekNumber):an("weekYear",je.weekYear)}(vt,wt,jt):Nn?function Qt(je){const _e=rt(je.year),Ue=lt(je.ordinal,1,Ir(je.year));return _e?!Ue&&an("ordinal",je.ordinal):an("year",je.year)}(vt):Kr(vt),Wh=qf||as(vt);if(Wh)return Qn.invalid(Wh);const iM=Ou?Xn(vt,wt,jt):Nn?rn(vt):vt,[oM,aM]=Go(iM,on,Ze),e0=new Qn({ts:oM,zone:Ze,o:aM,loc:it});return vt.weekday&&Hn&&_e.weekday!==e0.weekday?Qn.invalid("mismatched weekday",`you can't specify both a weekday of ${vt.weekday} and a date of ${e0.toISO()}`):e0}static fromISO(_e,Ue={}){const[Ze,it]=function xh(je){return Gr(je,[Bl,or],[xg,Zf],[va,yn],[Lg,Ec])}(_e);return Ho(Ze,it,Ue,"ISO 8601",_e)}static fromRFC2822(_e,Ue={}){const[Ze,it]=function Du(je){return Gr(function ei(je){return je.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(je),[ls,Vs])}(_e);return Ho(Ze,it,Ue,"RFC 2822",_e)}static fromHTTP(_e,Ue={}){const[Ze,it]=function Rg(je){return Gr(je,[Yi,_a],[js,_a],[Nl,di])}(_e);return Ho(Ze,it,Ue,"HTTP",Ue)}static fromFormat(_e,Ue,Ze={}){if(Mn(_e)||Mn(Ue))throw new V("fromFormat requires an input string and a format");const{locale:it=null,numberingSystem:vt=null}=Ze,wt=Xe.fromOpts({locale:it,numberingSystem:vt,defaultToEN:!0}),[jt,zt,on,Nn]=function Wl(je,_e,Ue){const{result:Ze,zone:it,specificOffset:vt,invalidReason:wt}=ji(je,_e,Ue);return[Ze,it,vt,wt]}(wt,_e,Ue);return Nn?Qn.invalid(Nn):Ho(jt,zt,Ze,`format ${Ue}`,_e,on)}static fromString(_e,Ue,Ze={}){return Qn.fromFormat(_e,Ue,Ze)}static fromSQL(_e,Ue={}){const[Ze,it]=function Mr(je){return Gr(je,[bc,or],[Qi,Co])}(_e);return Ho(Ze,it,Ue,"SQL",_e)}static invalid(_e,Ue=null){if(!_e)throw new V("need to specify a reason the DateTime is invalid");const Ze=_e instanceof Vt?_e:new Vt(_e,Ue);if(Tt.throwOnInvalid)throw new D(Ze);return new Qn({invalid:Ze})}static isDateTime(_e){return _e&&_e.isLuxonDateTime||!1}static parseFormatForOpts(_e,Ue={}){const Ze=Nr(_e,Xe.fromObject(Ue));return Ze?Ze.map(it=>it?it.val:null).join(""):null}static expandFormat(_e,Ue={}){return $s(bn.parseFormat(_e),Xe.fromObject(Ue)).map(it=>it.val).join("")}get(_e){return this[_e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?al(this).weekYear:NaN}get weekNumber(){return this.isValid?al(this).weekNumber:NaN}get weekday(){return this.isValid?al(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Dc(this).weekday:NaN}get localWeekNumber(){return this.isValid?Dc(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Dc(this).weekYear:NaN}get ordinal(){return this.isValid?$t(this.c).ordinal:NaN}get monthShort(){return this.isValid?Cc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Cc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Cc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Cc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const Ue=6e4,Ze=jr(this.c),it=this.zone.offset(Ze-864e5),vt=this.zone.offset(Ze+864e5),wt=this.zone.offset(Ze-it*Ue),jt=this.zone.offset(Ze-vt*Ue);if(wt===jt)return[this];const zt=Ze-wt*Ue,on=Ze-jt*Ue,Nn=Ca(zt,wt),pr=Ca(on,jt);return Nn.hour===pr.hour&&Nn.minute===pr.minute&&Nn.second===pr.second&&Nn.millisecond===pr.millisecond?[Ui(this,{ts:zt}),Ui(this,{ts:on})]:[this]}get isInLeapYear(){return $n(this.year)}get daysInMonth(){return _r(this.year,this.month)}get daysInYear(){return this.isValid?Ir(this.year):NaN}get weeksInWeekYear(){return this.isValid?En(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?En(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(_e={}){const{locale:Ue,numberingSystem:Ze,calendar:it}=bn.create(this.loc.clone(_e),_e).resolvedOptions(this);return{locale:Ue,numberingSystem:Ze,outputCalendar:it}}toUTC(_e=0,Ue={}){return this.setZone(ut.instance(_e),Ue)}toLocal(){return this.setZone(Tt.defaultZone)}setZone(_e,{keepLocalTime:Ue=!1,keepCalendarTime:Ze=!1}={}){if((_e=Lt(_e,Tt.defaultZone)).equals(this.zone))return this;if(_e.isValid){let it=this.ts;if(Ue||Ze){const vt=_e.offset(this.ts),wt=this.toObject();[it]=Go(wt,vt,_e)}return Ui(this,{ts:it,zone:_e})}return Qn.invalid(kn(_e))}reconfigure({locale:_e,numberingSystem:Ue,outputCalendar:Ze}={}){return Ui(this,{loc:this.loc.clone({locale:_e,numberingSystem:Ue,outputCalendar:Ze})})}setLocale(_e){return this.reconfigure({locale:_e})}set(_e){if(!this.isValid)return this;const Ue=Rt(_e,ds),{minDaysInFirstWeek:Ze,startOfWeek:it}=ar(Ue,this.loc),vt=!Mn(Ue.weekYear)||!Mn(Ue.weekNumber)||!Mn(Ue.weekday),wt=!Mn(Ue.ordinal),jt=!Mn(Ue.year),zt=!Mn(Ue.month)||!Mn(Ue.day);if((jt||zt||wt)&&(Ue.weekYear||Ue.weekNumber))throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(zt&&wt)throw new U("Can't mix ordinal dates with month/day");let pr;vt?pr=Xn({...xn(this.c,Ze,it),...Ue},Ze,it):Mn(Ue.ordinal)?(pr={...this.toObject(),...Ue},Mn(Ue.day)&&(pr.day=Math.min(_r(pr.year,pr.month),pr.day))):pr=rn({...$t(this.c),...Ue});const[hs,Hn]=Go(pr,this.o,this.zone);return Ui(this,{ts:hs,o:Hn})}plus(_e){return this.isValid?Ui(this,to(this,qn.fromDurationLike(_e))):this}minus(_e){return this.isValid?Ui(this,to(this,qn.fromDurationLike(_e).negate())):this}startOf(_e,{useLocaleWeeks:Ue=!1}={}){if(!this.isValid)return this;const Ze={},it=qn.normalizeUnit(_e);switch(it){case"years":Ze.month=1;case"quarters":case"months":Ze.day=1;case"weeks":case"days":Ze.hour=0;case"hours":Ze.minute=0;case"minutes":Ze.second=0;case"seconds":Ze.millisecond=0}if("weeks"===it)if(Ue){const vt=this.loc.getStartOfWeek(),{weekday:wt}=this;wt<vt&&(Ze.weekNumber=this.weekNumber-1),Ze.weekday=vt}else Ze.weekday=1;if("quarters"===it){const vt=Math.ceil(this.month/3);Ze.month=3*(vt-1)+1}return this.set(Ze)}endOf(_e,Ue){return this.isValid?this.plus({[_e]:1}).startOf(_e,Ue).minus(1):this}toFormat(_e,Ue={}){return this.isValid?bn.create(this.loc.redefaultToEN(Ue)).formatDateTimeFromString(this,_e):ks}toLocaleString(_e=k,Ue={}){return this.isValid?bn.create(this.loc.clone(Ue),_e).formatDateTime(this):ks}toLocaleParts(_e={}){return this.isValid?bn.create(this.loc.clone(_e),_e).formatDateTimeParts(this):[]}toISO({format:_e="extended",suppressSeconds:Ue=!1,suppressMilliseconds:Ze=!1,includeOffset:it=!0,extendedZone:vt=!1}={}){if(!this.isValid)return null;const wt="extended"===_e;let jt=Mo(this,wt);return jt+="T",jt+=Iu(this,wt,Ue,Ze,it,vt),jt}toISODate({format:_e="extended"}={}){return this.isValid?Mo(this,"extended"===_e):null}toISOWeekDate(){return wu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:_e=!1,suppressSeconds:Ue=!1,includeOffset:Ze=!0,includePrefix:it=!1,extendedZone:vt=!1,format:wt="extended"}={}){return this.isValid?(it?"T":"")+Iu(this,"extended"===wt,Ue,_e,Ze,vt):null}toRFC2822(){return wu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return wu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Mo(this,!0):null}toSQLTime({includeOffset:_e=!0,includeZone:Ue=!1,includeOffsetSpace:Ze=!0}={}){let it="HH:mm:ss.SSS";return(Ue||_e)&&(Ze&&(it+=" "),Ue?it+="z":_e&&(it+="ZZ")),wu(this,it,!0)}toSQL(_e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(_e)}`:null}toString(){return this.isValid?this.toISO():ks}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(_e={}){if(!this.isValid)return{};const Ue={...this.c};return _e.includeConfig&&(Ue.outputCalendar=this.outputCalendar,Ue.numberingSystem=this.loc.numberingSystem,Ue.locale=this.loc.locale),Ue}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(_e,Ue="milliseconds",Ze={}){if(!this.isValid||!_e.isValid)return qn.invalid("created by diffing an invalid DateTime");const it={locale:this.locale,numberingSystem:this.numberingSystem,...Ze},vt=function Pt(je){return Array.isArray(je)?je:[je]}(Ue).map(qn.normalizeUnit),wt=_e.valueOf()>this.valueOf(),on=function Jf(je,_e,Ue,Ze){let[it,vt,wt,jt]=function Bg(je,_e,Ue){const Ze=[["years",(zt,on)=>on.year-zt.year],["quarters",(zt,on)=>on.quarter-zt.quarter+4*(on.year-zt.year)],["months",(zt,on)=>on.month-zt.month+12*(on.year-zt.year)],["weeks",(zt,on)=>{const Nn=Hf(zt,on);return(Nn-Nn%7)/7}],["days",Hf]],it={},vt=je;let wt,jt;for(const[zt,on]of Ze)Ue.indexOf(zt)>=0&&(wt=zt,it[zt]=on(je,_e),jt=vt.plus(it),jt>_e?(it[zt]--,(je=vt.plus(it))>_e&&(jt=je,it[zt]--,je=vt.plus(it))):je=jt);return[je,it,jt,wt]}(je,_e,Ue);const zt=_e-it,on=Ue.filter(pr=>["hours","minutes","seconds","milliseconds"].indexOf(pr)>=0);0===on.length&&(wt<_e&&(wt=it.plus({[jt]:1})),wt!==it&&(vt[jt]=(vt[jt]||0)+zt/(wt-it)));const Nn=qn.fromObject(vt,Ze);return on.length>0?qn.fromMillis(zt,Ze).shiftTo(...on).plus(Nn):Nn}(wt?this:_e,wt?_e:this,vt,it);return wt?on.negate():on}diffNow(_e="milliseconds",Ue={}){return this.diff(Qn.now(),_e,Ue)}until(_e){return this.isValid?us.fromDateTimes(this,_e):this}hasSame(_e,Ue,Ze){if(!this.isValid)return!1;const it=_e.valueOf(),vt=this.setZone(_e.zone,{keepLocalTime:!0});return vt.startOf(Ue,Ze)<=it&&it<=vt.endOf(Ue,Ze)}equals(_e){return this.isValid&&_e.isValid&&this.valueOf()===_e.valueOf()&&this.zone.equals(_e.zone)&&this.loc.equals(_e.loc)}toRelative(_e={}){if(!this.isValid)return null;const Ue=_e.base||Qn.fromObject({},{zone:this.zone}),Ze=_e.padding?this<Ue?-_e.padding:_e.padding:0;let it=["years","months","days","hours","minutes","seconds"],vt=_e.unit;return Array.isArray(_e.unit)&&(it=_e.unit,vt=void 0),Zs(Ue,this.plus(Ze),{..._e,numeric:"always",units:it,unit:vt})}toRelativeCalendar(_e={}){return this.isValid?Zs(_e.base||Qn.fromObject({},{zone:this.zone}),this,{..._e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(..._e){if(!_e.every(Qn.isDateTime))throw new V("min requires all arguments be DateTimes");return Ie(_e,Ue=>Ue.valueOf(),Math.min)}static max(..._e){if(!_e.every(Qn.isDateTime))throw new V("max requires all arguments be DateTimes");return Ie(_e,Ue=>Ue.valueOf(),Math.max)}static fromFormatExplain(_e,Ue,Ze={}){const{locale:it=null,numberingSystem:vt=null}=Ze;return ji(Xe.fromOpts({locale:it,numberingSystem:vt,defaultToEN:!0}),_e,Ue)}static fromStringExplain(_e,Ue,Ze={}){return Qn.fromFormatExplain(_e,Ue,Ze)}static get DATE_SHORT(){return k}static get DATE_MED(){return R}static get DATE_MED_WITH_WEEKDAY(){return H}static get DATE_FULL(){return N}static get DATE_HUGE(){return P}static get TIME_SIMPLE(){return w}static get TIME_WITH_SECONDS(){return O}static get TIME_WITH_SHORT_OFFSET(){return I}static get TIME_WITH_LONG_OFFSET(){return T}static get TIME_24_SIMPLE(){return W}static get TIME_24_WITH_SECONDS(){return z}static get TIME_24_WITH_SHORT_OFFSET(){return F}static get TIME_24_WITH_LONG_OFFSET(){return Q}static get DATETIME_SHORT(){return J}static get DATETIME_SHORT_WITH_SECONDS(){return oe}static get DATETIME_MED(){return se}static get DATETIME_MED_WITH_SECONDS(){return ue}static get DATETIME_MED_WITH_WEEKDAY(){return he}static get DATETIME_FULL(){return G}static get DATETIME_FULL_WITH_SECONDS(){return le}static get DATETIME_HUGE(){return q}static get DATETIME_HUGE_WITH_SECONDS(){return fe}}function no(je){if(Qn.isDateTime(je))return je;if(je&&je.valueOf&&ns(je.valueOf()))return Qn.fromJSDate(je);if(je&&"object"==typeof je)return Qn.fromObject(je);throw new V(`Unknown datetime argument: ${je}, of type ${typeof je}`)}},15861:(Ke,Ee,E)=>{"use strict";function C(Z,j,U,Y,V,$,L){try{var x=Z[$](L),B=x.value}catch(k){return void U(k)}x.done?j(B):Promise.resolve(B).then(Y,V)}function D(Z){return function(){var j=this,U=arguments;return new Promise(function(Y,V){var $=Z.apply(j,U);function L(B){C($,Y,V,L,x,"next",B)}function x(B){C($,Y,V,L,x,"throw",B)}L(void 0)})}}E.d(Ee,{Z:()=>D})}},Ke=>{Ke(Ke.s=6587)}]);