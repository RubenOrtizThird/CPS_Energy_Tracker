"use strict";(self.webpackChunkjsapi_angular_cli=self.webpackChunkjsapi_angular_cli||[]).push([[8065],{58065:(d,j,f)=>{f.r(j),f.d(j,{createSymbolSchema:()=>S});var b=f(84176),m=f(43101),n=f(10827);function h(e){return"line-marker"===e.type?{type:"line-marker",color:e.color?.toJSON(),placement:e.placement,style:e.style}:e.constructor.fromJSON(e.toJSON()).toJSON()}function u(e){return(0,n.hF)(e)}function S(e,a,l=!1){if(!e)return null;switch(e.type){case"simple-fill":case"picture-fill":return function g(e,a,l){const t=(0,n.jj)(m.LW.FILL,a),s=l?u(t):t,r=e.clone(),o=r.outline,c=(0,n.jy)(a.symbologyType);c||(r.outline=null);const p={materialKey:s,hash:r.hash(),...h(r)};if(c)return p;const i=[];if(i.push(p),o){const y=(0,n.jj)(m.LW.LINE,{...a,isOutline:!0}),_={materialKey:l?u(y):y,hash:o.hash(),...h(o)};i.push(_)}return{type:"composite-symbol",layers:i,hash:i.reduce((y,_)=>_.hash+y,"")}}(e,a,l);case"simple-marker":case"picture-marker":return function K(e,a,l){if("simple-marker"===e.type&&("path"===e.style||e.outline&&"solid"!==e.outline.style&&"none"!==e.outline.style))return S({type:"CIMSymbolReference",symbol:b.B$.fromSimpleMarker(e)},a,l);const t=(0,n.jj)(m.LW.MARKER,a),s=l?u(t):t,r=h(e);return{materialKey:s,hash:e.hash(),...r,angle:e.angle,maxVVSize:a.maxVVSize}}(e,a,l);case"simple-line":return function E(e,a,l){const t=(0,n.jy)(a.symbologyType)?m.mD.DEFAULT:a.symbologyType,s=(0,n.jj)(m.LW.LINE,{...a,symbologyType:t}),r=l?u(s):s,o=e.clone(),c=o.marker;o.marker=null;const p=[];if(p.push({materialKey:r,hash:o.hash(),...h(o)}),c){const i=(0,n.jj)(m.LW.MARKER,a),y=l?u(i):i;c.color=c.color??o.color,p.push({materialKey:y,hash:c.hash(),lineWidth:o.width,...h(c)})}return{type:"composite-symbol",layers:p,hash:p.reduce((i,y)=>y.hash+i,"")}}(e,a,l);case"text":return function L(e,a,l){const t=(0,n.jj)(m.LW.TEXT,a),s=l?u(t):t,r=h(e);return{materialKey:s,hash:e.hash(),...r,angle:e.angle,maxVVSize:a.maxVVSize}}(e,a,l);case"label":return function V(e,a,l){const t=e.toJSON(),s=(0,n.jj)(m.LW.LABEL,{...a,placement:t.labelPlacement});return{materialKey:l?u(s):s,hash:e.hash(),...t,labelPlacement:t.labelPlacement}}(e,a,l);case"cim":return{type:"cim",rendererKey:a.vvFlags,data:e.data,maxVVSize:a.maxVVSize};case"CIMSymbolReference":return{type:"cim",rendererKey:a.vvFlags,data:e,maxVVSize:a.maxVVSize};case"web-style":return{...h(e),type:"web-style",hash:e.hash(),rendererKey:a.vvFlags,maxVVSize:a.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}}}]);