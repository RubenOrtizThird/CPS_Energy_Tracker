"use strict";(self.webpackChunkjsapi_angular_cli=self.webpackChunkjsapi_angular_cli||[]).push([[6212],{56212:(hn,T,x)=>{x.r(T),x.d(T,{registerFunctions:()=>$});var Z=x(15861),G=x(26152),D=x(97478),L=x(70430),c=x(53570),d=x(25137),u=x(89018),F=x(26097),R=x(29673),M=x(49602),N=x(26894),g=x(32184),f=x(23686),C=x(12628),z=x(85039),E=x(5391),O=x(64222),Q=x(40637),J=x(61018),Y=x(66476);function j(s,r,a){return W.apply(this,arguments)}function W(){return(W=(0,Z.Z)(function*(s,r,a){if(!G.id?.findCredential(s.restUrl))return null;if("loaded"===s.loadStatus&&""===r&&s.user?.sourceJSON&&!1===a)return s.user.sourceJSON;const m={responseType:"json",query:{f:"json"}};if(a&&(m.query.returnUserLicenseTypeExtensions=!0),""===r){const e=yield(0,Y.Z)(s.restUrl+"/community/self",m);if(e.data){const l=e.data;if(l?.username)return l}return null}const n=yield(0,Y.Z)(s.restUrl+"/community/users/"+r,m);if(n.data){const e=n.data;return e.error?null:e}return null})).apply(this,arguments)}function k(s){return 0===G.i8.indexOf("4.")?E.Z.fromExtent(s):new E.Z({spatialReference:s.spatialReference,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]})}function V(s,r,a){if((0,u.E)(s,2,2,r,a),!(s[0]instanceof g.Z&&s[1]instanceof g.Z||s[0]instanceof g.Z&&null===s[1]||s[1]instanceof g.Z&&null===s[0]||null===s[0]&&null===s[1]))throw new c.aV(r,c.rH.InvalidParameter,a)}function X(s,r){return b.apply(this,arguments)}function b(){return(b=(0,Z.Z)(function*(s,r){if("polygon"!==s.type&&"polyline"!==s.type&&"extent"!==s.type)return 0;let a=1;(s.spatialReference.vcsWkid||s.spatialReference.latestVcsWkid)&&(a=(0,R._R)(s.spatialReference)/(0,M.c9)(s.spatialReference));let p=0;if("polyline"===s.type)for(const n of s.paths)for(let e=1;e<n.length;e++)p+=(0,R.AW)(n[e],n[e-1],a);else if("polygon"===s.type)for(const n of s.rings){for(let e=1;e<n.length;e++)p+=(0,R.AW)(n[e],n[e-1],a);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(p+=(0,R.AW)(n[0],n[n.length-1],a))}else"extent"===s.type&&(p+=2*(0,R.AW)([s.xmin,s.ymin,0],[s.xmax,s.ymin,0],a),p+=2*(0,R.AW)([s.xmin,s.ymin,0],[s.xmin,s.ymax,0],a),p*=2,p+=4*Math.abs((0,u.H)(s.zmax,0)*a-(0,u.H)(s.zmin,0)*a));const m=new O.Z({hasZ:!1,hasM:!1,spatialReference:s.spatialReference,paths:[[0,0],[0,p]]});return(0,f.sz)(m,r)})).apply(this,arguments)}function $(s){"async"===s.mode&&(s.functions.disjoint=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]||null===n[1]||(0,f.ED)(n[0],n[1])))},s.functions.intersects=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.kK)(n[0],n[1])))},s.functions.touches=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.W4)(n[0],n[1])))},s.functions.crosses=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.jU)(n[0],n[1])))},s.functions.within=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.uh)(n[0],n[1])))},s.functions.contains=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.r3)(n[0],n[1])))},s.functions.overlaps=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.Nm)(n[0],n[1])))},s.functions.equals=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>((0,u.E)(n,2,2,r,a),n[0]===n[1]||(n[0]instanceof g.Z&&n[1]instanceof g.Z?(0,f.fS)(n[0],n[1]):((0,u.k)(n[0])&&(0,u.k)(n[1])||!!((0,u.n)(n[0])&&(0,u.n)(n[1])||(0,u.m)(n[0])&&(0,u.m)(n[1])))&&n[0].equals(n[1]))))},s.functions.relate=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,3,3,r,a),n[0]instanceof g.Z&&n[1]instanceof g.Z)return(0,f.LV)(n[0],n[1],(0,u.j)(n[2]));if(n[0]instanceof g.Z&&null===n[1]||n[1]instanceof g.Z&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new c.aV(r,c.rH.InvalidParameter,a)})},s.functions.intersection=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]||null===n[1]?null:(0,f.wf)(n[0],n[1])))},s.functions.union=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{const e=[];if(0===(n=(0,u.F)(n)).length)throw new c.aV(r,c.rH.WrongNumberOfParameters,a);if(1===n.length)if((0,u.o)(n[0])){const l=(0,u.F)(n[0]);for(let h=0;h<l.length;h++)if(null!==l[h]){if(!(l[h]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(l[h])}}else{if(!(0,u.q)(n[0])){if(n[0]instanceof g.Z)return(0,u.A)((0,d.r1)(n[0]),r.spatialReference);if(null===n[0])return null;throw new c.aV(r,c.rH.InvalidParameter,a)}{const l=(0,u.F)(n[0].toArray());for(let h=0;h<l.length;h++)if(null!==l[h]){if(!(l[h]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(l[h])}}}else for(let l=0;l<n.length;l++)if(null!==n[l]){if(!(n[l]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(n[l])}return 0===e.length?null:(0,f.G0)(e)})},s.functions.difference=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null===n[1]?(0,d.r1)(n[0]):null===n[0]?null:(0,f.e5)(n[0],n[1])))},s.functions.symmetricdifference=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]&&null===n[1]?null:null===n[0]?(0,d.r1)(n[1]):null===n[1]?(0,d.r1)(n[0]):(0,f.Sp)(n[0],n[1])))},s.functions.clip=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,2,r,a),!(n[1]instanceof N.Z)&&null!==n[1])throw new c.aV(r,c.rH.InvalidParameter,a);if(null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return null===n[1]?null:(0,f.oq)(n[0],n[1])})},s.functions.cut=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,2,r,a),!(n[1]instanceof O.Z)&&null!==n[1])throw new c.aV(r,c.rH.InvalidParameter,a);if(null===n[0])return[];if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return null===n[1]?[(0,d.r1)(n[0])]:(0,f.z7)(n[0],n[1])})},s.functions.area=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumArea((0,d.EI)((0,u.H)(e[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.G)(e[0],r.spatialReference);return null===l?0:(0,f.CJ)(l,(0,d.EI)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.CJ)(e[0],(0,d.EI)((0,u.H)(e[1],-1)))});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.areageodetic=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumArea((0,d.EI)((0,u.H)(e[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.G)(e[0],r.spatialReference);return null===l?0:(0,f.Y4)(l,(0,d.EI)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.Y4)(e[0],(0,d.EI)((0,u.H)(e[1],-1)))});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.length=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumLength((0,d.Lz)((0,u.H)(e[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.J)(e[0],r.spatialReference);return null===l?0:(0,f.sz)(l,(0,d.Lz)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.sz)(e[0],(0,d.Lz)((0,u.H)(e[1],-1)))});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.length3d=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if((0,u.E)(n,1,2,r,a),null===(n=(0,u.F)(n))[0])return 0;if((0,u.o)(n[0])||(0,u.q)(n[0])){const e=(0,u.J)(n[0],r.spatialReference);return null===e?0:!0===e.hasZ?X(e,(0,d.Lz)((0,u.H)(n[1],-1))):(0,f.sz)(e,(0,d.Lz)((0,u.H)(n[1],-1)))}if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return!0===n[0].hasZ?X(n[0],(0,d.Lz)((0,u.H)(n[1],-1))):(0,f.sz)(n[0],(0,d.Lz)((0,u.H)(n[1],-1)))})},s.functions.lengthgeodetic=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumLength((0,d.Lz)((0,u.H)(e[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.J)(e[0],r.spatialReference);return null===l?0:(0,f.kQ)(l,(0,d.Lz)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.kQ)(e[0],(0,d.Lz)((0,u.H)(e[1],-1)))});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.distance=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);let e=n[0];((0,u.o)(n[0])||(0,u.q)(n[0]))&&(e=(0,u.K)(n[0],r.spatialReference));let l=n[1];if(((0,u.o)(n[1])||(0,u.q)(n[1]))&&(l=(0,u.K)(n[1],r.spatialReference)),!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(l instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.TE)(e,l,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.distancegeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);const e=n[0],l=n[1];if(!(e instanceof z.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(l instanceof z.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const h=new O.Z({paths:[],spatialReference:e.spatialReference});return h.addPath([e,l]),(0,f.kQ)(h,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.densify=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);if(e<=0)throw new c.aV(r,c.rH.InvalidParameter,a);return n[0]instanceof E.Z||n[0]instanceof O.Z?(0,f.Cz)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]instanceof N.Z?(0,f.Cz)(k(n[0]),e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]})},s.functions.densifygeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);if(e<=0)throw new c.aV(r,c.rH.InvalidParameter,a);return n[0]instanceof E.Z||n[0]instanceof O.Z?(0,f.j2)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]instanceof N.Z?(0,f.j2)(k(n[0]),e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]})},s.functions.generalize=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,4,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.D$)(n[0],e,(0,u.h)((0,u.H)(n[2],!0)),(0,d.Lz)((0,u.H)(n[3],-1)))})},s.functions.buffer=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return 0===e?(0,d.r1)(n[0]):(0,f.f3)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.buffergeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return 0===e?(0,d.r1)(n[0]):(0,f.rd)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.offset=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,6,r,a),null===n[0])return null;if(!(n[0]instanceof E.Z||n[0]instanceof O.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);const l=(0,u.g)((0,u.H)(n[4],10));if(isNaN(l))throw new c.aV(r,c.rH.InvalidParameter,a);const h=(0,u.g)((0,u.H)(n[5],0));if(isNaN(h))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.cv)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)),(0,u.j)((0,u.H)(n[3],"round")).toLowerCase(),l,h)})},s.functions.rotate=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);let e=n[0];if(null===e)return null;if(!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e instanceof N.Z&&(e=E.Z.fromExtent(e));const l=(0,u.g)(n[1]);if(isNaN(l))throw new c.aV(r,c.rH.InvalidParameter,a);const h=(0,u.H)(n[2],null);if(null===h)return(0,f.U1)(e,l);if(h instanceof z.Z)return(0,f.U1)(e,l,h);throw new c.aV(r,c.rH.InvalidParameter,a)})},s.functions.centroid=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;let e=n[0];if(((0,u.o)(n[0])||(0,u.q)(n[0]))&&(e=(0,u.K)(n[0],r.spatialReference)),null===e)return null;if(!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return e instanceof z.Z?(0,u.A)((0,d.r1)(n[0]),r.spatialReference):e instanceof E.Z?e.centroid:e instanceof O.Z?(0,R.s9)(e):e instanceof C.Z?(0,R.Ay)(e):e instanceof N.Z?e.center:null})},s.functions.multiparttosinglepart=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){e=(0,u.F)(e),(0,u.E)(e,1,1,r,a);const l=[];if(null===e[0])return null;if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(e[0]instanceof z.Z)return[(0,u.A)((0,d.r1)(e[0]),r.spatialReference)];if(e[0]instanceof N.Z)return[(0,u.A)((0,d.r1)(e[0]),r.spatialReference)];const h=yield(0,f.og)(e[0]);if(h instanceof E.Z){const H=[],_=[];for(let v=0;v<h.rings.length;v++)if(h.isClockwise(h.rings[v])){const A=(0,Q.im)({rings:[h.rings[v]],hasZ:!0===h.hasZ,hazM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});H.push(A)}else _.push({ring:h.rings[v],pt:h.getPoint(v,0)});for(let v=0;v<_.length;v++)for(let A=0;A<H.length;A++)if(H[A].contains(_[v].pt)){H[A].addRing(_[v].ring);break}return H}if(h instanceof O.Z){const H=[];for(let _=0;_<h.paths.length;_++){const v=(0,Q.im)({paths:[h.paths[_]],hasZ:!0===h.hasZ,hazM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});H.push(v)}return H}if(e[0]instanceof C.Z){const H=(0,u.A)((0,d.r1)(e[0]),r.spatialReference);for(let _=0;_<H.points.length;_++)l.push(H.getPoint(_));return l}return null});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.issimple=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return!0;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.Gg)(n[0])})},s.functions.simplify=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.og)(n[0])})},s.functions.convexhull=function(r,a){return s.standardFunctionAsync(r,a,(p,m,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.JI)(n[0])})},s.functions.getuser=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){(0,u.E)(e,0,2,r,a);let l=(0,u.H)(e[1],""),h=!0===l;if(l=!0===l||!1===l?"":(0,u.j)(l),0===e.length||e[0]instanceof D.Z){let _=null;_=r.services?.portal?r.services.portal:J.Z.getDefault(),e.length>0&&(_=(0,F._)(e[0],_));const v=yield j(_,l,h);if(v){const A=JSON.parse(JSON.stringify(v));for(const P of["lastLogin","created","modified"])null!=A[P]&&(A[P]=new Date(A[P]));return L.Z.convertObjectToArcadeDictionary(A,(0,u.L)(r))}return null}let H=null;if((0,u.u)(e[0])&&(H=e[0]),H){if(h=!1,l)return null;yield H.load();const _=yield H.getOwningSystemUrl();if(!_){if(!l){const P=yield H.getIdentityUser();return P?L.Z.convertObjectToArcadeDictionary({username:P},(0,u.L)(r)):null}return null}let v=null;v=r.services?.portal?r.services.portal:J.Z.getDefault(),v=(0,F._)(new D.Z(_),v);const A=yield j(v,l,h);if(A){const P=JSON.parse(JSON.stringify(A));for(const S of["lastLogin","created","modified"])null!=P[S]&&(P[S]=new Date(P[S]));return L.Z.convertObjectToArcadeDictionary(P,(0,u.L)(r))}return null}throw new c.aV(r,c.rH.InvalidParameter,a)});return function(m,n,e){return p.apply(this,arguments)}}())}),s.functions.nearestcoordinate=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if(e=(0,u.F)(e),(0,u.E)(e,2,2,r,a),!(e[0]instanceof g.Z||null===e[0]))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(e[1]instanceof z.Z||null===e[1]))throw new c.aV(r,c.rH.InvalidParameter,a);if(null===e[0]||null===e[1])return null;const l=yield(0,f.FH)(e[0],e[1]);return null===l?null:L.Z.convertObjectToArcadeDictionary({coordinate:l.coordinate,distance:l.distance},(0,u.L)(r),!1,!0)});return function(m,n,e){return p.apply(this,arguments)}}())},s.functions.nearestvertex=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(m,n,e){if(e=(0,u.F)(e),(0,u.E)(e,2,2,r,a),!(e[0]instanceof g.Z||null===e[0]))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(e[1]instanceof z.Z||null===e[1]))throw new c.aV(r,c.rH.InvalidParameter,a);if(null===e[0]||null===e[1])return null;const l=yield(0,f._L)(e[0],e[1]);return null===l?null:L.Z.convertObjectToArcadeDictionary({coordinate:l.coordinate,distance:l.distance},(0,u.L)(r),!1,!0)});return function(m,n,e){return p.apply(this,arguments)}}())}}},26097:(hn,T,x)=>{x.d(T,{_:()=>G});var Z=x(61018);function G(D,L){return null===D?L:new Z.Z({url:D.field("url")})}},23686:(hn,T,x)=>{x.d(T,{CJ:()=>In,Cz:()=>Fn,D$:()=>An,ED:()=>$,FH:()=>_n,G0:()=>P,Gg:()=>a,JI:()=>n,LV:()=>r,Nm:()=>s,Sp:()=>H,TE:()=>K,U1:()=>Hn,W4:()=>X,Y4:()=>Vn,_L:()=>vn,cv:()=>xn,e5:()=>l,f3:()=>Zn,fS:()=>k,j2:()=>Pn,jU:()=>gn,kK:()=>V,kQ:()=>Ln,og:()=>p,oq:()=>Q,r3:()=>W,rd:()=>wn,sz:()=>En,uh:()=>b,wf:()=>v,z7:()=>Y});var Z=x(15861),D=(x(2189),x(36885)),L=x(85039),c=x(40637);function d(i){return Array.isArray(i)?i[0]?.spatialReference:i?.spatialReference}function u(i){return i&&(Array.isArray(i)?i.map(u):i.toJSON?i.toJSON():i)}function F(i){return Array.isArray(i)?i.map(o=>(0,c.im)(o)):(0,c.im)(i)}let M;function g(){return(g=(0,Z.Z)(function*(){return M||(M=(0,D.bA)("geometryEngineWorker",{strategy:"distributed"})),M})).apply(this,arguments)}function f(i,o){return C.apply(this,arguments)}function C(){return(C=(0,Z.Z)(function*(i,o){return(yield function N(){return g.apply(this,arguments)}()).invoke("executeGEOperation",{operation:i,parameters:u(o)})})).apply(this,arguments)}function Q(i,o){return J.apply(this,arguments)}function J(){return(J=(0,Z.Z)(function*(i,o){return F(yield f("clip",[d(i),i,o]))})).apply(this,arguments)}function Y(i,o){return j.apply(this,arguments)}function j(){return(j=(0,Z.Z)(function*(i,o){return F(yield f("cut",[d(i),i,o]))})).apply(this,arguments)}function W(i,o){return f("contains",[d(i),i,o])}function gn(i,o){return f("crosses",[d(i),i,o])}function K(i,o,y){return f("distance",[d(i),i,o,y])}function k(i,o){return f("equals",[d(i),i,o])}function V(i,o){return f("intersects",[d(i),i,o])}function X(i,o){return f("touches",[d(i),i,o])}function b(i,o){return f("within",[d(i),i,o])}function $(i,o){return f("disjoint",[d(i),i,o])}function s(i,o){return f("overlaps",[d(i),i,o])}function r(i,o,y){return f("relate",[d(i),i,o,y])}function a(i){return f("isSimple",[d(i),i])}function p(i){return m.apply(this,arguments)}function m(){return(m=(0,Z.Z)(function*(i){return F(yield f("simplify",[d(i),i]))})).apply(this,arguments)}function n(i){return e.apply(this,arguments)}function e(){return(e=(0,Z.Z)(function*(i,o=!1){return F(yield f("convexHull",[d(i),i,o]))})).apply(this,arguments)}function l(i,o){return h.apply(this,arguments)}function h(){return(h=(0,Z.Z)(function*(i,o){return F(yield f("difference",[d(i),i,o]))})).apply(this,arguments)}function H(i,o){return _.apply(this,arguments)}function _(){return(_=(0,Z.Z)(function*(i,o){return F(yield f("symmetricDifference",[d(i),i,o]))})).apply(this,arguments)}function v(i,o){return A.apply(this,arguments)}function A(){return(A=(0,Z.Z)(function*(i,o){return F(yield f("intersect",[d(i),i,o]))})).apply(this,arguments)}function P(i){return S.apply(this,arguments)}function S(){return(S=(0,Z.Z)(function*(i,o=null){const y=function R(i,o){let y;return Array.isArray(i)?y=i:(y=[],y.push(i),null!=o&&y.push(o)),y}(i,o);return F(yield f("union",[d(y),y]))})).apply(this,arguments)}function xn(i,o,y,w,I,B){return q.apply(this,arguments)}function q(){return(q=(0,Z.Z)(function*(i,o,y,w,I,B){return F(yield f("offset",[d(i),i,o,y,w,I,B]))})).apply(this,arguments)}function Zn(i,o,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,Z.Z)(function*(i,o,y,w=!1){const I=[d(i),i,o,y,w];return F(yield f("buffer",I))})).apply(this,arguments)}function wn(i,o,y,w,I,B){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.Z)(function*(i,o,y,w,I,B){const Rn=[d(i),i,o,y,w,I,B];return F(yield f("geodesicBuffer",Rn))})).apply(this,arguments)}function _n(i,o){return tn.apply(this,arguments)}function tn(){return(tn=(0,Z.Z)(function*(i,o,y=!0){const w=yield f("nearestCoordinate",[d(i),i,o,y]);return{...w,coordinate:L.Z.fromJSON(w.coordinate)}})).apply(this,arguments)}function vn(i,o){return en.apply(this,arguments)}function en(){return(en=(0,Z.Z)(function*(i,o){const y=yield f("nearestVertex",[d(i),i,o]);return{...y,coordinate:L.Z.fromJSON(y.coordinate)}})).apply(this,arguments)}function Hn(i,o,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,Z.Z)(function*(i,o,y){if(null==i)throw new U;const w=i.spatialReference;if(null==(y=y??function un(i){return"xmin"in i?i.center:"x"in i?i:i.extent?.center}(i)))throw new U;const I=i.constructor.fromJSON(yield f("rotate",[w,i,o,y]));return I.spatialReference=w,I})).apply(this,arguments)}function An(i,o,y,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,Z.Z)(function*(i,o,y,w){return F(yield f("generalize",[d(i),i,o,y,w]))})).apply(this,arguments)}function Fn(i,o,y){return ln.apply(this,arguments)}function ln(){return(ln=(0,Z.Z)(function*(i,o,y){return F(yield f("densify",[d(i),i,o,y]))})).apply(this,arguments)}function Pn(i,o,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,Z.Z)(function*(i,o,y,w=0){return F(yield f("geodesicDensify",[d(i),i,o,y,w]))})).apply(this,arguments)}function In(i,o){return f("planarArea",[d(i),i,o])}function En(i,o){return f("planarLength",[d(i),i,o])}function Vn(i,o,y){return f("geodesicArea",[d(i),i,o,y])}function Ln(i,o,y){return f("geodesicLength",[d(i),i,o,y])}class U extends Error{constructor(){super("Illegal Argument Exception")}}}}]);